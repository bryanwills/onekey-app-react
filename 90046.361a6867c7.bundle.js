/*! For license information please see 90046.361a6867c7.bundle.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[90046],{45833:(v,S,_)=>{"use strict";_.r(S),_.d(S,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var draw=function(v,S,_){var E=Math.floor(_()*v.prob.length);return S[_()<v.prob[E]?E:v.alias[E]]};const __WEBPACK_DEFAULT_EXPORT__=function(v,S,_){if(void 0===_&&(_=Math.random),!Array.isArray(v))throw new Error("Probabilities must be an array.");if(0===v.length)throw new Error("Probabilities array must not be empty.");var E=v.length,P=null!=S?S:Array.from({length:E},(function(v,S){return S})),D=function(v,S){var _=v.reduce((function(S,_){if(_<0)throw new Error("Probability must be a positive: p["+v.indexOf(_)+"]="+_);return S+_}),0);if(0===_)throw new Error("Probability sum must be greater than zero.");for(var E=v.map((function(v){return v*S/_})),P={prob:new Array(S),alias:new Array(S)},D=[],R=[],M=S-1;M>=0;M--)E[M]<1?D.push(M):R.push(M);for(;D.length>0&&R.length>0;){var O=D.pop(),F=R.pop();P.prob[O]=E[O],P.alias[O]=F,E[F]=E[F]+E[O]-1,E[F]<1?D.push(F):R.push(F)}for(;R.length>0;)P.prob[R.pop()]=1;for(;D.length>0;)P.prob[D.pop()]=1;return P}(v,E);return{next:function(v){return void 0===v&&(v=1),function(v,S,_,E){if(void 0===E&&(E=1),1===E)return draw(v,S,_);for(var P=[],D=0;D<E;D++)P.push(draw(v,S,_));return P}(D,P,_,v)}}}},553788:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P=_(996722),D=_(175219);const R={APTOS_SIGN_REQUEST:new P.RegistryType("aptos-sign-request",3101),APTOS_SIGNATURE:new P.RegistryType("aptos-signature",3102)},{decodeToDataItem:M,RegistryTypes:O}=P.extend;var F,N;(F=S.SignType||(S.SignType={}))[F.SingleSign=1]="SingleSign",F[F.MultiSign=2]="MultiSign",function(v){v[v.requestId=1]="requestId",v[v.signData=2]="signData",v[v.authenticationKeyDerivationPaths=3]="authenticationKeyDerivationPaths",v[v.accounts=4]="accounts",v[v.origin=5]="origin",v[v.signType=6]="signType"}(N||(N={}));class o extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.APTOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getAuthenticationKeyDerivationPaths=()=>this.authenticationKeyDerivationPaths.map((v=>v.getPath())),this.getSignRequestAccounts=()=>this.accounts,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{const v={};return v[N.requestId]=new P.DataItem(this.requestId,O.UUID.getTag()),this.accounts&&(v[N.accounts]=this.accounts),this.origin&&(v[N.origin]=this.origin),v[N.signData]=this.signData,v[N.signType]=this.signType,v[N.authenticationKeyDerivationPaths]=this.authenticationKeyDerivationPaths.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),new P.DataItem(v)},this.requestId=v.requestId,this.signData=v.signData,this.authenticationKeyDerivationPaths=v.authenticationKeyDerivationPaths,this.accounts=v.accounts,this.origin=v.origin,this.signType=v.signType}static constructAptosRequest(v,_,R,M,O,F,N){const L=_.map(((v,S)=>{const _=v.replace(/[m|M]\//,"").split("/").map((v=>{const S=parseInt(v.replace("'",""));let _=!1;return v.endsWith("'")&&(_=!0),new P.PathComponent({index:S,hardened:_})}));return new P.CryptoKeypath(_,E.from(R[S],"hex"))}));return new o({requestId:E.from(D.parse(O)),signData:v,authenticationKeyDerivationPaths:L,accounts:F||void 0,origin:N||void 0,signType:M||S.SignType.SingleSign})}}o.fromDataItem=v=>{const S=v.getData(),_=S[N.signData],E=S[N.signType],D=S[N.authenticationKeyDerivationPaths].map((v=>P.CryptoKeypath.fromDataItem(v))),R=S[N.accounts]?S[N.accounts]:void 0,M=S[N.requestId]?S[N.requestId].getData():void 0;return new o({requestId:M,signData:_,authenticationKeyDerivationPaths:D,accounts:R,origin:S[N.origin]?S[N.origin]:void 0,signType:E})},o.fromCBOR=v=>{const S=M(v);return o.fromDataItem(S)};const{RegistryTypes:L,decodeToDataItem:U}=P.extend;var V;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature",v[v.authenticationPublicKey=3]="authenticationPublicKey"}(V||(V={}));class h extends P.RegistryItem{constructor(v,S,_){super(),this.getRegistryType=()=>R.APTOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getAuthenticationPublicKey=()=>this.authenticationPublicKey,this.toDataItem=()=>{const v={};return v[V.requestId]=new P.DataItem(this.requestId,L.UUID.getTag()),v[V.signature]=this.signature,v[V.authenticationPublicKey]=this.authenticationPublicKey,new P.DataItem(v)},this.signature=v,this.requestId=S,this.authenticationPublicKey=_}}h.fromDataItem=v=>{const S=v.getData(),_=S[V.signature],E=S[V.requestId].getData();return new h(_,E,S[V.authenticationPublicKey])},h.fromCBOR=v=>{const S=U(v);return h.fromDataItem(S)},P.patchTags(Object.values(R).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(P).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return P[v]}})})),S.AptosSignRequest=o,S.AptosSignature=h},151342:(v,S,_)=>{"use strict";v.exports=_(553788)},175219:(v,S,_)=>{"use strict";var E;_.r(S),_.d(S,{NIL:()=>Q,parse:()=>W,stringify:()=>F,v1:()=>G,v3:()=>X,v4:()=>Y,v5:()=>Z,validate:()=>R,version:()=>tt});var P=new Uint8Array(16);function rng(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(P)}const D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const R=function validate(v){return"string"==typeof v&&D.test(v)};for(var M=[],O=0;O<256;++O)M.push((O+256).toString(16).substr(1));const F=function stringify(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=(M[v[S+0]]+M[v[S+1]]+M[v[S+2]]+M[v[S+3]]+"-"+M[v[S+4]]+M[v[S+5]]+"-"+M[v[S+6]]+M[v[S+7]]+"-"+M[v[S+8]]+M[v[S+9]]+"-"+M[v[S+10]]+M[v[S+11]]+M[v[S+12]]+M[v[S+13]]+M[v[S+14]]+M[v[S+15]]).toLowerCase();if(!R(_))throw TypeError("Stringified UUID is invalid");return _};var N,L,U=0,V=0;const G=function v1(v,S,_){var E=S&&_||0,P=S||new Array(16),D=(v=v||{}).node||N,R=void 0!==v.clockseq?v.clockseq:L;if(null==D||null==R){var M=v.random||(v.rng||rng)();null==D&&(D=N=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),null==R&&(R=L=16383&(M[6]<<8|M[7]))}var O=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:V+1,W=O-U+(G-V)/1e4;if(W<0&&void 0===v.clockseq&&(R=R+1&16383),(W<0||O>U)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=O,V=G,L=R;var $=(1e4*(268435455&(O+=122192928e5))+G)%4294967296;P[E++]=$>>>24&255,P[E++]=$>>>16&255,P[E++]=$>>>8&255,P[E++]=255&$;var X=O/4294967296*1e4&268435455;P[E++]=X>>>8&255,P[E++]=255&X,P[E++]=X>>>24&15|16,P[E++]=X>>>16&255,P[E++]=R>>>8|128,P[E++]=255&R;for(var Y=0;Y<6;++Y)P[E+Y]=D[Y];return S||F(P)};const W=function parse(v){if(!R(v))throw TypeError("Invalid UUID");var S,_=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};function v35(v,S,_){function generateUUID(v,E,P,D){if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));for(var S=[],_=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof E&&(E=W(E)),16!==E.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var R=new Uint8Array(16+v.length);if(R.set(E),R.set(v,E.length),(R=_(R))[6]=15&R[6]|S,R[8]=63&R[8]|128,P){D=D||0;for(var M=0;M<16;++M)P[D+M]=R[M];return P}return F(R)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){var _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}const $=function md5(v){if("string"==typeof v){var S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(var _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){for(var S=[],_=32*v.length,E="0123456789abcdef",P=0;P<_;P+=8){var D=v[P>>5]>>>P%32&255,R=parseInt(E.charAt(D>>>4&15)+E.charAt(15&D),16);S.push(R)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;for(var _=1732584193,E=-271733879,P=-1732584194,D=271733878,R=0;R<v.length;R+=16){var M=_,O=E,F=P,N=D;_=md5ff(_,E,P,D,v[R],7,-680876936),D=md5ff(D,_,E,P,v[R+1],12,-389564586),P=md5ff(P,D,_,E,v[R+2],17,606105819),E=md5ff(E,P,D,_,v[R+3],22,-1044525330),_=md5ff(_,E,P,D,v[R+4],7,-176418897),D=md5ff(D,_,E,P,v[R+5],12,1200080426),P=md5ff(P,D,_,E,v[R+6],17,-1473231341),E=md5ff(E,P,D,_,v[R+7],22,-45705983),_=md5ff(_,E,P,D,v[R+8],7,1770035416),D=md5ff(D,_,E,P,v[R+9],12,-1958414417),P=md5ff(P,D,_,E,v[R+10],17,-42063),E=md5ff(E,P,D,_,v[R+11],22,-1990404162),_=md5ff(_,E,P,D,v[R+12],7,1804603682),D=md5ff(D,_,E,P,v[R+13],12,-40341101),P=md5ff(P,D,_,E,v[R+14],17,-1502002290),_=md5gg(_,E=md5ff(E,P,D,_,v[R+15],22,1236535329),P,D,v[R+1],5,-165796510),D=md5gg(D,_,E,P,v[R+6],9,-1069501632),P=md5gg(P,D,_,E,v[R+11],14,643717713),E=md5gg(E,P,D,_,v[R],20,-373897302),_=md5gg(_,E,P,D,v[R+5],5,-701558691),D=md5gg(D,_,E,P,v[R+10],9,38016083),P=md5gg(P,D,_,E,v[R+15],14,-660478335),E=md5gg(E,P,D,_,v[R+4],20,-405537848),_=md5gg(_,E,P,D,v[R+9],5,568446438),D=md5gg(D,_,E,P,v[R+14],9,-1019803690),P=md5gg(P,D,_,E,v[R+3],14,-187363961),E=md5gg(E,P,D,_,v[R+8],20,1163531501),_=md5gg(_,E,P,D,v[R+13],5,-1444681467),D=md5gg(D,_,E,P,v[R+2],9,-51403784),P=md5gg(P,D,_,E,v[R+7],14,1735328473),_=md5hh(_,E=md5gg(E,P,D,_,v[R+12],20,-1926607734),P,D,v[R+5],4,-378558),D=md5hh(D,_,E,P,v[R+8],11,-2022574463),P=md5hh(P,D,_,E,v[R+11],16,1839030562),E=md5hh(E,P,D,_,v[R+14],23,-35309556),_=md5hh(_,E,P,D,v[R+1],4,-1530992060),D=md5hh(D,_,E,P,v[R+4],11,1272893353),P=md5hh(P,D,_,E,v[R+7],16,-155497632),E=md5hh(E,P,D,_,v[R+10],23,-1094730640),_=md5hh(_,E,P,D,v[R+13],4,681279174),D=md5hh(D,_,E,P,v[R],11,-358537222),P=md5hh(P,D,_,E,v[R+3],16,-722521979),E=md5hh(E,P,D,_,v[R+6],23,76029189),_=md5hh(_,E,P,D,v[R+9],4,-640364487),D=md5hh(D,_,E,P,v[R+12],11,-421815835),P=md5hh(P,D,_,E,v[R+15],16,530742520),_=md5ii(_,E=md5hh(E,P,D,_,v[R+2],23,-995338651),P,D,v[R],6,-198630844),D=md5ii(D,_,E,P,v[R+7],10,1126891415),P=md5ii(P,D,_,E,v[R+14],15,-1416354905),E=md5ii(E,P,D,_,v[R+5],21,-57434055),_=md5ii(_,E,P,D,v[R+12],6,1700485571),D=md5ii(D,_,E,P,v[R+3],10,-1894986606),P=md5ii(P,D,_,E,v[R+10],15,-1051523),E=md5ii(E,P,D,_,v[R+1],21,-2054922799),_=md5ii(_,E,P,D,v[R+8],6,1873313359),D=md5ii(D,_,E,P,v[R+15],10,-30611744),P=md5ii(P,D,_,E,v[R+6],15,-1560198380),E=md5ii(E,P,D,_,v[R+13],21,1309151649),_=md5ii(_,E,P,D,v[R+4],6,-145523070),D=md5ii(D,_,E,P,v[R+11],10,-1120210379),P=md5ii(P,D,_,E,v[R+2],15,718787259),E=md5ii(E,P,D,_,v[R+9],21,-343485551),_=safeAdd(_,M),E=safeAdd(E,O),P=safeAdd(P,F),D=safeAdd(D,N)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];for(var S=8*v.length,_=new Uint32Array(getOutputLength(S)),E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};const X=v35("v3",48,$);const Y=function v4(v,S,_){var E=(v=v||{}).random||(v.rng||rng)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,S){_=_||0;for(var P=0;P<16;++P)S[_+P]=E[P];return S}return F(E)};function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}const J=function sha1(v){var S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){var E=unescape(encodeURIComponent(v));v=[];for(var P=0;P<E.length;++P)v.push(E.charCodeAt(P))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);for(var D=v.length/4+2,R=Math.ceil(D/16),M=new Array(R),O=0;O<R;++O){for(var F=new Uint32Array(16),N=0;N<16;++N)F[N]=v[64*O+4*N]<<24|v[64*O+4*N+1]<<16|v[64*O+4*N+2]<<8|v[64*O+4*N+3];M[O]=F}M[R-1][14]=8*(v.length-1)/Math.pow(2,32),M[R-1][14]=Math.floor(M[R-1][14]),M[R-1][15]=8*(v.length-1)&4294967295;for(var L=0;L<R;++L){for(var U=new Uint32Array(80),V=0;V<16;++V)U[V]=M[L][V];for(var G=16;G<80;++G)U[G]=ROTL(U[G-3]^U[G-8]^U[G-14]^U[G-16],1);for(var W=_[0],$=_[1],X=_[2],Y=_[3],J=_[4],Z=0;Z<80;++Z){var Q=Math.floor(Z/20),tt=ROTL(W,5)+f(Q,$,X,Y)+J+S[Q]+U[Z]>>>0;J=Y,Y=X,X=ROTL($,30)>>>0,$=W,W=tt}_[0]=_[0]+W>>>0,_[1]=_[1]+$>>>0,_[2]=_[2]+X>>>0,_[3]=_[3]+Y>>>0,_[4]=_[4]+J>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};const Z=v35("v5",80,J),Q="00000000-0000-0000-0000-000000000000";const tt=function version(v){if(!R(v))throw TypeError("Invalid UUID");return parseInt(v.substr(14,1),16)}},401436:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P=_(996722),D=_(442881);const R={ARWEAVE_CRYPTO_ACCOUNT:new P.RegistryType("arweave-crypto-account",5101),ARWEAVE_SIGN_REQUEST:new P.RegistryType("arweave-sign-request",5102),ARWEAVE_SIGNATURE:new P.RegistryType("arweave-signature",5103)},{decodeToDataItem:M,RegistryTypes:O}=P.extend;var F,N,L;(F=S.SignType||(S.SignType={}))[F.Transaction=1]="Transaction",F[F.DataItem=2]="DataItem",F[F.Message=3]="Message",(N=S.SaltLen||(S.SaltLen={}))[N.Zero=0]="Zero",N[N.Digest=32]="Digest",function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.requestId=2]="requestId",v[v.signData=3]="signData",v[v.signType=4]="signType",v[v.saltLen=5]="saltLen",v[v.origin=6]="origin",v[v.account=7]="account"}(L||(L={}));class o extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.ARWEAVE_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getSignType=()=>this.signType,this.getSaltLen=()=>this.saltLen,this.getOrigin=()=>this.origin,this.getAccount=()=>this.account,this.getMasterFingerprint=()=>this.masterFingerprint,this.toDataItem=()=>{const v={};return this.requestId&&(v[L.requestId]=new P.DataItem(this.requestId,O.UUID.getTag())),this.account&&(v[L.account]=this.account),this.origin&&(v[L.origin]=this.origin),v[L.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),v[L.signData]=this.signData,v[L.signType]=this.signType,v[L.saltLen]=this.saltLen,new P.DataItem(v)},this.masterFingerprint=v.masterFingerprint,this.requestId=v.requestId,this.signData=v.signData,this.signType=v.signType,this.saltLen=v.saltLen,this.origin=v.origin,this.account=v.account}static constructArweaveRequest(v,S,_,P,R,M,O){return new o({masterFingerprint:E.from(S,"hex"),requestId:R?E.from(D.parse(R)):void 0,signData:v,signType:_,saltLen:P,account:M,origin:O})}}o.fromDataItem=v=>{const S=v.getData(),_=S[L.signData],P=S[L.account]?S[L.account]:void 0,D=S[L.requestId]?S[L.requestId].getData():void 0,R=S[L.origin]?S[L.origin]:void 0,M=S[L.signType],O=S[L.saltLen],F=E.alloc(4);return F.writeUInt32BE(S[L.masterFingerprint],0),new o({masterFingerprint:F,requestId:D,signData:_,signType:M,saltLen:O,origin:R,account:P})},o.fromCBOR=v=>{const S=M(v);return o.fromDataItem(S)};const{RegistryTypes:U,decodeToDataItem:V}=P.extend;var G;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature"}(G||(G={}));class p extends P.RegistryItem{constructor(v,S){super(),this.getRegistryType=()=>R.ARWEAVE_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const v={};return this.requestId&&(v[G.requestId]=new P.DataItem(this.requestId,U.UUID.getTag())),v[G.signature]=this.signature,new P.DataItem(v)},this.signature=v,this.requestId=S}}p.fromDataItem=v=>{const S=v.getData(),_=S[G.signature],E=S[G.requestId]?S[G.requestId].getData():void 0;return new p(_,E)},p.fromCBOR=v=>{const S=V(v);return p.fromDataItem(S)};const{decodeToDataItem:W}=P.extend;var $;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.keyData=2]="keyData",v[v.device=3]="device"}($||($={}));class m extends P.RegistryItem{constructor(v,S,_){super(),this.masterFingerprint=v,this.keyData=S,this.device=_,this.getRegistryType=()=>R.ARWEAVE_CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeyData=()=>this.keyData,this.getDevice=()=>this.device,this.toDataItem=()=>{const v={};return v[$.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),v[$.keyData]=this.keyData,this.device&&(v[$.device]=this.device),new P.DataItem(v)}}}m.fromDataItem=v=>{const S=v.getData(),_=S[$.keyData],P=E.alloc(4);return P.writeUInt32BE(S[$.masterFingerprint],0),new m(P,_,S[$.device]?S[$.device]:void 0)},m.fromCBOR=v=>{const S=W(v);return m.fromDataItem(S)},P.patchTags(Object.values(R).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(P).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return P[v]}})})),S.ArweaveCryptoAccount=m,S.ArweaveSignRequest=o,S.ArweaveSignature=p},550892:(v,S,_)=>{"use strict";v.exports=_(401436)},442881:(v,S,_)=>{"use strict";var E;_.r(S),_.d(S,{NIL:()=>Q,parse:()=>W,stringify:()=>F,v1:()=>G,v3:()=>X,v4:()=>Y,v5:()=>Z,validate:()=>R,version:()=>tt});var P=new Uint8Array(16);function rng(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(P)}const D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const R=function validate(v){return"string"==typeof v&&D.test(v)};for(var M=[],O=0;O<256;++O)M.push((O+256).toString(16).substr(1));const F=function stringify(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=(M[v[S+0]]+M[v[S+1]]+M[v[S+2]]+M[v[S+3]]+"-"+M[v[S+4]]+M[v[S+5]]+"-"+M[v[S+6]]+M[v[S+7]]+"-"+M[v[S+8]]+M[v[S+9]]+"-"+M[v[S+10]]+M[v[S+11]]+M[v[S+12]]+M[v[S+13]]+M[v[S+14]]+M[v[S+15]]).toLowerCase();if(!R(_))throw TypeError("Stringified UUID is invalid");return _};var N,L,U=0,V=0;const G=function v1(v,S,_){var E=S&&_||0,P=S||new Array(16),D=(v=v||{}).node||N,R=void 0!==v.clockseq?v.clockseq:L;if(null==D||null==R){var M=v.random||(v.rng||rng)();null==D&&(D=N=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),null==R&&(R=L=16383&(M[6]<<8|M[7]))}var O=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:V+1,W=O-U+(G-V)/1e4;if(W<0&&void 0===v.clockseq&&(R=R+1&16383),(W<0||O>U)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=O,V=G,L=R;var $=(1e4*(268435455&(O+=122192928e5))+G)%4294967296;P[E++]=$>>>24&255,P[E++]=$>>>16&255,P[E++]=$>>>8&255,P[E++]=255&$;var X=O/4294967296*1e4&268435455;P[E++]=X>>>8&255,P[E++]=255&X,P[E++]=X>>>24&15|16,P[E++]=X>>>16&255,P[E++]=R>>>8|128,P[E++]=255&R;for(var Y=0;Y<6;++Y)P[E+Y]=D[Y];return S||F(P)};const W=function parse(v){if(!R(v))throw TypeError("Invalid UUID");var S,_=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};function v35(v,S,_){function generateUUID(v,E,P,D){if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));for(var S=[],_=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof E&&(E=W(E)),16!==E.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var R=new Uint8Array(16+v.length);if(R.set(E),R.set(v,E.length),(R=_(R))[6]=15&R[6]|S,R[8]=63&R[8]|128,P){D=D||0;for(var M=0;M<16;++M)P[D+M]=R[M];return P}return F(R)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){var _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}const $=function md5(v){if("string"==typeof v){var S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(var _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){for(var S=[],_=32*v.length,E="0123456789abcdef",P=0;P<_;P+=8){var D=v[P>>5]>>>P%32&255,R=parseInt(E.charAt(D>>>4&15)+E.charAt(15&D),16);S.push(R)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;for(var _=1732584193,E=-271733879,P=-1732584194,D=271733878,R=0;R<v.length;R+=16){var M=_,O=E,F=P,N=D;_=md5ff(_,E,P,D,v[R],7,-680876936),D=md5ff(D,_,E,P,v[R+1],12,-389564586),P=md5ff(P,D,_,E,v[R+2],17,606105819),E=md5ff(E,P,D,_,v[R+3],22,-1044525330),_=md5ff(_,E,P,D,v[R+4],7,-176418897),D=md5ff(D,_,E,P,v[R+5],12,1200080426),P=md5ff(P,D,_,E,v[R+6],17,-1473231341),E=md5ff(E,P,D,_,v[R+7],22,-45705983),_=md5ff(_,E,P,D,v[R+8],7,1770035416),D=md5ff(D,_,E,P,v[R+9],12,-1958414417),P=md5ff(P,D,_,E,v[R+10],17,-42063),E=md5ff(E,P,D,_,v[R+11],22,-1990404162),_=md5ff(_,E,P,D,v[R+12],7,1804603682),D=md5ff(D,_,E,P,v[R+13],12,-40341101),P=md5ff(P,D,_,E,v[R+14],17,-1502002290),_=md5gg(_,E=md5ff(E,P,D,_,v[R+15],22,1236535329),P,D,v[R+1],5,-165796510),D=md5gg(D,_,E,P,v[R+6],9,-1069501632),P=md5gg(P,D,_,E,v[R+11],14,643717713),E=md5gg(E,P,D,_,v[R],20,-373897302),_=md5gg(_,E,P,D,v[R+5],5,-701558691),D=md5gg(D,_,E,P,v[R+10],9,38016083),P=md5gg(P,D,_,E,v[R+15],14,-660478335),E=md5gg(E,P,D,_,v[R+4],20,-405537848),_=md5gg(_,E,P,D,v[R+9],5,568446438),D=md5gg(D,_,E,P,v[R+14],9,-1019803690),P=md5gg(P,D,_,E,v[R+3],14,-187363961),E=md5gg(E,P,D,_,v[R+8],20,1163531501),_=md5gg(_,E,P,D,v[R+13],5,-1444681467),D=md5gg(D,_,E,P,v[R+2],9,-51403784),P=md5gg(P,D,_,E,v[R+7],14,1735328473),_=md5hh(_,E=md5gg(E,P,D,_,v[R+12],20,-1926607734),P,D,v[R+5],4,-378558),D=md5hh(D,_,E,P,v[R+8],11,-2022574463),P=md5hh(P,D,_,E,v[R+11],16,1839030562),E=md5hh(E,P,D,_,v[R+14],23,-35309556),_=md5hh(_,E,P,D,v[R+1],4,-1530992060),D=md5hh(D,_,E,P,v[R+4],11,1272893353),P=md5hh(P,D,_,E,v[R+7],16,-155497632),E=md5hh(E,P,D,_,v[R+10],23,-1094730640),_=md5hh(_,E,P,D,v[R+13],4,681279174),D=md5hh(D,_,E,P,v[R],11,-358537222),P=md5hh(P,D,_,E,v[R+3],16,-722521979),E=md5hh(E,P,D,_,v[R+6],23,76029189),_=md5hh(_,E,P,D,v[R+9],4,-640364487),D=md5hh(D,_,E,P,v[R+12],11,-421815835),P=md5hh(P,D,_,E,v[R+15],16,530742520),_=md5ii(_,E=md5hh(E,P,D,_,v[R+2],23,-995338651),P,D,v[R],6,-198630844),D=md5ii(D,_,E,P,v[R+7],10,1126891415),P=md5ii(P,D,_,E,v[R+14],15,-1416354905),E=md5ii(E,P,D,_,v[R+5],21,-57434055),_=md5ii(_,E,P,D,v[R+12],6,1700485571),D=md5ii(D,_,E,P,v[R+3],10,-1894986606),P=md5ii(P,D,_,E,v[R+10],15,-1051523),E=md5ii(E,P,D,_,v[R+1],21,-2054922799),_=md5ii(_,E,P,D,v[R+8],6,1873313359),D=md5ii(D,_,E,P,v[R+15],10,-30611744),P=md5ii(P,D,_,E,v[R+6],15,-1560198380),E=md5ii(E,P,D,_,v[R+13],21,1309151649),_=md5ii(_,E,P,D,v[R+4],6,-145523070),D=md5ii(D,_,E,P,v[R+11],10,-1120210379),P=md5ii(P,D,_,E,v[R+2],15,718787259),E=md5ii(E,P,D,_,v[R+9],21,-343485551),_=safeAdd(_,M),E=safeAdd(E,O),P=safeAdd(P,F),D=safeAdd(D,N)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];for(var S=8*v.length,_=new Uint32Array(getOutputLength(S)),E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};const X=v35("v3",48,$);const Y=function v4(v,S,_){var E=(v=v||{}).random||(v.rng||rng)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,S){_=_||0;for(var P=0;P<16;++P)S[_+P]=E[P];return S}return F(E)};function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}const J=function sha1(v){var S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){var E=unescape(encodeURIComponent(v));v=[];for(var P=0;P<E.length;++P)v.push(E.charCodeAt(P))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);for(var D=v.length/4+2,R=Math.ceil(D/16),M=new Array(R),O=0;O<R;++O){for(var F=new Uint32Array(16),N=0;N<16;++N)F[N]=v[64*O+4*N]<<24|v[64*O+4*N+1]<<16|v[64*O+4*N+2]<<8|v[64*O+4*N+3];M[O]=F}M[R-1][14]=8*(v.length-1)/Math.pow(2,32),M[R-1][14]=Math.floor(M[R-1][14]),M[R-1][15]=8*(v.length-1)&4294967295;for(var L=0;L<R;++L){for(var U=new Uint32Array(80),V=0;V<16;++V)U[V]=M[L][V];for(var G=16;G<80;++G)U[G]=ROTL(U[G-3]^U[G-8]^U[G-14]^U[G-16],1);for(var W=_[0],$=_[1],X=_[2],Y=_[3],J=_[4],Z=0;Z<80;++Z){var Q=Math.floor(Z/20),tt=ROTL(W,5)+f(Q,$,X,Y)+J+S[Q]+U[Z]>>>0;J=Y,Y=X,X=ROTL($,30)>>>0,$=W,W=tt}_[0]=_[0]+W>>>0,_[1]=_[1]+$>>>0,_[2]=_[2]+X>>>0,_[3]=_[3]+Y>>>0,_[4]=_[4]+J>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};const Z=v35("v5",80,J),Q="00000000-0000-0000-0000-000000000000";const tt=function version(v){if(!R(v))throw TypeError("Invalid UUID");return parseInt(v.substr(14,1),16)}},920328:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P=_(911205),D=_(951065);const R={BTC_SIGN_REQUEST:new P.RegistryType("btc-sign-request",8101),BTC_SIGNATURE:new P.RegistryType("btc-signature",8102)},{decodeToDataItem:M,RegistryTypes:O}=P.extend;var F,N;(F=S.DataType||(S.DataType={}))[F.message=1]="message",function(v){v[v.requestId=1]="requestId",v[v.signData=2]="signData",v[v.dataType=3]="dataType",v[v.derivationPaths=4]="derivationPaths",v[v.addresses=5]="addresses",v[v.origin=6]="origin"}(N||(N={}));class d extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.BTC_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getDerivationPaths=()=>this.derivationPaths.map((v=>v.getPath())),this.getAddress=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[N.requestId]=new P.DataItem(this.requestId,O.UUID.getTag()),v[N.signData]=this.signData,v[N.dataType]=this.dataType,v[N.derivationPaths]=this.derivationPaths.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),this.addresses&&(v[N.addresses]=this.addresses),this.origin&&(v[N.origin]=this.origin),new P.DataItem(v)},this.requestId=v.requestId,this.signData=v.signData,this.dataType=v.dataType,this.derivationPaths=v.derivationPaths,this.addresses=v.addresses,this.origin=v.origin}static constructBtcRequest(v,_,R,M,O,F,N){const L=O.map(((v,S)=>{const D=v.replace(/[m|M]\//,"").split("/").map((v=>{const S=parseInt(v.replace("'",""));let _=!1;return v.endsWith("'")&&(_=!0),new P.PathComponent({index:S,hardened:_})}));return new P.CryptoKeypath(D,E.from(_[S],"hex"))}));return new d({requestId:E.from(D.parse(v)),signData:R,dataType:M||S.DataType.message,derivationPaths:L,addresses:F||void 0,origin:N||void 0})}}d.fromDataItem=v=>{const S=v.getData(),_=S[N.requestId]?S[N.requestId].getData():void 0,E=S[N.signData],D=S[N.dataType],R=S[N.derivationPaths].map((v=>P.CryptoKeypath.fromDataItem(v)));return new d({requestId:_,signData:E,dataType:D,derivationPaths:R,addresses:S[N.addresses]?S[N.addresses]:void 0,origin:S[N.origin]?S[N.origin]:void 0})},d.fromCBOR=v=>{const S=M(v);return d.fromDataItem(S)};const{RegistryTypes:L,decodeToDataItem:U}=P.extend;var V;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature",v[v.publicKey=3]="publicKey"}(V||(V={}));class h extends P.RegistryItem{constructor(v,S,_){super(),this.getRegistryType=()=>R.BTC_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{const v={};return v[V.requestId]=new P.DataItem(this.requestId,L.UUID.getTag()),v[V.signature]=this.signature,v[V.publicKey]=this.publicKey,new P.DataItem(v)},this.signature=v,this.requestId=S,this.publicKey=_}}h.fromDataItem=v=>{const S=v.getData(),_=S[V.signature],E=S[V.requestId].getData();return new h(_,E,S[V.publicKey])},h.fromCBOR=v=>{const S=U(v);return h.fromDataItem(S)},P.patchTags(Object.values(R).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(P).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return P[v]}})})),S.BtcSignRequest=d,S.BtcSignature=h},779812:(v,S,_)=>{"use strict";v.exports=_(920328)},728574:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Bytes=void 0;const E=_(371389),P=_(668889),D=_(524062);class Bytes extends P.RegistryItem{constructor(v){super(),this.bytes=v,this.getRegistryType=()=>D.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new E.DataItem(this.bytes)}}S.Bytes=Bytes,Bytes.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new Bytes(S)},Bytes.fromCBOR=v=>{const S=E.decodeToDataItem(v);return Bytes.fromDataItem(S)}},178641:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoAccount=void 0;const P=_(911205),D=_(371389),R=_(668889),M=_(524062);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.outputDescriptors=2]="outputDescriptors"}(O||(O={}));class CryptoAccount extends R.RegistryItem{constructor(v,S){super(),this.masterFingerprint=v,this.outputDescriptors=S,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(v[O.outputDescriptors]=this.outputDescriptors.map((v=>v.toDataItem()))),new D.DataItem(v)}}}S.CryptoAccount=CryptoAccount,CryptoAccount.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),D=S[O.masterFingerprint];D&&_.writeUInt32BE(D,0);const R=S[O.outputDescriptors].map((v=>P.CryptoOutput.fromDataItem(v)));return new CryptoAccount(_,R)},CryptoAccount.fromCBOR=v=>{const S=D.decodeToDataItem(v);return CryptoAccount.fromDataItem(S)}},201201:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoCoinInfo=S.Network=S.Type=void 0;const E=_(371389),P=_(668889),D=_(524062);var R,M,O;!function(v){v.type="1",v.network="2"}(R||(R={})),function(v){v[v.bitcoin=0]="bitcoin"}(M=S.Type||(S.Type={})),function(v){v[v.mainnet=0]="mainnet",v[v.testnet=1]="testnet"}(O=S.Network||(S.Network={}));class CryptoCoinInfo extends P.RegistryItem{constructor(v,S){super(),this.type=v,this.network=S,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||M.bitcoin,this.getNetwork=()=>this.network||O.mainnet,this.toDataItem=()=>{const v={};return this.type&&(v[R.type]=this.type),this.network&&(v[R.network]=this.network),new E.DataItem(v)}}}S.CryptoCoinInfo=CryptoCoinInfo,CryptoCoinInfo.fromDataItem=v=>{const S=v.getData(),_=S[R.type],E=S[R.network];return new CryptoCoinInfo(_,E)},CryptoCoinInfo.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoCoinInfo.fromDataItem(S)}},899005:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoECKey=void 0;const E=_(371389),P=_(668889),D=_(524062);var R;!function(v){v[v.curve=1]="curve",v[v.private=2]="private",v[v.data=3]="data"}(R||(R={}));class CryptoECKey extends P.RegistryItem{constructor(v){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const v={};return this.curve&&(v[R.curve]=this.curve),void 0!==this.privateKey&&(v[R.private]=this.privateKey),v[R.data]=this.data,new E.DataItem(v)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=v.data,this.curve=v.curve,this.privateKey=v.privateKey||void 0}}S.CryptoECKey=CryptoECKey,CryptoECKey.fromDataItem=v=>{const S=v.getData(),_=S[R.curve],E=S[R.private],P=S[R.data];if(!P)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${v}`);return new CryptoECKey({data:P,curve:_,privateKey:E})},CryptoECKey.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoECKey.fromDataItem(S)}},760369:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoHDKey=void 0;const P=_(876399),D=_(201201),R=_(261346),M=_(371389),O=_(668889),F=_(524062);var N;!function(v){v[v.is_master=1]="is_master",v[v.is_private=2]="is_private",v[v.key_data=3]="key_data",v[v.chain_code=4]="chain_code",v[v.use_info=5]="use_info",v[v.origin=6]="origin",v[v.children=7]="children",v[v.parent_fingerprint=8]="parent_fingerprint",v[v.name=9]="name",v[v.note=10]="note"}(N||(N={}));class CryptoHDKey extends O.RegistryItem{constructor(v){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var v,S,_;let D,R,M=0,O=E.alloc(4).fill(0);if(this.isMaster())D=E.from("0488ADE4","hex"),R=0,M=0;else{R=(null===(v=this.getOrigin())||void 0===v?void 0:v.getComponents().length)||(null===(S=this.getOrigin())||void 0===S?void 0:S.getDepth());const P=null===(_=this.getOrigin())||void 0===_?void 0:_.getComponents(),F=P[P.length-1];F&&(M=F.isHardened()?F.getIndex()+2147483648:F.getIndex(),this.getParentFingerprint()&&(O=this.getParentFingerprint())),D=this.isPrivateKey()?E.from("0488ADE4","hex"):E.from("0488B21E","hex")}const F=E.alloc(1);F.writeUInt8(R,0);const N=E.alloc(4);N.writeUInt32BE(M,0);const L=this.getChainCode(),U=this.getKey();return P.encode(E.concat([D,F,O,N,L,U]))},this.getRegistryType=()=>F.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var v,S,_,E,P,D,R;let M="";return this.getOrigin()&&(null===(v=this.getOrigin())||void 0===v?void 0:v.getSourceFingerprint())&&(null===(S=this.getOrigin())||void 0===S?void 0:S.getPath())&&(M+=`${null===(E=null===(_=this.getOrigin())||void 0===_?void 0:_.getSourceFingerprint())||void 0===E?void 0:E.toString("hex")}/${null===(P=this.getOrigin())||void 0===P?void 0:P.getPath()}`),M+=this.getBip32Key(),this.getChildren()&&(null===(D=this.getChildren())||void 0===D?void 0:D.getPath())&&(M+=`/${null===(R=this.getChildren())||void 0===R?void 0:R.getPath()}`),M},this.setupMasterKey=v=>{this.master=!0,this.key=v.key,this.chainCode=v.chainCode},this.setupDeriveKey=v=>{this.master=!1,this.privateKey=v.isPrivateKey,this.key=v.key,this.chainCode=v.chainCode,this.useInfo=v.useInfo,this.origin=v.origin,this.children=v.children,this.parentFingerprint=v.parentFingerprint,this.name=v.name,this.note=v.note},this.toDataItem=()=>{const v={};if(this.master)v[N.is_master]=!0,v[N.key_data]=this.key,v[N.chain_code]=this.chainCode;else{if(void 0!==this.privateKey&&(v[N.is_private]=this.privateKey),v[N.key_data]=this.key,this.chainCode&&(v[N.chain_code]=this.chainCode),this.useInfo){const S=this.useInfo.toDataItem();S.setTag(this.useInfo.getRegistryType().getTag()),v[N.use_info]=S}if(this.origin){const S=this.origin.toDataItem();S.setTag(this.origin.getRegistryType().getTag()),v[N.origin]=S}if(this.children){const S=this.children.toDataItem();S.setTag(this.children.getRegistryType().getTag()),v[N.children]=S}this.parentFingerprint&&(v[N.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),void 0!==this.name&&(v[N.name]=this.name),void 0!==this.note&&(v[N.note]=this.note)}return new M.DataItem(v)},v.isMaster?this.setupMasterKey(v):this.setupDeriveKey(v)}}S.CryptoHDKey=CryptoHDKey,CryptoHDKey.fromDataItem=v=>{const S=v.getData(),_=!!S[N.is_master],P=S[N.is_private],M=S[N.key_data],O=S[N.chain_code],F=S[N.use_info]?D.CryptoCoinInfo.fromDataItem(S[N.use_info]):void 0,L=S[N.origin]?R.CryptoKeypath.fromDataItem(S[N.origin]):void 0,U=S[N.children]?R.CryptoKeypath.fromDataItem(S[N.children]):void 0,V=S[N.parent_fingerprint];let G;V&&(G=E.alloc(4),G.writeUInt32BE(V,0));const W=S[N.name],$=S[N.note];return new CryptoHDKey({isMaster:_,isPrivateKey:P,key:M,chainCode:O,useInfo:F,origin:L,children:U,parentFingerprint:G,name:W,note:$})},CryptoHDKey.fromCBOR=v=>{const S=M.decodeToDataItem(v);return CryptoHDKey.fromDataItem(S)}},261346:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoKeypath=void 0;const P=_(371389),D=_(191895),R=_(668889),M=_(524062);var O;!function(v){v[v.components=1]="components",v[v.source_fingerprint=2]="source_fingerprint",v[v.depth=3]="depth"}(O||(O={}));class CryptoKeypath extends R.RegistryItem{constructor(v=[],S,_){super(),this.components=v,this.sourceFingerprint=S,this.depth=_,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return;return this.components.map((v=>`${v.isWildcard()?"*":v.getIndex()}${v.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const v={},S=[];return this.components&&this.components.forEach((v=>{v.isWildcard()?S.push([]):S.push(v.getIndex()),S.push(v.isHardened())})),v[O.components]=S,this.sourceFingerprint&&(v[O.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),void 0!==this.depth&&(v[O.depth]=this.depth),new P.DataItem(v)}}}S.CryptoKeypath=CryptoKeypath,CryptoKeypath.fromDataItem=v=>{const S=v.getData(),_=[],P=S[O.components];if(P)for(let v=0;v<P.length;v+=2){const S=P[v+1],E=P[v];"number"==typeof E?_.push(new D.PathComponent({index:E,hardened:S})):_.push(new D.PathComponent({hardened:S}))}const R=S[O.source_fingerprint];let M;R&&(M=E.alloc(4),M.writeUInt32BE(R,0));const F=S[O.depth];return new CryptoKeypath(_,M,F)},CryptoKeypath.fromCBOR=v=>{const S=P.decodeToDataItem(v);return CryptoKeypath.fromDataItem(S)}},125113:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoOutput=void 0;const E=_(899005),P=_(760369),D=_(371389),R=_(675633),M=_(668889),O=_(524062),F=_(133840);class CryptoOutput extends M.RegistryItem{constructor(v,S){super(),this.scriptExpressions=v,this.cryptoKey=S,this.getRegistryType=()=>O.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof P.CryptoHDKey?this.cryptoKey:void 0,this.getECKey=()=>this.cryptoKey instanceof E.CryptoECKey?this.cryptoKey:void 0,this.getMultiKey=()=>this.cryptoKey instanceof R.MultiKey?this.cryptoKey:void 0,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=v=>v>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[v].getExpression()}(${this._toOutputDescriptor(v+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let v=this.cryptoKey.toDataItem();(this.cryptoKey instanceof E.CryptoECKey||this.cryptoKey instanceof P.CryptoHDKey)&&v.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((S=>{const _=S.getTag();void 0===v.getTag()?v.setTag(_):v=new D.DataItem(v,_)})),v}}}S.CryptoOutput=CryptoOutput,CryptoOutput.fromDataItem=v=>{const S=[];let _=v;for(;;){let v=_.getTag();const E=F.ScriptExpression.fromTag(v);if(!E)break;if(S.push(E),!(_.getData()instanceof D.DataItem))break;_=_.getData(),v=_.getTag()}const M=S.length;if(M>0&&(S[M-1].getExpression()===F.ScriptExpressions.MULTISIG.getExpression()||S[M-1].getExpression()===F.ScriptExpressions.SORTED_MULTISIG.getExpression())){const v=R.MultiKey.fromDataItem(_);return new CryptoOutput(S,v)}if(_.getTag()===O.RegistryTypes.CRYPTO_HDKEY.getTag()){const v=P.CryptoHDKey.fromDataItem(_);return new CryptoOutput(S,v)}{const v=E.CryptoECKey.fromDataItem(_);return new CryptoOutput(S,v)}},CryptoOutput.fromCBOR=v=>{const S=D.decodeToDataItem(v);return CryptoOutput.fromDataItem(S)}},516703:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoPSBT=void 0;const E=_(371389),P=_(668889),D=_(524062);class CryptoPSBT extends P.RegistryItem{constructor(v){super(),this.psbt=v,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new E.DataItem(this.psbt)}}S.CryptoPSBT=CryptoPSBT,CryptoPSBT.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new CryptoPSBT(S)},CryptoPSBT.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoPSBT.fromDataItem(S)}},72706:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URRegistryDecoder=void 0;const E=_(653980),P=_(911205),D=_(524062),R=_(395081);class URRegistryDecoder extends E.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const v=this.resultUR();switch(v.type){case D.RegistryTypes.BYTES.getType():return P.Bytes.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_HDKEY.getType():return P.CryptoHDKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_KEYPATH.getType():return P.CryptoKeypath.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_COIN_INFO.getType():return P.CryptoCoinInfo.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ECKEY.getType():return P.CryptoECKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_OUTPUT.getType():return P.CryptoOutput.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_PSBT.getType():return P.CryptoPSBT.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ACCOUNT.getType():return P.CryptoAccount.fromCBOR(v.cbor);default:throw new R.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${v.type} is not supported now`)}}}}S.URRegistryDecoder=URRegistryDecoder},675633:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MultiKey=void 0;const E=_(899005),P=_(760369),D=_(868670),R=_(668889),M=_(524062);var O;!function(v){v[v.threshold=1]="threshold",v[v.keys=2]="keys"}(O||(O={}));class MultiKey extends R.RegistryItem{constructor(v,S){super(),this.threshold=v,this.keys=S,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const v={};v[O.threshold]=this.threshold;const S=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}));return v[O.keys]=S,new D.DataItem(v)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((v=>v.getOutputDescriptorContent())).join(",")].join(",")}}S.MultiKey=MultiKey,MultiKey.fromDataItem=v=>{const S=v.getData(),_=S[O.threshold],D=S[O.keys],R=[];return D.forEach((v=>{v.getTag()===M.RegistryTypes.CRYPTO_HDKEY.getTag()?R.push(P.CryptoHDKey.fromDataItem(v)):v.getTag()===M.RegistryTypes.CRYPTO_ECKEY.getTag()&&R.push(E.CryptoECKey.fromDataItem(v))})),new MultiKey(_,R)}},191895:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PathComponent=void 0;class PathComponent{constructor(v){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=v.index,this.hardened=v.hardened,void 0!==this.index?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&PathComponent.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}S.PathComponent=PathComponent,PathComponent.HARDENED_BIT=2147483648},668889:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryItem=void 0;const E=_(653980),P=_(371389);S.RegistryItem=class RegistryItem{constructor(){this.toCBOR=()=>{if(void 0===this.toDataItem())throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return P.encodeDataItem(this.toDataItem())},this.toUR=()=>new E.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(v,S,_)=>{const P=this.toUR();return new E.UREncoder(P,v,S,_)}}}},524062:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryTypes=S.RegistryType=void 0;class RegistryType{constructor(v,S){this.type=v,this.tag=S,this.getTag=()=>this.tag,this.getType=()=>this.type}}S.RegistryType=RegistryType,S.RegistryTypes={UUID:new RegistryType("uuid",37),BYTES:new RegistryType("bytes",void 0),CRYPTO_HDKEY:new RegistryType("crypto-hdkey",303),CRYPTO_KEYPATH:new RegistryType("crypto-keypath",304),CRYPTO_COIN_INFO:new RegistryType("crypto-coin-info",305),CRYPTO_ECKEY:new RegistryType("crypto-eckey",306),CRYPTO_OUTPUT:new RegistryType("crypto-output",308),CRYPTO_PSBT:new RegistryType("crypto-psbt",310),CRYPTO_ACCOUNT:new RegistryType("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new RegistryType("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new RegistryType("qr-hardware-call",1201),KEY_DERIVATION_CALL:new RegistryType("key-derivation-call",1301)}},133840:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ScriptExpressions=S.ScriptExpression=void 0;class ScriptExpression{constructor(v,S){this.tag=v,this.expression=S,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}S.ScriptExpression=ScriptExpression,ScriptExpression.fromTag=v=>Object.values(S.ScriptExpressions).find((S=>S.getTag()===v)),S.ScriptExpressions={SCRIPT_HASH:new ScriptExpression(400,"sh"),WITNESS_SCRIPT_HASH:new ScriptExpression(401,"wsh"),PUBLIC_KEY:new ScriptExpression(402,"pk"),PUBLIC_KEY_HASH:new ScriptExpression(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ScriptExpression(404,"wpkh"),COMBO:new ScriptExpression(405,"combo"),MULTISIG:new ScriptExpression(406,"multi"),SORTED_MULTISIG:new ScriptExpression(407,"sortedmulti"),ADDRESS:new ScriptExpression(307,"addr"),RAW_SCRIPT:new ScriptExpression(408,"raw")}},395081:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UnknownURTypeError=void 0;class UnknownURTypeError extends Error{constructor(v){super(v)}}S.UnknownURTypeError=UnknownURTypeError},804765:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoMultiAccounts=void 0;const P=_(524062),D=_(760369),R=_(668889),M=_(371389);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.keys=2]="keys",v[v.device=3]="device"}(O||(O={}));class CryptoMultiAccounts extends R.RegistryItem{constructor(v,S,_){super(),this.masterFingerprint=v,this.keys=S,this.device=_,this.getRegistryType=()=>P.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(v[O.keys]=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}))),this.device&&(v[O.device]=this.device),new M.DataItem(v)}}}S.CryptoMultiAccounts=CryptoMultiAccounts,CryptoMultiAccounts.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),P=S[O.masterFingerprint];P&&_.writeUInt32BE(P,0);const R=S[O.keys].map((v=>D.CryptoHDKey.fromDataItem(v))),M=S[O.device];return new CryptoMultiAccounts(_,R,M)},CryptoMultiAccounts.fromCBOR=v=>{const S=M.decodeToDataItem(v);return CryptoMultiAccounts.fromDataItem(S)}},646357:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyDerivation=S.DerivationAlgorithm=S.Curve=void 0;const E=_(524062),P=_(668889),D=_(371389),R=_(261346);var M,O,F;!function(v){v[v.keyPaths=1]="keyPaths",v[v.curve=2]="curve",v[v.algo=3]="algo",v[v.origin=4]="origin"}(M||(M={})),function(v){v.secp256k1="secp256k1",v.ed25519="ed25519"}(O=S.Curve||(S.Curve={})),function(v){v.slip10="slip10",v.bip32ed25519="bip32ed25519"}(F=S.DerivationAlgorithm||(S.DerivationAlgorithm={}));class KeyDerivation extends P.RegistryItem{constructor(v,S=O.secp256k1,_=F.slip10,P){super(),this.keypaths=v,this.curve=S,this.algo=_,this.origin=P,this.getRegistryType=()=>E.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[M.keyPaths]=this.keypaths.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),v[M.curve]=this.curve,v[M.algo]=this.algo,this.origin&&(v[M.origin]=this.origin),new D.DataItem(v)}}}S.KeyDerivation=KeyDerivation,KeyDerivation.fromDataItem=v=>{const S=v.getData(),_=S[M.keyPaths].map((v=>R.CryptoKeypath.fromDataItem(v))),E=S[M.curve],P=S[M.algo],D=S[M.origin];return new KeyDerivation(_,E,P,D)},KeyDerivation.fromCBOR=v=>{const S=D.decodeToDataItem(v);return KeyDerivation.fromDataItem(S)}},786420:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.QRHardwareCall=S.QRHardwareCallName=void 0;const E=_(524062),P=_(668889),D=_(371389),R=_(646357);var M,O;!function(v){v[v.name=1]="name",v[v.params=2]="params"}(M||(M={})),function(v){v.KeyDerivation="key-derivation"}(O=S.QRHardwareCallName||(S.QRHardwareCallName={}));class QRHardwareCall extends P.RegistryItem{constructor(v,S){super(),this.name=v,this.params=S,this.getRegistryType=()=>E.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{const v={};v[M.name]=this.name;const S=this.params.toDataItem();return S.setTag(this.params.getRegistryType().getTag()),v[M.params]=S,new D.DataItem(v)}}}S.QRHardwareCall=QRHardwareCall,QRHardwareCall.fromDataItem=v=>{const S=v.getData(),_=S[M.name]||O.KeyDerivation;let E;if(_===O.KeyDerivation)E=R.KeyDerivation.fromDataItem(S[M.params]);return new QRHardwareCall(_,E)},QRHardwareCall.fromCBOR=v=>{const S=D.decodeToDataItem(v);return QRHardwareCall.fromDataItem(S)}},911205:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Buffer=S.extend=S.PathComponent=S.ScriptExpressions=S.MultiKey=S.CryptoPSBT=S.CryptoOutput=S.CryptoECKey=S.CryptoCoinInfoNetwork=S.CryptoCoinInfoType=S.CryptoCoinInfo=S.CryptoKeypath=S.CryptoMultiAccounts=S.CryptoHDKey=S.CryptoAccount=S.Bytes=S.URRegistryDecoder=S.DataItem=void 0;const E=_(434117);_(356707);const P=_(901048);Object.defineProperty(S,"Buffer",{enumerable:!0,get:function(){return P.Buffer}});const D=_(760369);Object.defineProperty(S,"CryptoHDKey",{enumerable:!0,get:function(){return D.CryptoHDKey}});const R=_(261346);Object.defineProperty(S,"CryptoKeypath",{enumerable:!0,get:function(){return R.CryptoKeypath}});const M=_(201201);Object.defineProperty(S,"CryptoCoinInfo",{enumerable:!0,get:function(){return M.CryptoCoinInfo}}),Object.defineProperty(S,"CryptoCoinInfoType",{enumerable:!0,get:function(){return M.Type}}),Object.defineProperty(S,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return M.Network}});const O=_(899005);Object.defineProperty(S,"CryptoECKey",{enumerable:!0,get:function(){return O.CryptoECKey}});const F=_(728574);Object.defineProperty(S,"Bytes",{enumerable:!0,get:function(){return F.Bytes}});const N=_(125113);Object.defineProperty(S,"CryptoOutput",{enumerable:!0,get:function(){return N.CryptoOutput}});const L=_(516703);Object.defineProperty(S,"CryptoPSBT",{enumerable:!0,get:function(){return L.CryptoPSBT}});const U=_(178641);Object.defineProperty(S,"CryptoAccount",{enumerable:!0,get:function(){return U.CryptoAccount}});const V=_(72706);Object.defineProperty(S,"URRegistryDecoder",{enumerable:!0,get:function(){return V.URRegistryDecoder}});const G=_(675633);Object.defineProperty(S,"MultiKey",{enumerable:!0,get:function(){return G.MultiKey}});const W=_(133840);Object.defineProperty(S,"ScriptExpressions",{enumerable:!0,get:function(){return W.ScriptExpressions}});const $=_(191895);Object.defineProperty(S,"PathComponent",{enumerable:!0,get:function(){return $.PathComponent}});const X=_(668889),Y=_(524062),J=_(371389);var Z=_(371389);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return Z.DataItem}});const Q=_(97952),tt=_(804765);Object.defineProperty(S,"CryptoMultiAccounts",{enumerable:!0,get:function(){return tt.CryptoMultiAccounts}});const et={URRegistryDecoder:V.URRegistryDecoder,Bytes:F.Bytes,CryptoAccount:U.CryptoAccount,CryptoHDKey:D.CryptoHDKey,CryptoMultiAccounts:tt.CryptoMultiAccounts,CryptoKeypath:R.CryptoKeypath,CryptoCoinInfo:M.CryptoCoinInfo,CryptoCoinInfoType:M.Type,CryptoCoinInfoNetwork:M.Network,CryptoECKey:O.CryptoECKey,CryptoOutput:N.CryptoOutput,CryptoPSBT:L.CryptoPSBT,MultiKey:G.MultiKey,ScriptExpressions:W.ScriptExpressions,PathComponent:$.PathComponent},rt={addReader:J.addReader,addSemanticDecode:J.addSemanticDecode,addSemanticEncode:J.addSemanticEncode,addWriter:J.addWriter,patchTags:Q.patchTags},nt={RegistryTypes:Y.RegistryTypes,RegistryItem:X.RegistryItem,RegistryType:Y.RegistryType,decodeToDataItem:J.decodeToDataItem,encodeDataItem:J.encodeDataItem,cbor:rt};S.extend=nt,E.__exportStar(_(395081),S),E.__exportStar(_(72706),S),E.__exportStar(_(371389),S),E.__exportStar(_(178641),S),E.__exportStar(_(516703),S),E.__exportStar(_(760369),S),E.__exportStar(_(804765),S),E.__exportStar(_(786420),S),E.__exportStar(_(646357),S),E.__exportStar(_(125113),S),E.__exportStar(_(201201),S),E.__exportStar(_(899005),S),E.__exportStar(_(675633),S),E.__exportStar(_(261346),S),E.__exportStar(_(356707),S),E.__exportStar(_(191895),S),E.__exportStar(_(668889),S),E.__exportStar(_(524062),S),E.__exportStar(_(617452),S),E.__exportStar(_(97952),S),S.default=et},868670:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=void 0;S.DataItem=class DataItem{constructor(v,S){this.setTag=v=>{this.tag=v},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=v,this.tag=S}}},196465:function(v,S,_){"use strict";var E,P,D,R=_(901048).Buffer;P=[],void 0===(D="function"==typeof(E=function(){const{DataItem:v}=_(868670);var S=function(){function BinaryHex(v){this.$hex=v}BinaryHex.prototype={length:function(){return this.$hex.length/2},toString:function(v){if(!v||"hex"===v||16===v)return this.$hex;if("utf-8"===v){for(var S="",_=0;_<this.$hex.length;_+=2)S+="%"+this.$hex.substring(_,_+2);return decodeURIComponent(S)}if("latin"===v){for(S=[],_=0;_<this.$hex.length;_+=2)S.push(parseInt(this.$hex.substring(_,_+2),16));return String.fromCharCode.apply(String,S)}throw new Error("Unrecognised format: "+v)}},BinaryHex.fromLatinString=function(v){for(var S="",_=0;_<v.length;_++){var E=v.charCodeAt(_).toString(16);1===E.length&&(E="0"+E),S+=E}return new BinaryHex(S)},BinaryHex.fromUtf8String=function(v){for(var S=encodeURIComponent(v),_="",E=0;E<S.length;E++)if("%"===S.charAt(E))_+=S.substring(E+1,E+3),E+=2;else{var P=S.charCodeAt(E).toString(16);P.length<2&&(P="0"+P),_+=P}return new BinaryHex(_)};var S=[],_={},notImplemented=function(v){return function(){throw new Error(v+" not implemented")}};function Reader(){}function Writer(){}function readHeaderRaw(v){var S=v.readByte();return{type:S>>5,value:31&S}}function valueFromHeader(v,S){var _=v.value;return _<24?_:24==_?S.readByte():25==_?S.readUint16():26==_?S.readUint32():27==_?S.readUint64():31==_?null:void notImplemented("Additional info: "+_)()}function writeHeaderRaw(v,S,_){_.writeByte(v<<5|S)}function writeHeader(v,S,_){var E=v<<5;S<24?_.writeByte(E|S):S<256?(_.writeByte(24|E),_.writeByte(S)):S<65536?(_.writeByte(25|E),_.writeUint16(S)):S<4294967296?(_.writeByte(26|E),_.writeUint32(S)):(_.writeByte(27|E),_.writeUint64(S))}Reader.prototype={peekByte:notImplemented("peekByte"),readByte:notImplemented("readByte"),readChunk:notImplemented("readChunk"),readFloat16:function(){var v=this.readUint16(),S=(32767&v)>>10,_=1023&v,E=32768&v;if(31===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-25)*(1024+_):Math.pow(2,-24)*_;return E?-P:P},readFloat32:function(){var v=this.readUint32(),S=(2147483647&v)>>23,_=8388607&v,E=2147483648&v;if(255===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-23-127)*(8388608+_):Math.pow(2,-149)*_;return E?-P:P},readFloat64:function(){var v=this.readUint32(),S=v>>20&2047,_=4294967296*(1048575&v)+this.readUint32(),E=2147483648&v;if(2047===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-52-1023)*(4503599627370496+_):Math.pow(2,-1074)*_;return E?-P:P},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},Writer.prototype={writeByte:notImplemented("writeByte"),result:notImplemented("result"),writeFloat16:notImplemented("writeFloat16"),writeFloat32:notImplemented("writeFloat32"),writeFloat64:notImplemented("writeFloat64"),writeUint16:function(v){this.writeByte(v>>8&255),this.writeByte(255&v)},writeUint32:function(v){this.writeUint16(v>>16&65535),this.writeUint16(65535&v)},writeUint64:function(v){if(v>=9007199254740992||v<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+v+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(v/4294967296)),this.writeUint32(v%4294967296)},writeString:notImplemented("writeString"),canWriteBinary:function(v){return!1},writeBinary:notImplemented("writeChunk")};var E=new Error;function decodeReader(v){var S=readHeaderRaw(v);switch(S.type){case 0:return valueFromHeader(S,v);case 1:return-1-valueFromHeader(S,v);case 2:return v.readChunk(valueFromHeader(S,v));case 3:return v.readChunk(valueFromHeader(S,v)).toString("utf-8");case 4:case 5:var P=valueFromHeader(S,v),D=[];if(null!==P){5===S.type&&(P*=2);for(var R=0;R<P;R++)D[R]=decodeReader(v)}else for(var M;(M=decodeReader(v))!==E;)D.push(M);if(5===S.type){var O={};for(R=0;R<D.length;R+=2)O[D[R]]=D[R+1];return O}return D;case 6:var F=valueFromHeader(S,v),N=_[F];return D=decodeReader(v),N?N(D):D;case 7:if(25===S.value)return v.readFloat16();if(26===S.value)return v.readFloat32();if(27===S.value)return v.readFloat64();switch(valueFromHeader(S,v)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return E;default:throw new Error("Unknown fixed value: "+S.value)}default:throw new Error("Unsupported header: "+JSON.stringify(S))}throw new Error("not implemented yet")}function encodeWriter(v,_){for(var E=0;E<S.length;E++){var P=S[E].fn(v);if(void 0!==P)return writeHeader(6,S[E].tag,_),encodeWriter(P,_)}if(v&&"function"==typeof v.toCBOR&&(v=v.toCBOR()),!1===v)writeHeader(7,20,_);else if(!0===v)writeHeader(7,21,_);else if(null===v)writeHeader(7,22,_);else if(void 0===v)writeHeader(7,23,_);else if("number"==typeof v)Math.floor(v)===v&&v<9007199254740992&&v>-9007199254740992?v<0?writeHeader(1,-1-v,_):writeHeader(0,v,_):(writeHeaderRaw(7,27,_),_.writeFloat64(v));else if("string"==typeof v)_.writeString(v,(function(v){writeHeader(3,v,_)}));else if(_.canWriteBinary(v))_.writeBinary(v,(function(v){writeHeader(2,v,_)}));else{if("object"!=typeof v)throw new Error("CBOR encoding not supported: "+v);if(M.config.useToJSON&&"function"==typeof v.toJSON&&(v=v.toJSON()),Array.isArray(v))for(writeHeader(4,v.length,_),E=0;E<v.length;E++)encodeWriter(v[E],_);else{var D=Object.keys(v);for(writeHeader(5,D.length,_),E=0;E<D.length;E++){const S=parseInt(D[E]);isNaN(S)?(encodeWriter(D[E],_),encodeWriter(v[D[E]],_)):(encodeWriter(S,_),encodeWriter(v[D[E]],_))}}}}var P=[],D=[],M={config:{useToJSON:!0},addWriter:function(v,S){"string"==typeof v?D.push((function(_){if(v===_)return S(_)})):D.push(v)},addReader:function(v,S){"string"==typeof v?P.push((function(_,E){if(v===E)return S(_,E)})):P.push(v)},encode:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return encodeWriter(v,E),E.result()}throw new Error("Unsupported output format: "+S)},encodeDataItem:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return void 0!==v.getTag()?(encodeWriter(v,E),E.result()):(encodeWriter(v.getData(),E),E.result())}throw new Error("Unsupported output format: "+S)},decode:function(v,S){for(var _=0;_<P.length;_++){var E=(0,P[_])(v,S);if(E)return decodeReader(E)}throw new Error("Unsupported input format: "+S)},decodeToDataItem:function(S,_){for(var E=0;E<P.length;E++){var D=(0,P[E])(S,_);if(D){const S=decodeReader(D);return S instanceof v?S:new v(S)}}throw new Error("Unsupported input format: "+_)},addSemanticEncode:function(v,_){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return S.push({tag:v,fn:_}),this},addSemanticDecode:function(v,S){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return _[v]=S,this}};function BufferReader(v){this.buffer=v,this.pos=0}function BufferWriter(v){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=v}function HexReader(v){this.hex=v,this.pos=0}function HexWriter(v){this.$hex="",this.finalFormat=v||"hex"}return BufferReader.prototype=Object.create(Reader.prototype),BufferReader.prototype.peekByte=function(){return this.buffer[this.pos]},BufferReader.prototype.readByte=function(){return this.buffer[this.pos++]},BufferReader.prototype.readUint16=function(){var v=this.buffer.readUInt16BE(this.pos);return this.pos+=2,v},BufferReader.prototype.readUint32=function(){var v=this.buffer.readUInt32BE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat32=function(){var v=this.buffer.readFloatBE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat64=function(){var v=this.buffer.readDoubleBE(this.pos);return this.pos+=8,v},BufferReader.prototype.readChunk=function(v){var S=R.alloc(v);return this.buffer.copy(S,0,this.pos,this.pos+=v),S},BufferWriter.prototype=Object.create(Writer.prototype),BufferWriter.prototype.writeByte=function(v){this.latestBuffer[this.latestBufferOffset++]=v,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},BufferWriter.prototype.writeFloat32=function(v){var S=R.alloc(4);S.writeFloatBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeFloat64=function(v){var S=R.alloc(8);S.writeDoubleBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeString=function(v,S){var _=R.from(v,"utf-8");S(_.length),this.writeBuffer(_)},BufferWriter.prototype.canWriteBinary=function(v){return v instanceof R},BufferWriter.prototype.writeBinary=function(v,S){S(v.length),this.writeBuffer(v)},BufferWriter.prototype.writeBuffer=function(v){if(!(v instanceof R))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=v.length?(v.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=v.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(v),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(v),this.byteLength+=v.length},BufferWriter.prototype.result=function(){for(var v=R.alloc(this.byteLength),S=0,_=0;_<this.completeBuffers.length;_++){var E=this.completeBuffers[_];E.copy(v,S,0,E.length),S+=E.length}return this.latestBufferOffset&&this.latestBuffer.copy(v,S,0,this.latestBufferOffset),this.stringFormat?v.toString(this.stringFormat):v},"function"==typeof R&&(M.addReader((function(v,S){return R.isBuffer(v)?new BufferReader(v):"hex"===S||"base64"===S?new BufferReader(R.from(v,S)):void 0})),M.addWriter((function(v){return v&&"buffer"!==v?"hex"===v||"base64"===v?new BufferWriter(v):void 0:new BufferWriter}))),HexReader.prototype=Object.create(Reader.prototype),HexReader.prototype.peekByte=function(){var v=this.hex.substring(this.pos,2);return parseInt(v,16)},HexReader.prototype.readByte=function(){var v=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(v,16)},HexReader.prototype.readChunk=function(v){var S=this.hex.substring(this.pos,this.pos+2*v);return this.pos+=2*v,"function"==typeof R?R.from(S,"hex"):new BinaryHex(S)},HexWriter.prototype=Object.create(Writer.prototype),HexWriter.prototype.writeByte=function(v){if(v<0||v>255)throw new Error("Byte value out of range: "+v);var S=v.toString(16);1==S.length&&(S="0"+S),this.$hex+=S},HexWriter.prototype.canWriteBinary=function(v){return v instanceof BinaryHex||"function"==typeof R&&v instanceof R},HexWriter.prototype.writeBinary=function(v,S){if(v instanceof BinaryHex)S(v.length()),this.$hex+=v.$hex;else{if(!("function"==typeof R&&v instanceof R))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");S(v.length),this.$hex+=v.toString("hex")}},HexWriter.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof R?R.from(this.$hex,"hex"):new BinaryHex(this.$hex).toString(this.finalFormat)},HexWriter.prototype.writeString=function(v,S){var _=BinaryHex.fromUtf8String(v);S(_.length()),this.$hex+=_.$hex},M.addReader((function(v,S){return v instanceof BinaryHex||v.$hex?new HexReader(v.$hex):"hex"===S?new HexReader(v):void 0})),M.addWriter((function(v){if("hex"===v)return new HexWriter})),M}();return S.addSemanticEncode(0,(function(v){if(v instanceof Date)return v.toISOString()})).addSemanticDecode(0,(function(v){return new Date(v)})).addSemanticDecode(1,(function(v){return new Date(v)})),S})?E.apply(S,P):E)||(v.exports=D)},371389:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=S.addWriter=S.addReader=S.addSemanticEncode=S.addSemanticDecode=S.decodeToDataItem=S.encodeDataItem=void 0;var E=_(196465);Object.defineProperty(S,"encodeDataItem",{enumerable:!0,get:function(){return E.encodeDataItem}}),Object.defineProperty(S,"decodeToDataItem",{enumerable:!0,get:function(){return E.decodeToDataItem}}),Object.defineProperty(S,"addSemanticDecode",{enumerable:!0,get:function(){return E.addSemanticDecode}}),Object.defineProperty(S,"addSemanticEncode",{enumerable:!0,get:function(){return E.addSemanticEncode}}),Object.defineProperty(S,"addReader",{enumerable:!0,get:function(){return E.addReader}}),Object.defineProperty(S,"addWriter",{enumerable:!0,get:function(){return E.addWriter}});var P=_(868670);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return P.DataItem}})},356707:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});const E=_(97952),P=_(524062),D=_(133840),R=Object.values(P.RegistryTypes).filter((v=>!!v.getTag())).map((v=>v.getTag())),M=Object.values(D.ScriptExpressions).map((v=>v.getTag()));E.patchTags(R.concat(M))},617452:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0})},97952:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.patchTags=void 0;const E=_(371389),P=[];S.patchTags=v=>{v.forEach((v=>{P.find((S=>S===v))||(E.addSemanticEncode(v,(S=>{if(S instanceof E.DataItem&&S.getTag()===v)return S.getData()})),E.addSemanticDecode(v,(S=>new E.DataItem(S,v))),P.push(v))}))}},527218:(v,S,_)=>{"use strict";var E=_(939216),P=_(825636).Buffer;v.exports=function(v){function decodeRaw(S){var _=S.slice(0,-4),E=S.slice(-4),P=v(_);if(!(E[0]^P[0]|E[1]^P[1]|E[2]^P[2]|E[3]^P[3]))return _}return{encode:function encode(S){var _=v(S);return E.encode(P.concat([S,_],S.length+4))},decode:function decode(v){var S=decodeRaw(E.decode(v));if(!S)throw new Error("Invalid checksum");return S},decodeUnsafe:function decodeUnsafe(v){var S=E.decodeUnsafe(v);if(S)return decodeRaw(S)}}}},876399:(v,S,_)=>{"use strict";var E=_(213257),P=_(527218);v.exports=P((function sha256x2(v){var S=E("sha256").update(v).digest();return E("sha256").update(S).digest()}))},951065:(v,S,_)=>{"use strict";var E;_.r(S),_.d(S,{NIL:()=>Q,parse:()=>W,stringify:()=>F,v1:()=>G,v3:()=>X,v4:()=>Y,v5:()=>Z,validate:()=>R,version:()=>tt});var P=new Uint8Array(16);function rng(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(P)}const D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const R=function validate(v){return"string"==typeof v&&D.test(v)};for(var M=[],O=0;O<256;++O)M.push((O+256).toString(16).substr(1));const F=function stringify(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=(M[v[S+0]]+M[v[S+1]]+M[v[S+2]]+M[v[S+3]]+"-"+M[v[S+4]]+M[v[S+5]]+"-"+M[v[S+6]]+M[v[S+7]]+"-"+M[v[S+8]]+M[v[S+9]]+"-"+M[v[S+10]]+M[v[S+11]]+M[v[S+12]]+M[v[S+13]]+M[v[S+14]]+M[v[S+15]]).toLowerCase();if(!R(_))throw TypeError("Stringified UUID is invalid");return _};var N,L,U=0,V=0;const G=function v1(v,S,_){var E=S&&_||0,P=S||new Array(16),D=(v=v||{}).node||N,R=void 0!==v.clockseq?v.clockseq:L;if(null==D||null==R){var M=v.random||(v.rng||rng)();null==D&&(D=N=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),null==R&&(R=L=16383&(M[6]<<8|M[7]))}var O=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:V+1,W=O-U+(G-V)/1e4;if(W<0&&void 0===v.clockseq&&(R=R+1&16383),(W<0||O>U)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=O,V=G,L=R;var $=(1e4*(268435455&(O+=122192928e5))+G)%4294967296;P[E++]=$>>>24&255,P[E++]=$>>>16&255,P[E++]=$>>>8&255,P[E++]=255&$;var X=O/4294967296*1e4&268435455;P[E++]=X>>>8&255,P[E++]=255&X,P[E++]=X>>>24&15|16,P[E++]=X>>>16&255,P[E++]=R>>>8|128,P[E++]=255&R;for(var Y=0;Y<6;++Y)P[E+Y]=D[Y];return S||F(P)};const W=function parse(v){if(!R(v))throw TypeError("Invalid UUID");var S,_=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};function v35(v,S,_){function generateUUID(v,E,P,D){if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));for(var S=[],_=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof E&&(E=W(E)),16!==E.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var R=new Uint8Array(16+v.length);if(R.set(E),R.set(v,E.length),(R=_(R))[6]=15&R[6]|S,R[8]=63&R[8]|128,P){D=D||0;for(var M=0;M<16;++M)P[D+M]=R[M];return P}return F(R)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){var _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}const $=function md5(v){if("string"==typeof v){var S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(var _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){for(var S=[],_=32*v.length,E="0123456789abcdef",P=0;P<_;P+=8){var D=v[P>>5]>>>P%32&255,R=parseInt(E.charAt(D>>>4&15)+E.charAt(15&D),16);S.push(R)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;for(var _=1732584193,E=-271733879,P=-1732584194,D=271733878,R=0;R<v.length;R+=16){var M=_,O=E,F=P,N=D;_=md5ff(_,E,P,D,v[R],7,-680876936),D=md5ff(D,_,E,P,v[R+1],12,-389564586),P=md5ff(P,D,_,E,v[R+2],17,606105819),E=md5ff(E,P,D,_,v[R+3],22,-1044525330),_=md5ff(_,E,P,D,v[R+4],7,-176418897),D=md5ff(D,_,E,P,v[R+5],12,1200080426),P=md5ff(P,D,_,E,v[R+6],17,-1473231341),E=md5ff(E,P,D,_,v[R+7],22,-45705983),_=md5ff(_,E,P,D,v[R+8],7,1770035416),D=md5ff(D,_,E,P,v[R+9],12,-1958414417),P=md5ff(P,D,_,E,v[R+10],17,-42063),E=md5ff(E,P,D,_,v[R+11],22,-1990404162),_=md5ff(_,E,P,D,v[R+12],7,1804603682),D=md5ff(D,_,E,P,v[R+13],12,-40341101),P=md5ff(P,D,_,E,v[R+14],17,-1502002290),_=md5gg(_,E=md5ff(E,P,D,_,v[R+15],22,1236535329),P,D,v[R+1],5,-165796510),D=md5gg(D,_,E,P,v[R+6],9,-1069501632),P=md5gg(P,D,_,E,v[R+11],14,643717713),E=md5gg(E,P,D,_,v[R],20,-373897302),_=md5gg(_,E,P,D,v[R+5],5,-701558691),D=md5gg(D,_,E,P,v[R+10],9,38016083),P=md5gg(P,D,_,E,v[R+15],14,-660478335),E=md5gg(E,P,D,_,v[R+4],20,-405537848),_=md5gg(_,E,P,D,v[R+9],5,568446438),D=md5gg(D,_,E,P,v[R+14],9,-1019803690),P=md5gg(P,D,_,E,v[R+3],14,-187363961),E=md5gg(E,P,D,_,v[R+8],20,1163531501),_=md5gg(_,E,P,D,v[R+13],5,-1444681467),D=md5gg(D,_,E,P,v[R+2],9,-51403784),P=md5gg(P,D,_,E,v[R+7],14,1735328473),_=md5hh(_,E=md5gg(E,P,D,_,v[R+12],20,-1926607734),P,D,v[R+5],4,-378558),D=md5hh(D,_,E,P,v[R+8],11,-2022574463),P=md5hh(P,D,_,E,v[R+11],16,1839030562),E=md5hh(E,P,D,_,v[R+14],23,-35309556),_=md5hh(_,E,P,D,v[R+1],4,-1530992060),D=md5hh(D,_,E,P,v[R+4],11,1272893353),P=md5hh(P,D,_,E,v[R+7],16,-155497632),E=md5hh(E,P,D,_,v[R+10],23,-1094730640),_=md5hh(_,E,P,D,v[R+13],4,681279174),D=md5hh(D,_,E,P,v[R],11,-358537222),P=md5hh(P,D,_,E,v[R+3],16,-722521979),E=md5hh(E,P,D,_,v[R+6],23,76029189),_=md5hh(_,E,P,D,v[R+9],4,-640364487),D=md5hh(D,_,E,P,v[R+12],11,-421815835),P=md5hh(P,D,_,E,v[R+15],16,530742520),_=md5ii(_,E=md5hh(E,P,D,_,v[R+2],23,-995338651),P,D,v[R],6,-198630844),D=md5ii(D,_,E,P,v[R+7],10,1126891415),P=md5ii(P,D,_,E,v[R+14],15,-1416354905),E=md5ii(E,P,D,_,v[R+5],21,-57434055),_=md5ii(_,E,P,D,v[R+12],6,1700485571),D=md5ii(D,_,E,P,v[R+3],10,-1894986606),P=md5ii(P,D,_,E,v[R+10],15,-1051523),E=md5ii(E,P,D,_,v[R+1],21,-2054922799),_=md5ii(_,E,P,D,v[R+8],6,1873313359),D=md5ii(D,_,E,P,v[R+15],10,-30611744),P=md5ii(P,D,_,E,v[R+6],15,-1560198380),E=md5ii(E,P,D,_,v[R+13],21,1309151649),_=md5ii(_,E,P,D,v[R+4],6,-145523070),D=md5ii(D,_,E,P,v[R+11],10,-1120210379),P=md5ii(P,D,_,E,v[R+2],15,718787259),E=md5ii(E,P,D,_,v[R+9],21,-343485551),_=safeAdd(_,M),E=safeAdd(E,O),P=safeAdd(P,F),D=safeAdd(D,N)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];for(var S=8*v.length,_=new Uint32Array(getOutputLength(S)),E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};const X=v35("v3",48,$);const Y=function v4(v,S,_){var E=(v=v||{}).random||(v.rng||rng)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,S){_=_||0;for(var P=0;P<16;++P)S[_+P]=E[P];return S}return F(E)};function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}const J=function sha1(v){var S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){var E=unescape(encodeURIComponent(v));v=[];for(var P=0;P<E.length;++P)v.push(E.charCodeAt(P))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);for(var D=v.length/4+2,R=Math.ceil(D/16),M=new Array(R),O=0;O<R;++O){for(var F=new Uint32Array(16),N=0;N<16;++N)F[N]=v[64*O+4*N]<<24|v[64*O+4*N+1]<<16|v[64*O+4*N+2]<<8|v[64*O+4*N+3];M[O]=F}M[R-1][14]=8*(v.length-1)/Math.pow(2,32),M[R-1][14]=Math.floor(M[R-1][14]),M[R-1][15]=8*(v.length-1)&4294967295;for(var L=0;L<R;++L){for(var U=new Uint32Array(80),V=0;V<16;++V)U[V]=M[L][V];for(var G=16;G<80;++G)U[G]=ROTL(U[G-3]^U[G-8]^U[G-14]^U[G-16],1);for(var W=_[0],$=_[1],X=_[2],Y=_[3],J=_[4],Z=0;Z<80;++Z){var Q=Math.floor(Z/20),tt=ROTL(W,5)+f(Q,$,X,Y)+J+S[Q]+U[Z]>>>0;J=Y,Y=X,X=ROTL($,30)>>>0,$=W,W=tt}_[0]=_[0]+W>>>0,_[1]=_[1]+$>>>0,_[2]=_[2]+X>>>0,_[3]=_[3]+Y>>>0,_[4]=_[4]+J>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};const Z=v35("v5",80,J),Q="00000000-0000-0000-0000-000000000000";const tt=function version(v){if(!R(v))throw TypeError("Invalid UUID");return parseInt(v.substr(14,1),16)}},313136:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P=_(568098),D=_(324740);const R={CARDANO_UTXO:new P.RegistryType("cardano-utxo",2201),CARDANO_SIGN_REQUEST:new P.RegistryType("cardano-sign-request",2202),CARDANO_SIGNATURE:new P.RegistryType("cardano-signature",2203),CARDANO_CERT_KEY:new P.RegistryType("cardano-cert-key",2204)},{decodeToDataItem:M}=P.extend;var O;!function(v){v[v.transactionHash=1]="transactionHash",v[v.index=2]="index",v[v.amount=3]="amount",v[v.keyPath=4]="keyPath",v[v.address=5]="address"}(O||(O={}));class n extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.CARDANO_UTXO,this.getTransactionHash=()=>this.transactionHash,this.getIndex=()=>this.index,this.getKeyPath=()=>this.keyPath.getPath(),this.getAmount=()=>this.amount,this.getAddress=()=>this.address,this.toDataItem=()=>{const v={};this.transactionHash&&(v[O.transactionHash]=this.transactionHash),v[O.index]=this.index,v[O.amount]=this.amount;const S=this.keyPath.toDataItem();return S.setTag(this.keyPath.getRegistryType().getTag()),v[O.keyPath]=S,v[O.address]=this.address,new P.DataItem(v)},this.transactionHash=v.transactionHash,this.index=v.index,this.amount=v.amount,this.keyPath=v.keyPath,this.address=v.address}static constructCardanoUtxo({transactionHash:v,index:S,amount:_,xfp:D,hdPath:R,address:M}){const O=R.replace(/[m|M]\//,"").split("/"),F=new P.CryptoKeypath(O.map((v=>{const S=parseInt(v.replace("'","")),_=v.endsWith("'");return new P.PathComponent({index:S,hardened:_})})),E.from(D,"hex"));return new n({transactionHash:E.from(v,"hex"),index:S,amount:_,keyPath:F,address:M})}}n.fromDataItem=v=>{const S=v.getData(),_=S[O.transactionHash],E=S[O.index],D=P.CryptoKeypath.fromDataItem(S[O.keyPath]);return new n({transactionHash:_,index:E,amount:S[O.amount],keyPath:D,address:S[O.address]})},n.fromCBOR=v=>{const S=M(v);return n.fromDataItem(S)};const{decodeToDataItem:F}=P.extend;var N;!function(v){v[v.keyHash=1]="keyHash",v[v.keyPath=2]="keyPath"}(N||(N={}));class h extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.CARDANO_CERT_KEY,this.getKeyHash=()=>this.keyHash,this.getKeyPath=()=>this.keyPath.getPath(),this.toDataItem=()=>{const v={};v[N.keyHash]=this.keyHash;const S=this.keyPath.toDataItem();return S.setTag(this.keyPath.getRegistryType().getTag()),v[N.keyPath]=S,new P.DataItem(v)},this.keyHash=v.keyHash,this.keyPath=v.keyPath}static constructCardanoCertKey({keyHash:v,xfp:S,keyPath:_}){const D=_.replace(/[m|M]\//,"").split("/"),R=new P.CryptoKeypath(D.map((v=>{const S=parseInt(v.replace("'","")),_=v.endsWith("'");return new P.PathComponent({index:S,hardened:_})})),E.from(S,"hex"));return new h({keyHash:E.from(v,"hex"),keyPath:R})}}h.fromDataItem=v=>{const S=v.getData(),_=S[N.keyHash],E=P.CryptoKeypath.fromDataItem(S[N.keyPath]);return new h({keyHash:_,keyPath:E})},h.fromCBOR=v=>{const S=F(v);return h.fromDataItem(S)};const{decodeToDataItem:L,RegistryTypes:U}=P.extend;var V;!function(v){v[v.requestId=1]="requestId",v[v.signData=2]="signData",v[v.utxos=3]="utxos",v[v.extraSigners=4]="extraSigners",v[v.origin=5]="origin"}(V||(V={}));class c extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.CARDANO_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getUtxos=()=>this.utxos,this.getAdditionalSigners=()=>this.extraSigners,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return this.requestId&&(v[V.requestId]=new P.DataItem(this.requestId,U.UUID.getTag())),v[V.signData]=this.signData,v[V.utxos]=this.utxos.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),v[V.extraSigners]=this.extraSigners.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),this.origin&&(v[V.origin]=this.origin),new P.DataItem(v)},this.requestId=v.requestId,this.signData=v.signData,this.utxos=v.utxos,this.extraSigners=v.extraSigners,this.origin=v.origin}static constructCardanoSignRequest(v,S,_,P,R){const M=S.map((v=>n.constructCardanoUtxo(v))),O=_.map((v=>h.constructCardanoCertKey(v)));return new c({requestId:P?E.from(D.parse(P)):void 0,signData:v,utxos:M,extraSigners:O,origin:R||void 0})}}c.fromDataItem=v=>{const S=v.getData(),_=S[V.signData],E=S[V.utxos].map((v=>n.fromDataItem(v))),P=S[V.extraSigners].map((v=>h.fromDataItem(v))),D=S[V.requestId]?S[V.requestId].getData():void 0;return new c({requestId:D,signData:_,utxos:E,extraSigners:P,origin:S[V.origin]?S[V.origin]:void 0})},c.fromCBOR=v=>{const S=L(v);return c.fromDataItem(S)};const{RegistryTypes:G,decodeToDataItem:W}=P.extend;var $;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature"}($||($={}));class x extends P.RegistryItem{constructor(v,S){super(),this.getRegistryType=()=>R.CARDANO_SIGNATURE,this.getRequestId=()=>this.requestId,this.getWitnessSet=()=>this.witnessSet,this.toDataItem=()=>{const v={};return this.requestId&&(v[$.requestId]=new P.DataItem(this.requestId,G.UUID.getTag())),v[$.signature]=this.witnessSet,new P.DataItem(v)},this.witnessSet=v,this.requestId=S}}x.fromDataItem=v=>{const S=v.getData(),_=S[$.signature],E=S[$.requestId]?S[$.requestId].getData():void 0;return new x(_,E)},x.fromCBOR=v=>{const S=W(v);return x.fromDataItem(S)},P.patchTags(Object.values(R).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(P).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return P[v]}})})),S.CardanoCertKey=h,S.CardanoSignRequest=c,S.CardanoSignature=x},480727:(v,S,_)=>{"use strict";v.exports=_(313136)},207273:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Bytes=void 0;const E=_(61974),P=_(581440),D=_(605019);class Bytes extends P.RegistryItem{constructor(v){super(),this.bytes=v,this.getRegistryType=()=>D.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new E.DataItem(this.bytes)}}S.Bytes=Bytes,Bytes.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new Bytes(S)},Bytes.fromCBOR=v=>{const S=E.decodeToDataItem(v);return Bytes.fromDataItem(S)}},598166:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoAccount=void 0;const P=_(568098),D=_(61974),R=_(581440),M=_(605019);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.outputDescriptors=2]="outputDescriptors"}(O||(O={}));class CryptoAccount extends R.RegistryItem{constructor(v,S){super(),this.masterFingerprint=v,this.outputDescriptors=S,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(v[O.outputDescriptors]=this.outputDescriptors.map((v=>v.toDataItem()))),new D.DataItem(v)}}}S.CryptoAccount=CryptoAccount,CryptoAccount.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),D=S[O.masterFingerprint];D&&_.writeUInt32BE(D,0);const R=S[O.outputDescriptors].map((v=>P.CryptoOutput.fromDataItem(v)));return new CryptoAccount(_,R)},CryptoAccount.fromCBOR=v=>{const S=D.decodeToDataItem(v);return CryptoAccount.fromDataItem(S)}},136868:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoCoinInfo=S.Network=S.Type=void 0;const E=_(61974),P=_(581440),D=_(605019);var R,M,O;!function(v){v.type="1",v.network="2"}(R||(R={})),function(v){v[v.bitcoin=0]="bitcoin"}(M=S.Type||(S.Type={})),function(v){v[v.mainnet=0]="mainnet",v[v.testnet=1]="testnet"}(O=S.Network||(S.Network={}));class CryptoCoinInfo extends P.RegistryItem{constructor(v,S){super(),this.type=v,this.network=S,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||M.bitcoin,this.getNetwork=()=>this.network||O.mainnet,this.toDataItem=()=>{const v={};return this.type&&(v[R.type]=this.type),this.network&&(v[R.network]=this.network),new E.DataItem(v)}}}S.CryptoCoinInfo=CryptoCoinInfo,CryptoCoinInfo.fromDataItem=v=>{const S=v.getData(),_=S[R.type],E=S[R.network];return new CryptoCoinInfo(_,E)},CryptoCoinInfo.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoCoinInfo.fromDataItem(S)}},330010:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoECKey=void 0;const E=_(61974),P=_(581440),D=_(605019);var R;!function(v){v[v.curve=1]="curve",v[v.private=2]="private",v[v.data=3]="data"}(R||(R={}));class CryptoECKey extends P.RegistryItem{constructor(v){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const v={};return this.curve&&(v[R.curve]=this.curve),void 0!==this.privateKey&&(v[R.private]=this.privateKey),v[R.data]=this.data,new E.DataItem(v)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=v.data,this.curve=v.curve,this.privateKey=v.privateKey||void 0}}S.CryptoECKey=CryptoECKey,CryptoECKey.fromDataItem=v=>{const S=v.getData(),_=S[R.curve],E=S[R.private],P=S[R.data];if(!P)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${v}`);return new CryptoECKey({data:P,curve:_,privateKey:E})},CryptoECKey.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoECKey.fromDataItem(S)}},952302:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoHDKey=void 0;const P=_(649832),D=_(136868),R=_(586333),M=_(61974),O=_(581440),F=_(605019);var N;!function(v){v[v.is_master=1]="is_master",v[v.is_private=2]="is_private",v[v.key_data=3]="key_data",v[v.chain_code=4]="chain_code",v[v.use_info=5]="use_info",v[v.origin=6]="origin",v[v.children=7]="children",v[v.parent_fingerprint=8]="parent_fingerprint",v[v.name=9]="name",v[v.note=10]="note"}(N||(N={}));class CryptoHDKey extends O.RegistryItem{constructor(v){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var v,S,_;let D,R,M=0,O=E.alloc(4).fill(0);if(this.isMaster())D=E.from("0488ADE4","hex"),R=0,M=0;else{R=(null===(v=this.getOrigin())||void 0===v?void 0:v.getComponents().length)||(null===(S=this.getOrigin())||void 0===S?void 0:S.getDepth());const P=null===(_=this.getOrigin())||void 0===_?void 0:_.getComponents(),F=P[P.length-1];F&&(M=F.isHardened()?F.getIndex()+2147483648:F.getIndex(),this.getParentFingerprint()&&(O=this.getParentFingerprint())),D=this.isPrivateKey()?E.from("0488ADE4","hex"):E.from("0488B21E","hex")}const F=E.alloc(1);F.writeUInt8(R,0);const N=E.alloc(4);N.writeUInt32BE(M,0);const L=this.getChainCode(),U=this.getKey();return P.encode(E.concat([D,F,O,N,L,U]))},this.getRegistryType=()=>F.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var v,S,_,E,P,D,R;let M="";return this.getOrigin()&&(null===(v=this.getOrigin())||void 0===v?void 0:v.getSourceFingerprint())&&(null===(S=this.getOrigin())||void 0===S?void 0:S.getPath())&&(M+=`${null===(E=null===(_=this.getOrigin())||void 0===_?void 0:_.getSourceFingerprint())||void 0===E?void 0:E.toString("hex")}/${null===(P=this.getOrigin())||void 0===P?void 0:P.getPath()}`),M+=this.getBip32Key(),this.getChildren()&&(null===(D=this.getChildren())||void 0===D?void 0:D.getPath())&&(M+=`/${null===(R=this.getChildren())||void 0===R?void 0:R.getPath()}`),M},this.setupMasterKey=v=>{this.master=!0,this.key=v.key,this.chainCode=v.chainCode},this.setupDeriveKey=v=>{this.master=!1,this.privateKey=v.isPrivateKey,this.key=v.key,this.chainCode=v.chainCode,this.useInfo=v.useInfo,this.origin=v.origin,this.children=v.children,this.parentFingerprint=v.parentFingerprint,this.name=v.name,this.note=v.note},this.toDataItem=()=>{const v={};if(this.master)v[N.is_master]=!0,v[N.key_data]=this.key,v[N.chain_code]=this.chainCode;else{if(void 0!==this.privateKey&&(v[N.is_private]=this.privateKey),v[N.key_data]=this.key,this.chainCode&&(v[N.chain_code]=this.chainCode),this.useInfo){const S=this.useInfo.toDataItem();S.setTag(this.useInfo.getRegistryType().getTag()),v[N.use_info]=S}if(this.origin){const S=this.origin.toDataItem();S.setTag(this.origin.getRegistryType().getTag()),v[N.origin]=S}if(this.children){const S=this.children.toDataItem();S.setTag(this.children.getRegistryType().getTag()),v[N.children]=S}this.parentFingerprint&&(v[N.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),void 0!==this.name&&(v[N.name]=this.name),void 0!==this.note&&(v[N.note]=this.note)}return new M.DataItem(v)},v.isMaster?this.setupMasterKey(v):this.setupDeriveKey(v)}}S.CryptoHDKey=CryptoHDKey,CryptoHDKey.fromDataItem=v=>{const S=v.getData(),_=!!S[N.is_master],P=S[N.is_private],M=S[N.key_data],O=S[N.chain_code],F=S[N.use_info]?D.CryptoCoinInfo.fromDataItem(S[N.use_info]):void 0,L=S[N.origin]?R.CryptoKeypath.fromDataItem(S[N.origin]):void 0,U=S[N.children]?R.CryptoKeypath.fromDataItem(S[N.children]):void 0,V=S[N.parent_fingerprint];let G;V&&(G=E.alloc(4),G.writeUInt32BE(V,0));const W=S[N.name],$=S[N.note];return new CryptoHDKey({isMaster:_,isPrivateKey:P,key:M,chainCode:O,useInfo:F,origin:L,children:U,parentFingerprint:G,name:W,note:$})},CryptoHDKey.fromCBOR=v=>{const S=M.decodeToDataItem(v);return CryptoHDKey.fromDataItem(S)}},586333:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoKeypath=void 0;const P=_(61974),D=_(179168),R=_(581440),M=_(605019);var O;!function(v){v[v.components=1]="components",v[v.source_fingerprint=2]="source_fingerprint",v[v.depth=3]="depth"}(O||(O={}));class CryptoKeypath extends R.RegistryItem{constructor(v=[],S,_){super(),this.components=v,this.sourceFingerprint=S,this.depth=_,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return;return this.components.map((v=>`${v.isWildcard()?"*":v.getIndex()}${v.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const v={},S=[];return this.components&&this.components.forEach((v=>{v.isWildcard()?S.push([]):S.push(v.getIndex()),S.push(v.isHardened())})),v[O.components]=S,this.sourceFingerprint&&(v[O.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),void 0!==this.depth&&(v[O.depth]=this.depth),new P.DataItem(v)}}}S.CryptoKeypath=CryptoKeypath,CryptoKeypath.fromDataItem=v=>{const S=v.getData(),_=[],P=S[O.components];if(P)for(let v=0;v<P.length;v+=2){const S=P[v+1],E=P[v];"number"==typeof E?_.push(new D.PathComponent({index:E,hardened:S})):_.push(new D.PathComponent({hardened:S}))}const R=S[O.source_fingerprint];let M;R&&(M=E.alloc(4),M.writeUInt32BE(R,0));const F=S[O.depth];return new CryptoKeypath(_,M,F)},CryptoKeypath.fromCBOR=v=>{const S=P.decodeToDataItem(v);return CryptoKeypath.fromDataItem(S)}},857424:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoOutput=void 0;const E=_(330010),P=_(952302),D=_(61974),R=_(826432),M=_(581440),O=_(605019),F=_(355305);class CryptoOutput extends M.RegistryItem{constructor(v,S){super(),this.scriptExpressions=v,this.cryptoKey=S,this.getRegistryType=()=>O.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof P.CryptoHDKey?this.cryptoKey:void 0,this.getECKey=()=>this.cryptoKey instanceof E.CryptoECKey?this.cryptoKey:void 0,this.getMultiKey=()=>this.cryptoKey instanceof R.MultiKey?this.cryptoKey:void 0,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=v=>v>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[v].getExpression()}(${this._toOutputDescriptor(v+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let v=this.cryptoKey.toDataItem();(this.cryptoKey instanceof E.CryptoECKey||this.cryptoKey instanceof P.CryptoHDKey)&&v.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((S=>{const _=S.getTag();void 0===v.getTag()?v.setTag(_):v=new D.DataItem(v,_)})),v}}}S.CryptoOutput=CryptoOutput,CryptoOutput.fromDataItem=v=>{const S=[];let _=v;for(;;){let v=_.getTag();const E=F.ScriptExpression.fromTag(v);if(!E)break;if(S.push(E),!(_.getData()instanceof D.DataItem))break;_=_.getData(),v=_.getTag()}const M=S.length;if(M>0&&(S[M-1].getExpression()===F.ScriptExpressions.MULTISIG.getExpression()||S[M-1].getExpression()===F.ScriptExpressions.SORTED_MULTISIG.getExpression())){const v=R.MultiKey.fromDataItem(_);return new CryptoOutput(S,v)}if(_.getTag()===O.RegistryTypes.CRYPTO_HDKEY.getTag()){const v=P.CryptoHDKey.fromDataItem(_);return new CryptoOutput(S,v)}{const v=E.CryptoECKey.fromDataItem(_);return new CryptoOutput(S,v)}},CryptoOutput.fromCBOR=v=>{const S=D.decodeToDataItem(v);return CryptoOutput.fromDataItem(S)}},145082:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoPSBT=void 0;const E=_(61974),P=_(581440),D=_(605019);class CryptoPSBT extends P.RegistryItem{constructor(v){super(),this.psbt=v,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new E.DataItem(this.psbt)}}S.CryptoPSBT=CryptoPSBT,CryptoPSBT.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new CryptoPSBT(S)},CryptoPSBT.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoPSBT.fromDataItem(S)}},791589:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URRegistryDecoder=void 0;const E=_(653980),P=_(568098),D=_(605019),R=_(938288);class URRegistryDecoder extends E.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const v=this.resultUR();switch(v.type){case D.RegistryTypes.BYTES.getType():return P.Bytes.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_HDKEY.getType():return P.CryptoHDKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_KEYPATH.getType():return P.CryptoKeypath.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_COIN_INFO.getType():return P.CryptoCoinInfo.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ECKEY.getType():return P.CryptoECKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_OUTPUT.getType():return P.CryptoOutput.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_PSBT.getType():return P.CryptoPSBT.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ACCOUNT.getType():return P.CryptoAccount.fromCBOR(v.cbor);default:throw new R.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${v.type} is not supported now`)}}}}S.URRegistryDecoder=URRegistryDecoder},826432:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MultiKey=void 0;const E=_(330010),P=_(952302),D=_(803127),R=_(581440),M=_(605019);var O;!function(v){v[v.threshold=1]="threshold",v[v.keys=2]="keys"}(O||(O={}));class MultiKey extends R.RegistryItem{constructor(v,S){super(),this.threshold=v,this.keys=S,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const v={};v[O.threshold]=this.threshold;const S=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}));return v[O.keys]=S,new D.DataItem(v)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((v=>v.getOutputDescriptorContent())).join(",")].join(",")}}S.MultiKey=MultiKey,MultiKey.fromDataItem=v=>{const S=v.getData(),_=S[O.threshold],D=S[O.keys],R=[];return D.forEach((v=>{v.getTag()===M.RegistryTypes.CRYPTO_HDKEY.getTag()?R.push(P.CryptoHDKey.fromDataItem(v)):v.getTag()===M.RegistryTypes.CRYPTO_ECKEY.getTag()&&R.push(E.CryptoECKey.fromDataItem(v))})),new MultiKey(_,R)}},179168:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PathComponent=void 0;class PathComponent{constructor(v){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=v.index,this.hardened=v.hardened,void 0!==this.index?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&PathComponent.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}S.PathComponent=PathComponent,PathComponent.HARDENED_BIT=2147483648},581440:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryItem=void 0;const E=_(653980),P=_(61974);S.RegistryItem=class RegistryItem{constructor(){this.toCBOR=()=>{if(void 0===this.toDataItem())throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return P.encodeDataItem(this.toDataItem())},this.toUR=()=>new E.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(v,S,_)=>{const P=this.toUR();return new E.UREncoder(P,v,S,_)}}}},605019:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryTypes=S.RegistryType=void 0;class RegistryType{constructor(v,S){this.type=v,this.tag=S,this.getTag=()=>this.tag,this.getType=()=>this.type}}S.RegistryType=RegistryType,S.RegistryTypes={UUID:new RegistryType("uuid",37),BYTES:new RegistryType("bytes",void 0),CRYPTO_HDKEY:new RegistryType("crypto-hdkey",303),CRYPTO_KEYPATH:new RegistryType("crypto-keypath",304),CRYPTO_COIN_INFO:new RegistryType("crypto-coin-info",305),CRYPTO_ECKEY:new RegistryType("crypto-eckey",306),CRYPTO_OUTPUT:new RegistryType("crypto-output",308),CRYPTO_PSBT:new RegistryType("crypto-psbt",310),CRYPTO_ACCOUNT:new RegistryType("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new RegistryType("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new RegistryType("qr-hardware-call",1201),KEY_DERIVATION_CALL:new RegistryType("key-derivation-call",1301)}},355305:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ScriptExpressions=S.ScriptExpression=void 0;class ScriptExpression{constructor(v,S){this.tag=v,this.expression=S,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}S.ScriptExpression=ScriptExpression,ScriptExpression.fromTag=v=>Object.values(S.ScriptExpressions).find((S=>S.getTag()===v)),S.ScriptExpressions={SCRIPT_HASH:new ScriptExpression(400,"sh"),WITNESS_SCRIPT_HASH:new ScriptExpression(401,"wsh"),PUBLIC_KEY:new ScriptExpression(402,"pk"),PUBLIC_KEY_HASH:new ScriptExpression(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ScriptExpression(404,"wpkh"),COMBO:new ScriptExpression(405,"combo"),MULTISIG:new ScriptExpression(406,"multi"),SORTED_MULTISIG:new ScriptExpression(407,"sortedmulti"),ADDRESS:new ScriptExpression(307,"addr"),RAW_SCRIPT:new ScriptExpression(408,"raw")}},938288:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UnknownURTypeError=void 0;class UnknownURTypeError extends Error{constructor(v){super(v)}}S.UnknownURTypeError=UnknownURTypeError},504312:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoMultiAccounts=void 0;const P=_(605019),D=_(952302),R=_(581440),M=_(61974);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.keys=2]="keys",v[v.device=3]="device"}(O||(O={}));class CryptoMultiAccounts extends R.RegistryItem{constructor(v,S,_){super(),this.masterFingerprint=v,this.keys=S,this.device=_,this.getRegistryType=()=>P.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(v[O.keys]=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}))),this.device&&(v[O.device]=this.device),new M.DataItem(v)}}}S.CryptoMultiAccounts=CryptoMultiAccounts,CryptoMultiAccounts.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),P=S[O.masterFingerprint];P&&_.writeUInt32BE(P,0);const R=S[O.keys].map((v=>D.CryptoHDKey.fromDataItem(v))),M=S[O.device];return new CryptoMultiAccounts(_,R,M)},CryptoMultiAccounts.fromCBOR=v=>{const S=M.decodeToDataItem(v);return CryptoMultiAccounts.fromDataItem(S)}},457384:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyDerivation=S.DerivationAlgorithm=S.Curve=void 0;const E=_(605019),P=_(581440),D=_(61974),R=_(586333);var M,O,F;!function(v){v[v.keyPaths=1]="keyPaths",v[v.curve=2]="curve",v[v.algo=3]="algo",v[v.origin=4]="origin"}(M||(M={})),function(v){v.secp256k1="secp256k1",v.ed25519="ed25519"}(O=S.Curve||(S.Curve={})),function(v){v.slip10="slip10",v.bip32ed25519="bip32ed25519"}(F=S.DerivationAlgorithm||(S.DerivationAlgorithm={}));class KeyDerivation extends P.RegistryItem{constructor(v,S=O.secp256k1,_=F.slip10,P){super(),this.keypaths=v,this.curve=S,this.algo=_,this.origin=P,this.getRegistryType=()=>E.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[M.keyPaths]=this.keypaths.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),v[M.curve]=this.curve,v[M.algo]=this.algo,this.origin&&(v[M.origin]=this.origin),new D.DataItem(v)}}}S.KeyDerivation=KeyDerivation,KeyDerivation.fromDataItem=v=>{const S=v.getData(),_=S[M.keyPaths].map((v=>R.CryptoKeypath.fromDataItem(v))),E=S[M.curve],P=S[M.algo],D=S[M.origin];return new KeyDerivation(_,E,P,D)},KeyDerivation.fromCBOR=v=>{const S=D.decodeToDataItem(v);return KeyDerivation.fromDataItem(S)}},474447:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.QRHardwareCall=S.QRHardwareCallName=void 0;const E=_(605019),P=_(581440),D=_(61974),R=_(457384);var M,O;!function(v){v[v.name=1]="name",v[v.params=2]="params"}(M||(M={})),function(v){v.KeyDerivation="key-derivation"}(O=S.QRHardwareCallName||(S.QRHardwareCallName={}));class QRHardwareCall extends P.RegistryItem{constructor(v,S){super(),this.name=v,this.params=S,this.getRegistryType=()=>E.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{const v={};v[M.name]=this.name;const S=this.params.toDataItem();return S.setTag(this.params.getRegistryType().getTag()),v[M.params]=S,new D.DataItem(v)}}}S.QRHardwareCall=QRHardwareCall,QRHardwareCall.fromDataItem=v=>{const S=v.getData(),_=S[M.name]||O.KeyDerivation;let E;if(_===O.KeyDerivation)E=R.KeyDerivation.fromDataItem(S[M.params]);return new QRHardwareCall(_,E)},QRHardwareCall.fromCBOR=v=>{const S=D.decodeToDataItem(v);return QRHardwareCall.fromDataItem(S)}},568098:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Buffer=S.extend=S.PathComponent=S.ScriptExpressions=S.MultiKey=S.CryptoPSBT=S.CryptoOutput=S.CryptoECKey=S.CryptoCoinInfoNetwork=S.CryptoCoinInfoType=S.CryptoCoinInfo=S.CryptoKeypath=S.CryptoMultiAccounts=S.CryptoHDKey=S.CryptoAccount=S.Bytes=S.URRegistryDecoder=S.DataItem=void 0;const E=_(434117);_(991276);const P=_(901048);Object.defineProperty(S,"Buffer",{enumerable:!0,get:function(){return P.Buffer}});const D=_(952302);Object.defineProperty(S,"CryptoHDKey",{enumerable:!0,get:function(){return D.CryptoHDKey}});const R=_(586333);Object.defineProperty(S,"CryptoKeypath",{enumerable:!0,get:function(){return R.CryptoKeypath}});const M=_(136868);Object.defineProperty(S,"CryptoCoinInfo",{enumerable:!0,get:function(){return M.CryptoCoinInfo}}),Object.defineProperty(S,"CryptoCoinInfoType",{enumerable:!0,get:function(){return M.Type}}),Object.defineProperty(S,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return M.Network}});const O=_(330010);Object.defineProperty(S,"CryptoECKey",{enumerable:!0,get:function(){return O.CryptoECKey}});const F=_(207273);Object.defineProperty(S,"Bytes",{enumerable:!0,get:function(){return F.Bytes}});const N=_(857424);Object.defineProperty(S,"CryptoOutput",{enumerable:!0,get:function(){return N.CryptoOutput}});const L=_(145082);Object.defineProperty(S,"CryptoPSBT",{enumerable:!0,get:function(){return L.CryptoPSBT}});const U=_(598166);Object.defineProperty(S,"CryptoAccount",{enumerable:!0,get:function(){return U.CryptoAccount}});const V=_(791589);Object.defineProperty(S,"URRegistryDecoder",{enumerable:!0,get:function(){return V.URRegistryDecoder}});const G=_(826432);Object.defineProperty(S,"MultiKey",{enumerable:!0,get:function(){return G.MultiKey}});const W=_(355305);Object.defineProperty(S,"ScriptExpressions",{enumerable:!0,get:function(){return W.ScriptExpressions}});const $=_(179168);Object.defineProperty(S,"PathComponent",{enumerable:!0,get:function(){return $.PathComponent}});const X=_(581440),Y=_(605019),J=_(61974);var Z=_(61974);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return Z.DataItem}});const Q=_(68291),tt=_(504312);Object.defineProperty(S,"CryptoMultiAccounts",{enumerable:!0,get:function(){return tt.CryptoMultiAccounts}});const et={URRegistryDecoder:V.URRegistryDecoder,Bytes:F.Bytes,CryptoAccount:U.CryptoAccount,CryptoHDKey:D.CryptoHDKey,CryptoMultiAccounts:tt.CryptoMultiAccounts,CryptoKeypath:R.CryptoKeypath,CryptoCoinInfo:M.CryptoCoinInfo,CryptoCoinInfoType:M.Type,CryptoCoinInfoNetwork:M.Network,CryptoECKey:O.CryptoECKey,CryptoOutput:N.CryptoOutput,CryptoPSBT:L.CryptoPSBT,MultiKey:G.MultiKey,ScriptExpressions:W.ScriptExpressions,PathComponent:$.PathComponent},rt={addReader:J.addReader,addSemanticDecode:J.addSemanticDecode,addSemanticEncode:J.addSemanticEncode,addWriter:J.addWriter,patchTags:Q.patchTags},nt={RegistryTypes:Y.RegistryTypes,RegistryItem:X.RegistryItem,RegistryType:Y.RegistryType,decodeToDataItem:J.decodeToDataItem,encodeDataItem:J.encodeDataItem,cbor:rt};S.extend=nt,E.__exportStar(_(938288),S),E.__exportStar(_(791589),S),E.__exportStar(_(61974),S),E.__exportStar(_(598166),S),E.__exportStar(_(145082),S),E.__exportStar(_(952302),S),E.__exportStar(_(504312),S),E.__exportStar(_(474447),S),E.__exportStar(_(457384),S),E.__exportStar(_(857424),S),E.__exportStar(_(136868),S),E.__exportStar(_(330010),S),E.__exportStar(_(826432),S),E.__exportStar(_(586333),S),E.__exportStar(_(991276),S),E.__exportStar(_(179168),S),E.__exportStar(_(581440),S),E.__exportStar(_(605019),S),E.__exportStar(_(198495),S),E.__exportStar(_(68291),S),S.default=et},803127:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=void 0;S.DataItem=class DataItem{constructor(v,S){this.setTag=v=>{this.tag=v},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=v,this.tag=S}}},805350:function(v,S,_){"use strict";var E,P,D,R=_(901048).Buffer;P=[],void 0===(D="function"==typeof(E=function(){const{DataItem:v}=_(803127);var S=function(){function BinaryHex(v){this.$hex=v}BinaryHex.prototype={length:function(){return this.$hex.length/2},toString:function(v){if(!v||"hex"===v||16===v)return this.$hex;if("utf-8"===v){for(var S="",_=0;_<this.$hex.length;_+=2)S+="%"+this.$hex.substring(_,_+2);return decodeURIComponent(S)}if("latin"===v){for(S=[],_=0;_<this.$hex.length;_+=2)S.push(parseInt(this.$hex.substring(_,_+2),16));return String.fromCharCode.apply(String,S)}throw new Error("Unrecognised format: "+v)}},BinaryHex.fromLatinString=function(v){for(var S="",_=0;_<v.length;_++){var E=v.charCodeAt(_).toString(16);1===E.length&&(E="0"+E),S+=E}return new BinaryHex(S)},BinaryHex.fromUtf8String=function(v){for(var S=encodeURIComponent(v),_="",E=0;E<S.length;E++)if("%"===S.charAt(E))_+=S.substring(E+1,E+3),E+=2;else{var P=S.charCodeAt(E).toString(16);P.length<2&&(P="0"+P),_+=P}return new BinaryHex(_)};var S=[],_={},notImplemented=function(v){return function(){throw new Error(v+" not implemented")}};function Reader(){}function Writer(){}function readHeaderRaw(v){var S=v.readByte();return{type:S>>5,value:31&S}}function valueFromHeader(v,S){var _=v.value;return _<24?_:24==_?S.readByte():25==_?S.readUint16():26==_?S.readUint32():27==_?S.readUint64():31==_?null:void notImplemented("Additional info: "+_)()}function writeHeaderRaw(v,S,_){_.writeByte(v<<5|S)}function writeHeader(v,S,_){var E=v<<5;S<24?_.writeByte(E|S):S<256?(_.writeByte(24|E),_.writeByte(S)):S<65536?(_.writeByte(25|E),_.writeUint16(S)):S<4294967296?(_.writeByte(26|E),_.writeUint32(S)):(_.writeByte(27|E),_.writeUint64(S))}Reader.prototype={peekByte:notImplemented("peekByte"),readByte:notImplemented("readByte"),readChunk:notImplemented("readChunk"),readFloat16:function(){var v=this.readUint16(),S=(32767&v)>>10,_=1023&v,E=32768&v;if(31===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-25)*(1024+_):Math.pow(2,-24)*_;return E?-P:P},readFloat32:function(){var v=this.readUint32(),S=(2147483647&v)>>23,_=8388607&v,E=2147483648&v;if(255===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-23-127)*(8388608+_):Math.pow(2,-149)*_;return E?-P:P},readFloat64:function(){var v=this.readUint32(),S=v>>20&2047,_=4294967296*(1048575&v)+this.readUint32(),E=2147483648&v;if(2047===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-52-1023)*(4503599627370496+_):Math.pow(2,-1074)*_;return E?-P:P},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},Writer.prototype={writeByte:notImplemented("writeByte"),result:notImplemented("result"),writeFloat16:notImplemented("writeFloat16"),writeFloat32:notImplemented("writeFloat32"),writeFloat64:notImplemented("writeFloat64"),writeUint16:function(v){this.writeByte(v>>8&255),this.writeByte(255&v)},writeUint32:function(v){this.writeUint16(v>>16&65535),this.writeUint16(65535&v)},writeUint64:function(v){if(v>=9007199254740992||v<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+v+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(v/4294967296)),this.writeUint32(v%4294967296)},writeString:notImplemented("writeString"),canWriteBinary:function(v){return!1},writeBinary:notImplemented("writeChunk")};var E=new Error;function decodeReader(v){var S=readHeaderRaw(v);switch(S.type){case 0:return valueFromHeader(S,v);case 1:return-1-valueFromHeader(S,v);case 2:return v.readChunk(valueFromHeader(S,v));case 3:return v.readChunk(valueFromHeader(S,v)).toString("utf-8");case 4:case 5:var P=valueFromHeader(S,v),D=[];if(null!==P){5===S.type&&(P*=2);for(var R=0;R<P;R++)D[R]=decodeReader(v)}else for(var M;(M=decodeReader(v))!==E;)D.push(M);if(5===S.type){var O={};for(R=0;R<D.length;R+=2)O[D[R]]=D[R+1];return O}return D;case 6:var F=valueFromHeader(S,v),N=_[F];return D=decodeReader(v),N?N(D):D;case 7:if(25===S.value)return v.readFloat16();if(26===S.value)return v.readFloat32();if(27===S.value)return v.readFloat64();switch(valueFromHeader(S,v)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return E;default:throw new Error("Unknown fixed value: "+S.value)}default:throw new Error("Unsupported header: "+JSON.stringify(S))}throw new Error("not implemented yet")}function encodeWriter(v,_){for(var E=0;E<S.length;E++){var P=S[E].fn(v);if(void 0!==P)return writeHeader(6,S[E].tag,_),encodeWriter(P,_)}if(v&&"function"==typeof v.toCBOR&&(v=v.toCBOR()),!1===v)writeHeader(7,20,_);else if(!0===v)writeHeader(7,21,_);else if(null===v)writeHeader(7,22,_);else if(void 0===v)writeHeader(7,23,_);else if("number"==typeof v)Math.floor(v)===v&&v<9007199254740992&&v>-9007199254740992?v<0?writeHeader(1,-1-v,_):writeHeader(0,v,_):(writeHeaderRaw(7,27,_),_.writeFloat64(v));else if("string"==typeof v)_.writeString(v,(function(v){writeHeader(3,v,_)}));else if(_.canWriteBinary(v))_.writeBinary(v,(function(v){writeHeader(2,v,_)}));else{if("object"!=typeof v)throw new Error("CBOR encoding not supported: "+v);if(M.config.useToJSON&&"function"==typeof v.toJSON&&(v=v.toJSON()),Array.isArray(v))for(writeHeader(4,v.length,_),E=0;E<v.length;E++)encodeWriter(v[E],_);else{var D=Object.keys(v);for(writeHeader(5,D.length,_),E=0;E<D.length;E++){const S=parseInt(D[E]);isNaN(S)?(encodeWriter(D[E],_),encodeWriter(v[D[E]],_)):(encodeWriter(S,_),encodeWriter(v[D[E]],_))}}}}var P=[],D=[],M={config:{useToJSON:!0},addWriter:function(v,S){"string"==typeof v?D.push((function(_){if(v===_)return S(_)})):D.push(v)},addReader:function(v,S){"string"==typeof v?P.push((function(_,E){if(v===E)return S(_,E)})):P.push(v)},encode:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return encodeWriter(v,E),E.result()}throw new Error("Unsupported output format: "+S)},encodeDataItem:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return void 0!==v.getTag()?(encodeWriter(v,E),E.result()):(encodeWriter(v.getData(),E),E.result())}throw new Error("Unsupported output format: "+S)},decode:function(v,S){for(var _=0;_<P.length;_++){var E=(0,P[_])(v,S);if(E)return decodeReader(E)}throw new Error("Unsupported input format: "+S)},decodeToDataItem:function(S,_){for(var E=0;E<P.length;E++){var D=(0,P[E])(S,_);if(D){const S=decodeReader(D);return S instanceof v?S:new v(S)}}throw new Error("Unsupported input format: "+_)},addSemanticEncode:function(v,_){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return S.push({tag:v,fn:_}),this},addSemanticDecode:function(v,S){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return _[v]=S,this}};function BufferReader(v){this.buffer=v,this.pos=0}function BufferWriter(v){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=v}function HexReader(v){this.hex=v,this.pos=0}function HexWriter(v){this.$hex="",this.finalFormat=v||"hex"}return BufferReader.prototype=Object.create(Reader.prototype),BufferReader.prototype.peekByte=function(){return this.buffer[this.pos]},BufferReader.prototype.readByte=function(){return this.buffer[this.pos++]},BufferReader.prototype.readUint16=function(){var v=this.buffer.readUInt16BE(this.pos);return this.pos+=2,v},BufferReader.prototype.readUint32=function(){var v=this.buffer.readUInt32BE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat32=function(){var v=this.buffer.readFloatBE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat64=function(){var v=this.buffer.readDoubleBE(this.pos);return this.pos+=8,v},BufferReader.prototype.readChunk=function(v){var S=R.alloc(v);return this.buffer.copy(S,0,this.pos,this.pos+=v),S},BufferWriter.prototype=Object.create(Writer.prototype),BufferWriter.prototype.writeByte=function(v){this.latestBuffer[this.latestBufferOffset++]=v,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},BufferWriter.prototype.writeFloat32=function(v){var S=R.alloc(4);S.writeFloatBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeFloat64=function(v){var S=R.alloc(8);S.writeDoubleBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeString=function(v,S){var _=R.from(v,"utf-8");S(_.length),this.writeBuffer(_)},BufferWriter.prototype.canWriteBinary=function(v){return v instanceof R},BufferWriter.prototype.writeBinary=function(v,S){S(v.length),this.writeBuffer(v)},BufferWriter.prototype.writeBuffer=function(v){if(!(v instanceof R))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=v.length?(v.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=v.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(v),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(v),this.byteLength+=v.length},BufferWriter.prototype.result=function(){for(var v=R.alloc(this.byteLength),S=0,_=0;_<this.completeBuffers.length;_++){var E=this.completeBuffers[_];E.copy(v,S,0,E.length),S+=E.length}return this.latestBufferOffset&&this.latestBuffer.copy(v,S,0,this.latestBufferOffset),this.stringFormat?v.toString(this.stringFormat):v},"function"==typeof R&&(M.addReader((function(v,S){return R.isBuffer(v)?new BufferReader(v):"hex"===S||"base64"===S?new BufferReader(R.from(v,S)):void 0})),M.addWriter((function(v){return v&&"buffer"!==v?"hex"===v||"base64"===v?new BufferWriter(v):void 0:new BufferWriter}))),HexReader.prototype=Object.create(Reader.prototype),HexReader.prototype.peekByte=function(){var v=this.hex.substring(this.pos,2);return parseInt(v,16)},HexReader.prototype.readByte=function(){var v=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(v,16)},HexReader.prototype.readChunk=function(v){var S=this.hex.substring(this.pos,this.pos+2*v);return this.pos+=2*v,"function"==typeof R?R.from(S,"hex"):new BinaryHex(S)},HexWriter.prototype=Object.create(Writer.prototype),HexWriter.prototype.writeByte=function(v){if(v<0||v>255)throw new Error("Byte value out of range: "+v);var S=v.toString(16);1==S.length&&(S="0"+S),this.$hex+=S},HexWriter.prototype.canWriteBinary=function(v){return v instanceof BinaryHex||"function"==typeof R&&v instanceof R},HexWriter.prototype.writeBinary=function(v,S){if(v instanceof BinaryHex)S(v.length()),this.$hex+=v.$hex;else{if(!("function"==typeof R&&v instanceof R))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");S(v.length),this.$hex+=v.toString("hex")}},HexWriter.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof R?R.from(this.$hex,"hex"):new BinaryHex(this.$hex).toString(this.finalFormat)},HexWriter.prototype.writeString=function(v,S){var _=BinaryHex.fromUtf8String(v);S(_.length()),this.$hex+=_.$hex},M.addReader((function(v,S){return v instanceof BinaryHex||v.$hex?new HexReader(v.$hex):"hex"===S?new HexReader(v):void 0})),M.addWriter((function(v){if("hex"===v)return new HexWriter})),M}();return S.addSemanticEncode(0,(function(v){if(v instanceof Date)return v.toISOString()})).addSemanticDecode(0,(function(v){return new Date(v)})).addSemanticDecode(1,(function(v){return new Date(v)})),S})?E.apply(S,P):E)||(v.exports=D)},61974:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=S.addWriter=S.addReader=S.addSemanticEncode=S.addSemanticDecode=S.decodeToDataItem=S.encodeDataItem=void 0;var E=_(805350);Object.defineProperty(S,"encodeDataItem",{enumerable:!0,get:function(){return E.encodeDataItem}}),Object.defineProperty(S,"decodeToDataItem",{enumerable:!0,get:function(){return E.decodeToDataItem}}),Object.defineProperty(S,"addSemanticDecode",{enumerable:!0,get:function(){return E.addSemanticDecode}}),Object.defineProperty(S,"addSemanticEncode",{enumerable:!0,get:function(){return E.addSemanticEncode}}),Object.defineProperty(S,"addReader",{enumerable:!0,get:function(){return E.addReader}}),Object.defineProperty(S,"addWriter",{enumerable:!0,get:function(){return E.addWriter}});var P=_(803127);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return P.DataItem}})},991276:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});const E=_(68291),P=_(605019),D=_(355305),R=Object.values(P.RegistryTypes).filter((v=>!!v.getTag())).map((v=>v.getTag())),M=Object.values(D.ScriptExpressions).map((v=>v.getTag()));E.patchTags(R.concat(M))},198495:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0})},68291:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.patchTags=void 0;const E=_(61974),P=[];S.patchTags=v=>{v.forEach((v=>{P.find((S=>S===v))||(E.addSemanticEncode(v,(S=>{if(S instanceof E.DataItem&&S.getTag()===v)return S.getData()})),E.addSemanticDecode(v,(S=>new E.DataItem(S,v))),P.push(v))}))}},350375:(v,S,_)=>{"use strict";var E=_(939216),P=_(825636).Buffer;v.exports=function(v){function decodeRaw(S){var _=S.slice(0,-4),E=S.slice(-4),P=v(_);if(!(E[0]^P[0]|E[1]^P[1]|E[2]^P[2]|E[3]^P[3]))return _}return{encode:function encode(S){var _=v(S);return E.encode(P.concat([S,_],S.length+4))},decode:function decode(v){var S=decodeRaw(E.decode(v));if(!S)throw new Error("Invalid checksum");return S},decodeUnsafe:function decodeUnsafe(v){var S=E.decodeUnsafe(v);if(S)return decodeRaw(S)}}}},649832:(v,S,_)=>{"use strict";var E=_(213257),P=_(350375);v.exports=P((function sha256x2(v){var S=E("sha256").update(v).digest();return E("sha256").update(S).digest()}))},324740:(v,S,_)=>{"use strict";var E;_.r(S),_.d(S,{NIL:()=>Q,parse:()=>W,stringify:()=>F,v1:()=>G,v3:()=>X,v4:()=>Y,v5:()=>Z,validate:()=>R,version:()=>tt});var P=new Uint8Array(16);function rng(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(P)}const D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const R=function validate(v){return"string"==typeof v&&D.test(v)};for(var M=[],O=0;O<256;++O)M.push((O+256).toString(16).substr(1));const F=function stringify(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=(M[v[S+0]]+M[v[S+1]]+M[v[S+2]]+M[v[S+3]]+"-"+M[v[S+4]]+M[v[S+5]]+"-"+M[v[S+6]]+M[v[S+7]]+"-"+M[v[S+8]]+M[v[S+9]]+"-"+M[v[S+10]]+M[v[S+11]]+M[v[S+12]]+M[v[S+13]]+M[v[S+14]]+M[v[S+15]]).toLowerCase();if(!R(_))throw TypeError("Stringified UUID is invalid");return _};var N,L,U=0,V=0;const G=function v1(v,S,_){var E=S&&_||0,P=S||new Array(16),D=(v=v||{}).node||N,R=void 0!==v.clockseq?v.clockseq:L;if(null==D||null==R){var M=v.random||(v.rng||rng)();null==D&&(D=N=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),null==R&&(R=L=16383&(M[6]<<8|M[7]))}var O=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:V+1,W=O-U+(G-V)/1e4;if(W<0&&void 0===v.clockseq&&(R=R+1&16383),(W<0||O>U)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=O,V=G,L=R;var $=(1e4*(268435455&(O+=122192928e5))+G)%4294967296;P[E++]=$>>>24&255,P[E++]=$>>>16&255,P[E++]=$>>>8&255,P[E++]=255&$;var X=O/4294967296*1e4&268435455;P[E++]=X>>>8&255,P[E++]=255&X,P[E++]=X>>>24&15|16,P[E++]=X>>>16&255,P[E++]=R>>>8|128,P[E++]=255&R;for(var Y=0;Y<6;++Y)P[E+Y]=D[Y];return S||F(P)};const W=function parse(v){if(!R(v))throw TypeError("Invalid UUID");var S,_=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};function v35(v,S,_){function generateUUID(v,E,P,D){if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));for(var S=[],_=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof E&&(E=W(E)),16!==E.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var R=new Uint8Array(16+v.length);if(R.set(E),R.set(v,E.length),(R=_(R))[6]=15&R[6]|S,R[8]=63&R[8]|128,P){D=D||0;for(var M=0;M<16;++M)P[D+M]=R[M];return P}return F(R)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){var _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}const $=function md5(v){if("string"==typeof v){var S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(var _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){for(var S=[],_=32*v.length,E="0123456789abcdef",P=0;P<_;P+=8){var D=v[P>>5]>>>P%32&255,R=parseInt(E.charAt(D>>>4&15)+E.charAt(15&D),16);S.push(R)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;for(var _=1732584193,E=-271733879,P=-1732584194,D=271733878,R=0;R<v.length;R+=16){var M=_,O=E,F=P,N=D;_=md5ff(_,E,P,D,v[R],7,-680876936),D=md5ff(D,_,E,P,v[R+1],12,-389564586),P=md5ff(P,D,_,E,v[R+2],17,606105819),E=md5ff(E,P,D,_,v[R+3],22,-1044525330),_=md5ff(_,E,P,D,v[R+4],7,-176418897),D=md5ff(D,_,E,P,v[R+5],12,1200080426),P=md5ff(P,D,_,E,v[R+6],17,-1473231341),E=md5ff(E,P,D,_,v[R+7],22,-45705983),_=md5ff(_,E,P,D,v[R+8],7,1770035416),D=md5ff(D,_,E,P,v[R+9],12,-1958414417),P=md5ff(P,D,_,E,v[R+10],17,-42063),E=md5ff(E,P,D,_,v[R+11],22,-1990404162),_=md5ff(_,E,P,D,v[R+12],7,1804603682),D=md5ff(D,_,E,P,v[R+13],12,-40341101),P=md5ff(P,D,_,E,v[R+14],17,-1502002290),_=md5gg(_,E=md5ff(E,P,D,_,v[R+15],22,1236535329),P,D,v[R+1],5,-165796510),D=md5gg(D,_,E,P,v[R+6],9,-1069501632),P=md5gg(P,D,_,E,v[R+11],14,643717713),E=md5gg(E,P,D,_,v[R],20,-373897302),_=md5gg(_,E,P,D,v[R+5],5,-701558691),D=md5gg(D,_,E,P,v[R+10],9,38016083),P=md5gg(P,D,_,E,v[R+15],14,-660478335),E=md5gg(E,P,D,_,v[R+4],20,-405537848),_=md5gg(_,E,P,D,v[R+9],5,568446438),D=md5gg(D,_,E,P,v[R+14],9,-1019803690),P=md5gg(P,D,_,E,v[R+3],14,-187363961),E=md5gg(E,P,D,_,v[R+8],20,1163531501),_=md5gg(_,E,P,D,v[R+13],5,-1444681467),D=md5gg(D,_,E,P,v[R+2],9,-51403784),P=md5gg(P,D,_,E,v[R+7],14,1735328473),_=md5hh(_,E=md5gg(E,P,D,_,v[R+12],20,-1926607734),P,D,v[R+5],4,-378558),D=md5hh(D,_,E,P,v[R+8],11,-2022574463),P=md5hh(P,D,_,E,v[R+11],16,1839030562),E=md5hh(E,P,D,_,v[R+14],23,-35309556),_=md5hh(_,E,P,D,v[R+1],4,-1530992060),D=md5hh(D,_,E,P,v[R+4],11,1272893353),P=md5hh(P,D,_,E,v[R+7],16,-155497632),E=md5hh(E,P,D,_,v[R+10],23,-1094730640),_=md5hh(_,E,P,D,v[R+13],4,681279174),D=md5hh(D,_,E,P,v[R],11,-358537222),P=md5hh(P,D,_,E,v[R+3],16,-722521979),E=md5hh(E,P,D,_,v[R+6],23,76029189),_=md5hh(_,E,P,D,v[R+9],4,-640364487),D=md5hh(D,_,E,P,v[R+12],11,-421815835),P=md5hh(P,D,_,E,v[R+15],16,530742520),_=md5ii(_,E=md5hh(E,P,D,_,v[R+2],23,-995338651),P,D,v[R],6,-198630844),D=md5ii(D,_,E,P,v[R+7],10,1126891415),P=md5ii(P,D,_,E,v[R+14],15,-1416354905),E=md5ii(E,P,D,_,v[R+5],21,-57434055),_=md5ii(_,E,P,D,v[R+12],6,1700485571),D=md5ii(D,_,E,P,v[R+3],10,-1894986606),P=md5ii(P,D,_,E,v[R+10],15,-1051523),E=md5ii(E,P,D,_,v[R+1],21,-2054922799),_=md5ii(_,E,P,D,v[R+8],6,1873313359),D=md5ii(D,_,E,P,v[R+15],10,-30611744),P=md5ii(P,D,_,E,v[R+6],15,-1560198380),E=md5ii(E,P,D,_,v[R+13],21,1309151649),_=md5ii(_,E,P,D,v[R+4],6,-145523070),D=md5ii(D,_,E,P,v[R+11],10,-1120210379),P=md5ii(P,D,_,E,v[R+2],15,718787259),E=md5ii(E,P,D,_,v[R+9],21,-343485551),_=safeAdd(_,M),E=safeAdd(E,O),P=safeAdd(P,F),D=safeAdd(D,N)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];for(var S=8*v.length,_=new Uint32Array(getOutputLength(S)),E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};const X=v35("v3",48,$);const Y=function v4(v,S,_){var E=(v=v||{}).random||(v.rng||rng)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,S){_=_||0;for(var P=0;P<16;++P)S[_+P]=E[P];return S}return F(E)};function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}const J=function sha1(v){var S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){var E=unescape(encodeURIComponent(v));v=[];for(var P=0;P<E.length;++P)v.push(E.charCodeAt(P))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);for(var D=v.length/4+2,R=Math.ceil(D/16),M=new Array(R),O=0;O<R;++O){for(var F=new Uint32Array(16),N=0;N<16;++N)F[N]=v[64*O+4*N]<<24|v[64*O+4*N+1]<<16|v[64*O+4*N+2]<<8|v[64*O+4*N+3];M[O]=F}M[R-1][14]=8*(v.length-1)/Math.pow(2,32),M[R-1][14]=Math.floor(M[R-1][14]),M[R-1][15]=8*(v.length-1)&4294967295;for(var L=0;L<R;++L){for(var U=new Uint32Array(80),V=0;V<16;++V)U[V]=M[L][V];for(var G=16;G<80;++G)U[G]=ROTL(U[G-3]^U[G-8]^U[G-14]^U[G-16],1);for(var W=_[0],$=_[1],X=_[2],Y=_[3],J=_[4],Z=0;Z<80;++Z){var Q=Math.floor(Z/20),tt=ROTL(W,5)+f(Q,$,X,Y)+J+S[Q]+U[Z]>>>0;J=Y,Y=X,X=ROTL($,30)>>>0,$=W,W=tt}_[0]=_[0]+W>>>0,_[1]=_[1]+$>>>0,_[2]=_[2]+X>>>0,_[3]=_[3]+Y>>>0,_[4]=_[4]+J>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};const Z=v35("v5",80,J),Q="00000000-0000-0000-0000-000000000000";const tt=function version(v){if(!R(v))throw TypeError("Invalid UUID");return parseInt(v.substr(14,1),16)}},159396:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P=_(996722),D=_(919494);const R={COSMOS_SIGN_REQUEST:new P.RegistryType("cosmos-sign-request",4101),COSMOS_SIGNATURE:new P.RegistryType("cosmos-signature",4102)},{decodeToDataItem:M,RegistryTypes:O}=P.extend;var F,N;(F=S.SignDataType||(S.SignDataType={}))[F.amino=1]="amino",F[F.direct=2]="direct",F[F.textual=3]="textual",F[F.message=4]="message",function(v){v[v.requestId=1]="requestId",v[v.signData=2]="signData",v[v.dataType=3]="dataType",v[v.derivationPaths=4]="derivationPaths",v[v.addresses=5]="addresses",v[v.origin=6]="origin"}(N||(N={}));class o extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.COSMOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getDerivationPaths=()=>this.derivationPaths.map((v=>v.getPath())),this.getAddress=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[N.requestId]=new P.DataItem(this.requestId,O.UUID.getTag()),v[N.signData]=this.signData,v[N.dataType]=this.dataType,v[N.derivationPaths]=this.derivationPaths.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),this.addresses&&(v[N.addresses]=this.addresses),this.origin&&(v[N.origin]=this.origin),new P.DataItem(v)},this.requestId=v.requestId,this.signData=v.signData,this.dataType=v.dataType,this.derivationPaths=v.derivationPaths,this.addresses=v.addresses,this.origin=v.origin}static constructCosmosRequest(v,_,R,M,O,F,N){const L=O.map(((v,S)=>{const D=v.replace(/[m|M]\//,"").split("/").map((v=>{const S=parseInt(v.replace("'",""));let _=!1;return v.endsWith("'")&&(_=!0),new P.PathComponent({index:S,hardened:_})}));return new P.CryptoKeypath(D,E.from(_[S],"hex"))}));return new o({requestId:E.from(D.parse(v)),signData:R,dataType:M||S.SignDataType.amino,derivationPaths:L,addresses:F||void 0,origin:N||void 0})}}o.fromDataItem=v=>{const S=v.getData(),_=S[N.requestId]?S[N.requestId].getData():void 0,E=S[N.signData],D=S[N.dataType],R=S[N.derivationPaths].map((v=>P.CryptoKeypath.fromDataItem(v)));return new o({requestId:_,signData:E,dataType:D,derivationPaths:R,addresses:S[N.addresses]?S[N.addresses]:void 0,origin:S[N.origin]?S[N.origin]:void 0})},o.fromCBOR=v=>{const S=M(v);return o.fromDataItem(S)};const{RegistryTypes:L,decodeToDataItem:U}=P.extend;var V;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature",v[v.publicKey=3]="publicKey"}(V||(V={}));class h extends P.RegistryItem{constructor(v,S,_){super(),this.getRegistryType=()=>R.COSMOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{const v={};return v[V.requestId]=new P.DataItem(this.requestId,L.UUID.getTag()),v[V.signature]=this.signature,v[V.publicKey]=this.publicKey,new P.DataItem(v)},this.signature=v,this.requestId=S,this.publicKey=_}}h.fromDataItem=v=>{const S=v.getData(),_=S[V.signature],E=S[V.requestId].getData();return new h(_,E,S[V.publicKey])},h.fromCBOR=v=>{const S=U(v);return h.fromDataItem(S)},P.patchTags(Object.values(R).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(P).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return P[v]}})})),S.CosmosSignRequest=o,S.CosmosSignature=h},900961:(v,S,_)=>{"use strict";v.exports=_(159396)},919494:(v,S,_)=>{"use strict";var E;_.r(S),_.d(S,{NIL:()=>Q,parse:()=>W,stringify:()=>F,v1:()=>G,v3:()=>X,v4:()=>Y,v5:()=>Z,validate:()=>R,version:()=>tt});var P=new Uint8Array(16);function rng(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(P)}const D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const R=function validate(v){return"string"==typeof v&&D.test(v)};for(var M=[],O=0;O<256;++O)M.push((O+256).toString(16).substr(1));const F=function stringify(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=(M[v[S+0]]+M[v[S+1]]+M[v[S+2]]+M[v[S+3]]+"-"+M[v[S+4]]+M[v[S+5]]+"-"+M[v[S+6]]+M[v[S+7]]+"-"+M[v[S+8]]+M[v[S+9]]+"-"+M[v[S+10]]+M[v[S+11]]+M[v[S+12]]+M[v[S+13]]+M[v[S+14]]+M[v[S+15]]).toLowerCase();if(!R(_))throw TypeError("Stringified UUID is invalid");return _};var N,L,U=0,V=0;const G=function v1(v,S,_){var E=S&&_||0,P=S||new Array(16),D=(v=v||{}).node||N,R=void 0!==v.clockseq?v.clockseq:L;if(null==D||null==R){var M=v.random||(v.rng||rng)();null==D&&(D=N=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),null==R&&(R=L=16383&(M[6]<<8|M[7]))}var O=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:V+1,W=O-U+(G-V)/1e4;if(W<0&&void 0===v.clockseq&&(R=R+1&16383),(W<0||O>U)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=O,V=G,L=R;var $=(1e4*(268435455&(O+=122192928e5))+G)%4294967296;P[E++]=$>>>24&255,P[E++]=$>>>16&255,P[E++]=$>>>8&255,P[E++]=255&$;var X=O/4294967296*1e4&268435455;P[E++]=X>>>8&255,P[E++]=255&X,P[E++]=X>>>24&15|16,P[E++]=X>>>16&255,P[E++]=R>>>8|128,P[E++]=255&R;for(var Y=0;Y<6;++Y)P[E+Y]=D[Y];return S||F(P)};const W=function parse(v){if(!R(v))throw TypeError("Invalid UUID");var S,_=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};function v35(v,S,_){function generateUUID(v,E,P,D){if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));for(var S=[],_=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof E&&(E=W(E)),16!==E.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var R=new Uint8Array(16+v.length);if(R.set(E),R.set(v,E.length),(R=_(R))[6]=15&R[6]|S,R[8]=63&R[8]|128,P){D=D||0;for(var M=0;M<16;++M)P[D+M]=R[M];return P}return F(R)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){var _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}const $=function md5(v){if("string"==typeof v){var S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(var _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){for(var S=[],_=32*v.length,E="0123456789abcdef",P=0;P<_;P+=8){var D=v[P>>5]>>>P%32&255,R=parseInt(E.charAt(D>>>4&15)+E.charAt(15&D),16);S.push(R)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;for(var _=1732584193,E=-271733879,P=-1732584194,D=271733878,R=0;R<v.length;R+=16){var M=_,O=E,F=P,N=D;_=md5ff(_,E,P,D,v[R],7,-680876936),D=md5ff(D,_,E,P,v[R+1],12,-389564586),P=md5ff(P,D,_,E,v[R+2],17,606105819),E=md5ff(E,P,D,_,v[R+3],22,-1044525330),_=md5ff(_,E,P,D,v[R+4],7,-176418897),D=md5ff(D,_,E,P,v[R+5],12,1200080426),P=md5ff(P,D,_,E,v[R+6],17,-1473231341),E=md5ff(E,P,D,_,v[R+7],22,-45705983),_=md5ff(_,E,P,D,v[R+8],7,1770035416),D=md5ff(D,_,E,P,v[R+9],12,-1958414417),P=md5ff(P,D,_,E,v[R+10],17,-42063),E=md5ff(E,P,D,_,v[R+11],22,-1990404162),_=md5ff(_,E,P,D,v[R+12],7,1804603682),D=md5ff(D,_,E,P,v[R+13],12,-40341101),P=md5ff(P,D,_,E,v[R+14],17,-1502002290),_=md5gg(_,E=md5ff(E,P,D,_,v[R+15],22,1236535329),P,D,v[R+1],5,-165796510),D=md5gg(D,_,E,P,v[R+6],9,-1069501632),P=md5gg(P,D,_,E,v[R+11],14,643717713),E=md5gg(E,P,D,_,v[R],20,-373897302),_=md5gg(_,E,P,D,v[R+5],5,-701558691),D=md5gg(D,_,E,P,v[R+10],9,38016083),P=md5gg(P,D,_,E,v[R+15],14,-660478335),E=md5gg(E,P,D,_,v[R+4],20,-405537848),_=md5gg(_,E,P,D,v[R+9],5,568446438),D=md5gg(D,_,E,P,v[R+14],9,-1019803690),P=md5gg(P,D,_,E,v[R+3],14,-187363961),E=md5gg(E,P,D,_,v[R+8],20,1163531501),_=md5gg(_,E,P,D,v[R+13],5,-1444681467),D=md5gg(D,_,E,P,v[R+2],9,-51403784),P=md5gg(P,D,_,E,v[R+7],14,1735328473),_=md5hh(_,E=md5gg(E,P,D,_,v[R+12],20,-1926607734),P,D,v[R+5],4,-378558),D=md5hh(D,_,E,P,v[R+8],11,-2022574463),P=md5hh(P,D,_,E,v[R+11],16,1839030562),E=md5hh(E,P,D,_,v[R+14],23,-35309556),_=md5hh(_,E,P,D,v[R+1],4,-1530992060),D=md5hh(D,_,E,P,v[R+4],11,1272893353),P=md5hh(P,D,_,E,v[R+7],16,-155497632),E=md5hh(E,P,D,_,v[R+10],23,-1094730640),_=md5hh(_,E,P,D,v[R+13],4,681279174),D=md5hh(D,_,E,P,v[R],11,-358537222),P=md5hh(P,D,_,E,v[R+3],16,-722521979),E=md5hh(E,P,D,_,v[R+6],23,76029189),_=md5hh(_,E,P,D,v[R+9],4,-640364487),D=md5hh(D,_,E,P,v[R+12],11,-421815835),P=md5hh(P,D,_,E,v[R+15],16,530742520),_=md5ii(_,E=md5hh(E,P,D,_,v[R+2],23,-995338651),P,D,v[R],6,-198630844),D=md5ii(D,_,E,P,v[R+7],10,1126891415),P=md5ii(P,D,_,E,v[R+14],15,-1416354905),E=md5ii(E,P,D,_,v[R+5],21,-57434055),_=md5ii(_,E,P,D,v[R+12],6,1700485571),D=md5ii(D,_,E,P,v[R+3],10,-1894986606),P=md5ii(P,D,_,E,v[R+10],15,-1051523),E=md5ii(E,P,D,_,v[R+1],21,-2054922799),_=md5ii(_,E,P,D,v[R+8],6,1873313359),D=md5ii(D,_,E,P,v[R+15],10,-30611744),P=md5ii(P,D,_,E,v[R+6],15,-1560198380),E=md5ii(E,P,D,_,v[R+13],21,1309151649),_=md5ii(_,E,P,D,v[R+4],6,-145523070),D=md5ii(D,_,E,P,v[R+11],10,-1120210379),P=md5ii(P,D,_,E,v[R+2],15,718787259),E=md5ii(E,P,D,_,v[R+9],21,-343485551),_=safeAdd(_,M),E=safeAdd(E,O),P=safeAdd(P,F),D=safeAdd(D,N)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];for(var S=8*v.length,_=new Uint32Array(getOutputLength(S)),E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};const X=v35("v3",48,$);const Y=function v4(v,S,_){var E=(v=v||{}).random||(v.rng||rng)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,S){_=_||0;for(var P=0;P<16;++P)S[_+P]=E[P];return S}return F(E)};function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}const J=function sha1(v){var S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){var E=unescape(encodeURIComponent(v));v=[];for(var P=0;P<E.length;++P)v.push(E.charCodeAt(P))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);for(var D=v.length/4+2,R=Math.ceil(D/16),M=new Array(R),O=0;O<R;++O){for(var F=new Uint32Array(16),N=0;N<16;++N)F[N]=v[64*O+4*N]<<24|v[64*O+4*N+1]<<16|v[64*O+4*N+2]<<8|v[64*O+4*N+3];M[O]=F}M[R-1][14]=8*(v.length-1)/Math.pow(2,32),M[R-1][14]=Math.floor(M[R-1][14]),M[R-1][15]=8*(v.length-1)&4294967295;for(var L=0;L<R;++L){for(var U=new Uint32Array(80),V=0;V<16;++V)U[V]=M[L][V];for(var G=16;G<80;++G)U[G]=ROTL(U[G-3]^U[G-8]^U[G-14]^U[G-16],1);for(var W=_[0],$=_[1],X=_[2],Y=_[3],J=_[4],Z=0;Z<80;++Z){var Q=Math.floor(Z/20),tt=ROTL(W,5)+f(Q,$,X,Y)+J+S[Q]+U[Z]>>>0;J=Y,Y=X,X=ROTL($,30)>>>0,$=W,W=tt}_[0]=_[0]+W>>>0,_[1]=_[1]+$>>>0,_[2]=_[2]+X>>>0,_[3]=_[3]+Y>>>0,_[4]=_[4]+J>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};const Z=v35("v5",80,J),Q="00000000-0000-0000-0000-000000000000";const tt=function version(v){if(!R(v))throw TypeError("Invalid UUID");return parseInt(v.substr(14,1),16)}},597256:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P,D=_(996722),R=_(593605),M=(P=_(81318))&&"object"==typeof P&&"default"in P?P.default:P,O=_(613526);const F={ETH_SIGN_REQUEST:new D.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new D.RegistryType("eth-signature",402),ETH_NFT_ITEM:new D.RegistryType("eth-nft-item",403)},{decodeToDataItem:N,RegistryTypes:L}=D.extend;var U,V;!function(v){v[v.requestId=1]="requestId",v[v.signData=2]="signData",v[v.dataType=3]="dataType",v[v.chainId=4]="chainId",v[v.derivationPath=5]="derivationPath",v[v.address=6]="address",v[v.origin=7]="origin"}(U||(U={})),(V=S.DataType||(S.DataType={}))[V.transaction=1]="transaction",V[V.typedData=2]="typedData",V[V.personalMessage=3]="personalMessage",V[V.typedTransaction=4]="typedTransaction";class c extends D.RegistryItem{constructor(v){super(),this.getRegistryType=()=>F.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};this.requestId&&(v[U.requestId]=new D.DataItem(this.requestId,L.UUID.getTag())),this.address&&(v[U.address]=this.address),this.chainId&&(v[U.chainId]=this.chainId),this.origin&&(v[U.origin]=this.origin),v[U.signData]=this.signData,v[U.dataType]=this.dataType;const S=this.derivationPath.toDataItem();return S.setTag(this.derivationPath.getRegistryType().getTag()),v[U.derivationPath]=S,new D.DataItem(v)},this.requestId=v.requestId,this.signData=v.signData,this.dataType=v.dataType,this.chainId=v.chainId,this.derivationPath=v.derivationPath,this.address=v.address,this.origin=v.origin}static constructETHRequest(v,S,_,P,M,O,F,N){const L=_.replace(/[m|M]\//,"").split("/"),U=new D.CryptoKeypath(L.map((v=>{const S=parseInt(v.replace("'",""));let _=!1;return v.endsWith("'")&&(_=!0),new D.PathComponent({index:S,hardened:_})})),E.from(P,"hex"));return new c({requestId:M?E.from(R.parse(M)):void 0,signData:v,dataType:S,derivationPath:U,chainId:O,address:F?E.from(F.replace("0x",""),"hex"):void 0,origin:N||void 0})}}c.fromDataItem=v=>{const S=v.getData(),_=S[U.signData],E=S[U.dataType],P=D.CryptoKeypath.fromDataItem(S[U.derivationPath]),R=S[U.chainId]?S[U.chainId]:void 0,M=S[U.address]?S[U.address]:void 0,O=S[U.requestId]?S[U.requestId].getData():void 0;return new c({requestId:O,signData:_,dataType:E,chainId:R,derivationPath:P,address:M,origin:S[U.origin]?S[U.origin]:void 0})},c.fromCBOR=v=>{const S=N(v);return c.fromDataItem(S)};const{RegistryTypes:G,decodeToDataItem:W}=D.extend;var $;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature",v[v.origin=3]="origin"}($||($={}));class I extends D.RegistryItem{constructor(v,S,_){super(),this.getRegistryType=()=>F.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return this.requestId&&(v[$.requestId]=new D.DataItem(this.requestId,G.UUID.getTag())),this.origin&&(v[$.origin]=this.origin),v[$.signature]=this.signature,new D.DataItem(v)},this.signature=v,this.requestId=S,this.origin=_}}I.fromDataItem=v=>{const S=v.getData(),_=S[$.signature],E=S[$.requestId]?S[$.requestId].getData():void 0;return new I(_,E,S[$.origin])},I.fromCBOR=v=>{const S=W(v);return I.fromDataItem(S)};const{decodeToDataItem:X}=D.extend;var Y;!function(v){v[v.chainId=1]="chainId",v[v.contractAddress=2]="contractAddress",v[v.contractName=3]="contractName",v[v.name=4]="name",v[v.mediaData=5]="mediaData"}(Y||(Y={}));class T extends D.RegistryItem{constructor(v){super(),this.getRegistryType=()=>F.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const v={};return v[Y.chainId]=this.chainId,v[Y.name]=this.name,v[Y.contractAddress]=this.contractAddress,v[Y.contractName]=this.contractName,v[Y.mediaData]=this.mediaData,new D.DataItem(v)},this.chainId=v.chainId,this.name=v.name,this.contractAddress=v.contractAddress,this.contractName=v.contractName,this.mediaData=v.mediaData}static constructETHNFTItem(v,S,_,E,P){return new T({chainId:v,contractAddress:S,contractName:_,mediaData:P,name:E})}}T.fromDataItem=v=>{const S=v.getData();return new T({chainId:S[Y.chainId],name:S[Y.name],contractAddress:S[Y.contractAddress],contractName:S[Y.contractName],mediaData:S[Y.mediaData]})},T.fromCBOR=v=>{const S=X(v);return T.fromDataItem(S)};const y=(v,S)=>{const _=M.fromExtendedKey(v).derive(S),E="0x"+O.publicToAddress(_.publicKey,!0).toString("hex");return O.toChecksumAddress(E)};D.patchTags(Object.values(F).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(D).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return D[v]}})})),S.ETHNFTItem=T,S.ETHSignature=I,S.EthSignRequest=c,S.findHDPathFromAddress=(v,S,_,E)=>{for(let P=0;P<_;P++){const _=y(S,"M/0/"+P);if(v.toLowerCase()==_.toLowerCase())return`${E}/0/${P}`}return null},S.generateAddressFromXpub=y},696728:(v,S,_)=>{"use strict";v.exports=_(597256)},593605:(v,S,_)=>{"use strict";var E;_.r(S),_.d(S,{NIL:()=>Q,parse:()=>W,stringify:()=>F,v1:()=>G,v3:()=>X,v4:()=>Y,v5:()=>Z,validate:()=>R,version:()=>tt});var P=new Uint8Array(16);function rng(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(P)}const D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const R=function validate(v){return"string"==typeof v&&D.test(v)};for(var M=[],O=0;O<256;++O)M.push((O+256).toString(16).substr(1));const F=function stringify(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=(M[v[S+0]]+M[v[S+1]]+M[v[S+2]]+M[v[S+3]]+"-"+M[v[S+4]]+M[v[S+5]]+"-"+M[v[S+6]]+M[v[S+7]]+"-"+M[v[S+8]]+M[v[S+9]]+"-"+M[v[S+10]]+M[v[S+11]]+M[v[S+12]]+M[v[S+13]]+M[v[S+14]]+M[v[S+15]]).toLowerCase();if(!R(_))throw TypeError("Stringified UUID is invalid");return _};var N,L,U=0,V=0;const G=function v1(v,S,_){var E=S&&_||0,P=S||new Array(16),D=(v=v||{}).node||N,R=void 0!==v.clockseq?v.clockseq:L;if(null==D||null==R){var M=v.random||(v.rng||rng)();null==D&&(D=N=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),null==R&&(R=L=16383&(M[6]<<8|M[7]))}var O=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:V+1,W=O-U+(G-V)/1e4;if(W<0&&void 0===v.clockseq&&(R=R+1&16383),(W<0||O>U)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=O,V=G,L=R;var $=(1e4*(268435455&(O+=122192928e5))+G)%4294967296;P[E++]=$>>>24&255,P[E++]=$>>>16&255,P[E++]=$>>>8&255,P[E++]=255&$;var X=O/4294967296*1e4&268435455;P[E++]=X>>>8&255,P[E++]=255&X,P[E++]=X>>>24&15|16,P[E++]=X>>>16&255,P[E++]=R>>>8|128,P[E++]=255&R;for(var Y=0;Y<6;++Y)P[E+Y]=D[Y];return S||F(P)};const W=function parse(v){if(!R(v))throw TypeError("Invalid UUID");var S,_=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};function v35(v,S,_){function generateUUID(v,E,P,D){if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));for(var S=[],_=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof E&&(E=W(E)),16!==E.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var R=new Uint8Array(16+v.length);if(R.set(E),R.set(v,E.length),(R=_(R))[6]=15&R[6]|S,R[8]=63&R[8]|128,P){D=D||0;for(var M=0;M<16;++M)P[D+M]=R[M];return P}return F(R)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){var _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}const $=function md5(v){if("string"==typeof v){var S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(var _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){for(var S=[],_=32*v.length,E="0123456789abcdef",P=0;P<_;P+=8){var D=v[P>>5]>>>P%32&255,R=parseInt(E.charAt(D>>>4&15)+E.charAt(15&D),16);S.push(R)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;for(var _=1732584193,E=-271733879,P=-1732584194,D=271733878,R=0;R<v.length;R+=16){var M=_,O=E,F=P,N=D;_=md5ff(_,E,P,D,v[R],7,-680876936),D=md5ff(D,_,E,P,v[R+1],12,-389564586),P=md5ff(P,D,_,E,v[R+2],17,606105819),E=md5ff(E,P,D,_,v[R+3],22,-1044525330),_=md5ff(_,E,P,D,v[R+4],7,-176418897),D=md5ff(D,_,E,P,v[R+5],12,1200080426),P=md5ff(P,D,_,E,v[R+6],17,-1473231341),E=md5ff(E,P,D,_,v[R+7],22,-45705983),_=md5ff(_,E,P,D,v[R+8],7,1770035416),D=md5ff(D,_,E,P,v[R+9],12,-1958414417),P=md5ff(P,D,_,E,v[R+10],17,-42063),E=md5ff(E,P,D,_,v[R+11],22,-1990404162),_=md5ff(_,E,P,D,v[R+12],7,1804603682),D=md5ff(D,_,E,P,v[R+13],12,-40341101),P=md5ff(P,D,_,E,v[R+14],17,-1502002290),_=md5gg(_,E=md5ff(E,P,D,_,v[R+15],22,1236535329),P,D,v[R+1],5,-165796510),D=md5gg(D,_,E,P,v[R+6],9,-1069501632),P=md5gg(P,D,_,E,v[R+11],14,643717713),E=md5gg(E,P,D,_,v[R],20,-373897302),_=md5gg(_,E,P,D,v[R+5],5,-701558691),D=md5gg(D,_,E,P,v[R+10],9,38016083),P=md5gg(P,D,_,E,v[R+15],14,-660478335),E=md5gg(E,P,D,_,v[R+4],20,-405537848),_=md5gg(_,E,P,D,v[R+9],5,568446438),D=md5gg(D,_,E,P,v[R+14],9,-1019803690),P=md5gg(P,D,_,E,v[R+3],14,-187363961),E=md5gg(E,P,D,_,v[R+8],20,1163531501),_=md5gg(_,E,P,D,v[R+13],5,-1444681467),D=md5gg(D,_,E,P,v[R+2],9,-51403784),P=md5gg(P,D,_,E,v[R+7],14,1735328473),_=md5hh(_,E=md5gg(E,P,D,_,v[R+12],20,-1926607734),P,D,v[R+5],4,-378558),D=md5hh(D,_,E,P,v[R+8],11,-2022574463),P=md5hh(P,D,_,E,v[R+11],16,1839030562),E=md5hh(E,P,D,_,v[R+14],23,-35309556),_=md5hh(_,E,P,D,v[R+1],4,-1530992060),D=md5hh(D,_,E,P,v[R+4],11,1272893353),P=md5hh(P,D,_,E,v[R+7],16,-155497632),E=md5hh(E,P,D,_,v[R+10],23,-1094730640),_=md5hh(_,E,P,D,v[R+13],4,681279174),D=md5hh(D,_,E,P,v[R],11,-358537222),P=md5hh(P,D,_,E,v[R+3],16,-722521979),E=md5hh(E,P,D,_,v[R+6],23,76029189),_=md5hh(_,E,P,D,v[R+9],4,-640364487),D=md5hh(D,_,E,P,v[R+12],11,-421815835),P=md5hh(P,D,_,E,v[R+15],16,530742520),_=md5ii(_,E=md5hh(E,P,D,_,v[R+2],23,-995338651),P,D,v[R],6,-198630844),D=md5ii(D,_,E,P,v[R+7],10,1126891415),P=md5ii(P,D,_,E,v[R+14],15,-1416354905),E=md5ii(E,P,D,_,v[R+5],21,-57434055),_=md5ii(_,E,P,D,v[R+12],6,1700485571),D=md5ii(D,_,E,P,v[R+3],10,-1894986606),P=md5ii(P,D,_,E,v[R+10],15,-1051523),E=md5ii(E,P,D,_,v[R+1],21,-2054922799),_=md5ii(_,E,P,D,v[R+8],6,1873313359),D=md5ii(D,_,E,P,v[R+15],10,-30611744),P=md5ii(P,D,_,E,v[R+6],15,-1560198380),E=md5ii(E,P,D,_,v[R+13],21,1309151649),_=md5ii(_,E,P,D,v[R+4],6,-145523070),D=md5ii(D,_,E,P,v[R+11],10,-1120210379),P=md5ii(P,D,_,E,v[R+2],15,718787259),E=md5ii(E,P,D,_,v[R+9],21,-343485551),_=safeAdd(_,M),E=safeAdd(E,O),P=safeAdd(P,F),D=safeAdd(D,N)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];for(var S=8*v.length,_=new Uint32Array(getOutputLength(S)),E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};const X=v35("v3",48,$);const Y=function v4(v,S,_){var E=(v=v||{}).random||(v.rng||rng)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,S){_=_||0;for(var P=0;P<16;++P)S[_+P]=E[P];return S}return F(E)};function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}const J=function sha1(v){var S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){var E=unescape(encodeURIComponent(v));v=[];for(var P=0;P<E.length;++P)v.push(E.charCodeAt(P))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);for(var D=v.length/4+2,R=Math.ceil(D/16),M=new Array(R),O=0;O<R;++O){for(var F=new Uint32Array(16),N=0;N<16;++N)F[N]=v[64*O+4*N]<<24|v[64*O+4*N+1]<<16|v[64*O+4*N+2]<<8|v[64*O+4*N+3];M[O]=F}M[R-1][14]=8*(v.length-1)/Math.pow(2,32),M[R-1][14]=Math.floor(M[R-1][14]),M[R-1][15]=8*(v.length-1)&4294967295;for(var L=0;L<R;++L){for(var U=new Uint32Array(80),V=0;V<16;++V)U[V]=M[L][V];for(var G=16;G<80;++G)U[G]=ROTL(U[G-3]^U[G-8]^U[G-14]^U[G-16],1);for(var W=_[0],$=_[1],X=_[2],Y=_[3],J=_[4],Z=0;Z<80;++Z){var Q=Math.floor(Z/20),tt=ROTL(W,5)+f(Q,$,X,Y)+J+S[Q]+U[Z]>>>0;J=Y,Y=X,X=ROTL($,30)>>>0,$=W,W=tt}_[0]=_[0]+W>>>0,_[1]=_[1]+$>>>0,_[2]=_[2]+X>>>0,_[3]=_[3]+Y>>>0,_[4]=_[4]+J>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};const Z=v35("v5",80,J),Q="00000000-0000-0000-0000-000000000000";const tt=function version(v){if(!R(v))throw TypeError("Invalid UUID");return parseInt(v.substr(14,1),16)}},962769:(v,S,_)=>{"use strict";_.d(S,{i:()=>P});var E=_(996722);const P={ETH_SIGN_REQUEST:new E.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new E.RegistryType("eth-signature",402),ETH_NFT_ITEM:new E.RegistryType("eth-nft-item",403)}},467604:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P=_(983506),D=_(869012);const R={EVM_SIGN_REQUEST:new P.RegistryType("evm-sign-request",4101),EVM_SIGNATURE:new P.RegistryType("evm-signature",4102)},{decodeToDataItem:M,RegistryTypes:O}=P.extend;var F,N;(F=S.SignDataType||(S.SignDataType={}))[F.arbitrary=1]="arbitrary",F[F.cosmosAmino=2]="cosmosAmino",F[F.cosmosDirect=3]="cosmosDirect",function(v){v[v.requestId=1]="requestId",v[v.signData=2]="signData",v[v.dataType=3]="dataType",v[v.customChainIdentifier=4]="customChainIdentifier",v[v.derivationPath=5]="derivationPath",v[v.address=6]="address",v[v.origin=7]="origin"}(N||(N={}));class o extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.EVM_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getCustomChainIdentifier=()=>this.customChainIdentifier,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};v[N.requestId]=new P.DataItem(this.requestId,O.UUID.getTag()),v[N.signData]=this.signData,v[N.dataType]=this.dataType,v[N.customChainIdentifier]=this.customChainIdentifier;const S=this.derivationPath.toDataItem();return S.setTag(this.derivationPath.getRegistryType().getTag()),v[N.derivationPath]=S,this.address&&(v[N.address]=this.address),this.origin&&(v[N.origin]=this.origin),new P.DataItem(v)},this.requestId=v.requestId,this.signData=v.signData,this.dataType=v.dataType,this.customChainIdentifier=v.customChainIdentifier,this.derivationPath=v.derivationPath,this.address=v.address,this.origin=v.origin}static parsePath(v,S){const _=v.replace(/[m|M]\//,"").split("/").map((v=>{const S=parseInt(v.replace("'",""));let _=!1;return v.endsWith("'")&&(_=!0),new P.PathComponent({index:S,hardened:_})}));return new P.CryptoKeypath(_,E.from(S,"hex"))}static constructEvmRequest(v,_,P,R,M,O,F,N){return new o({requestId:E.from(D.parse(v)),signData:P,dataType:R||S.SignDataType.arbitrary,customChainIdentifier:M,derivationPath:o.parsePath(O,_),address:F,origin:N})}}o.fromDataItem=v=>{const S=v.getData(),_=S[N.requestId]?S[N.requestId].getData():void 0;return new o({requestId:_,signData:S[N.signData],dataType:S[N.dataType],customChainIdentifier:S[N.customChainIdentifier],derivationPath:P.CryptoKeypath.fromDataItem(S[N.derivationPath]),address:S[N.address],origin:S[N.origin]})},o.fromCBOR=v=>{const S=M(v);return o.fromDataItem(S)};const{RegistryTypes:L,decodeToDataItem:U}=P.extend;var V;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature"}(V||(V={}));class u extends P.RegistryItem{constructor(v,S){super(),this.getRegistryType=()=>R.EVM_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const v={};return v[V.requestId]=new P.DataItem(this.requestId,L.UUID.getTag()),v[V.signature]=this.signature,new P.DataItem(v)},this.signature=v,this.requestId=S}}u.fromDataItem=v=>{const S=v.getData(),_=S[V.signature],E=S[V.requestId].getData();return new u(_,E)},u.fromCBOR=v=>{const S=U(v);return u.fromDataItem(S)},P.patchTags(Object.values(R).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(P).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return P[v]}})})),S.EvmSignRequest=o,S.EvmSignature=u},139719:(v,S,_)=>{"use strict";v.exports=_(467604)},197273:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Bytes=void 0;const E=_(466566),P=_(129392),D=_(380939);class Bytes extends P.RegistryItem{constructor(v){super(),this.bytes=v,this.getRegistryType=()=>D.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new E.DataItem(this.bytes)}}S.Bytes=Bytes,Bytes.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new Bytes(S)},Bytes.fromCBOR=v=>{const S=E.decodeToDataItem(v);return Bytes.fromDataItem(S)}},127206:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoAccount=void 0;const P=_(983506),D=_(466566),R=_(129392),M=_(380939);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.outputDescriptors=2]="outputDescriptors"}(O||(O={}));class CryptoAccount extends R.RegistryItem{constructor(v,S){super(),this.masterFingerprint=v,this.outputDescriptors=S,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(v[O.outputDescriptors]=this.outputDescriptors.map((v=>v.toDataItem()))),new D.DataItem(v)}}}S.CryptoAccount=CryptoAccount,CryptoAccount.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),D=S[O.masterFingerprint];D&&_.writeUInt32BE(D,0);const R=S[O.outputDescriptors].map((v=>P.CryptoOutput.fromDataItem(v)));return new CryptoAccount(_,R)},CryptoAccount.fromCBOR=v=>{const S=D.decodeToDataItem(v);return CryptoAccount.fromDataItem(S)}},221076:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoCoinInfo=S.Network=S.Type=void 0;const E=_(466566),P=_(129392),D=_(380939);var R,M,O;!function(v){v.type="1",v.network="2"}(R||(R={})),function(v){v[v.bitcoin=0]="bitcoin"}(M=S.Type||(S.Type={})),function(v){v[v.mainnet=0]="mainnet",v[v.testnet=1]="testnet"}(O=S.Network||(S.Network={}));class CryptoCoinInfo extends P.RegistryItem{constructor(v,S){super(),this.type=v,this.network=S,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||M.bitcoin,this.getNetwork=()=>this.network||O.mainnet,this.toDataItem=()=>{const v={};return this.type&&(v[R.type]=this.type),this.network&&(v[R.network]=this.network),new E.DataItem(v)}}}S.CryptoCoinInfo=CryptoCoinInfo,CryptoCoinInfo.fromDataItem=v=>{const S=v.getData(),_=S[R.type],E=S[R.network];return new CryptoCoinInfo(_,E)},CryptoCoinInfo.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoCoinInfo.fromDataItem(S)}},573706:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoECKey=void 0;const E=_(466566),P=_(129392),D=_(380939);var R;!function(v){v[v.curve=1]="curve",v[v.private=2]="private",v[v.data=3]="data"}(R||(R={}));class CryptoECKey extends P.RegistryItem{constructor(v){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const v={};return this.curve&&(v[R.curve]=this.curve),void 0!==this.privateKey&&(v[R.private]=this.privateKey),v[R.data]=this.data,new E.DataItem(v)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=v.data,this.curve=v.curve,this.privateKey=v.privateKey||void 0}}S.CryptoECKey=CryptoECKey,CryptoECKey.fromDataItem=v=>{const S=v.getData(),_=S[R.curve],E=S[R.private],P=S[R.data];if(!P)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${v}`);return new CryptoECKey({data:P,curve:_,privateKey:E})},CryptoECKey.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoECKey.fromDataItem(S)}},239518:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoHDKey=void 0;const P=_(95448),D=_(221076),R=_(92237),M=_(466566),O=_(129392),F=_(380939);var N;!function(v){v[v.is_master=1]="is_master",v[v.is_private=2]="is_private",v[v.key_data=3]="key_data",v[v.chain_code=4]="chain_code",v[v.use_info=5]="use_info",v[v.origin=6]="origin",v[v.children=7]="children",v[v.parent_fingerprint=8]="parent_fingerprint",v[v.name=9]="name",v[v.note=10]="note"}(N||(N={}));class CryptoHDKey extends O.RegistryItem{constructor(v){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var v,S,_;let D,R,M=0,O=E.alloc(4).fill(0);if(this.isMaster())D=E.from("0488ADE4","hex"),R=0,M=0;else{R=(null===(v=this.getOrigin())||void 0===v?void 0:v.getComponents().length)||(null===(S=this.getOrigin())||void 0===S?void 0:S.getDepth());const P=null===(_=this.getOrigin())||void 0===_?void 0:_.getComponents(),F=P[P.length-1];F&&(M=F.isHardened()?F.getIndex()+2147483648:F.getIndex(),this.getParentFingerprint()&&(O=this.getParentFingerprint())),D=this.isPrivateKey()?E.from("0488ADE4","hex"):E.from("0488B21E","hex")}const F=E.alloc(1);F.writeUInt8(R,0);const N=E.alloc(4);N.writeUInt32BE(M,0);const L=this.getChainCode(),U=this.getKey();return P.encode(E.concat([D,F,O,N,L,U]))},this.getRegistryType=()=>F.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var v,S,_,E,P,D,R;let M="";return this.getOrigin()&&(null===(v=this.getOrigin())||void 0===v?void 0:v.getSourceFingerprint())&&(null===(S=this.getOrigin())||void 0===S?void 0:S.getPath())&&(M+=`${null===(E=null===(_=this.getOrigin())||void 0===_?void 0:_.getSourceFingerprint())||void 0===E?void 0:E.toString("hex")}/${null===(P=this.getOrigin())||void 0===P?void 0:P.getPath()}`),M+=this.getBip32Key(),this.getChildren()&&(null===(D=this.getChildren())||void 0===D?void 0:D.getPath())&&(M+=`/${null===(R=this.getChildren())||void 0===R?void 0:R.getPath()}`),M},this.setupMasterKey=v=>{this.master=!0,this.key=v.key,this.chainCode=v.chainCode},this.setupDeriveKey=v=>{this.master=!1,this.privateKey=v.isPrivateKey,this.key=v.key,this.chainCode=v.chainCode,this.useInfo=v.useInfo,this.origin=v.origin,this.children=v.children,this.parentFingerprint=v.parentFingerprint,this.name=v.name,this.note=v.note},this.toDataItem=()=>{const v={};if(this.master)v[N.is_master]=!0,v[N.key_data]=this.key,v[N.chain_code]=this.chainCode;else{if(void 0!==this.privateKey&&(v[N.is_private]=this.privateKey),v[N.key_data]=this.key,this.chainCode&&(v[N.chain_code]=this.chainCode),this.useInfo){const S=this.useInfo.toDataItem();S.setTag(this.useInfo.getRegistryType().getTag()),v[N.use_info]=S}if(this.origin){const S=this.origin.toDataItem();S.setTag(this.origin.getRegistryType().getTag()),v[N.origin]=S}if(this.children){const S=this.children.toDataItem();S.setTag(this.children.getRegistryType().getTag()),v[N.children]=S}this.parentFingerprint&&(v[N.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),void 0!==this.name&&(v[N.name]=this.name),void 0!==this.note&&(v[N.note]=this.note)}return new M.DataItem(v)},v.isMaster?this.setupMasterKey(v):this.setupDeriveKey(v)}}S.CryptoHDKey=CryptoHDKey,CryptoHDKey.fromDataItem=v=>{const S=v.getData(),_=!!S[N.is_master],P=S[N.is_private],M=S[N.key_data],O=S[N.chain_code],F=S[N.use_info]?D.CryptoCoinInfo.fromDataItem(S[N.use_info]):void 0,L=S[N.origin]?R.CryptoKeypath.fromDataItem(S[N.origin]):void 0,U=S[N.children]?R.CryptoKeypath.fromDataItem(S[N.children]):void 0,V=S[N.parent_fingerprint];let G;V&&(G=E.alloc(4),G.writeUInt32BE(V,0));const W=S[N.name],$=S[N.note];return new CryptoHDKey({isMaster:_,isPrivateKey:P,key:M,chainCode:O,useInfo:F,origin:L,children:U,parentFingerprint:G,name:W,note:$})},CryptoHDKey.fromCBOR=v=>{const S=M.decodeToDataItem(v);return CryptoHDKey.fromDataItem(S)}},92237:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoKeypath=void 0;const P=_(466566),D=_(244656),R=_(129392),M=_(380939);var O;!function(v){v[v.components=1]="components",v[v.source_fingerprint=2]="source_fingerprint",v[v.depth=3]="depth"}(O||(O={}));class CryptoKeypath extends R.RegistryItem{constructor(v=[],S,_){super(),this.components=v,this.sourceFingerprint=S,this.depth=_,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return;return this.components.map((v=>`${v.isWildcard()?"*":v.getIndex()}${v.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const v={},S=[];return this.components&&this.components.forEach((v=>{v.isWildcard()?S.push([]):S.push(v.getIndex()),S.push(v.isHardened())})),v[O.components]=S,this.sourceFingerprint&&(v[O.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),void 0!==this.depth&&(v[O.depth]=this.depth),new P.DataItem(v)}}}S.CryptoKeypath=CryptoKeypath,CryptoKeypath.fromDataItem=v=>{const S=v.getData(),_=[],P=S[O.components];if(P)for(let v=0;v<P.length;v+=2){const S=P[v+1],E=P[v];"number"==typeof E?_.push(new D.PathComponent({index:E,hardened:S})):_.push(new D.PathComponent({hardened:S}))}const R=S[O.source_fingerprint];let M;R&&(M=E.alloc(4),M.writeUInt32BE(R,0));const F=S[O.depth];return new CryptoKeypath(_,M,F)},CryptoKeypath.fromCBOR=v=>{const S=P.decodeToDataItem(v);return CryptoKeypath.fromDataItem(S)}},267232:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoOutput=void 0;const E=_(573706),P=_(239518),D=_(466566),R=_(502992),M=_(129392),O=_(380939),F=_(864505);class CryptoOutput extends M.RegistryItem{constructor(v,S){super(),this.scriptExpressions=v,this.cryptoKey=S,this.getRegistryType=()=>O.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof P.CryptoHDKey?this.cryptoKey:void 0,this.getECKey=()=>this.cryptoKey instanceof E.CryptoECKey?this.cryptoKey:void 0,this.getMultiKey=()=>this.cryptoKey instanceof R.MultiKey?this.cryptoKey:void 0,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=v=>v>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[v].getExpression()}(${this._toOutputDescriptor(v+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let v=this.cryptoKey.toDataItem();(this.cryptoKey instanceof E.CryptoECKey||this.cryptoKey instanceof P.CryptoHDKey)&&v.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((S=>{const _=S.getTag();void 0===v.getTag()?v.setTag(_):v=new D.DataItem(v,_)})),v}}}S.CryptoOutput=CryptoOutput,CryptoOutput.fromDataItem=v=>{const S=[];let _=v;for(;;){let v=_.getTag();const E=F.ScriptExpression.fromTag(v);if(!E)break;if(S.push(E),!(_.getData()instanceof D.DataItem))break;_=_.getData(),v=_.getTag()}const M=S.length;if(M>0&&(S[M-1].getExpression()===F.ScriptExpressions.MULTISIG.getExpression()||S[M-1].getExpression()===F.ScriptExpressions.SORTED_MULTISIG.getExpression())){const v=R.MultiKey.fromDataItem(_);return new CryptoOutput(S,v)}if(_.getTag()===O.RegistryTypes.CRYPTO_HDKEY.getTag()){const v=P.CryptoHDKey.fromDataItem(_);return new CryptoOutput(S,v)}{const v=E.CryptoECKey.fromDataItem(_);return new CryptoOutput(S,v)}},CryptoOutput.fromCBOR=v=>{const S=D.decodeToDataItem(v);return CryptoOutput.fromDataItem(S)}},142282:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoPSBT=void 0;const E=_(466566),P=_(129392),D=_(380939);class CryptoPSBT extends P.RegistryItem{constructor(v){super(),this.psbt=v,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new E.DataItem(this.psbt)}}S.CryptoPSBT=CryptoPSBT,CryptoPSBT.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new CryptoPSBT(S)},CryptoPSBT.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoPSBT.fromDataItem(S)}},243701:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URRegistryDecoder=void 0;const E=_(653980),P=_(983506),D=_(380939),R=_(17216);class URRegistryDecoder extends E.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const v=this.resultUR();switch(v.type){case D.RegistryTypes.BYTES.getType():return P.Bytes.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_HDKEY.getType():return P.CryptoHDKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_KEYPATH.getType():return P.CryptoKeypath.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_COIN_INFO.getType():return P.CryptoCoinInfo.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ECKEY.getType():return P.CryptoECKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_OUTPUT.getType():return P.CryptoOutput.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_PSBT.getType():return P.CryptoPSBT.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ACCOUNT.getType():return P.CryptoAccount.fromCBOR(v.cbor);default:throw new R.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${v.type} is not supported now`)}}}}S.URRegistryDecoder=URRegistryDecoder},502992:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MultiKey=void 0;const E=_(573706),P=_(239518),D=_(959719),R=_(129392),M=_(380939);var O;!function(v){v[v.threshold=1]="threshold",v[v.keys=2]="keys"}(O||(O={}));class MultiKey extends R.RegistryItem{constructor(v,S){super(),this.threshold=v,this.keys=S,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const v={};v[O.threshold]=this.threshold;const S=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}));return v[O.keys]=S,new D.DataItem(v)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((v=>v.getOutputDescriptorContent())).join(",")].join(",")}}S.MultiKey=MultiKey,MultiKey.fromDataItem=v=>{const S=v.getData(),_=S[O.threshold],D=S[O.keys],R=[];return D.forEach((v=>{v.getTag()===M.RegistryTypes.CRYPTO_HDKEY.getTag()?R.push(P.CryptoHDKey.fromDataItem(v)):v.getTag()===M.RegistryTypes.CRYPTO_ECKEY.getTag()&&R.push(E.CryptoECKey.fromDataItem(v))})),new MultiKey(_,R)}},244656:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PathComponent=void 0;class PathComponent{constructor(v){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=v.index,this.hardened=v.hardened,void 0!==this.index?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&PathComponent.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}S.PathComponent=PathComponent,PathComponent.HARDENED_BIT=2147483648},129392:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryItem=void 0;const E=_(653980),P=_(466566);S.RegistryItem=class RegistryItem{constructor(){this.toCBOR=()=>{if(void 0===this.toDataItem())throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return P.encodeDataItem(this.toDataItem())},this.toUR=()=>new E.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(v,S,_)=>{const P=this.toUR();return new E.UREncoder(P,v,S,_)}}}},380939:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryTypes=S.RegistryType=void 0;class RegistryType{constructor(v,S){this.type=v,this.tag=S,this.getTag=()=>this.tag,this.getType=()=>this.type}}S.RegistryType=RegistryType,S.RegistryTypes={UUID:new RegistryType("uuid",37),BYTES:new RegistryType("bytes",void 0),CRYPTO_HDKEY:new RegistryType("crypto-hdkey",303),CRYPTO_KEYPATH:new RegistryType("crypto-keypath",304),CRYPTO_COIN_INFO:new RegistryType("crypto-coin-info",305),CRYPTO_ECKEY:new RegistryType("crypto-eckey",306),CRYPTO_OUTPUT:new RegistryType("crypto-output",308),CRYPTO_PSBT:new RegistryType("crypto-psbt",310),CRYPTO_ACCOUNT:new RegistryType("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new RegistryType("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new RegistryType("qr-hardware-call",1201),KEY_DERIVATION_CALL:new RegistryType("key-derivation-call",1301)}},864505:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ScriptExpressions=S.ScriptExpression=void 0;class ScriptExpression{constructor(v,S){this.tag=v,this.expression=S,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}S.ScriptExpression=ScriptExpression,ScriptExpression.fromTag=v=>Object.values(S.ScriptExpressions).find((S=>S.getTag()===v)),S.ScriptExpressions={SCRIPT_HASH:new ScriptExpression(400,"sh"),WITNESS_SCRIPT_HASH:new ScriptExpression(401,"wsh"),PUBLIC_KEY:new ScriptExpression(402,"pk"),PUBLIC_KEY_HASH:new ScriptExpression(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ScriptExpression(404,"wpkh"),COMBO:new ScriptExpression(405,"combo"),MULTISIG:new ScriptExpression(406,"multi"),SORTED_MULTISIG:new ScriptExpression(407,"sortedmulti"),ADDRESS:new ScriptExpression(307,"addr"),RAW_SCRIPT:new ScriptExpression(408,"raw")}},17216:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UnknownURTypeError=void 0;class UnknownURTypeError extends Error{constructor(v){super(v)}}S.UnknownURTypeError=UnknownURTypeError},701576:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoMultiAccounts=void 0;const P=_(380939),D=_(239518),R=_(129392),M=_(466566);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.keys=2]="keys",v[v.device=3]="device"}(O||(O={}));class CryptoMultiAccounts extends R.RegistryItem{constructor(v,S,_){super(),this.masterFingerprint=v,this.keys=S,this.device=_,this.getRegistryType=()=>P.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(v[O.keys]=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}))),this.device&&(v[O.device]=this.device),new M.DataItem(v)}}}S.CryptoMultiAccounts=CryptoMultiAccounts,CryptoMultiAccounts.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),P=S[O.masterFingerprint];P&&_.writeUInt32BE(P,0);const R=S[O.keys].map((v=>D.CryptoHDKey.fromDataItem(v))),M=S[O.device];return new CryptoMultiAccounts(_,R,M)},CryptoMultiAccounts.fromCBOR=v=>{const S=M.decodeToDataItem(v);return CryptoMultiAccounts.fromDataItem(S)}},222616:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyDerivation=S.DerivationAlgorithm=S.Curve=void 0;const E=_(380939),P=_(129392),D=_(466566),R=_(92237);var M,O,F;!function(v){v[v.keyPaths=1]="keyPaths",v[v.curve=2]="curve",v[v.algo=3]="algo",v[v.origin=4]="origin"}(M||(M={})),function(v){v.secp256k1="secp256k1",v.ed25519="ed25519"}(O=S.Curve||(S.Curve={})),function(v){v.slip10="slip10",v.bip32ed25519="bip32ed25519"}(F=S.DerivationAlgorithm||(S.DerivationAlgorithm={}));class KeyDerivation extends P.RegistryItem{constructor(v,S=O.secp256k1,_=F.slip10,P){super(),this.keypaths=v,this.curve=S,this.algo=_,this.origin=P,this.getRegistryType=()=>E.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[M.keyPaths]=this.keypaths.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),v[M.curve]=this.curve,v[M.algo]=this.algo,this.origin&&(v[M.origin]=this.origin),new D.DataItem(v)}}}S.KeyDerivation=KeyDerivation,KeyDerivation.fromDataItem=v=>{const S=v.getData(),_=S[M.keyPaths].map((v=>R.CryptoKeypath.fromDataItem(v))),E=S[M.curve],P=S[M.algo],D=S[M.origin];return new KeyDerivation(_,E,P,D)},KeyDerivation.fromCBOR=v=>{const S=D.decodeToDataItem(v);return KeyDerivation.fromDataItem(S)}},499135:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.QRHardwareCall=S.QRHardwareCallName=void 0;const E=_(380939),P=_(129392),D=_(466566),R=_(222616);var M,O;!function(v){v[v.name=1]="name",v[v.params=2]="params"}(M||(M={})),function(v){v.KeyDerivation="key-derivation"}(O=S.QRHardwareCallName||(S.QRHardwareCallName={}));class QRHardwareCall extends P.RegistryItem{constructor(v,S){super(),this.name=v,this.params=S,this.getRegistryType=()=>E.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{const v={};v[M.name]=this.name;const S=this.params.toDataItem();return S.setTag(this.params.getRegistryType().getTag()),v[M.params]=S,new D.DataItem(v)}}}S.QRHardwareCall=QRHardwareCall,QRHardwareCall.fromDataItem=v=>{const S=v.getData(),_=S[M.name]||O.KeyDerivation;let E;if(_===O.KeyDerivation)E=R.KeyDerivation.fromDataItem(S[M.params]);return new QRHardwareCall(_,E)},QRHardwareCall.fromCBOR=v=>{const S=D.decodeToDataItem(v);return QRHardwareCall.fromDataItem(S)}},983506:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Buffer=S.extend=S.PathComponent=S.ScriptExpressions=S.MultiKey=S.CryptoPSBT=S.CryptoOutput=S.CryptoECKey=S.CryptoCoinInfoNetwork=S.CryptoCoinInfoType=S.CryptoCoinInfo=S.CryptoKeypath=S.CryptoMultiAccounts=S.CryptoHDKey=S.CryptoAccount=S.Bytes=S.URRegistryDecoder=S.DataItem=void 0;const E=_(434117);_(375324);const P=_(901048);Object.defineProperty(S,"Buffer",{enumerable:!0,get:function(){return P.Buffer}});const D=_(239518);Object.defineProperty(S,"CryptoHDKey",{enumerable:!0,get:function(){return D.CryptoHDKey}});const R=_(92237);Object.defineProperty(S,"CryptoKeypath",{enumerable:!0,get:function(){return R.CryptoKeypath}});const M=_(221076);Object.defineProperty(S,"CryptoCoinInfo",{enumerable:!0,get:function(){return M.CryptoCoinInfo}}),Object.defineProperty(S,"CryptoCoinInfoType",{enumerable:!0,get:function(){return M.Type}}),Object.defineProperty(S,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return M.Network}});const O=_(573706);Object.defineProperty(S,"CryptoECKey",{enumerable:!0,get:function(){return O.CryptoECKey}});const F=_(197273);Object.defineProperty(S,"Bytes",{enumerable:!0,get:function(){return F.Bytes}});const N=_(267232);Object.defineProperty(S,"CryptoOutput",{enumerable:!0,get:function(){return N.CryptoOutput}});const L=_(142282);Object.defineProperty(S,"CryptoPSBT",{enumerable:!0,get:function(){return L.CryptoPSBT}});const U=_(127206);Object.defineProperty(S,"CryptoAccount",{enumerable:!0,get:function(){return U.CryptoAccount}});const V=_(243701);Object.defineProperty(S,"URRegistryDecoder",{enumerable:!0,get:function(){return V.URRegistryDecoder}});const G=_(502992);Object.defineProperty(S,"MultiKey",{enumerable:!0,get:function(){return G.MultiKey}});const W=_(864505);Object.defineProperty(S,"ScriptExpressions",{enumerable:!0,get:function(){return W.ScriptExpressions}});const $=_(244656);Object.defineProperty(S,"PathComponent",{enumerable:!0,get:function(){return $.PathComponent}});const X=_(129392),Y=_(380939),J=_(466566);var Z=_(466566);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return Z.DataItem}});const Q=_(777139),tt=_(701576);Object.defineProperty(S,"CryptoMultiAccounts",{enumerable:!0,get:function(){return tt.CryptoMultiAccounts}});const et={URRegistryDecoder:V.URRegistryDecoder,Bytes:F.Bytes,CryptoAccount:U.CryptoAccount,CryptoHDKey:D.CryptoHDKey,CryptoMultiAccounts:tt.CryptoMultiAccounts,CryptoKeypath:R.CryptoKeypath,CryptoCoinInfo:M.CryptoCoinInfo,CryptoCoinInfoType:M.Type,CryptoCoinInfoNetwork:M.Network,CryptoECKey:O.CryptoECKey,CryptoOutput:N.CryptoOutput,CryptoPSBT:L.CryptoPSBT,MultiKey:G.MultiKey,ScriptExpressions:W.ScriptExpressions,PathComponent:$.PathComponent},rt={addReader:J.addReader,addSemanticDecode:J.addSemanticDecode,addSemanticEncode:J.addSemanticEncode,addWriter:J.addWriter,patchTags:Q.patchTags},nt={RegistryTypes:Y.RegistryTypes,RegistryItem:X.RegistryItem,RegistryType:Y.RegistryType,decodeToDataItem:J.decodeToDataItem,encodeDataItem:J.encodeDataItem,cbor:rt};S.extend=nt,E.__exportStar(_(17216),S),E.__exportStar(_(243701),S),E.__exportStar(_(466566),S),E.__exportStar(_(127206),S),E.__exportStar(_(142282),S),E.__exportStar(_(239518),S),E.__exportStar(_(701576),S),E.__exportStar(_(499135),S),E.__exportStar(_(222616),S),E.__exportStar(_(267232),S),E.__exportStar(_(221076),S),E.__exportStar(_(573706),S),E.__exportStar(_(502992),S),E.__exportStar(_(92237),S),E.__exportStar(_(375324),S),E.__exportStar(_(244656),S),E.__exportStar(_(129392),S),E.__exportStar(_(380939),S),E.__exportStar(_(963631),S),E.__exportStar(_(777139),S),S.default=et},959719:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=void 0;S.DataItem=class DataItem{constructor(v,S){this.setTag=v=>{this.tag=v},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=v,this.tag=S}}},572374:function(v,S,_){"use strict";var E,P,D,R=_(901048).Buffer;P=[],void 0===(D="function"==typeof(E=function(){const{DataItem:v}=_(959719);var S=function(){function BinaryHex(v){this.$hex=v}BinaryHex.prototype={length:function(){return this.$hex.length/2},toString:function(v){if(!v||"hex"===v||16===v)return this.$hex;if("utf-8"===v){for(var S="",_=0;_<this.$hex.length;_+=2)S+="%"+this.$hex.substring(_,_+2);return decodeURIComponent(S)}if("latin"===v){for(S=[],_=0;_<this.$hex.length;_+=2)S.push(parseInt(this.$hex.substring(_,_+2),16));return String.fromCharCode.apply(String,S)}throw new Error("Unrecognised format: "+v)}},BinaryHex.fromLatinString=function(v){for(var S="",_=0;_<v.length;_++){var E=v.charCodeAt(_).toString(16);1===E.length&&(E="0"+E),S+=E}return new BinaryHex(S)},BinaryHex.fromUtf8String=function(v){for(var S=encodeURIComponent(v),_="",E=0;E<S.length;E++)if("%"===S.charAt(E))_+=S.substring(E+1,E+3),E+=2;else{var P=S.charCodeAt(E).toString(16);P.length<2&&(P="0"+P),_+=P}return new BinaryHex(_)};var S=[],_={},notImplemented=function(v){return function(){throw new Error(v+" not implemented")}};function Reader(){}function Writer(){}function readHeaderRaw(v){var S=v.readByte();return{type:S>>5,value:31&S}}function valueFromHeader(v,S){var _=v.value;return _<24?_:24==_?S.readByte():25==_?S.readUint16():26==_?S.readUint32():27==_?S.readUint64():31==_?null:void notImplemented("Additional info: "+_)()}function writeHeaderRaw(v,S,_){_.writeByte(v<<5|S)}function writeHeader(v,S,_){var E=v<<5;S<24?_.writeByte(E|S):S<256?(_.writeByte(24|E),_.writeByte(S)):S<65536?(_.writeByte(25|E),_.writeUint16(S)):S<4294967296?(_.writeByte(26|E),_.writeUint32(S)):(_.writeByte(27|E),_.writeUint64(S))}Reader.prototype={peekByte:notImplemented("peekByte"),readByte:notImplemented("readByte"),readChunk:notImplemented("readChunk"),readFloat16:function(){var v=this.readUint16(),S=(32767&v)>>10,_=1023&v,E=32768&v;if(31===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-25)*(1024+_):Math.pow(2,-24)*_;return E?-P:P},readFloat32:function(){var v=this.readUint32(),S=(2147483647&v)>>23,_=8388607&v,E=2147483648&v;if(255===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-23-127)*(8388608+_):Math.pow(2,-149)*_;return E?-P:P},readFloat64:function(){var v=this.readUint32(),S=v>>20&2047,_=4294967296*(1048575&v)+this.readUint32(),E=2147483648&v;if(2047===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-52-1023)*(4503599627370496+_):Math.pow(2,-1074)*_;return E?-P:P},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},Writer.prototype={writeByte:notImplemented("writeByte"),result:notImplemented("result"),writeFloat16:notImplemented("writeFloat16"),writeFloat32:notImplemented("writeFloat32"),writeFloat64:notImplemented("writeFloat64"),writeUint16:function(v){this.writeByte(v>>8&255),this.writeByte(255&v)},writeUint32:function(v){this.writeUint16(v>>16&65535),this.writeUint16(65535&v)},writeUint64:function(v){if(v>=9007199254740992||v<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+v+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(v/4294967296)),this.writeUint32(v%4294967296)},writeString:notImplemented("writeString"),canWriteBinary:function(v){return!1},writeBinary:notImplemented("writeChunk")};var E=new Error;function decodeReader(v){var S=readHeaderRaw(v);switch(S.type){case 0:return valueFromHeader(S,v);case 1:return-1-valueFromHeader(S,v);case 2:return v.readChunk(valueFromHeader(S,v));case 3:return v.readChunk(valueFromHeader(S,v)).toString("utf-8");case 4:case 5:var P=valueFromHeader(S,v),D=[];if(null!==P){5===S.type&&(P*=2);for(var R=0;R<P;R++)D[R]=decodeReader(v)}else for(var M;(M=decodeReader(v))!==E;)D.push(M);if(5===S.type){var O={};for(R=0;R<D.length;R+=2)O[D[R]]=D[R+1];return O}return D;case 6:var F=valueFromHeader(S,v),N=_[F];return D=decodeReader(v),N?N(D):D;case 7:if(25===S.value)return v.readFloat16();if(26===S.value)return v.readFloat32();if(27===S.value)return v.readFloat64();switch(valueFromHeader(S,v)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return E;default:throw new Error("Unknown fixed value: "+S.value)}default:throw new Error("Unsupported header: "+JSON.stringify(S))}throw new Error("not implemented yet")}function encodeWriter(v,_){for(var E=0;E<S.length;E++){var P=S[E].fn(v);if(void 0!==P)return writeHeader(6,S[E].tag,_),encodeWriter(P,_)}if(v&&"function"==typeof v.toCBOR&&(v=v.toCBOR()),!1===v)writeHeader(7,20,_);else if(!0===v)writeHeader(7,21,_);else if(null===v)writeHeader(7,22,_);else if(void 0===v)writeHeader(7,23,_);else if("number"==typeof v)Math.floor(v)===v&&v<9007199254740992&&v>-9007199254740992?v<0?writeHeader(1,-1-v,_):writeHeader(0,v,_):(writeHeaderRaw(7,27,_),_.writeFloat64(v));else if("string"==typeof v)_.writeString(v,(function(v){writeHeader(3,v,_)}));else if(_.canWriteBinary(v))_.writeBinary(v,(function(v){writeHeader(2,v,_)}));else{if("object"!=typeof v)throw new Error("CBOR encoding not supported: "+v);if(M.config.useToJSON&&"function"==typeof v.toJSON&&(v=v.toJSON()),Array.isArray(v))for(writeHeader(4,v.length,_),E=0;E<v.length;E++)encodeWriter(v[E],_);else{var D=Object.keys(v);for(writeHeader(5,D.length,_),E=0;E<D.length;E++){const S=parseInt(D[E]);isNaN(S)?(encodeWriter(D[E],_),encodeWriter(v[D[E]],_)):(encodeWriter(S,_),encodeWriter(v[D[E]],_))}}}}var P=[],D=[],M={config:{useToJSON:!0},addWriter:function(v,S){"string"==typeof v?D.push((function(_){if(v===_)return S(_)})):D.push(v)},addReader:function(v,S){"string"==typeof v?P.push((function(_,E){if(v===E)return S(_,E)})):P.push(v)},encode:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return encodeWriter(v,E),E.result()}throw new Error("Unsupported output format: "+S)},encodeDataItem:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return void 0!==v.getTag()?(encodeWriter(v,E),E.result()):(encodeWriter(v.getData(),E),E.result())}throw new Error("Unsupported output format: "+S)},decode:function(v,S){for(var _=0;_<P.length;_++){var E=(0,P[_])(v,S);if(E)return decodeReader(E)}throw new Error("Unsupported input format: "+S)},decodeToDataItem:function(S,_){for(var E=0;E<P.length;E++){var D=(0,P[E])(S,_);if(D){const S=decodeReader(D);return S instanceof v?S:new v(S)}}throw new Error("Unsupported input format: "+_)},addSemanticEncode:function(v,_){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return S.push({tag:v,fn:_}),this},addSemanticDecode:function(v,S){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return _[v]=S,this}};function BufferReader(v){this.buffer=v,this.pos=0}function BufferWriter(v){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=v}function HexReader(v){this.hex=v,this.pos=0}function HexWriter(v){this.$hex="",this.finalFormat=v||"hex"}return BufferReader.prototype=Object.create(Reader.prototype),BufferReader.prototype.peekByte=function(){return this.buffer[this.pos]},BufferReader.prototype.readByte=function(){return this.buffer[this.pos++]},BufferReader.prototype.readUint16=function(){var v=this.buffer.readUInt16BE(this.pos);return this.pos+=2,v},BufferReader.prototype.readUint32=function(){var v=this.buffer.readUInt32BE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat32=function(){var v=this.buffer.readFloatBE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat64=function(){var v=this.buffer.readDoubleBE(this.pos);return this.pos+=8,v},BufferReader.prototype.readChunk=function(v){var S=R.alloc(v);return this.buffer.copy(S,0,this.pos,this.pos+=v),S},BufferWriter.prototype=Object.create(Writer.prototype),BufferWriter.prototype.writeByte=function(v){this.latestBuffer[this.latestBufferOffset++]=v,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},BufferWriter.prototype.writeFloat32=function(v){var S=R.alloc(4);S.writeFloatBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeFloat64=function(v){var S=R.alloc(8);S.writeDoubleBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeString=function(v,S){var _=R.from(v,"utf-8");S(_.length),this.writeBuffer(_)},BufferWriter.prototype.canWriteBinary=function(v){return v instanceof R},BufferWriter.prototype.writeBinary=function(v,S){S(v.length),this.writeBuffer(v)},BufferWriter.prototype.writeBuffer=function(v){if(!(v instanceof R))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=v.length?(v.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=v.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(v),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(v),this.byteLength+=v.length},BufferWriter.prototype.result=function(){for(var v=R.alloc(this.byteLength),S=0,_=0;_<this.completeBuffers.length;_++){var E=this.completeBuffers[_];E.copy(v,S,0,E.length),S+=E.length}return this.latestBufferOffset&&this.latestBuffer.copy(v,S,0,this.latestBufferOffset),this.stringFormat?v.toString(this.stringFormat):v},"function"==typeof R&&(M.addReader((function(v,S){return R.isBuffer(v)?new BufferReader(v):"hex"===S||"base64"===S?new BufferReader(R.from(v,S)):void 0})),M.addWriter((function(v){return v&&"buffer"!==v?"hex"===v||"base64"===v?new BufferWriter(v):void 0:new BufferWriter}))),HexReader.prototype=Object.create(Reader.prototype),HexReader.prototype.peekByte=function(){var v=this.hex.substring(this.pos,2);return parseInt(v,16)},HexReader.prototype.readByte=function(){var v=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(v,16)},HexReader.prototype.readChunk=function(v){var S=this.hex.substring(this.pos,this.pos+2*v);return this.pos+=2*v,"function"==typeof R?R.from(S,"hex"):new BinaryHex(S)},HexWriter.prototype=Object.create(Writer.prototype),HexWriter.prototype.writeByte=function(v){if(v<0||v>255)throw new Error("Byte value out of range: "+v);var S=v.toString(16);1==S.length&&(S="0"+S),this.$hex+=S},HexWriter.prototype.canWriteBinary=function(v){return v instanceof BinaryHex||"function"==typeof R&&v instanceof R},HexWriter.prototype.writeBinary=function(v,S){if(v instanceof BinaryHex)S(v.length()),this.$hex+=v.$hex;else{if(!("function"==typeof R&&v instanceof R))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");S(v.length),this.$hex+=v.toString("hex")}},HexWriter.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof R?R.from(this.$hex,"hex"):new BinaryHex(this.$hex).toString(this.finalFormat)},HexWriter.prototype.writeString=function(v,S){var _=BinaryHex.fromUtf8String(v);S(_.length()),this.$hex+=_.$hex},M.addReader((function(v,S){return v instanceof BinaryHex||v.$hex?new HexReader(v.$hex):"hex"===S?new HexReader(v):void 0})),M.addWriter((function(v){if("hex"===v)return new HexWriter})),M}();return S.addSemanticEncode(0,(function(v){if(v instanceof Date)return v.toISOString()})).addSemanticDecode(0,(function(v){return new Date(v)})).addSemanticDecode(1,(function(v){return new Date(v)})),S})?E.apply(S,P):E)||(v.exports=D)},466566:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=S.addWriter=S.addReader=S.addSemanticEncode=S.addSemanticDecode=S.decodeToDataItem=S.encodeDataItem=void 0;var E=_(572374);Object.defineProperty(S,"encodeDataItem",{enumerable:!0,get:function(){return E.encodeDataItem}}),Object.defineProperty(S,"decodeToDataItem",{enumerable:!0,get:function(){return E.decodeToDataItem}}),Object.defineProperty(S,"addSemanticDecode",{enumerable:!0,get:function(){return E.addSemanticDecode}}),Object.defineProperty(S,"addSemanticEncode",{enumerable:!0,get:function(){return E.addSemanticEncode}}),Object.defineProperty(S,"addReader",{enumerable:!0,get:function(){return E.addReader}}),Object.defineProperty(S,"addWriter",{enumerable:!0,get:function(){return E.addWriter}});var P=_(959719);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return P.DataItem}})},375324:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});const E=_(777139),P=_(380939),D=_(864505),R=Object.values(P.RegistryTypes).filter((v=>!!v.getTag())).map((v=>v.getTag())),M=Object.values(D.ScriptExpressions).map((v=>v.getTag()));E.patchTags(R.concat(M))},963631:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0})},777139:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.patchTags=void 0;const E=_(466566),P=[];S.patchTags=v=>{v.forEach((v=>{P.find((S=>S===v))||(E.addSemanticEncode(v,(S=>{if(S instanceof E.DataItem&&S.getTag()===v)return S.getData()})),E.addSemanticDecode(v,(S=>new E.DataItem(S,v))),P.push(v))}))}},610167:(v,S,_)=>{"use strict";var E=_(939216),P=_(825636).Buffer;v.exports=function(v){function decodeRaw(S){var _=S.slice(0,-4),E=S.slice(-4),P=v(_);if(!(E[0]^P[0]|E[1]^P[1]|E[2]^P[2]|E[3]^P[3]))return _}return{encode:function encode(S){var _=v(S);return E.encode(P.concat([S,_],S.length+4))},decode:function decode(v){var S=decodeRaw(E.decode(v));if(!S)throw new Error("Invalid checksum");return S},decodeUnsafe:function decodeUnsafe(v){var S=E.decodeUnsafe(v);if(S)return decodeRaw(S)}}}},95448:(v,S,_)=>{"use strict";var E=_(213257),P=_(610167);v.exports=P((function sha256x2(v){var S=E("sha256").update(v).digest();return E("sha256").update(S).digest()}))},869012:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"NIL",{enumerable:!0,get:function get(){return M.default}}),Object.defineProperty(S,"parse",{enumerable:!0,get:function get(){return L.default}}),Object.defineProperty(S,"stringify",{enumerable:!0,get:function get(){return N.default}}),Object.defineProperty(S,"v1",{enumerable:!0,get:function get(){return E.default}}),Object.defineProperty(S,"v3",{enumerable:!0,get:function get(){return P.default}}),Object.defineProperty(S,"v4",{enumerable:!0,get:function get(){return D.default}}),Object.defineProperty(S,"v5",{enumerable:!0,get:function get(){return R.default}}),Object.defineProperty(S,"validate",{enumerable:!0,get:function get(){return F.default}}),Object.defineProperty(S,"version",{enumerable:!0,get:function get(){return O.default}});var E=_interopRequireDefault(_(975659)),P=_interopRequireDefault(_(835693)),D=_interopRequireDefault(_(943256)),R=_interopRequireDefault(_(506415)),M=_interopRequireDefault(_(688167)),O=_interopRequireDefault(_(934344)),F=_interopRequireDefault(_(80788)),N=_interopRequireDefault(_(366841)),L=_interopRequireDefault(_(407703));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}},90748:(v,S)=>{"use strict";function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){const _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=function md5(v){if("string"==typeof v){const S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(let _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){const S=[],_=32*v.length,E="0123456789abcdef";for(let P=0;P<_;P+=8){const _=v[P>>5]>>>P%32&255,D=parseInt(E.charAt(_>>>4&15)+E.charAt(15&_),16);S.push(D)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;let _=1732584193,E=-271733879,P=-1732584194,D=271733878;for(let S=0;S<v.length;S+=16){const R=_,M=E,O=P,F=D;_=md5ff(_,E,P,D,v[S],7,-680876936),D=md5ff(D,_,E,P,v[S+1],12,-389564586),P=md5ff(P,D,_,E,v[S+2],17,606105819),E=md5ff(E,P,D,_,v[S+3],22,-1044525330),_=md5ff(_,E,P,D,v[S+4],7,-176418897),D=md5ff(D,_,E,P,v[S+5],12,1200080426),P=md5ff(P,D,_,E,v[S+6],17,-1473231341),E=md5ff(E,P,D,_,v[S+7],22,-45705983),_=md5ff(_,E,P,D,v[S+8],7,1770035416),D=md5ff(D,_,E,P,v[S+9],12,-1958414417),P=md5ff(P,D,_,E,v[S+10],17,-42063),E=md5ff(E,P,D,_,v[S+11],22,-1990404162),_=md5ff(_,E,P,D,v[S+12],7,1804603682),D=md5ff(D,_,E,P,v[S+13],12,-40341101),P=md5ff(P,D,_,E,v[S+14],17,-1502002290),E=md5ff(E,P,D,_,v[S+15],22,1236535329),_=md5gg(_,E,P,D,v[S+1],5,-165796510),D=md5gg(D,_,E,P,v[S+6],9,-1069501632),P=md5gg(P,D,_,E,v[S+11],14,643717713),E=md5gg(E,P,D,_,v[S],20,-373897302),_=md5gg(_,E,P,D,v[S+5],5,-701558691),D=md5gg(D,_,E,P,v[S+10],9,38016083),P=md5gg(P,D,_,E,v[S+15],14,-660478335),E=md5gg(E,P,D,_,v[S+4],20,-405537848),_=md5gg(_,E,P,D,v[S+9],5,568446438),D=md5gg(D,_,E,P,v[S+14],9,-1019803690),P=md5gg(P,D,_,E,v[S+3],14,-187363961),E=md5gg(E,P,D,_,v[S+8],20,1163531501),_=md5gg(_,E,P,D,v[S+13],5,-1444681467),D=md5gg(D,_,E,P,v[S+2],9,-51403784),P=md5gg(P,D,_,E,v[S+7],14,1735328473),E=md5gg(E,P,D,_,v[S+12],20,-1926607734),_=md5hh(_,E,P,D,v[S+5],4,-378558),D=md5hh(D,_,E,P,v[S+8],11,-2022574463),P=md5hh(P,D,_,E,v[S+11],16,1839030562),E=md5hh(E,P,D,_,v[S+14],23,-35309556),_=md5hh(_,E,P,D,v[S+1],4,-1530992060),D=md5hh(D,_,E,P,v[S+4],11,1272893353),P=md5hh(P,D,_,E,v[S+7],16,-155497632),E=md5hh(E,P,D,_,v[S+10],23,-1094730640),_=md5hh(_,E,P,D,v[S+13],4,681279174),D=md5hh(D,_,E,P,v[S],11,-358537222),P=md5hh(P,D,_,E,v[S+3],16,-722521979),E=md5hh(E,P,D,_,v[S+6],23,76029189),_=md5hh(_,E,P,D,v[S+9],4,-640364487),D=md5hh(D,_,E,P,v[S+12],11,-421815835),P=md5hh(P,D,_,E,v[S+15],16,530742520),E=md5hh(E,P,D,_,v[S+2],23,-995338651),_=md5ii(_,E,P,D,v[S],6,-198630844),D=md5ii(D,_,E,P,v[S+7],10,1126891415),P=md5ii(P,D,_,E,v[S+14],15,-1416354905),E=md5ii(E,P,D,_,v[S+5],21,-57434055),_=md5ii(_,E,P,D,v[S+12],6,1700485571),D=md5ii(D,_,E,P,v[S+3],10,-1894986606),P=md5ii(P,D,_,E,v[S+10],15,-1051523),E=md5ii(E,P,D,_,v[S+1],21,-2054922799),_=md5ii(_,E,P,D,v[S+8],6,1873313359),D=md5ii(D,_,E,P,v[S+15],10,-30611744),P=md5ii(P,D,_,E,v[S+6],15,-1560198380),E=md5ii(E,P,D,_,v[S+13],21,1309151649),_=md5ii(_,E,P,D,v[S+4],6,-145523070),D=md5ii(D,_,E,P,v[S+11],10,-1120210379),P=md5ii(P,D,_,E,v[S+2],15,718787259),E=md5ii(E,P,D,_,v[S+9],21,-343485551),_=safeAdd(_,R),E=safeAdd(E,M),P=safeAdd(P,O),D=safeAdd(D,F)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];const S=8*v.length,_=new Uint32Array(getOutputLength(S));for(let E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};S.default=_},60705:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};S.default=_},688167:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;S.default="00000000-0000-0000-0000-000000000000"},407703:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(80788));var P=function parse(v){if(!(0,E.default)(v))throw TypeError("Invalid UUID");let S;const _=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};S.default=P},952091:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;S.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},829257:(v,S)=>{"use strict";let _;Object.defineProperty(S,"__esModule",{value:!0}),S.default=function rng(){if(!_&&(_="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _(E)};const E=new Uint8Array(16)},383935:(v,S)=>{"use strict";function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=function sha1(v){const S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){const S=unescape(encodeURIComponent(v));v=[];for(let _=0;_<S.length;++_)v.push(S.charCodeAt(_))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);const E=v.length/4+2,P=Math.ceil(E/16),D=new Array(P);for(let S=0;S<P;++S){const _=new Uint32Array(16);for(let E=0;E<16;++E)_[E]=v[64*S+4*E]<<24|v[64*S+4*E+1]<<16|v[64*S+4*E+2]<<8|v[64*S+4*E+3];D[S]=_}D[P-1][14]=8*(v.length-1)/Math.pow(2,32),D[P-1][14]=Math.floor(D[P-1][14]),D[P-1][15]=8*(v.length-1)&4294967295;for(let v=0;v<P;++v){const E=new Uint32Array(80);for(let S=0;S<16;++S)E[S]=D[v][S];for(let v=16;v<80;++v)E[v]=ROTL(E[v-3]^E[v-8]^E[v-14]^E[v-16],1);let P=_[0],R=_[1],M=_[2],O=_[3],F=_[4];for(let v=0;v<80;++v){const _=Math.floor(v/20),D=ROTL(P,5)+f(_,R,M,O)+F+S[_]+E[v]>>>0;F=O,O=M,M=ROTL(R,30)>>>0,R=P,P=D}_[0]=_[0]+P>>>0,_[1]=_[1]+R>>>0,_[2]=_[2]+M>>>0,_[3]=_[3]+O>>>0,_[4]=_[4]+F>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};S.default=_},366841:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,S.unsafeStringify=unsafeStringify;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(80788));const P=[];for(let v=0;v<256;++v)P.push((v+256).toString(16).slice(1));function unsafeStringify(v,S=0){return P[v[S+0]]+P[v[S+1]]+P[v[S+2]]+P[v[S+3]]+"-"+P[v[S+4]]+P[v[S+5]]+"-"+P[v[S+6]]+P[v[S+7]]+"-"+P[v[S+8]]+P[v[S+9]]+"-"+P[v[S+10]]+P[v[S+11]]+P[v[S+12]]+P[v[S+13]]+P[v[S+14]]+P[v[S+15]]}var D=function stringify(v,S=0){const _=unsafeStringify(v,S);if(!(0,E.default)(_))throw TypeError("Stringified UUID is invalid");return _};S.default=D},975659:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(829257)),P=_(366841);let D,R,M=0,O=0;var F=function v1(v,S,_){let F=S&&_||0;const N=S||new Array(16);let L=(v=v||{}).node||D,U=void 0!==v.clockseq?v.clockseq:R;if(null==L||null==U){const S=v.random||(v.rng||E.default)();null==L&&(L=D=[1|S[0],S[1],S[2],S[3],S[4],S[5]]),null==U&&(U=R=16383&(S[6]<<8|S[7]))}let V=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:O+1;const W=V-M+(G-O)/1e4;if(W<0&&void 0===v.clockseq&&(U=U+1&16383),(W<0||V>M)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");M=V,O=G,R=U,V+=122192928e5;const $=(1e4*(268435455&V)+G)%4294967296;N[F++]=$>>>24&255,N[F++]=$>>>16&255,N[F++]=$>>>8&255,N[F++]=255&$;const X=V/4294967296*1e4&268435455;N[F++]=X>>>8&255,N[F++]=255&X,N[F++]=X>>>24&15|16,N[F++]=X>>>16&255,N[F++]=U>>>8|128,N[F++]=255&U;for(let v=0;v<6;++v)N[F+v]=L[v];return S||(0,P.unsafeStringify)(N)};S.default=F},835693:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(317630)),P=_interopRequireDefault(_(90748));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var D=(0,E.default)("v3",48,P.default);S.default=D},317630:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URL=S.DNS=void 0,S.default=function v35(v,S,_){function generateUUID(v,D,R,M){var O;if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));const S=[];for(let _=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof D&&(D=(0,P.default)(D)),16!==(null===(O=D)||void 0===O?void 0:O.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let F=new Uint8Array(16+v.length);if(F.set(D),F.set(v,D.length),F=_(F),F[6]=15&F[6]|S,F[8]=63&F[8]|128,R){M=M||0;for(let v=0;v<16;++v)R[M+v]=F[v];return R}return(0,E.unsafeStringify)(F)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS=D,generateUUID.URL=R,generateUUID};var E=_(366841),P=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(407703));const D="6ba7b810-9dad-11d1-80b4-00c04fd430c8";S.DNS=D;const R="6ba7b811-9dad-11d1-80b4-00c04fd430c8";S.URL=R},943256:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(60705)),P=_interopRequireDefault(_(829257)),D=_(366841);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var R=function v4(v,S,_){if(E.default.randomUUID&&!S&&!v)return E.default.randomUUID();const R=(v=v||{}).random||(v.rng||P.default)();if(R[6]=15&R[6]|64,R[8]=63&R[8]|128,S){_=_||0;for(let v=0;v<16;++v)S[_+v]=R[v];return S}return(0,D.unsafeStringify)(R)};S.default=R},506415:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(317630)),P=_interopRequireDefault(_(383935));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var D=(0,E.default)("v5",80,P.default);S.default=D},80788:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(952091));var P=function validate(v){return"string"==typeof v&&E.default.test(v)};S.default=P},934344:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(80788));var P=function version(v){if(!(0,E.default)(v))throw TypeError("Invalid UUID");return parseInt(v.slice(14,15),16)};S.default=P},326420:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});var E=_(996722);const P={KEYSTONE_SIGN_REQUEST:new E.RegistryType("keystone-sign-request",6101),KEYSTONE_SIGN_RESULT:new E.RegistryType("keystone-sign-result",6102)},{decodeToDataItem:D}=E.extend;var R;!function(v){v[v.signData=1]="signData",v[v.origin=2]="origin"}(R||(R={}));class i extends E.RegistryItem{constructor(v){super(),this.getRegistryType=()=>P.KEYSTONE_SIGN_REQUEST,this.getSignData=()=>this.signData,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[R.signData]=this.signData,this.origin&&(v[R.origin]=this.origin),new E.DataItem(v)},this.signData=v.signData,this.origin=v.origin}static constructKeystoneRequest(v,S){return new i({signData:v,origin:S})}}i.fromDataItem=v=>{const S=v.getData();return new i({signData:S[R.signData],origin:S[R.origin]})},i.fromCBOR=v=>{const S=D(v);return i.fromDataItem(S)};const{decodeToDataItem:M}=E.extend;var O;!function(v){v[v.signResult=1]="signResult"}(O||(O={}));class g extends E.RegistryItem{constructor(v){super(),this.getRegistryType=()=>P.KEYSTONE_SIGN_RESULT,this.getSignResult=()=>this.signResult,this.toDataItem=()=>{const v={};return v[O.signResult]=this.signResult,new E.DataItem(v)},this.signResult=v}}g.fromDataItem=v=>{const S=v.getData();return new g(S[O.signResult])},g.fromCBOR=v=>{const S=M(v);return g.fromDataItem(S)},E.patchTags(Object.values(P).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(E).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return E[v]}})})),S.KeystoneSignRequest=i,S.KeystoneSignResult=g},961137:(v,S,_)=>{"use strict";v.exports=_(326420)},92692:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P=_(996722),D=_(201492);const R={NEAR_SIGN_REQUEST:new P.RegistryType("near-sign-request",2101),NEAR_SIGNATURE:new P.RegistryType("near-signature",2102),CRYPTO_MULTI_ACCOUNTS:new P.RegistryType("crypto-multi-accounts",2103)},{decodeToDataItem:M,RegistryTypes:O}=P.extend;var F;!function(v){v[v.requestId=1]="requestId",v[v.signData=2]="signData",v[v.derivationPath=3]="derivationPath",v[v.account=4]="account",v[v.origin=5]="origin"}(F||(F={}));class n extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.NEAR_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAccount=()=>this.account,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};this.requestId&&(v[F.requestId]=new P.DataItem(this.requestId,O.UUID.getTag())),this.account&&(v[F.account]=this.account),this.origin&&(v[F.origin]=this.origin),v[F.signData]=this.signData;const S=this.derivationPath.toDataItem();return S.setTag(this.derivationPath.getRegistryType().getTag()),v[F.derivationPath]=S,new P.DataItem(v)},this.requestId=v.requestId,this.signData=v.signData,this.derivationPath=v.derivationPath,this.account=v.account,this.origin=v.origin}static constructNearRequest(v,S,_,R,M,O){const F=S.replace(/[m|M]\//,"").split("/"),N=new P.CryptoKeypath(F.map((v=>{const S=parseInt(v.replace("'",""));let _=!1;return v.endsWith("'")&&(_=!0),new P.PathComponent({index:S,hardened:_})})),E.from(_,"hex"));return new n({requestId:R?E.from(D.parse(R)):void 0,signData:v,derivationPath:N,account:M||void 0,origin:O||void 0})}}n.fromDataItem=v=>{const S=v.getData(),_=S[F.signData],E=P.CryptoKeypath.fromDataItem(S[F.derivationPath]),D=S[F.account]?S[F.account]:void 0,R=S[F.requestId]?S[F.requestId].getData():void 0;return new n({requestId:R,signData:_,derivationPath:E,account:D,origin:S[F.origin]?S[F.origin]:void 0})},n.fromCBOR=v=>{const S=M(v);return n.fromDataItem(S)};const{RegistryTypes:N,decodeToDataItem:L}=P.extend;var U;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature"}(U||(U={}));class c extends P.RegistryItem{constructor(v,S){super(),this.getRegistryType=()=>R.NEAR_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const v={};return this.requestId&&(v[U.requestId]=new P.DataItem(this.requestId,N.UUID.getTag())),v[U.signature]=this.signature,new P.DataItem(v)},this.signature=v,this.requestId=S}}c.fromDataItem=v=>{const S=v.getData(),_=S[U.signature],E=S[U.requestId]?S[U.requestId].getData():void 0;return new c(_,E)},c.fromCBOR=v=>{const S=L(v);return c.fromDataItem(S)},P.patchTags(Object.values(R).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(P).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return P[v]}})})),S.NearSignRequest=n,S.NearSignature=c},632231:(v,S,_)=>{"use strict";v.exports=_(92692)},201492:(v,S,_)=>{"use strict";var E;_.r(S),_.d(S,{NIL:()=>Q,parse:()=>W,stringify:()=>F,v1:()=>G,v3:()=>X,v4:()=>Y,v5:()=>Z,validate:()=>R,version:()=>tt});var P=new Uint8Array(16);function rng(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(P)}const D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const R=function validate(v){return"string"==typeof v&&D.test(v)};for(var M=[],O=0;O<256;++O)M.push((O+256).toString(16).substr(1));const F=function stringify(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=(M[v[S+0]]+M[v[S+1]]+M[v[S+2]]+M[v[S+3]]+"-"+M[v[S+4]]+M[v[S+5]]+"-"+M[v[S+6]]+M[v[S+7]]+"-"+M[v[S+8]]+M[v[S+9]]+"-"+M[v[S+10]]+M[v[S+11]]+M[v[S+12]]+M[v[S+13]]+M[v[S+14]]+M[v[S+15]]).toLowerCase();if(!R(_))throw TypeError("Stringified UUID is invalid");return _};var N,L,U=0,V=0;const G=function v1(v,S,_){var E=S&&_||0,P=S||new Array(16),D=(v=v||{}).node||N,R=void 0!==v.clockseq?v.clockseq:L;if(null==D||null==R){var M=v.random||(v.rng||rng)();null==D&&(D=N=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),null==R&&(R=L=16383&(M[6]<<8|M[7]))}var O=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:V+1,W=O-U+(G-V)/1e4;if(W<0&&void 0===v.clockseq&&(R=R+1&16383),(W<0||O>U)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=O,V=G,L=R;var $=(1e4*(268435455&(O+=122192928e5))+G)%4294967296;P[E++]=$>>>24&255,P[E++]=$>>>16&255,P[E++]=$>>>8&255,P[E++]=255&$;var X=O/4294967296*1e4&268435455;P[E++]=X>>>8&255,P[E++]=255&X,P[E++]=X>>>24&15|16,P[E++]=X>>>16&255,P[E++]=R>>>8|128,P[E++]=255&R;for(var Y=0;Y<6;++Y)P[E+Y]=D[Y];return S||F(P)};const W=function parse(v){if(!R(v))throw TypeError("Invalid UUID");var S,_=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};function v35(v,S,_){function generateUUID(v,E,P,D){if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));for(var S=[],_=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof E&&(E=W(E)),16!==E.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var R=new Uint8Array(16+v.length);if(R.set(E),R.set(v,E.length),(R=_(R))[6]=15&R[6]|S,R[8]=63&R[8]|128,P){D=D||0;for(var M=0;M<16;++M)P[D+M]=R[M];return P}return F(R)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){var _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}const $=function md5(v){if("string"==typeof v){var S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(var _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){for(var S=[],_=32*v.length,E="0123456789abcdef",P=0;P<_;P+=8){var D=v[P>>5]>>>P%32&255,R=parseInt(E.charAt(D>>>4&15)+E.charAt(15&D),16);S.push(R)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;for(var _=1732584193,E=-271733879,P=-1732584194,D=271733878,R=0;R<v.length;R+=16){var M=_,O=E,F=P,N=D;_=md5ff(_,E,P,D,v[R],7,-680876936),D=md5ff(D,_,E,P,v[R+1],12,-389564586),P=md5ff(P,D,_,E,v[R+2],17,606105819),E=md5ff(E,P,D,_,v[R+3],22,-1044525330),_=md5ff(_,E,P,D,v[R+4],7,-176418897),D=md5ff(D,_,E,P,v[R+5],12,1200080426),P=md5ff(P,D,_,E,v[R+6],17,-1473231341),E=md5ff(E,P,D,_,v[R+7],22,-45705983),_=md5ff(_,E,P,D,v[R+8],7,1770035416),D=md5ff(D,_,E,P,v[R+9],12,-1958414417),P=md5ff(P,D,_,E,v[R+10],17,-42063),E=md5ff(E,P,D,_,v[R+11],22,-1990404162),_=md5ff(_,E,P,D,v[R+12],7,1804603682),D=md5ff(D,_,E,P,v[R+13],12,-40341101),P=md5ff(P,D,_,E,v[R+14],17,-1502002290),_=md5gg(_,E=md5ff(E,P,D,_,v[R+15],22,1236535329),P,D,v[R+1],5,-165796510),D=md5gg(D,_,E,P,v[R+6],9,-1069501632),P=md5gg(P,D,_,E,v[R+11],14,643717713),E=md5gg(E,P,D,_,v[R],20,-373897302),_=md5gg(_,E,P,D,v[R+5],5,-701558691),D=md5gg(D,_,E,P,v[R+10],9,38016083),P=md5gg(P,D,_,E,v[R+15],14,-660478335),E=md5gg(E,P,D,_,v[R+4],20,-405537848),_=md5gg(_,E,P,D,v[R+9],5,568446438),D=md5gg(D,_,E,P,v[R+14],9,-1019803690),P=md5gg(P,D,_,E,v[R+3],14,-187363961),E=md5gg(E,P,D,_,v[R+8],20,1163531501),_=md5gg(_,E,P,D,v[R+13],5,-1444681467),D=md5gg(D,_,E,P,v[R+2],9,-51403784),P=md5gg(P,D,_,E,v[R+7],14,1735328473),_=md5hh(_,E=md5gg(E,P,D,_,v[R+12],20,-1926607734),P,D,v[R+5],4,-378558),D=md5hh(D,_,E,P,v[R+8],11,-2022574463),P=md5hh(P,D,_,E,v[R+11],16,1839030562),E=md5hh(E,P,D,_,v[R+14],23,-35309556),_=md5hh(_,E,P,D,v[R+1],4,-1530992060),D=md5hh(D,_,E,P,v[R+4],11,1272893353),P=md5hh(P,D,_,E,v[R+7],16,-155497632),E=md5hh(E,P,D,_,v[R+10],23,-1094730640),_=md5hh(_,E,P,D,v[R+13],4,681279174),D=md5hh(D,_,E,P,v[R],11,-358537222),P=md5hh(P,D,_,E,v[R+3],16,-722521979),E=md5hh(E,P,D,_,v[R+6],23,76029189),_=md5hh(_,E,P,D,v[R+9],4,-640364487),D=md5hh(D,_,E,P,v[R+12],11,-421815835),P=md5hh(P,D,_,E,v[R+15],16,530742520),_=md5ii(_,E=md5hh(E,P,D,_,v[R+2],23,-995338651),P,D,v[R],6,-198630844),D=md5ii(D,_,E,P,v[R+7],10,1126891415),P=md5ii(P,D,_,E,v[R+14],15,-1416354905),E=md5ii(E,P,D,_,v[R+5],21,-57434055),_=md5ii(_,E,P,D,v[R+12],6,1700485571),D=md5ii(D,_,E,P,v[R+3],10,-1894986606),P=md5ii(P,D,_,E,v[R+10],15,-1051523),E=md5ii(E,P,D,_,v[R+1],21,-2054922799),_=md5ii(_,E,P,D,v[R+8],6,1873313359),D=md5ii(D,_,E,P,v[R+15],10,-30611744),P=md5ii(P,D,_,E,v[R+6],15,-1560198380),E=md5ii(E,P,D,_,v[R+13],21,1309151649),_=md5ii(_,E,P,D,v[R+4],6,-145523070),D=md5ii(D,_,E,P,v[R+11],10,-1120210379),P=md5ii(P,D,_,E,v[R+2],15,718787259),E=md5ii(E,P,D,_,v[R+9],21,-343485551),_=safeAdd(_,M),E=safeAdd(E,O),P=safeAdd(P,F),D=safeAdd(D,N)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];for(var S=8*v.length,_=new Uint32Array(getOutputLength(S)),E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};const X=v35("v3",48,$);const Y=function v4(v,S,_){var E=(v=v||{}).random||(v.rng||rng)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,S){_=_||0;for(var P=0;P<16;++P)S[_+P]=E[P];return S}return F(E)};function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}const J=function sha1(v){var S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){var E=unescape(encodeURIComponent(v));v=[];for(var P=0;P<E.length;++P)v.push(E.charCodeAt(P))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);for(var D=v.length/4+2,R=Math.ceil(D/16),M=new Array(R),O=0;O<R;++O){for(var F=new Uint32Array(16),N=0;N<16;++N)F[N]=v[64*O+4*N]<<24|v[64*O+4*N+1]<<16|v[64*O+4*N+2]<<8|v[64*O+4*N+3];M[O]=F}M[R-1][14]=8*(v.length-1)/Math.pow(2,32),M[R-1][14]=Math.floor(M[R-1][14]),M[R-1][15]=8*(v.length-1)&4294967295;for(var L=0;L<R;++L){for(var U=new Uint32Array(80),V=0;V<16;++V)U[V]=M[L][V];for(var G=16;G<80;++G)U[G]=ROTL(U[G-3]^U[G-8]^U[G-14]^U[G-16],1);for(var W=_[0],$=_[1],X=_[2],Y=_[3],J=_[4],Z=0;Z<80;++Z){var Q=Math.floor(Z/20),tt=ROTL(W,5)+f(Q,$,X,Y)+J+S[Q]+U[Z]>>>0;J=Y,Y=X,X=ROTL($,30)>>>0,$=W,W=tt}_[0]=_[0]+W>>>0,_[1]=_[1]+$>>>0,_[2]=_[2]+X>>>0,_[3]=_[3]+Y>>>0,_[4]=_[4]+J>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};const Z=v35("v5",80,J),Q="00000000-0000-0000-0000-000000000000";const tt=function version(v){if(!R(v))throw TypeError("Invalid UUID");return parseInt(v.substr(14,1),16)}},540576:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P=_(996722),D=_(286700);const R={SOL_SIGN_REQUEST:new P.RegistryType("sol-sign-request",1101),SOL_SIGNATURE:new P.RegistryType("sol-signature",1102),SOL_NFT_ITEM:new P.RegistryType("sol-nft-item",1104)},{decodeToDataItem:M,RegistryTypes:O}=P.extend;var F,N;(F=S.SignType||(S.SignType={}))[F.Transaction=1]="Transaction",F[F.Message=2]="Message",function(v){v[v.requestId=1]="requestId",v[v.signData=2]="signData",v[v.derivationPath=3]="derivationPath",v[v.address=4]="address",v[v.origin=5]="origin",v[v.signType=6]="signType"}(N||(N={}));class o extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.SOL_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{const v={};this.requestId&&(v[N.requestId]=new P.DataItem(this.requestId,O.UUID.getTag())),this.address&&(v[N.address]=this.address),this.origin&&(v[N.origin]=this.origin),v[N.signData]=this.signData,v[N.signType]=this.signType;const S=this.derivationPath.toDataItem();return S.setTag(this.derivationPath.getRegistryType().getTag()),v[N.derivationPath]=S,new P.DataItem(v)},this.requestId=v.requestId,this.signData=v.signData,this.derivationPath=v.derivationPath,this.address=v.address,this.origin=v.origin,this.signType=v.signType}static constructSOLRequest(v,S,_,R,M,O,F){const N=S.replace(/[m|M]\//,"").split("/"),L=new P.CryptoKeypath(N.map((v=>{const S=parseInt(v.replace("'",""));let _=!1;return v.endsWith("'")&&(_=!0),new P.PathComponent({index:S,hardened:_})})),E.from(_,"hex"));return new o({requestId:M?E.from(D.parse(M)):void 0,signData:v,derivationPath:L,address:O?E.from(O.replace("0x",""),"hex"):void 0,origin:F||void 0,signType:R})}}o.fromDataItem=v=>{const S=v.getData(),_=S[N.signData],E=P.CryptoKeypath.fromDataItem(S[N.derivationPath]),D=S[N.address]?S[N.address]:void 0,R=S[N.requestId]?S[N.requestId].getData():void 0;return new o({requestId:R,signData:_,derivationPath:E,address:D,origin:S[N.origin]?S[N.origin]:void 0,signType:S[N.signType]})},o.fromCBOR=v=>{const S=M(v);return o.fromDataItem(S)};const{RegistryTypes:L,decodeToDataItem:U}=P.extend;var V;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature"}(V||(V={}));class h extends P.RegistryItem{constructor(v,S){super(),this.getRegistryType=()=>R.SOL_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{const v={};return this.requestId&&(v[V.requestId]=new P.DataItem(this.requestId,L.UUID.getTag())),v[V.signature]=this.signature,new P.DataItem(v)},this.signature=v,this.requestId=S}}h.fromDataItem=v=>{const S=v.getData(),_=S[V.signature],E=S[V.requestId]?S[V.requestId].getData():void 0;return new h(_,E)},h.fromCBOR=v=>{const S=U(v);return h.fromDataItem(S)};const{decodeToDataItem:G}=P.extend;var W;!function(v){v[v.mintAddress=1]="mintAddress",v[v.collectionName=2]="collectionName",v[v.name=3]="name",v[v.mediaData=4]="mediaData"}(W||(W={}));class I extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.SOL_NFT_ITEM,this.getName=()=>this.name,this.getMediaData=()=>this.mediaData,this.getMintAddress=()=>this.mintAddress,this.getCollectionName=()=>this.collectionName,this.toDataItem=()=>{const v={};return v[W.name]=this.name,v[W.mintAddress]=this.mintAddress,v[W.collectionName]=this.collectionName,v[W.mediaData]=this.mediaData,new P.DataItem(v)},this.name=v.name,this.mintAddress=v.mintAddress,this.collectionName=v.collectionName,this.mediaData=v.mediaData}static constructETHNFTItem(v,S,_,E){return new I({mintAddress:v,collectionName:S,mediaData:E,name:_})}}I.fromDataItem=v=>{const S=v.getData();return new I({name:S[W.name],mintAddress:S[W.mintAddress],collectionName:S[W.collectionName],mediaData:S[W.mediaData]})},I.fromCBOR=v=>{const S=G(v);return I.fromDataItem(S)},P.patchTags(Object.values(R).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(P).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return P[v]}})})),S.SOLNFTItem=I,S.SolSignRequest=o,S.SolSignature=h},88255:(v,S,_)=>{"use strict";v.exports=_(540576)},286700:(v,S,_)=>{"use strict";var E;_.r(S),_.d(S,{NIL:()=>Q,parse:()=>W,stringify:()=>F,v1:()=>G,v3:()=>X,v4:()=>Y,v5:()=>Z,validate:()=>R,version:()=>tt});var P=new Uint8Array(16);function rng(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(P)}const D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const R=function validate(v){return"string"==typeof v&&D.test(v)};for(var M=[],O=0;O<256;++O)M.push((O+256).toString(16).substr(1));const F=function stringify(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=(M[v[S+0]]+M[v[S+1]]+M[v[S+2]]+M[v[S+3]]+"-"+M[v[S+4]]+M[v[S+5]]+"-"+M[v[S+6]]+M[v[S+7]]+"-"+M[v[S+8]]+M[v[S+9]]+"-"+M[v[S+10]]+M[v[S+11]]+M[v[S+12]]+M[v[S+13]]+M[v[S+14]]+M[v[S+15]]).toLowerCase();if(!R(_))throw TypeError("Stringified UUID is invalid");return _};var N,L,U=0,V=0;const G=function v1(v,S,_){var E=S&&_||0,P=S||new Array(16),D=(v=v||{}).node||N,R=void 0!==v.clockseq?v.clockseq:L;if(null==D||null==R){var M=v.random||(v.rng||rng)();null==D&&(D=N=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),null==R&&(R=L=16383&(M[6]<<8|M[7]))}var O=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:V+1,W=O-U+(G-V)/1e4;if(W<0&&void 0===v.clockseq&&(R=R+1&16383),(W<0||O>U)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");U=O,V=G,L=R;var $=(1e4*(268435455&(O+=122192928e5))+G)%4294967296;P[E++]=$>>>24&255,P[E++]=$>>>16&255,P[E++]=$>>>8&255,P[E++]=255&$;var X=O/4294967296*1e4&268435455;P[E++]=X>>>8&255,P[E++]=255&X,P[E++]=X>>>24&15|16,P[E++]=X>>>16&255,P[E++]=R>>>8|128,P[E++]=255&R;for(var Y=0;Y<6;++Y)P[E+Y]=D[Y];return S||F(P)};const W=function parse(v){if(!R(v))throw TypeError("Invalid UUID");var S,_=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};function v35(v,S,_){function generateUUID(v,E,P,D){if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));for(var S=[],_=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof E&&(E=W(E)),16!==E.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var R=new Uint8Array(16+v.length);if(R.set(E),R.set(v,E.length),(R=_(R))[6]=15&R[6]|S,R[8]=63&R[8]|128,P){D=D||0;for(var M=0;M<16;++M)P[D+M]=R[M];return P}return F(R)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){var _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}const $=function md5(v){if("string"==typeof v){var S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(var _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){for(var S=[],_=32*v.length,E="0123456789abcdef",P=0;P<_;P+=8){var D=v[P>>5]>>>P%32&255,R=parseInt(E.charAt(D>>>4&15)+E.charAt(15&D),16);S.push(R)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;for(var _=1732584193,E=-271733879,P=-1732584194,D=271733878,R=0;R<v.length;R+=16){var M=_,O=E,F=P,N=D;_=md5ff(_,E,P,D,v[R],7,-680876936),D=md5ff(D,_,E,P,v[R+1],12,-389564586),P=md5ff(P,D,_,E,v[R+2],17,606105819),E=md5ff(E,P,D,_,v[R+3],22,-1044525330),_=md5ff(_,E,P,D,v[R+4],7,-176418897),D=md5ff(D,_,E,P,v[R+5],12,1200080426),P=md5ff(P,D,_,E,v[R+6],17,-1473231341),E=md5ff(E,P,D,_,v[R+7],22,-45705983),_=md5ff(_,E,P,D,v[R+8],7,1770035416),D=md5ff(D,_,E,P,v[R+9],12,-1958414417),P=md5ff(P,D,_,E,v[R+10],17,-42063),E=md5ff(E,P,D,_,v[R+11],22,-1990404162),_=md5ff(_,E,P,D,v[R+12],7,1804603682),D=md5ff(D,_,E,P,v[R+13],12,-40341101),P=md5ff(P,D,_,E,v[R+14],17,-1502002290),_=md5gg(_,E=md5ff(E,P,D,_,v[R+15],22,1236535329),P,D,v[R+1],5,-165796510),D=md5gg(D,_,E,P,v[R+6],9,-1069501632),P=md5gg(P,D,_,E,v[R+11],14,643717713),E=md5gg(E,P,D,_,v[R],20,-373897302),_=md5gg(_,E,P,D,v[R+5],5,-701558691),D=md5gg(D,_,E,P,v[R+10],9,38016083),P=md5gg(P,D,_,E,v[R+15],14,-660478335),E=md5gg(E,P,D,_,v[R+4],20,-405537848),_=md5gg(_,E,P,D,v[R+9],5,568446438),D=md5gg(D,_,E,P,v[R+14],9,-1019803690),P=md5gg(P,D,_,E,v[R+3],14,-187363961),E=md5gg(E,P,D,_,v[R+8],20,1163531501),_=md5gg(_,E,P,D,v[R+13],5,-1444681467),D=md5gg(D,_,E,P,v[R+2],9,-51403784),P=md5gg(P,D,_,E,v[R+7],14,1735328473),_=md5hh(_,E=md5gg(E,P,D,_,v[R+12],20,-1926607734),P,D,v[R+5],4,-378558),D=md5hh(D,_,E,P,v[R+8],11,-2022574463),P=md5hh(P,D,_,E,v[R+11],16,1839030562),E=md5hh(E,P,D,_,v[R+14],23,-35309556),_=md5hh(_,E,P,D,v[R+1],4,-1530992060),D=md5hh(D,_,E,P,v[R+4],11,1272893353),P=md5hh(P,D,_,E,v[R+7],16,-155497632),E=md5hh(E,P,D,_,v[R+10],23,-1094730640),_=md5hh(_,E,P,D,v[R+13],4,681279174),D=md5hh(D,_,E,P,v[R],11,-358537222),P=md5hh(P,D,_,E,v[R+3],16,-722521979),E=md5hh(E,P,D,_,v[R+6],23,76029189),_=md5hh(_,E,P,D,v[R+9],4,-640364487),D=md5hh(D,_,E,P,v[R+12],11,-421815835),P=md5hh(P,D,_,E,v[R+15],16,530742520),_=md5ii(_,E=md5hh(E,P,D,_,v[R+2],23,-995338651),P,D,v[R],6,-198630844),D=md5ii(D,_,E,P,v[R+7],10,1126891415),P=md5ii(P,D,_,E,v[R+14],15,-1416354905),E=md5ii(E,P,D,_,v[R+5],21,-57434055),_=md5ii(_,E,P,D,v[R+12],6,1700485571),D=md5ii(D,_,E,P,v[R+3],10,-1894986606),P=md5ii(P,D,_,E,v[R+10],15,-1051523),E=md5ii(E,P,D,_,v[R+1],21,-2054922799),_=md5ii(_,E,P,D,v[R+8],6,1873313359),D=md5ii(D,_,E,P,v[R+15],10,-30611744),P=md5ii(P,D,_,E,v[R+6],15,-1560198380),E=md5ii(E,P,D,_,v[R+13],21,1309151649),_=md5ii(_,E,P,D,v[R+4],6,-145523070),D=md5ii(D,_,E,P,v[R+11],10,-1120210379),P=md5ii(P,D,_,E,v[R+2],15,718787259),E=md5ii(E,P,D,_,v[R+9],21,-343485551),_=safeAdd(_,M),E=safeAdd(E,O),P=safeAdd(P,F),D=safeAdd(D,N)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];for(var S=8*v.length,_=new Uint32Array(getOutputLength(S)),E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};const X=v35("v3",48,$);const Y=function v4(v,S,_){var E=(v=v||{}).random||(v.rng||rng)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,S){_=_||0;for(var P=0;P<16;++P)S[_+P]=E[P];return S}return F(E)};function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}const J=function sha1(v){var S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){var E=unescape(encodeURIComponent(v));v=[];for(var P=0;P<E.length;++P)v.push(E.charCodeAt(P))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);for(var D=v.length/4+2,R=Math.ceil(D/16),M=new Array(R),O=0;O<R;++O){for(var F=new Uint32Array(16),N=0;N<16;++N)F[N]=v[64*O+4*N]<<24|v[64*O+4*N+1]<<16|v[64*O+4*N+2]<<8|v[64*O+4*N+3];M[O]=F}M[R-1][14]=8*(v.length-1)/Math.pow(2,32),M[R-1][14]=Math.floor(M[R-1][14]),M[R-1][15]=8*(v.length-1)&4294967295;for(var L=0;L<R;++L){for(var U=new Uint32Array(80),V=0;V<16;++V)U[V]=M[L][V];for(var G=16;G<80;++G)U[G]=ROTL(U[G-3]^U[G-8]^U[G-14]^U[G-16],1);for(var W=_[0],$=_[1],X=_[2],Y=_[3],J=_[4],Z=0;Z<80;++Z){var Q=Math.floor(Z/20),tt=ROTL(W,5)+f(Q,$,X,Y)+J+S[Q]+U[Z]>>>0;J=Y,Y=X,X=ROTL($,30)>>>0,$=W,W=tt}_[0]=_[0]+W>>>0,_[1]=_[1]+$>>>0,_[2]=_[2]+X>>>0,_[3]=_[3]+Y>>>0,_[4]=_[4]+J>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};const Z=v35("v5",80,J),Q="00000000-0000-0000-0000-000000000000";const tt=function version(v){if(!R(v))throw TypeError("Invalid UUID");return parseInt(v.substr(14,1),16)}},496796:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P=_(302253),D=_(529649);const R={SUI_SIGN_REQUEST:new P.RegistryType("sui-sign-request",7101),SUI_SIGNATURE:new P.RegistryType("sui-signature",7102)},{decodeToDataItem:M,RegistryTypes:O}=P.extend;var F;!function(v){v[v.requestId=1]="requestId",v[v.intentMessage=2]="intentMessage",v[v.derivationPaths=3]="derivationPaths",v[v.addresses=4]="addresses",v[v.origin=5]="origin"}(F||(F={}));class n extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.SUI_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getIntentMessage=()=>this.intentMessage,this.getDerivationPaths=()=>this.derivationPaths.map((v=>v.getPath())),this.getAddresses=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return this.requestId&&(v[F.requestId]=new P.DataItem(this.requestId,O.UUID.getTag())),this.addresses&&(v[F.addresses]=this.addresses),this.origin&&(v[F.origin]=this.origin),v[F.intentMessage]=this.intentMessage,v[F.derivationPaths]=this.derivationPaths.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),new P.DataItem(v)},this.requestId=v.requestId,this.intentMessage=v.intentMessage,this.derivationPaths=v.derivationPaths,this.addresses=v.addresses,this.origin=v.origin}static constructSuiRequest(v,S,_,R,M,O){const F=S.map(((v,S)=>{const D=v.replace(/[m|M]\//,"").split("/").map((v=>{const S=parseInt(v.replace("'",""));let _=!1;return v.endsWith("'")&&(_=!0),new P.PathComponent({index:S,hardened:_})}));return new P.CryptoKeypath(D,E.from(_[S],"hex"))}));return new n({requestId:E.from(D.parse(R)),intentMessage:v,derivationPaths:F,addresses:M||void 0,origin:O||void 0})}}n.fromDataItem=v=>{const S=v.getData(),_=S[F.intentMessage],E=S[F.derivationPaths].map((v=>P.CryptoKeypath.fromDataItem(v))),D=S[F.addresses]?S[F.addresses]:void 0,R=S[F.requestId]?S[F.requestId].getData():void 0;return new n({requestId:R,intentMessage:_,derivationPaths:E,addresses:D,origin:S[F.origin]?S[F.origin]:void 0})},n.fromCBOR=v=>{const S=M(v);return n.fromDataItem(S)};const{RegistryTypes:N,decodeToDataItem:L}=P.extend;var U;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature",v[v.publicKey=3]="publicKey"}(U||(U={}));class g extends P.RegistryItem{constructor(v,S,_){super(),this.getRegistryType=()=>R.SUI_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{const v={};return this.requestId&&(v[U.requestId]=new P.DataItem(this.requestId,N.UUID.getTag())),v[U.signature]=this.signature,this.publicKey&&(v[U.publicKey]=this.publicKey),new P.DataItem(v)},this.signature=v,this.requestId=S,this.publicKey=_}}g.fromDataItem=v=>{const S=v.getData(),_=S[U.signature],E=S[U.requestId].getData();return new g(_,E,S[U.publicKey])},g.fromCBOR=v=>{const S=L(v);return g.fromDataItem(S)},P.patchTags(Object.values(R).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(P).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return P[v]}})})),S.SuiSignRequest=n,S.SuiSignature=g},570796:(v,S,_)=>{"use strict";v.exports=_(496796)},837286:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Bytes=void 0;const E=_(441685),P=_(135137),D=_(826230);class Bytes extends P.RegistryItem{constructor(v){super(),this.bytes=v,this.getRegistryType=()=>D.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new E.DataItem(this.bytes)}}S.Bytes=Bytes,Bytes.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new Bytes(S)},Bytes.fromCBOR=v=>{const S=E.decodeToDataItem(v);return Bytes.fromDataItem(S)}},288425:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoAccount=void 0;const P=_(302253),D=_(441685),R=_(135137),M=_(826230);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.outputDescriptors=2]="outputDescriptors"}(O||(O={}));class CryptoAccount extends R.RegistryItem{constructor(v,S){super(),this.masterFingerprint=v,this.outputDescriptors=S,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(v[O.outputDescriptors]=this.outputDescriptors.map((v=>v.toDataItem()))),new D.DataItem(v)}}}S.CryptoAccount=CryptoAccount,CryptoAccount.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),D=S[O.masterFingerprint];D&&_.writeUInt32BE(D,0);const R=S[O.outputDescriptors].map((v=>P.CryptoOutput.fromDataItem(v)));return new CryptoAccount(_,R)},CryptoAccount.fromCBOR=v=>{const S=D.decodeToDataItem(v);return CryptoAccount.fromDataItem(S)}},309177:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoCoinInfo=S.Network=S.Type=void 0;const E=_(441685),P=_(135137),D=_(826230);var R,M,O;!function(v){v.type="1",v.network="2"}(R||(R={})),function(v){v[v.bitcoin=0]="bitcoin"}(M=S.Type||(S.Type={})),function(v){v[v.mainnet=0]="mainnet",v[v.testnet=1]="testnet"}(O=S.Network||(S.Network={}));class CryptoCoinInfo extends P.RegistryItem{constructor(v,S){super(),this.type=v,this.network=S,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||M.bitcoin,this.getNetwork=()=>this.network||O.mainnet,this.toDataItem=()=>{const v={};return this.type&&(v[R.type]=this.type),this.network&&(v[R.network]=this.network),new E.DataItem(v)}}}S.CryptoCoinInfo=CryptoCoinInfo,CryptoCoinInfo.fromDataItem=v=>{const S=v.getData(),_=S[R.type],E=S[R.network];return new CryptoCoinInfo(_,E)},CryptoCoinInfo.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoCoinInfo.fromDataItem(S)}},670261:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoECKey=void 0;const E=_(441685),P=_(135137),D=_(826230);var R;!function(v){v[v.curve=1]="curve",v[v.private=2]="private",v[v.data=3]="data"}(R||(R={}));class CryptoECKey extends P.RegistryItem{constructor(v){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const v={};return this.curve&&(v[R.curve]=this.curve),void 0!==this.privateKey&&(v[R.private]=this.privateKey),v[R.data]=this.data,new E.DataItem(v)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=v.data,this.curve=v.curve,this.privateKey=v.privateKey||void 0}}S.CryptoECKey=CryptoECKey,CryptoECKey.fromDataItem=v=>{const S=v.getData(),_=S[R.curve],E=S[R.private],P=S[R.data];if(!P)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${v}`);return new CryptoECKey({data:P,curve:_,privateKey:E})},CryptoECKey.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoECKey.fromDataItem(S)}},646937:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoHDKey=void 0;const P=_(71463),D=_(309177),R=_(680522),M=_(441685),O=_(135137),F=_(826230);var N;!function(v){v[v.is_master=1]="is_master",v[v.is_private=2]="is_private",v[v.key_data=3]="key_data",v[v.chain_code=4]="chain_code",v[v.use_info=5]="use_info",v[v.origin=6]="origin",v[v.children=7]="children",v[v.parent_fingerprint=8]="parent_fingerprint",v[v.name=9]="name",v[v.note=10]="note"}(N||(N={}));class CryptoHDKey extends O.RegistryItem{constructor(v){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var v,S,_;let D,R,M=0,O=E.alloc(4).fill(0);if(this.isMaster())D=E.from("0488ADE4","hex"),R=0,M=0;else{R=(null===(v=this.getOrigin())||void 0===v?void 0:v.getComponents().length)||(null===(S=this.getOrigin())||void 0===S?void 0:S.getDepth());const P=null===(_=this.getOrigin())||void 0===_?void 0:_.getComponents(),F=P[P.length-1];F&&(M=F.isHardened()?F.getIndex()+2147483648:F.getIndex(),this.getParentFingerprint()&&(O=this.getParentFingerprint())),D=this.isPrivateKey()?E.from("0488ADE4","hex"):E.from("0488B21E","hex")}const F=E.alloc(1);F.writeUInt8(R,0);const N=E.alloc(4);N.writeUInt32BE(M,0);const L=this.getChainCode(),U=this.getKey();return P.encode(E.concat([D,F,O,N,L,U]))},this.getRegistryType=()=>F.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var v,S,_,E,P,D,R;let M="";return this.getOrigin()&&(null===(v=this.getOrigin())||void 0===v?void 0:v.getSourceFingerprint())&&(null===(S=this.getOrigin())||void 0===S?void 0:S.getPath())&&(M+=`${null===(E=null===(_=this.getOrigin())||void 0===_?void 0:_.getSourceFingerprint())||void 0===E?void 0:E.toString("hex")}/${null===(P=this.getOrigin())||void 0===P?void 0:P.getPath()}`),M+=this.getBip32Key(),this.getChildren()&&(null===(D=this.getChildren())||void 0===D?void 0:D.getPath())&&(M+=`/${null===(R=this.getChildren())||void 0===R?void 0:R.getPath()}`),M},this.setupMasterKey=v=>{this.master=!0,this.key=v.key,this.chainCode=v.chainCode},this.setupDeriveKey=v=>{this.master=!1,this.privateKey=v.isPrivateKey,this.key=v.key,this.chainCode=v.chainCode,this.useInfo=v.useInfo,this.origin=v.origin,this.children=v.children,this.parentFingerprint=v.parentFingerprint,this.name=v.name,this.note=v.note},this.toDataItem=()=>{const v={};if(this.master)v[N.is_master]=!0,v[N.key_data]=this.key,v[N.chain_code]=this.chainCode;else{if(void 0!==this.privateKey&&(v[N.is_private]=this.privateKey),v[N.key_data]=this.key,this.chainCode&&(v[N.chain_code]=this.chainCode),this.useInfo){const S=this.useInfo.toDataItem();S.setTag(this.useInfo.getRegistryType().getTag()),v[N.use_info]=S}if(this.origin){const S=this.origin.toDataItem();S.setTag(this.origin.getRegistryType().getTag()),v[N.origin]=S}if(this.children){const S=this.children.toDataItem();S.setTag(this.children.getRegistryType().getTag()),v[N.children]=S}this.parentFingerprint&&(v[N.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),void 0!==this.name&&(v[N.name]=this.name),void 0!==this.note&&(v[N.note]=this.note)}return new M.DataItem(v)},v.isMaster?this.setupMasterKey(v):this.setupDeriveKey(v)}}S.CryptoHDKey=CryptoHDKey,CryptoHDKey.fromDataItem=v=>{const S=v.getData(),_=!!S[N.is_master],P=S[N.is_private],M=S[N.key_data],O=S[N.chain_code],F=S[N.use_info]?D.CryptoCoinInfo.fromDataItem(S[N.use_info]):void 0,L=S[N.origin]?R.CryptoKeypath.fromDataItem(S[N.origin]):void 0,U=S[N.children]?R.CryptoKeypath.fromDataItem(S[N.children]):void 0,V=S[N.parent_fingerprint];let G;V&&(G=E.alloc(4),G.writeUInt32BE(V,0));const W=S[N.name],$=S[N.note];return new CryptoHDKey({isMaster:_,isPrivateKey:P,key:M,chainCode:O,useInfo:F,origin:L,children:U,parentFingerprint:G,name:W,note:$})},CryptoHDKey.fromCBOR=v=>{const S=M.decodeToDataItem(v);return CryptoHDKey.fromDataItem(S)}},680522:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoKeypath=void 0;const P=_(441685),D=_(194159),R=_(135137),M=_(826230);var O;!function(v){v[v.components=1]="components",v[v.source_fingerprint=2]="source_fingerprint",v[v.depth=3]="depth"}(O||(O={}));class CryptoKeypath extends R.RegistryItem{constructor(v=[],S,_){super(),this.components=v,this.sourceFingerprint=S,this.depth=_,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return;return this.components.map((v=>`${v.isWildcard()?"*":v.getIndex()}${v.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const v={},S=[];return this.components&&this.components.forEach((v=>{v.isWildcard()?S.push([]):S.push(v.getIndex()),S.push(v.isHardened())})),v[O.components]=S,this.sourceFingerprint&&(v[O.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),void 0!==this.depth&&(v[O.depth]=this.depth),new P.DataItem(v)}}}S.CryptoKeypath=CryptoKeypath,CryptoKeypath.fromDataItem=v=>{const S=v.getData(),_=[],P=S[O.components];if(P)for(let v=0;v<P.length;v+=2){const S=P[v+1],E=P[v];"number"==typeof E?_.push(new D.PathComponent({index:E,hardened:S})):_.push(new D.PathComponent({hardened:S}))}const R=S[O.source_fingerprint];let M;R&&(M=E.alloc(4),M.writeUInt32BE(R,0));const F=S[O.depth];return new CryptoKeypath(_,M,F)},CryptoKeypath.fromCBOR=v=>{const S=P.decodeToDataItem(v);return CryptoKeypath.fromDataItem(S)}},555697:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoOutput=void 0;const E=_(670261),P=_(646937),D=_(441685),R=_(768649),M=_(135137),O=_(826230),F=_(485480);class CryptoOutput extends M.RegistryItem{constructor(v,S){super(),this.scriptExpressions=v,this.cryptoKey=S,this.getRegistryType=()=>O.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof P.CryptoHDKey?this.cryptoKey:void 0,this.getECKey=()=>this.cryptoKey instanceof E.CryptoECKey?this.cryptoKey:void 0,this.getMultiKey=()=>this.cryptoKey instanceof R.MultiKey?this.cryptoKey:void 0,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=v=>v>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[v].getExpression()}(${this._toOutputDescriptor(v+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let v=this.cryptoKey.toDataItem();(this.cryptoKey instanceof E.CryptoECKey||this.cryptoKey instanceof P.CryptoHDKey)&&v.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((S=>{const _=S.getTag();void 0===v.getTag()?v.setTag(_):v=new D.DataItem(v,_)})),v}}}S.CryptoOutput=CryptoOutput,CryptoOutput.fromDataItem=v=>{const S=[];let _=v;for(;;){let v=_.getTag();const E=F.ScriptExpression.fromTag(v);if(!E)break;if(S.push(E),!(_.getData()instanceof D.DataItem))break;_=_.getData(),v=_.getTag()}const M=S.length;if(M>0&&(S[M-1].getExpression()===F.ScriptExpressions.MULTISIG.getExpression()||S[M-1].getExpression()===F.ScriptExpressions.SORTED_MULTISIG.getExpression())){const v=R.MultiKey.fromDataItem(_);return new CryptoOutput(S,v)}if(_.getTag()===O.RegistryTypes.CRYPTO_HDKEY.getTag()){const v=P.CryptoHDKey.fromDataItem(_);return new CryptoOutput(S,v)}{const v=E.CryptoECKey.fromDataItem(_);return new CryptoOutput(S,v)}},CryptoOutput.fromCBOR=v=>{const S=D.decodeToDataItem(v);return CryptoOutput.fromDataItem(S)}},223495:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoPSBT=void 0;const E=_(441685),P=_(135137),D=_(826230);class CryptoPSBT extends P.RegistryItem{constructor(v){super(),this.psbt=v,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new E.DataItem(this.psbt)}}S.CryptoPSBT=CryptoPSBT,CryptoPSBT.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new CryptoPSBT(S)},CryptoPSBT.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoPSBT.fromDataItem(S)}},362122:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URRegistryDecoder=void 0;const E=_(653980),P=_(302253),D=_(826230),R=_(839201);class URRegistryDecoder extends E.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const v=this.resultUR();switch(v.type){case D.RegistryTypes.BYTES.getType():return P.Bytes.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_HDKEY.getType():return P.CryptoHDKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_KEYPATH.getType():return P.CryptoKeypath.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_COIN_INFO.getType():return P.CryptoCoinInfo.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ECKEY.getType():return P.CryptoECKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_OUTPUT.getType():return P.CryptoOutput.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_PSBT.getType():return P.CryptoPSBT.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ACCOUNT.getType():return P.CryptoAccount.fromCBOR(v.cbor);default:throw new R.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${v.type} is not supported now`)}}}}S.URRegistryDecoder=URRegistryDecoder},768649:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MultiKey=void 0;const E=_(670261),P=_(646937),D=_(569494),R=_(135137),M=_(826230);var O;!function(v){v[v.threshold=1]="threshold",v[v.keys=2]="keys"}(O||(O={}));class MultiKey extends R.RegistryItem{constructor(v,S){super(),this.threshold=v,this.keys=S,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const v={};v[O.threshold]=this.threshold;const S=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}));return v[O.keys]=S,new D.DataItem(v)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((v=>v.getOutputDescriptorContent())).join(",")].join(",")}}S.MultiKey=MultiKey,MultiKey.fromDataItem=v=>{const S=v.getData(),_=S[O.threshold],D=S[O.keys],R=[];return D.forEach((v=>{v.getTag()===M.RegistryTypes.CRYPTO_HDKEY.getTag()?R.push(P.CryptoHDKey.fromDataItem(v)):v.getTag()===M.RegistryTypes.CRYPTO_ECKEY.getTag()&&R.push(E.CryptoECKey.fromDataItem(v))})),new MultiKey(_,R)}},194159:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PathComponent=void 0;class PathComponent{constructor(v){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=v.index,this.hardened=v.hardened,void 0!==this.index?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&PathComponent.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}S.PathComponent=PathComponent,PathComponent.HARDENED_BIT=2147483648},135137:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryItem=void 0;const E=_(653980),P=_(441685);S.RegistryItem=class RegistryItem{constructor(){this.toCBOR=()=>{if(void 0===this.toDataItem())throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return P.encodeDataItem(this.toDataItem())},this.toUR=()=>new E.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(v,S,_)=>{const P=this.toUR();return new E.UREncoder(P,v,S,_)}}}},826230:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryTypes=S.RegistryType=void 0;class RegistryType{constructor(v,S){this.type=v,this.tag=S,this.getTag=()=>this.tag,this.getType=()=>this.type}}S.RegistryType=RegistryType,S.RegistryTypes={UUID:new RegistryType("uuid",37),BYTES:new RegistryType("bytes",void 0),CRYPTO_HDKEY:new RegistryType("crypto-hdkey",303),CRYPTO_KEYPATH:new RegistryType("crypto-keypath",304),CRYPTO_COIN_INFO:new RegistryType("crypto-coin-info",305),CRYPTO_ECKEY:new RegistryType("crypto-eckey",306),CRYPTO_OUTPUT:new RegistryType("crypto-output",308),CRYPTO_PSBT:new RegistryType("crypto-psbt",310),CRYPTO_ACCOUNT:new RegistryType("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new RegistryType("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new RegistryType("qr-hardware-call",1201),KEY_DERIVATION_CALL:new RegistryType("key-derivation-call",1301)}},485480:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ScriptExpressions=S.ScriptExpression=void 0;class ScriptExpression{constructor(v,S){this.tag=v,this.expression=S,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}S.ScriptExpression=ScriptExpression,ScriptExpression.fromTag=v=>Object.values(S.ScriptExpressions).find((S=>S.getTag()===v)),S.ScriptExpressions={SCRIPT_HASH:new ScriptExpression(400,"sh"),WITNESS_SCRIPT_HASH:new ScriptExpression(401,"wsh"),PUBLIC_KEY:new ScriptExpression(402,"pk"),PUBLIC_KEY_HASH:new ScriptExpression(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ScriptExpression(404,"wpkh"),COMBO:new ScriptExpression(405,"combo"),MULTISIG:new ScriptExpression(406,"multi"),SORTED_MULTISIG:new ScriptExpression(407,"sortedmulti"),ADDRESS:new ScriptExpression(307,"addr"),RAW_SCRIPT:new ScriptExpression(408,"raw")}},839201:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UnknownURTypeError=void 0;class UnknownURTypeError extends Error{constructor(v){super(v)}}S.UnknownURTypeError=UnknownURTypeError},885349:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoMultiAccounts=void 0;const P=_(826230),D=_(646937),R=_(135137),M=_(441685);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.keys=2]="keys",v[v.device=3]="device"}(O||(O={}));class CryptoMultiAccounts extends R.RegistryItem{constructor(v,S,_){super(),this.masterFingerprint=v,this.keys=S,this.device=_,this.getRegistryType=()=>P.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(v[O.keys]=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}))),this.device&&(v[O.device]=this.device),new M.DataItem(v)}}}S.CryptoMultiAccounts=CryptoMultiAccounts,CryptoMultiAccounts.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),P=S[O.masterFingerprint];P&&_.writeUInt32BE(P,0);const R=S[O.keys].map((v=>D.CryptoHDKey.fromDataItem(v))),M=S[O.device];return new CryptoMultiAccounts(_,R,M)},CryptoMultiAccounts.fromCBOR=v=>{const S=M.decodeToDataItem(v);return CryptoMultiAccounts.fromDataItem(S)}},400077:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyDerivation=S.DerivationAlgorithm=S.Curve=void 0;const E=_(826230),P=_(135137),D=_(441685),R=_(680522);var M,O,F;!function(v){v[v.keyPaths=1]="keyPaths",v[v.curve=2]="curve",v[v.algo=3]="algo",v[v.origin=4]="origin"}(M||(M={})),function(v){v.secp256k1="secp256k1",v.ed25519="ed25519"}(O=S.Curve||(S.Curve={})),function(v){v.slip10="slip10",v.bip32ed25519="bip32ed25519"}(F=S.DerivationAlgorithm||(S.DerivationAlgorithm={}));class KeyDerivation extends P.RegistryItem{constructor(v,S=O.secp256k1,_=F.slip10,P){super(),this.keypaths=v,this.curve=S,this.algo=_,this.origin=P,this.getRegistryType=()=>E.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[M.keyPaths]=this.keypaths.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),v[M.curve]=this.curve,v[M.algo]=this.algo,this.origin&&(v[M.origin]=this.origin),new D.DataItem(v)}}}S.KeyDerivation=KeyDerivation,KeyDerivation.fromDataItem=v=>{const S=v.getData(),_=S[M.keyPaths].map((v=>R.CryptoKeypath.fromDataItem(v))),E=S[M.curve],P=S[M.algo],D=S[M.origin];return new KeyDerivation(_,E,P,D)},KeyDerivation.fromCBOR=v=>{const S=D.decodeToDataItem(v);return KeyDerivation.fromDataItem(S)}},403692:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.QRHardwareCall=S.QRHardwareCallName=void 0;const E=_(826230),P=_(135137),D=_(441685),R=_(400077);var M,O;!function(v){v[v.name=1]="name",v[v.params=2]="params"}(M||(M={})),function(v){v.KeyDerivation="key-derivation"}(O=S.QRHardwareCallName||(S.QRHardwareCallName={}));class QRHardwareCall extends P.RegistryItem{constructor(v,S){super(),this.name=v,this.params=S,this.getRegistryType=()=>E.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{const v={};v[M.name]=this.name;const S=this.params.toDataItem();return S.setTag(this.params.getRegistryType().getTag()),v[M.params]=S,new D.DataItem(v)}}}S.QRHardwareCall=QRHardwareCall,QRHardwareCall.fromDataItem=v=>{const S=v.getData(),_=S[M.name]||O.KeyDerivation;let E;if(_===O.KeyDerivation)E=R.KeyDerivation.fromDataItem(S[M.params]);return new QRHardwareCall(_,E)},QRHardwareCall.fromCBOR=v=>{const S=D.decodeToDataItem(v);return QRHardwareCall.fromDataItem(S)}},302253:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Buffer=S.extend=S.PathComponent=S.ScriptExpressions=S.MultiKey=S.CryptoPSBT=S.CryptoOutput=S.CryptoECKey=S.CryptoCoinInfoNetwork=S.CryptoCoinInfoType=S.CryptoCoinInfo=S.CryptoKeypath=S.CryptoMultiAccounts=S.CryptoHDKey=S.CryptoAccount=S.Bytes=S.URRegistryDecoder=S.DataItem=void 0;const E=_(434117);_(917659);const P=_(901048);Object.defineProperty(S,"Buffer",{enumerable:!0,get:function(){return P.Buffer}});const D=_(646937);Object.defineProperty(S,"CryptoHDKey",{enumerable:!0,get:function(){return D.CryptoHDKey}});const R=_(680522);Object.defineProperty(S,"CryptoKeypath",{enumerable:!0,get:function(){return R.CryptoKeypath}});const M=_(309177);Object.defineProperty(S,"CryptoCoinInfo",{enumerable:!0,get:function(){return M.CryptoCoinInfo}}),Object.defineProperty(S,"CryptoCoinInfoType",{enumerable:!0,get:function(){return M.Type}}),Object.defineProperty(S,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return M.Network}});const O=_(670261);Object.defineProperty(S,"CryptoECKey",{enumerable:!0,get:function(){return O.CryptoECKey}});const F=_(837286);Object.defineProperty(S,"Bytes",{enumerable:!0,get:function(){return F.Bytes}});const N=_(555697);Object.defineProperty(S,"CryptoOutput",{enumerable:!0,get:function(){return N.CryptoOutput}});const L=_(223495);Object.defineProperty(S,"CryptoPSBT",{enumerable:!0,get:function(){return L.CryptoPSBT}});const U=_(288425);Object.defineProperty(S,"CryptoAccount",{enumerable:!0,get:function(){return U.CryptoAccount}});const V=_(362122);Object.defineProperty(S,"URRegistryDecoder",{enumerable:!0,get:function(){return V.URRegistryDecoder}});const G=_(768649);Object.defineProperty(S,"MultiKey",{enumerable:!0,get:function(){return G.MultiKey}});const W=_(485480);Object.defineProperty(S,"ScriptExpressions",{enumerable:!0,get:function(){return W.ScriptExpressions}});const $=_(194159);Object.defineProperty(S,"PathComponent",{enumerable:!0,get:function(){return $.PathComponent}});const X=_(135137),Y=_(826230),J=_(441685);var Z=_(441685);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return Z.DataItem}});const Q=_(784600),tt=_(885349);Object.defineProperty(S,"CryptoMultiAccounts",{enumerable:!0,get:function(){return tt.CryptoMultiAccounts}});const et={URRegistryDecoder:V.URRegistryDecoder,Bytes:F.Bytes,CryptoAccount:U.CryptoAccount,CryptoHDKey:D.CryptoHDKey,CryptoMultiAccounts:tt.CryptoMultiAccounts,CryptoKeypath:R.CryptoKeypath,CryptoCoinInfo:M.CryptoCoinInfo,CryptoCoinInfoType:M.Type,CryptoCoinInfoNetwork:M.Network,CryptoECKey:O.CryptoECKey,CryptoOutput:N.CryptoOutput,CryptoPSBT:L.CryptoPSBT,MultiKey:G.MultiKey,ScriptExpressions:W.ScriptExpressions,PathComponent:$.PathComponent},rt={addReader:J.addReader,addSemanticDecode:J.addSemanticDecode,addSemanticEncode:J.addSemanticEncode,addWriter:J.addWriter,patchTags:Q.patchTags},nt={RegistryTypes:Y.RegistryTypes,RegistryItem:X.RegistryItem,RegistryType:Y.RegistryType,decodeToDataItem:J.decodeToDataItem,encodeDataItem:J.encodeDataItem,cbor:rt};S.extend=nt,E.__exportStar(_(839201),S),E.__exportStar(_(362122),S),E.__exportStar(_(441685),S),E.__exportStar(_(288425),S),E.__exportStar(_(223495),S),E.__exportStar(_(646937),S),E.__exportStar(_(885349),S),E.__exportStar(_(403692),S),E.__exportStar(_(400077),S),E.__exportStar(_(555697),S),E.__exportStar(_(309177),S),E.__exportStar(_(670261),S),E.__exportStar(_(768649),S),E.__exportStar(_(680522),S),E.__exportStar(_(917659),S),E.__exportStar(_(194159),S),E.__exportStar(_(135137),S),E.__exportStar(_(826230),S),E.__exportStar(_(839156),S),E.__exportStar(_(784600),S),S.default=et},569494:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=void 0;S.DataItem=class DataItem{constructor(v,S){this.setTag=v=>{this.tag=v},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=v,this.tag=S}}},469305:function(v,S,_){"use strict";var E,P,D,R=_(901048).Buffer;P=[],void 0===(D="function"==typeof(E=function(){const{DataItem:v}=_(569494);var S=function(){function BinaryHex(v){this.$hex=v}BinaryHex.prototype={length:function(){return this.$hex.length/2},toString:function(v){if(!v||"hex"===v||16===v)return this.$hex;if("utf-8"===v){for(var S="",_=0;_<this.$hex.length;_+=2)S+="%"+this.$hex.substring(_,_+2);return decodeURIComponent(S)}if("latin"===v){for(S=[],_=0;_<this.$hex.length;_+=2)S.push(parseInt(this.$hex.substring(_,_+2),16));return String.fromCharCode.apply(String,S)}throw new Error("Unrecognised format: "+v)}},BinaryHex.fromLatinString=function(v){for(var S="",_=0;_<v.length;_++){var E=v.charCodeAt(_).toString(16);1===E.length&&(E="0"+E),S+=E}return new BinaryHex(S)},BinaryHex.fromUtf8String=function(v){for(var S=encodeURIComponent(v),_="",E=0;E<S.length;E++)if("%"===S.charAt(E))_+=S.substring(E+1,E+3),E+=2;else{var P=S.charCodeAt(E).toString(16);P.length<2&&(P="0"+P),_+=P}return new BinaryHex(_)};var S=[],_={},notImplemented=function(v){return function(){throw new Error(v+" not implemented")}};function Reader(){}function Writer(){}function readHeaderRaw(v){var S=v.readByte();return{type:S>>5,value:31&S}}function valueFromHeader(v,S){var _=v.value;return _<24?_:24==_?S.readByte():25==_?S.readUint16():26==_?S.readUint32():27==_?S.readUint64():31==_?null:void notImplemented("Additional info: "+_)()}function writeHeaderRaw(v,S,_){_.writeByte(v<<5|S)}function writeHeader(v,S,_){var E=v<<5;S<24?_.writeByte(E|S):S<256?(_.writeByte(24|E),_.writeByte(S)):S<65536?(_.writeByte(25|E),_.writeUint16(S)):S<4294967296?(_.writeByte(26|E),_.writeUint32(S)):(_.writeByte(27|E),_.writeUint64(S))}Reader.prototype={peekByte:notImplemented("peekByte"),readByte:notImplemented("readByte"),readChunk:notImplemented("readChunk"),readFloat16:function(){var v=this.readUint16(),S=(32767&v)>>10,_=1023&v,E=32768&v;if(31===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-25)*(1024+_):Math.pow(2,-24)*_;return E?-P:P},readFloat32:function(){var v=this.readUint32(),S=(2147483647&v)>>23,_=8388607&v,E=2147483648&v;if(255===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-23-127)*(8388608+_):Math.pow(2,-149)*_;return E?-P:P},readFloat64:function(){var v=this.readUint32(),S=v>>20&2047,_=4294967296*(1048575&v)+this.readUint32(),E=2147483648&v;if(2047===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-52-1023)*(4503599627370496+_):Math.pow(2,-1074)*_;return E?-P:P},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},Writer.prototype={writeByte:notImplemented("writeByte"),result:notImplemented("result"),writeFloat16:notImplemented("writeFloat16"),writeFloat32:notImplemented("writeFloat32"),writeFloat64:notImplemented("writeFloat64"),writeUint16:function(v){this.writeByte(v>>8&255),this.writeByte(255&v)},writeUint32:function(v){this.writeUint16(v>>16&65535),this.writeUint16(65535&v)},writeUint64:function(v){if(v>=9007199254740992||v<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+v+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(v/4294967296)),this.writeUint32(v%4294967296)},writeString:notImplemented("writeString"),canWriteBinary:function(v){return!1},writeBinary:notImplemented("writeChunk")};var E=new Error;function decodeReader(v){var S=readHeaderRaw(v);switch(S.type){case 0:return valueFromHeader(S,v);case 1:return-1-valueFromHeader(S,v);case 2:return v.readChunk(valueFromHeader(S,v));case 3:return v.readChunk(valueFromHeader(S,v)).toString("utf-8");case 4:case 5:var P=valueFromHeader(S,v),D=[];if(null!==P){5===S.type&&(P*=2);for(var R=0;R<P;R++)D[R]=decodeReader(v)}else for(var M;(M=decodeReader(v))!==E;)D.push(M);if(5===S.type){var O={};for(R=0;R<D.length;R+=2)O[D[R]]=D[R+1];return O}return D;case 6:var F=valueFromHeader(S,v),N=_[F];return D=decodeReader(v),N?N(D):D;case 7:if(25===S.value)return v.readFloat16();if(26===S.value)return v.readFloat32();if(27===S.value)return v.readFloat64();switch(valueFromHeader(S,v)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return E;default:throw new Error("Unknown fixed value: "+S.value)}default:throw new Error("Unsupported header: "+JSON.stringify(S))}throw new Error("not implemented yet")}function encodeWriter(v,_){for(var E=0;E<S.length;E++){var P=S[E].fn(v);if(void 0!==P)return writeHeader(6,S[E].tag,_),encodeWriter(P,_)}if(v&&"function"==typeof v.toCBOR&&(v=v.toCBOR()),!1===v)writeHeader(7,20,_);else if(!0===v)writeHeader(7,21,_);else if(null===v)writeHeader(7,22,_);else if(void 0===v)writeHeader(7,23,_);else if("number"==typeof v)Math.floor(v)===v&&v<9007199254740992&&v>-9007199254740992?v<0?writeHeader(1,-1-v,_):writeHeader(0,v,_):(writeHeaderRaw(7,27,_),_.writeFloat64(v));else if("string"==typeof v)_.writeString(v,(function(v){writeHeader(3,v,_)}));else if(_.canWriteBinary(v))_.writeBinary(v,(function(v){writeHeader(2,v,_)}));else{if("object"!=typeof v)throw new Error("CBOR encoding not supported: "+v);if(M.config.useToJSON&&"function"==typeof v.toJSON&&(v=v.toJSON()),Array.isArray(v))for(writeHeader(4,v.length,_),E=0;E<v.length;E++)encodeWriter(v[E],_);else{var D=Object.keys(v);for(writeHeader(5,D.length,_),E=0;E<D.length;E++){const S=parseInt(D[E]);isNaN(S)?(encodeWriter(D[E],_),encodeWriter(v[D[E]],_)):(encodeWriter(S,_),encodeWriter(v[D[E]],_))}}}}var P=[],D=[],M={config:{useToJSON:!0},addWriter:function(v,S){"string"==typeof v?D.push((function(_){if(v===_)return S(_)})):D.push(v)},addReader:function(v,S){"string"==typeof v?P.push((function(_,E){if(v===E)return S(_,E)})):P.push(v)},encode:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return encodeWriter(v,E),E.result()}throw new Error("Unsupported output format: "+S)},encodeDataItem:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return void 0!==v.getTag()?(encodeWriter(v,E),E.result()):(encodeWriter(v.getData(),E),E.result())}throw new Error("Unsupported output format: "+S)},decode:function(v,S){for(var _=0;_<P.length;_++){var E=(0,P[_])(v,S);if(E)return decodeReader(E)}throw new Error("Unsupported input format: "+S)},decodeToDataItem:function(S,_){for(var E=0;E<P.length;E++){var D=(0,P[E])(S,_);if(D){const S=decodeReader(D);return S instanceof v?S:new v(S)}}throw new Error("Unsupported input format: "+_)},addSemanticEncode:function(v,_){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return S.push({tag:v,fn:_}),this},addSemanticDecode:function(v,S){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return _[v]=S,this}};function BufferReader(v){this.buffer=v,this.pos=0}function BufferWriter(v){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=v}function HexReader(v){this.hex=v,this.pos=0}function HexWriter(v){this.$hex="",this.finalFormat=v||"hex"}return BufferReader.prototype=Object.create(Reader.prototype),BufferReader.prototype.peekByte=function(){return this.buffer[this.pos]},BufferReader.prototype.readByte=function(){return this.buffer[this.pos++]},BufferReader.prototype.readUint16=function(){var v=this.buffer.readUInt16BE(this.pos);return this.pos+=2,v},BufferReader.prototype.readUint32=function(){var v=this.buffer.readUInt32BE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat32=function(){var v=this.buffer.readFloatBE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat64=function(){var v=this.buffer.readDoubleBE(this.pos);return this.pos+=8,v},BufferReader.prototype.readChunk=function(v){var S=R.alloc(v);return this.buffer.copy(S,0,this.pos,this.pos+=v),S},BufferWriter.prototype=Object.create(Writer.prototype),BufferWriter.prototype.writeByte=function(v){this.latestBuffer[this.latestBufferOffset++]=v,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},BufferWriter.prototype.writeFloat32=function(v){var S=R.alloc(4);S.writeFloatBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeFloat64=function(v){var S=R.alloc(8);S.writeDoubleBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeString=function(v,S){var _=R.from(v,"utf-8");S(_.length),this.writeBuffer(_)},BufferWriter.prototype.canWriteBinary=function(v){return v instanceof R},BufferWriter.prototype.writeBinary=function(v,S){S(v.length),this.writeBuffer(v)},BufferWriter.prototype.writeBuffer=function(v){if(!(v instanceof R))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=v.length?(v.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=v.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(v),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(v),this.byteLength+=v.length},BufferWriter.prototype.result=function(){for(var v=R.alloc(this.byteLength),S=0,_=0;_<this.completeBuffers.length;_++){var E=this.completeBuffers[_];E.copy(v,S,0,E.length),S+=E.length}return this.latestBufferOffset&&this.latestBuffer.copy(v,S,0,this.latestBufferOffset),this.stringFormat?v.toString(this.stringFormat):v},"function"==typeof R&&(M.addReader((function(v,S){return R.isBuffer(v)?new BufferReader(v):"hex"===S||"base64"===S?new BufferReader(R.from(v,S)):void 0})),M.addWriter((function(v){return v&&"buffer"!==v?"hex"===v||"base64"===v?new BufferWriter(v):void 0:new BufferWriter}))),HexReader.prototype=Object.create(Reader.prototype),HexReader.prototype.peekByte=function(){var v=this.hex.substring(this.pos,2);return parseInt(v,16)},HexReader.prototype.readByte=function(){var v=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(v,16)},HexReader.prototype.readChunk=function(v){var S=this.hex.substring(this.pos,this.pos+2*v);return this.pos+=2*v,"function"==typeof R?R.from(S,"hex"):new BinaryHex(S)},HexWriter.prototype=Object.create(Writer.prototype),HexWriter.prototype.writeByte=function(v){if(v<0||v>255)throw new Error("Byte value out of range: "+v);var S=v.toString(16);1==S.length&&(S="0"+S),this.$hex+=S},HexWriter.prototype.canWriteBinary=function(v){return v instanceof BinaryHex||"function"==typeof R&&v instanceof R},HexWriter.prototype.writeBinary=function(v,S){if(v instanceof BinaryHex)S(v.length()),this.$hex+=v.$hex;else{if(!("function"==typeof R&&v instanceof R))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");S(v.length),this.$hex+=v.toString("hex")}},HexWriter.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof R?R.from(this.$hex,"hex"):new BinaryHex(this.$hex).toString(this.finalFormat)},HexWriter.prototype.writeString=function(v,S){var _=BinaryHex.fromUtf8String(v);S(_.length()),this.$hex+=_.$hex},M.addReader((function(v,S){return v instanceof BinaryHex||v.$hex?new HexReader(v.$hex):"hex"===S?new HexReader(v):void 0})),M.addWriter((function(v){if("hex"===v)return new HexWriter})),M}();return S.addSemanticEncode(0,(function(v){if(v instanceof Date)return v.toISOString()})).addSemanticDecode(0,(function(v){return new Date(v)})).addSemanticDecode(1,(function(v){return new Date(v)})),S})?E.apply(S,P):E)||(v.exports=D)},441685:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=S.addWriter=S.addReader=S.addSemanticEncode=S.addSemanticDecode=S.decodeToDataItem=S.encodeDataItem=void 0;var E=_(469305);Object.defineProperty(S,"encodeDataItem",{enumerable:!0,get:function(){return E.encodeDataItem}}),Object.defineProperty(S,"decodeToDataItem",{enumerable:!0,get:function(){return E.decodeToDataItem}}),Object.defineProperty(S,"addSemanticDecode",{enumerable:!0,get:function(){return E.addSemanticDecode}}),Object.defineProperty(S,"addSemanticEncode",{enumerable:!0,get:function(){return E.addSemanticEncode}}),Object.defineProperty(S,"addReader",{enumerable:!0,get:function(){return E.addReader}}),Object.defineProperty(S,"addWriter",{enumerable:!0,get:function(){return E.addWriter}});var P=_(569494);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return P.DataItem}})},917659:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});const E=_(784600),P=_(826230),D=_(485480),R=Object.values(P.RegistryTypes).filter((v=>!!v.getTag())).map((v=>v.getTag())),M=Object.values(D.ScriptExpressions).map((v=>v.getTag()));E.patchTags(R.concat(M))},839156:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0})},784600:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.patchTags=void 0;const E=_(441685),P=[];S.patchTags=v=>{v.forEach((v=>{P.find((S=>S===v))||(E.addSemanticEncode(v,(S=>{if(S instanceof E.DataItem&&S.getTag()===v)return S.getData()})),E.addSemanticDecode(v,(S=>new E.DataItem(S,v))),P.push(v))}))}},271786:(v,S,_)=>{"use strict";var E=_(939216),P=_(825636).Buffer;v.exports=function(v){function decodeRaw(S){var _=S.slice(0,-4),E=S.slice(-4),P=v(_);if(!(E[0]^P[0]|E[1]^P[1]|E[2]^P[2]|E[3]^P[3]))return _}return{encode:function encode(S){var _=v(S);return E.encode(P.concat([S,_],S.length+4))},decode:function decode(v){var S=decodeRaw(E.decode(v));if(!S)throw new Error("Invalid checksum");return S},decodeUnsafe:function decodeUnsafe(v){var S=E.decodeUnsafe(v);if(S)return decodeRaw(S)}}}},71463:(v,S,_)=>{"use strict";var E=_(213257),P=_(271786);v.exports=P((function sha256x2(v){var S=E("sha256").update(v).digest();return E("sha256").update(S).digest()}))},529649:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"NIL",{enumerable:!0,get:function get(){return M.default}}),Object.defineProperty(S,"parse",{enumerable:!0,get:function get(){return L.default}}),Object.defineProperty(S,"stringify",{enumerable:!0,get:function get(){return N.default}}),Object.defineProperty(S,"v1",{enumerable:!0,get:function get(){return E.default}}),Object.defineProperty(S,"v3",{enumerable:!0,get:function get(){return P.default}}),Object.defineProperty(S,"v4",{enumerable:!0,get:function get(){return D.default}}),Object.defineProperty(S,"v5",{enumerable:!0,get:function get(){return R.default}}),Object.defineProperty(S,"validate",{enumerable:!0,get:function get(){return F.default}}),Object.defineProperty(S,"version",{enumerable:!0,get:function get(){return O.default}});var E=_interopRequireDefault(_(580332)),P=_interopRequireDefault(_(152438)),D=_interopRequireDefault(_(385303)),R=_interopRequireDefault(_(770176)),M=_interopRequireDefault(_(524386)),O=_interopRequireDefault(_(455793)),F=_interopRequireDefault(_(904331)),N=_interopRequireDefault(_(408616)),L=_interopRequireDefault(_(78470));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}},88605:(v,S)=>{"use strict";function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){const _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=function md5(v){if("string"==typeof v){const S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(let _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){const S=[],_=32*v.length,E="0123456789abcdef";for(let P=0;P<_;P+=8){const _=v[P>>5]>>>P%32&255,D=parseInt(E.charAt(_>>>4&15)+E.charAt(15&_),16);S.push(D)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;let _=1732584193,E=-271733879,P=-1732584194,D=271733878;for(let S=0;S<v.length;S+=16){const R=_,M=E,O=P,F=D;_=md5ff(_,E,P,D,v[S],7,-680876936),D=md5ff(D,_,E,P,v[S+1],12,-389564586),P=md5ff(P,D,_,E,v[S+2],17,606105819),E=md5ff(E,P,D,_,v[S+3],22,-1044525330),_=md5ff(_,E,P,D,v[S+4],7,-176418897),D=md5ff(D,_,E,P,v[S+5],12,1200080426),P=md5ff(P,D,_,E,v[S+6],17,-1473231341),E=md5ff(E,P,D,_,v[S+7],22,-45705983),_=md5ff(_,E,P,D,v[S+8],7,1770035416),D=md5ff(D,_,E,P,v[S+9],12,-1958414417),P=md5ff(P,D,_,E,v[S+10],17,-42063),E=md5ff(E,P,D,_,v[S+11],22,-1990404162),_=md5ff(_,E,P,D,v[S+12],7,1804603682),D=md5ff(D,_,E,P,v[S+13],12,-40341101),P=md5ff(P,D,_,E,v[S+14],17,-1502002290),E=md5ff(E,P,D,_,v[S+15],22,1236535329),_=md5gg(_,E,P,D,v[S+1],5,-165796510),D=md5gg(D,_,E,P,v[S+6],9,-1069501632),P=md5gg(P,D,_,E,v[S+11],14,643717713),E=md5gg(E,P,D,_,v[S],20,-373897302),_=md5gg(_,E,P,D,v[S+5],5,-701558691),D=md5gg(D,_,E,P,v[S+10],9,38016083),P=md5gg(P,D,_,E,v[S+15],14,-660478335),E=md5gg(E,P,D,_,v[S+4],20,-405537848),_=md5gg(_,E,P,D,v[S+9],5,568446438),D=md5gg(D,_,E,P,v[S+14],9,-1019803690),P=md5gg(P,D,_,E,v[S+3],14,-187363961),E=md5gg(E,P,D,_,v[S+8],20,1163531501),_=md5gg(_,E,P,D,v[S+13],5,-1444681467),D=md5gg(D,_,E,P,v[S+2],9,-51403784),P=md5gg(P,D,_,E,v[S+7],14,1735328473),E=md5gg(E,P,D,_,v[S+12],20,-1926607734),_=md5hh(_,E,P,D,v[S+5],4,-378558),D=md5hh(D,_,E,P,v[S+8],11,-2022574463),P=md5hh(P,D,_,E,v[S+11],16,1839030562),E=md5hh(E,P,D,_,v[S+14],23,-35309556),_=md5hh(_,E,P,D,v[S+1],4,-1530992060),D=md5hh(D,_,E,P,v[S+4],11,1272893353),P=md5hh(P,D,_,E,v[S+7],16,-155497632),E=md5hh(E,P,D,_,v[S+10],23,-1094730640),_=md5hh(_,E,P,D,v[S+13],4,681279174),D=md5hh(D,_,E,P,v[S],11,-358537222),P=md5hh(P,D,_,E,v[S+3],16,-722521979),E=md5hh(E,P,D,_,v[S+6],23,76029189),_=md5hh(_,E,P,D,v[S+9],4,-640364487),D=md5hh(D,_,E,P,v[S+12],11,-421815835),P=md5hh(P,D,_,E,v[S+15],16,530742520),E=md5hh(E,P,D,_,v[S+2],23,-995338651),_=md5ii(_,E,P,D,v[S],6,-198630844),D=md5ii(D,_,E,P,v[S+7],10,1126891415),P=md5ii(P,D,_,E,v[S+14],15,-1416354905),E=md5ii(E,P,D,_,v[S+5],21,-57434055),_=md5ii(_,E,P,D,v[S+12],6,1700485571),D=md5ii(D,_,E,P,v[S+3],10,-1894986606),P=md5ii(P,D,_,E,v[S+10],15,-1051523),E=md5ii(E,P,D,_,v[S+1],21,-2054922799),_=md5ii(_,E,P,D,v[S+8],6,1873313359),D=md5ii(D,_,E,P,v[S+15],10,-30611744),P=md5ii(P,D,_,E,v[S+6],15,-1560198380),E=md5ii(E,P,D,_,v[S+13],21,1309151649),_=md5ii(_,E,P,D,v[S+4],6,-145523070),D=md5ii(D,_,E,P,v[S+11],10,-1120210379),P=md5ii(P,D,_,E,v[S+2],15,718787259),E=md5ii(E,P,D,_,v[S+9],21,-343485551),_=safeAdd(_,R),E=safeAdd(E,M),P=safeAdd(P,O),D=safeAdd(D,F)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];const S=8*v.length,_=new Uint32Array(getOutputLength(S));for(let E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};S.default=_},386686:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};S.default=_},524386:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;S.default="00000000-0000-0000-0000-000000000000"},78470:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(904331));var P=function parse(v){if(!(0,E.default)(v))throw TypeError("Invalid UUID");let S;const _=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};S.default=P},888126:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;S.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},889084:(v,S)=>{"use strict";let _;Object.defineProperty(S,"__esModule",{value:!0}),S.default=function rng(){if(!_&&(_="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _(E)};const E=new Uint8Array(16)},234392:(v,S)=>{"use strict";function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=function sha1(v){const S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){const S=unescape(encodeURIComponent(v));v=[];for(let _=0;_<S.length;++_)v.push(S.charCodeAt(_))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);const E=v.length/4+2,P=Math.ceil(E/16),D=new Array(P);for(let S=0;S<P;++S){const _=new Uint32Array(16);for(let E=0;E<16;++E)_[E]=v[64*S+4*E]<<24|v[64*S+4*E+1]<<16|v[64*S+4*E+2]<<8|v[64*S+4*E+3];D[S]=_}D[P-1][14]=8*(v.length-1)/Math.pow(2,32),D[P-1][14]=Math.floor(D[P-1][14]),D[P-1][15]=8*(v.length-1)&4294967295;for(let v=0;v<P;++v){const E=new Uint32Array(80);for(let S=0;S<16;++S)E[S]=D[v][S];for(let v=16;v<80;++v)E[v]=ROTL(E[v-3]^E[v-8]^E[v-14]^E[v-16],1);let P=_[0],R=_[1],M=_[2],O=_[3],F=_[4];for(let v=0;v<80;++v){const _=Math.floor(v/20),D=ROTL(P,5)+f(_,R,M,O)+F+S[_]+E[v]>>>0;F=O,O=M,M=ROTL(R,30)>>>0,R=P,P=D}_[0]=_[0]+P>>>0,_[1]=_[1]+R>>>0,_[2]=_[2]+M>>>0,_[3]=_[3]+O>>>0,_[4]=_[4]+F>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};S.default=_},408616:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,S.unsafeStringify=unsafeStringify;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(904331));const P=[];for(let v=0;v<256;++v)P.push((v+256).toString(16).slice(1));function unsafeStringify(v,S=0){return P[v[S+0]]+P[v[S+1]]+P[v[S+2]]+P[v[S+3]]+"-"+P[v[S+4]]+P[v[S+5]]+"-"+P[v[S+6]]+P[v[S+7]]+"-"+P[v[S+8]]+P[v[S+9]]+"-"+P[v[S+10]]+P[v[S+11]]+P[v[S+12]]+P[v[S+13]]+P[v[S+14]]+P[v[S+15]]}var D=function stringify(v,S=0){const _=unsafeStringify(v,S);if(!(0,E.default)(_))throw TypeError("Stringified UUID is invalid");return _};S.default=D},580332:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(889084)),P=_(408616);let D,R,M=0,O=0;var F=function v1(v,S,_){let F=S&&_||0;const N=S||new Array(16);let L=(v=v||{}).node||D,U=void 0!==v.clockseq?v.clockseq:R;if(null==L||null==U){const S=v.random||(v.rng||E.default)();null==L&&(L=D=[1|S[0],S[1],S[2],S[3],S[4],S[5]]),null==U&&(U=R=16383&(S[6]<<8|S[7]))}let V=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:O+1;const W=V-M+(G-O)/1e4;if(W<0&&void 0===v.clockseq&&(U=U+1&16383),(W<0||V>M)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");M=V,O=G,R=U,V+=122192928e5;const $=(1e4*(268435455&V)+G)%4294967296;N[F++]=$>>>24&255,N[F++]=$>>>16&255,N[F++]=$>>>8&255,N[F++]=255&$;const X=V/4294967296*1e4&268435455;N[F++]=X>>>8&255,N[F++]=255&X,N[F++]=X>>>24&15|16,N[F++]=X>>>16&255,N[F++]=U>>>8|128,N[F++]=255&U;for(let v=0;v<6;++v)N[F+v]=L[v];return S||(0,P.unsafeStringify)(N)};S.default=F},152438:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(345119)),P=_interopRequireDefault(_(88605));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var D=(0,E.default)("v3",48,P.default);S.default=D},345119:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URL=S.DNS=void 0,S.default=function v35(v,S,_){function generateUUID(v,D,R,M){var O;if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));const S=[];for(let _=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof D&&(D=(0,P.default)(D)),16!==(null===(O=D)||void 0===O?void 0:O.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let F=new Uint8Array(16+v.length);if(F.set(D),F.set(v,D.length),F=_(F),F[6]=15&F[6]|S,F[8]=63&F[8]|128,R){M=M||0;for(let v=0;v<16;++v)R[M+v]=F[v];return R}return(0,E.unsafeStringify)(F)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS=D,generateUUID.URL=R,generateUUID};var E=_(408616),P=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(78470));const D="6ba7b810-9dad-11d1-80b4-00c04fd430c8";S.DNS=D;const R="6ba7b811-9dad-11d1-80b4-00c04fd430c8";S.URL=R},385303:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(386686)),P=_interopRequireDefault(_(889084)),D=_(408616);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var R=function v4(v,S,_){if(E.default.randomUUID&&!S&&!v)return E.default.randomUUID();const R=(v=v||{}).random||(v.rng||P.default)();if(R[6]=15&R[6]|64,R[8]=63&R[8]|128,S){_=_||0;for(let v=0;v<16;++v)S[_+v]=R[v];return S}return(0,D.unsafeStringify)(R)};S.default=R},770176:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(345119)),P=_interopRequireDefault(_(234392));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var D=(0,E.default)("v5",80,P.default);S.default=D},904331:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(888126));var P=function validate(v){return"string"==typeof v&&E.default.test(v)};S.default=P},455793:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(904331));var P=function version(v){if(!(0,E.default)(v))throw TypeError("Invalid UUID");return parseInt(v.slice(14,15),16)};S.default=P},965012:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});var P=_(344335),D=_(205747);const R={TRON_SIGN_REQUEST:new P.RegistryType("ton-sign-request",7201),TRON_SIGNATURE:new P.RegistryType("ton-signature",7202)},{decodeToDataItem:M,RegistryTypes:O}=P.extend;var F,N;!function(v){v[v.requestId=1]="requestId",v[v.signData=2]="signData",v[v.dataType=3]="dataType",v[v.derivationPath=4]="derivationPath",v[v.address=5]="address",v[v.origin=6]="origin"}(F||(F={})),(N=S.DataType||(S.DataType={}))[N.TRANSACTION=1]="TRANSACTION",N[N.SIGN_PROOF=2]="SIGN_PROOF";class o extends P.RegistryItem{constructor(v){super(),this.getRegistryType=()=>R.TRON_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath?this.derivationPath.getPath():void 0,this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getDataType=()=>this.dataType,this.toDataItem=()=>{const v={};if(v[F.signData]=this.signData,v[F.dataType]=this.dataType,this.derivationPath){const S=this.derivationPath.toDataItem();S.setTag(this.derivationPath.getRegistryType().getTag()),v[F.derivationPath]=S}return this.requestId&&(v[F.requestId]=new P.DataItem(this.requestId,O.UUID.getTag())),this.address&&(v[F.address]=this.address),this.origin&&(v[F.origin]=this.origin),new P.DataItem(v)},this.requestId=v.requestId,this.signData=v.signData,this.derivationPath=v.derivationPath,this.address=v.address,this.origin=v.origin,this.dataType=v.dataType}static parsePath(v,S){const _=v.replace(/[m|M]\//,"").split("/").map((v=>{const S=parseInt(v.replace("'",""));let _=!1;return v.endsWith("'")&&(_=!0),new P.PathComponent({index:S,hardened:_})}));return new P.CryptoKeypath(_,E.from(S,"hex"))}static constructTonRequest(v,S,_,P,R,M,O){return new o({requestId:P?E.from(D.parse(P)):void 0,signData:v,dataType:S,derivationPath:O&&M?o.parsePath(O,M):void 0,address:_,origin:R})}}o.fromDataItem=v=>{const S=v.getData(),_=S[F.requestId]?S[F.requestId].getData():void 0,E=S[F.derivationPath]?P.CryptoKeypath.fromDataItem(S[F.derivationPath]):void 0;return new o({requestId:_,signData:S[F.signData],dataType:S[F.dataType],derivationPath:E,address:S[F.address],origin:S[F.origin]})},o.fromCBOR=v=>{const S=M(v);return o.fromDataItem(S)};const{RegistryTypes:L,decodeToDataItem:U}=P.extend;var V;!function(v){v[v.requestId=1]="requestId",v[v.signature=2]="signature",v[v.origin=3]="origin"}(V||(V={}));class u extends P.RegistryItem{constructor(v,S,_){super(),this.getRegistryType=()=>R.TRON_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[V.requestId]=new P.DataItem(this.requestId,L.UUID.getTag()),v[V.signature]=this.signature,v[V.origin]=this.origin,new P.DataItem(v)},this.signature=v,this.requestId=S,this.origin=_}}u.fromDataItem=v=>{const S=v.getData(),_=S[V.signature],E=S[V.requestId].getData();return new u(_,E,S[V.origin])},u.fromCBOR=v=>{const S=U(v);return u.fromDataItem(S)},P.patchTags(Object.values(R).filter((v=>!!v.getTag())).map((v=>v.getTag()))),Object.keys(P).forEach((function(v){"default"!==v&&Object.defineProperty(S,v,{enumerable:!0,get:function(){return P[v]}})})),S.TonSignRequest=o,S.TonSignature=u},494458:(v,S,_)=>{"use strict";v.exports=_(965012)},198284:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Bytes=void 0;const E=_(514639),P=_(994811),D=_(234696);class Bytes extends P.RegistryItem{constructor(v){super(),this.bytes=v,this.getRegistryType=()=>D.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new E.DataItem(this.bytes)}}S.Bytes=Bytes,Bytes.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new Bytes(S)},Bytes.fromCBOR=v=>{const S=E.decodeToDataItem(v);return Bytes.fromDataItem(S)}},502411:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoAccount=void 0;const P=_(344335),D=_(514639),R=_(994811),M=_(234696);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.outputDescriptors=2]="outputDescriptors"}(O||(O={}));class CryptoAccount extends R.RegistryItem{constructor(v,S){super(),this.masterFingerprint=v,this.outputDescriptors=S,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(v[O.outputDescriptors]=this.outputDescriptors.map((v=>v.toDataItem()))),new D.DataItem(v)}}}S.CryptoAccount=CryptoAccount,CryptoAccount.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),D=S[O.masterFingerprint];D&&_.writeUInt32BE(D,0);const R=S[O.outputDescriptors].map((v=>P.CryptoOutput.fromDataItem(v)));return new CryptoAccount(_,R)},CryptoAccount.fromCBOR=v=>{const S=D.decodeToDataItem(v);return CryptoAccount.fromDataItem(S)}},510759:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoCoinInfo=S.Network=S.Type=void 0;const E=_(514639),P=_(994811),D=_(234696);var R,M,O;!function(v){v.type="1",v.network="2"}(R||(R={})),function(v){v[v.bitcoin=0]="bitcoin"}(M=S.Type||(S.Type={})),function(v){v[v.mainnet=0]="mainnet",v[v.testnet=1]="testnet"}(O=S.Network||(S.Network={}));class CryptoCoinInfo extends P.RegistryItem{constructor(v,S){super(),this.type=v,this.network=S,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||M.bitcoin,this.getNetwork=()=>this.network||O.mainnet,this.toDataItem=()=>{const v={};return this.type&&(v[R.type]=this.type),this.network&&(v[R.network]=this.network),new E.DataItem(v)}}}S.CryptoCoinInfo=CryptoCoinInfo,CryptoCoinInfo.fromDataItem=v=>{const S=v.getData(),_=S[R.type],E=S[R.network];return new CryptoCoinInfo(_,E)},CryptoCoinInfo.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoCoinInfo.fromDataItem(S)}},284727:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoECKey=void 0;const E=_(514639),P=_(994811),D=_(234696);var R;!function(v){v[v.curve=1]="curve",v[v.private=2]="private",v[v.data=3]="data"}(R||(R={}));class CryptoECKey extends P.RegistryItem{constructor(v){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const v={};return this.curve&&(v[R.curve]=this.curve),void 0!==this.privateKey&&(v[R.private]=this.privateKey),v[R.data]=this.data,new E.DataItem(v)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=v.data,this.curve=v.curve,this.privateKey=v.privateKey||void 0}}S.CryptoECKey=CryptoECKey,CryptoECKey.fromDataItem=v=>{const S=v.getData(),_=S[R.curve],E=S[R.private],P=S[R.data];if(!P)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${v}`);return new CryptoECKey({data:P,curve:_,privateKey:E})},CryptoECKey.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoECKey.fromDataItem(S)}},77207:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoHDKey=void 0;const P=_(216173),D=_(510759),R=_(38840),M=_(514639),O=_(994811),F=_(234696);var N;!function(v){v[v.is_master=1]="is_master",v[v.is_private=2]="is_private",v[v.key_data=3]="key_data",v[v.chain_code=4]="chain_code",v[v.use_info=5]="use_info",v[v.origin=6]="origin",v[v.children=7]="children",v[v.parent_fingerprint=8]="parent_fingerprint",v[v.name=9]="name",v[v.note=10]="note"}(N||(N={}));class CryptoHDKey extends O.RegistryItem{constructor(v){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var v,S,_;let D,R,M=0,O=E.alloc(4).fill(0);if(this.isMaster())D=E.from("0488ADE4","hex"),R=0,M=0;else{R=(null===(v=this.getOrigin())||void 0===v?void 0:v.getComponents().length)||(null===(S=this.getOrigin())||void 0===S?void 0:S.getDepth());const P=null===(_=this.getOrigin())||void 0===_?void 0:_.getComponents(),F=P[P.length-1];F&&(M=F.isHardened()?F.getIndex()+2147483648:F.getIndex(),this.getParentFingerprint()&&(O=this.getParentFingerprint())),D=this.isPrivateKey()?E.from("0488ADE4","hex"):E.from("0488B21E","hex")}const F=E.alloc(1);F.writeUInt8(R,0);const N=E.alloc(4);N.writeUInt32BE(M,0);const L=this.getChainCode(),U=this.getKey();return P.encode(E.concat([D,F,O,N,L,U]))},this.getRegistryType=()=>F.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var v,S,_,E,P,D,R;let M="";return this.getOrigin()&&(null===(v=this.getOrigin())||void 0===v?void 0:v.getSourceFingerprint())&&(null===(S=this.getOrigin())||void 0===S?void 0:S.getPath())&&(M+=`${null===(E=null===(_=this.getOrigin())||void 0===_?void 0:_.getSourceFingerprint())||void 0===E?void 0:E.toString("hex")}/${null===(P=this.getOrigin())||void 0===P?void 0:P.getPath()}`),M+=this.getBip32Key(),this.getChildren()&&(null===(D=this.getChildren())||void 0===D?void 0:D.getPath())&&(M+=`/${null===(R=this.getChildren())||void 0===R?void 0:R.getPath()}`),M},this.setupMasterKey=v=>{this.master=!0,this.key=v.key,this.chainCode=v.chainCode},this.setupDeriveKey=v=>{this.master=!1,this.privateKey=v.isPrivateKey,this.key=v.key,this.chainCode=v.chainCode,this.useInfo=v.useInfo,this.origin=v.origin,this.children=v.children,this.parentFingerprint=v.parentFingerprint,this.name=v.name,this.note=v.note},this.toDataItem=()=>{const v={};if(this.master)v[N.is_master]=!0,v[N.key_data]=this.key,v[N.chain_code]=this.chainCode;else{if(void 0!==this.privateKey&&(v[N.is_private]=this.privateKey),v[N.key_data]=this.key,this.chainCode&&(v[N.chain_code]=this.chainCode),this.useInfo){const S=this.useInfo.toDataItem();S.setTag(this.useInfo.getRegistryType().getTag()),v[N.use_info]=S}if(this.origin){const S=this.origin.toDataItem();S.setTag(this.origin.getRegistryType().getTag()),v[N.origin]=S}if(this.children){const S=this.children.toDataItem();S.setTag(this.children.getRegistryType().getTag()),v[N.children]=S}this.parentFingerprint&&(v[N.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),void 0!==this.name&&(v[N.name]=this.name),void 0!==this.note&&(v[N.note]=this.note)}return new M.DataItem(v)},v.isMaster?this.setupMasterKey(v):this.setupDeriveKey(v)}}S.CryptoHDKey=CryptoHDKey,CryptoHDKey.fromDataItem=v=>{const S=v.getData(),_=!!S[N.is_master],P=S[N.is_private],M=S[N.key_data],O=S[N.chain_code],F=S[N.use_info]?D.CryptoCoinInfo.fromDataItem(S[N.use_info]):void 0,L=S[N.origin]?R.CryptoKeypath.fromDataItem(S[N.origin]):void 0,U=S[N.children]?R.CryptoKeypath.fromDataItem(S[N.children]):void 0,V=S[N.parent_fingerprint];let G;V&&(G=E.alloc(4),G.writeUInt32BE(V,0));const W=S[N.name],$=S[N.note];return new CryptoHDKey({isMaster:_,isPrivateKey:P,key:M,chainCode:O,useInfo:F,origin:L,children:U,parentFingerprint:G,name:W,note:$})},CryptoHDKey.fromCBOR=v=>{const S=M.decodeToDataItem(v);return CryptoHDKey.fromDataItem(S)}},38840:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoKeypath=void 0;const P=_(514639),D=_(630705),R=_(994811),M=_(234696);var O;!function(v){v[v.components=1]="components",v[v.source_fingerprint=2]="source_fingerprint",v[v.depth=3]="depth"}(O||(O={}));class CryptoKeypath extends R.RegistryItem{constructor(v=[],S,_){super(),this.components=v,this.sourceFingerprint=S,this.depth=_,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return;return this.components.map((v=>`${v.isWildcard()?"*":v.getIndex()}${v.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const v={},S=[];return this.components&&this.components.forEach((v=>{v.isWildcard()?S.push([]):S.push(v.getIndex()),S.push(v.isHardened())})),v[O.components]=S,this.sourceFingerprint&&(v[O.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),void 0!==this.depth&&(v[O.depth]=this.depth),new P.DataItem(v)}}}S.CryptoKeypath=CryptoKeypath,CryptoKeypath.fromDataItem=v=>{const S=v.getData(),_=[],P=S[O.components];if(P)for(let v=0;v<P.length;v+=2){const S=P[v+1],E=P[v];"number"==typeof E?_.push(new D.PathComponent({index:E,hardened:S})):_.push(new D.PathComponent({hardened:S}))}const R=S[O.source_fingerprint];let M;R&&(M=E.alloc(4),M.writeUInt32BE(R,0));const F=S[O.depth];return new CryptoKeypath(_,M,F)},CryptoKeypath.fromCBOR=v=>{const S=P.decodeToDataItem(v);return CryptoKeypath.fromDataItem(S)}},460211:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoOutput=void 0;const E=_(284727),P=_(77207),D=_(514639),R=_(301519),M=_(994811),O=_(234696),F=_(953986);class CryptoOutput extends M.RegistryItem{constructor(v,S){super(),this.scriptExpressions=v,this.cryptoKey=S,this.getRegistryType=()=>O.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof P.CryptoHDKey?this.cryptoKey:void 0,this.getECKey=()=>this.cryptoKey instanceof E.CryptoECKey?this.cryptoKey:void 0,this.getMultiKey=()=>this.cryptoKey instanceof R.MultiKey?this.cryptoKey:void 0,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=v=>v>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[v].getExpression()}(${this._toOutputDescriptor(v+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let v=this.cryptoKey.toDataItem();(this.cryptoKey instanceof E.CryptoECKey||this.cryptoKey instanceof P.CryptoHDKey)&&v.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((S=>{const _=S.getTag();void 0===v.getTag()?v.setTag(_):v=new D.DataItem(v,_)})),v}}}S.CryptoOutput=CryptoOutput,CryptoOutput.fromDataItem=v=>{const S=[];let _=v;for(;;){let v=_.getTag();const E=F.ScriptExpression.fromTag(v);if(!E)break;if(S.push(E),!(_.getData()instanceof D.DataItem))break;_=_.getData(),v=_.getTag()}const M=S.length;if(M>0&&(S[M-1].getExpression()===F.ScriptExpressions.MULTISIG.getExpression()||S[M-1].getExpression()===F.ScriptExpressions.SORTED_MULTISIG.getExpression())){const v=R.MultiKey.fromDataItem(_);return new CryptoOutput(S,v)}if(_.getTag()===O.RegistryTypes.CRYPTO_HDKEY.getTag()){const v=P.CryptoHDKey.fromDataItem(_);return new CryptoOutput(S,v)}{const v=E.CryptoECKey.fromDataItem(_);return new CryptoOutput(S,v)}},CryptoOutput.fromCBOR=v=>{const S=D.decodeToDataItem(v);return CryptoOutput.fromDataItem(S)}},70797:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoPSBT=void 0;const E=_(514639),P=_(994811),D=_(234696);class CryptoPSBT extends P.RegistryItem{constructor(v){super(),this.psbt=v,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new E.DataItem(this.psbt)}}S.CryptoPSBT=CryptoPSBT,CryptoPSBT.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new CryptoPSBT(S)},CryptoPSBT.fromCBOR=v=>{const S=E.decodeToDataItem(v);return CryptoPSBT.fromDataItem(S)}},439620:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URRegistryDecoder=void 0;const E=_(653980),P=_(344335),D=_(234696),R=_(401039);class URRegistryDecoder extends E.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const v=this.resultUR();switch(v.type){case D.RegistryTypes.BYTES.getType():return P.Bytes.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_HDKEY.getType():return P.CryptoHDKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_KEYPATH.getType():return P.CryptoKeypath.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_COIN_INFO.getType():return P.CryptoCoinInfo.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ECKEY.getType():return P.CryptoECKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_OUTPUT.getType():return P.CryptoOutput.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_PSBT.getType():return P.CryptoPSBT.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ACCOUNT.getType():return P.CryptoAccount.fromCBOR(v.cbor);default:throw new R.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${v.type} is not supported now`)}}}}S.URRegistryDecoder=URRegistryDecoder},301519:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MultiKey=void 0;const E=_(284727),P=_(77207),D=_(605408),R=_(994811),M=_(234696);var O;!function(v){v[v.threshold=1]="threshold",v[v.keys=2]="keys"}(O||(O={}));class MultiKey extends R.RegistryItem{constructor(v,S){super(),this.threshold=v,this.keys=S,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const v={};v[O.threshold]=this.threshold;const S=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}));return v[O.keys]=S,new D.DataItem(v)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((v=>v.getOutputDescriptorContent())).join(",")].join(",")}}S.MultiKey=MultiKey,MultiKey.fromDataItem=v=>{const S=v.getData(),_=S[O.threshold],D=S[O.keys],R=[];return D.forEach((v=>{v.getTag()===M.RegistryTypes.CRYPTO_HDKEY.getTag()?R.push(P.CryptoHDKey.fromDataItem(v)):v.getTag()===M.RegistryTypes.CRYPTO_ECKEY.getTag()&&R.push(E.CryptoECKey.fromDataItem(v))})),new MultiKey(_,R)}},630705:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PathComponent=void 0;class PathComponent{constructor(v){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=v.index,this.hardened=v.hardened,void 0!==this.index?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&PathComponent.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}S.PathComponent=PathComponent,PathComponent.HARDENED_BIT=2147483648},994811:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryItem=void 0;const E=_(653980),P=_(514639);S.RegistryItem=class RegistryItem{constructor(){this.toCBOR=()=>{if(void 0===this.toDataItem())throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return P.encodeDataItem(this.toDataItem())},this.toUR=()=>new E.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(v,S,_)=>{const P=this.toUR();return new E.UREncoder(P,v,S,_)}}}},234696:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryTypes=S.RegistryType=void 0;class RegistryType{constructor(v,S){this.type=v,this.tag=S,this.getTag=()=>this.tag,this.getType=()=>this.type}}S.RegistryType=RegistryType,S.RegistryTypes={UUID:new RegistryType("uuid",37),BYTES:new RegistryType("bytes",void 0),CRYPTO_HDKEY:new RegistryType("crypto-hdkey",303),CRYPTO_KEYPATH:new RegistryType("crypto-keypath",304),CRYPTO_COIN_INFO:new RegistryType("crypto-coin-info",305),CRYPTO_ECKEY:new RegistryType("crypto-eckey",306),CRYPTO_OUTPUT:new RegistryType("crypto-output",308),CRYPTO_PSBT:new RegistryType("crypto-psbt",310),CRYPTO_ACCOUNT:new RegistryType("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new RegistryType("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new RegistryType("qr-hardware-call",1201),KEY_DERIVATION_CALL:new RegistryType("key-derivation-call",1301)}},953986:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ScriptExpressions=S.ScriptExpression=void 0;class ScriptExpression{constructor(v,S){this.tag=v,this.expression=S,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}S.ScriptExpression=ScriptExpression,ScriptExpression.fromTag=v=>Object.values(S.ScriptExpressions).find((S=>S.getTag()===v)),S.ScriptExpressions={SCRIPT_HASH:new ScriptExpression(400,"sh"),WITNESS_SCRIPT_HASH:new ScriptExpression(401,"wsh"),PUBLIC_KEY:new ScriptExpression(402,"pk"),PUBLIC_KEY_HASH:new ScriptExpression(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ScriptExpression(404,"wpkh"),COMBO:new ScriptExpression(405,"combo"),MULTISIG:new ScriptExpression(406,"multi"),SORTED_MULTISIG:new ScriptExpression(407,"sortedmulti"),ADDRESS:new ScriptExpression(307,"addr"),RAW_SCRIPT:new ScriptExpression(408,"raw")}},401039:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UnknownURTypeError=void 0;class UnknownURTypeError extends Error{constructor(v){super(v)}}S.UnknownURTypeError=UnknownURTypeError},662263:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoMultiAccounts=void 0;const P=_(234696),D=_(77207),R=_(994811),M=_(514639);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.keys=2]="keys",v[v.device=3]="device"}(O||(O={}));class CryptoMultiAccounts extends R.RegistryItem{constructor(v,S,_){super(),this.masterFingerprint=v,this.keys=S,this.device=_,this.getRegistryType=()=>P.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(v[O.keys]=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}))),this.device&&(v[O.device]=this.device),new M.DataItem(v)}}}S.CryptoMultiAccounts=CryptoMultiAccounts,CryptoMultiAccounts.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),P=S[O.masterFingerprint];P&&_.writeUInt32BE(P,0);const R=S[O.keys].map((v=>D.CryptoHDKey.fromDataItem(v))),M=S[O.device];return new CryptoMultiAccounts(_,R,M)},CryptoMultiAccounts.fromCBOR=v=>{const S=M.decodeToDataItem(v);return CryptoMultiAccounts.fromDataItem(S)}},655811:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyDerivation=S.DerivationAlgorithm=S.Curve=void 0;const E=_(234696),P=_(994811),D=_(514639),R=_(38840);var M,O,F;!function(v){v[v.keyPaths=1]="keyPaths",v[v.curve=2]="curve",v[v.algo=3]="algo",v[v.origin=4]="origin"}(M||(M={})),function(v){v.secp256k1="secp256k1",v.ed25519="ed25519"}(O=S.Curve||(S.Curve={})),function(v){v.slip10="slip10",v.bip32ed25519="bip32ed25519"}(F=S.DerivationAlgorithm||(S.DerivationAlgorithm={}));class KeyDerivation extends P.RegistryItem{constructor(v,S=O.secp256k1,_=F.slip10,P){super(),this.keypaths=v,this.curve=S,this.algo=_,this.origin=P,this.getRegistryType=()=>E.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};return v[M.keyPaths]=this.keypaths.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),v[M.curve]=this.curve,v[M.algo]=this.algo,this.origin&&(v[M.origin]=this.origin),new D.DataItem(v)}}}S.KeyDerivation=KeyDerivation,KeyDerivation.fromDataItem=v=>{const S=v.getData(),_=S[M.keyPaths].map((v=>R.CryptoKeypath.fromDataItem(v))),E=S[M.curve],P=S[M.algo],D=S[M.origin];return new KeyDerivation(_,E,P,D)},KeyDerivation.fromCBOR=v=>{const S=D.decodeToDataItem(v);return KeyDerivation.fromDataItem(S)}},790222:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.QRHardwareCall=S.QRHardwareCallName=void 0;const E=_(234696),P=_(994811),D=_(514639),R=_(655811);var M,O;!function(v){v[v.name=1]="name",v[v.params=2]="params"}(M||(M={})),function(v){v.KeyDerivation="key-derivation"}(O=S.QRHardwareCallName||(S.QRHardwareCallName={}));class QRHardwareCall extends P.RegistryItem{constructor(v,S){super(),this.name=v,this.params=S,this.getRegistryType=()=>E.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{const v={};v[M.name]=this.name;const S=this.params.toDataItem();return S.setTag(this.params.getRegistryType().getTag()),v[M.params]=S,new D.DataItem(v)}}}S.QRHardwareCall=QRHardwareCall,QRHardwareCall.fromDataItem=v=>{const S=v.getData(),_=S[M.name]||O.KeyDerivation;let E;if(_===O.KeyDerivation)E=R.KeyDerivation.fromDataItem(S[M.params]);return new QRHardwareCall(_,E)},QRHardwareCall.fromCBOR=v=>{const S=D.decodeToDataItem(v);return QRHardwareCall.fromDataItem(S)}},344335:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Buffer=S.extend=S.PathComponent=S.ScriptExpressions=S.MultiKey=S.CryptoPSBT=S.CryptoOutput=S.CryptoECKey=S.CryptoCoinInfoNetwork=S.CryptoCoinInfoType=S.CryptoCoinInfo=S.CryptoKeypath=S.CryptoMultiAccounts=S.CryptoHDKey=S.CryptoAccount=S.Bytes=S.URRegistryDecoder=S.DataItem=void 0;const E=_(434117);_(152381);const P=_(901048);Object.defineProperty(S,"Buffer",{enumerable:!0,get:function(){return P.Buffer}});const D=_(77207);Object.defineProperty(S,"CryptoHDKey",{enumerable:!0,get:function(){return D.CryptoHDKey}});const R=_(38840);Object.defineProperty(S,"CryptoKeypath",{enumerable:!0,get:function(){return R.CryptoKeypath}});const M=_(510759);Object.defineProperty(S,"CryptoCoinInfo",{enumerable:!0,get:function(){return M.CryptoCoinInfo}}),Object.defineProperty(S,"CryptoCoinInfoType",{enumerable:!0,get:function(){return M.Type}}),Object.defineProperty(S,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return M.Network}});const O=_(284727);Object.defineProperty(S,"CryptoECKey",{enumerable:!0,get:function(){return O.CryptoECKey}});const F=_(198284);Object.defineProperty(S,"Bytes",{enumerable:!0,get:function(){return F.Bytes}});const N=_(460211);Object.defineProperty(S,"CryptoOutput",{enumerable:!0,get:function(){return N.CryptoOutput}});const L=_(70797);Object.defineProperty(S,"CryptoPSBT",{enumerable:!0,get:function(){return L.CryptoPSBT}});const U=_(502411);Object.defineProperty(S,"CryptoAccount",{enumerable:!0,get:function(){return U.CryptoAccount}});const V=_(439620);Object.defineProperty(S,"URRegistryDecoder",{enumerable:!0,get:function(){return V.URRegistryDecoder}});const G=_(301519);Object.defineProperty(S,"MultiKey",{enumerable:!0,get:function(){return G.MultiKey}});const W=_(953986);Object.defineProperty(S,"ScriptExpressions",{enumerable:!0,get:function(){return W.ScriptExpressions}});const $=_(630705);Object.defineProperty(S,"PathComponent",{enumerable:!0,get:function(){return $.PathComponent}});const X=_(994811),Y=_(234696),J=_(514639);var Z=_(514639);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return Z.DataItem}});const Q=_(705354),tt=_(662263);Object.defineProperty(S,"CryptoMultiAccounts",{enumerable:!0,get:function(){return tt.CryptoMultiAccounts}});const et={URRegistryDecoder:V.URRegistryDecoder,Bytes:F.Bytes,CryptoAccount:U.CryptoAccount,CryptoHDKey:D.CryptoHDKey,CryptoMultiAccounts:tt.CryptoMultiAccounts,CryptoKeypath:R.CryptoKeypath,CryptoCoinInfo:M.CryptoCoinInfo,CryptoCoinInfoType:M.Type,CryptoCoinInfoNetwork:M.Network,CryptoECKey:O.CryptoECKey,CryptoOutput:N.CryptoOutput,CryptoPSBT:L.CryptoPSBT,MultiKey:G.MultiKey,ScriptExpressions:W.ScriptExpressions,PathComponent:$.PathComponent},rt={addReader:J.addReader,addSemanticDecode:J.addSemanticDecode,addSemanticEncode:J.addSemanticEncode,addWriter:J.addWriter,patchTags:Q.patchTags},nt={RegistryTypes:Y.RegistryTypes,RegistryItem:X.RegistryItem,RegistryType:Y.RegistryType,decodeToDataItem:J.decodeToDataItem,encodeDataItem:J.encodeDataItem,cbor:rt};S.extend=nt,E.__exportStar(_(401039),S),E.__exportStar(_(439620),S),E.__exportStar(_(514639),S),E.__exportStar(_(502411),S),E.__exportStar(_(70797),S),E.__exportStar(_(77207),S),E.__exportStar(_(662263),S),E.__exportStar(_(790222),S),E.__exportStar(_(655811),S),E.__exportStar(_(460211),S),E.__exportStar(_(510759),S),E.__exportStar(_(284727),S),E.__exportStar(_(301519),S),E.__exportStar(_(38840),S),E.__exportStar(_(152381),S),E.__exportStar(_(630705),S),E.__exportStar(_(994811),S),E.__exportStar(_(234696),S),E.__exportStar(_(925318),S),E.__exportStar(_(705354),S),S.default=et},605408:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=void 0;S.DataItem=class DataItem{constructor(v,S){this.setTag=v=>{this.tag=v},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=v,this.tag=S}}},848691:function(v,S,_){"use strict";var E,P,D,R=_(901048).Buffer;P=[],void 0===(D="function"==typeof(E=function(){const{DataItem:v}=_(605408);var S=function(){function BinaryHex(v){this.$hex=v}BinaryHex.prototype={length:function(){return this.$hex.length/2},toString:function(v){if(!v||"hex"===v||16===v)return this.$hex;if("utf-8"===v){for(var S="",_=0;_<this.$hex.length;_+=2)S+="%"+this.$hex.substring(_,_+2);return decodeURIComponent(S)}if("latin"===v){for(S=[],_=0;_<this.$hex.length;_+=2)S.push(parseInt(this.$hex.substring(_,_+2),16));return String.fromCharCode.apply(String,S)}throw new Error("Unrecognised format: "+v)}},BinaryHex.fromLatinString=function(v){for(var S="",_=0;_<v.length;_++){var E=v.charCodeAt(_).toString(16);1===E.length&&(E="0"+E),S+=E}return new BinaryHex(S)},BinaryHex.fromUtf8String=function(v){for(var S=encodeURIComponent(v),_="",E=0;E<S.length;E++)if("%"===S.charAt(E))_+=S.substring(E+1,E+3),E+=2;else{var P=S.charCodeAt(E).toString(16);P.length<2&&(P="0"+P),_+=P}return new BinaryHex(_)};var S=[],_={},notImplemented=function(v){return function(){throw new Error(v+" not implemented")}};function Reader(){}function Writer(){}function readHeaderRaw(v){var S=v.readByte();return{type:S>>5,value:31&S}}function valueFromHeader(v,S){var _=v.value;return _<24?_:24==_?S.readByte():25==_?S.readUint16():26==_?S.readUint32():27==_?S.readUint64():31==_?null:void notImplemented("Additional info: "+_)()}function writeHeaderRaw(v,S,_){_.writeByte(v<<5|S)}function writeHeader(v,S,_){var E=v<<5;S<24?_.writeByte(E|S):S<256?(_.writeByte(24|E),_.writeByte(S)):S<65536?(_.writeByte(25|E),_.writeUint16(S)):S<4294967296?(_.writeByte(26|E),_.writeUint32(S)):(_.writeByte(27|E),_.writeUint64(S))}Reader.prototype={peekByte:notImplemented("peekByte"),readByte:notImplemented("readByte"),readChunk:notImplemented("readChunk"),readFloat16:function(){var v=this.readUint16(),S=(32767&v)>>10,_=1023&v,E=32768&v;if(31===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-25)*(1024+_):Math.pow(2,-24)*_;return E?-P:P},readFloat32:function(){var v=this.readUint32(),S=(2147483647&v)>>23,_=8388607&v,E=2147483648&v;if(255===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-23-127)*(8388608+_):Math.pow(2,-149)*_;return E?-P:P},readFloat64:function(){var v=this.readUint32(),S=v>>20&2047,_=4294967296*(1048575&v)+this.readUint32(),E=2147483648&v;if(2047===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-52-1023)*(4503599627370496+_):Math.pow(2,-1074)*_;return E?-P:P},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},Writer.prototype={writeByte:notImplemented("writeByte"),result:notImplemented("result"),writeFloat16:notImplemented("writeFloat16"),writeFloat32:notImplemented("writeFloat32"),writeFloat64:notImplemented("writeFloat64"),writeUint16:function(v){this.writeByte(v>>8&255),this.writeByte(255&v)},writeUint32:function(v){this.writeUint16(v>>16&65535),this.writeUint16(65535&v)},writeUint64:function(v){if(v>=9007199254740992||v<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+v+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(v/4294967296)),this.writeUint32(v%4294967296)},writeString:notImplemented("writeString"),canWriteBinary:function(v){return!1},writeBinary:notImplemented("writeChunk")};var E=new Error;function decodeReader(v){var S=readHeaderRaw(v);switch(S.type){case 0:return valueFromHeader(S,v);case 1:return-1-valueFromHeader(S,v);case 2:return v.readChunk(valueFromHeader(S,v));case 3:return v.readChunk(valueFromHeader(S,v)).toString("utf-8");case 4:case 5:var P=valueFromHeader(S,v),D=[];if(null!==P){5===S.type&&(P*=2);for(var R=0;R<P;R++)D[R]=decodeReader(v)}else for(var M;(M=decodeReader(v))!==E;)D.push(M);if(5===S.type){var O={};for(R=0;R<D.length;R+=2)O[D[R]]=D[R+1];return O}return D;case 6:var F=valueFromHeader(S,v),N=_[F];return D=decodeReader(v),N?N(D):D;case 7:if(25===S.value)return v.readFloat16();if(26===S.value)return v.readFloat32();if(27===S.value)return v.readFloat64();switch(valueFromHeader(S,v)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return E;default:throw new Error("Unknown fixed value: "+S.value)}default:throw new Error("Unsupported header: "+JSON.stringify(S))}throw new Error("not implemented yet")}function encodeWriter(v,_){for(var E=0;E<S.length;E++){var P=S[E].fn(v);if(void 0!==P)return writeHeader(6,S[E].tag,_),encodeWriter(P,_)}if(v&&"function"==typeof v.toCBOR&&(v=v.toCBOR()),!1===v)writeHeader(7,20,_);else if(!0===v)writeHeader(7,21,_);else if(null===v)writeHeader(7,22,_);else if(void 0===v)writeHeader(7,23,_);else if("number"==typeof v)Math.floor(v)===v&&v<9007199254740992&&v>-9007199254740992?v<0?writeHeader(1,-1-v,_):writeHeader(0,v,_):(writeHeaderRaw(7,27,_),_.writeFloat64(v));else if("string"==typeof v)_.writeString(v,(function(v){writeHeader(3,v,_)}));else if(_.canWriteBinary(v))_.writeBinary(v,(function(v){writeHeader(2,v,_)}));else{if("object"!=typeof v)throw new Error("CBOR encoding not supported: "+v);if(M.config.useToJSON&&"function"==typeof v.toJSON&&(v=v.toJSON()),Array.isArray(v))for(writeHeader(4,v.length,_),E=0;E<v.length;E++)encodeWriter(v[E],_);else{var D=Object.keys(v);for(writeHeader(5,D.length,_),E=0;E<D.length;E++){const S=parseInt(D[E]);isNaN(S)?(encodeWriter(D[E],_),encodeWriter(v[D[E]],_)):(encodeWriter(S,_),encodeWriter(v[D[E]],_))}}}}var P=[],D=[],M={config:{useToJSON:!0},addWriter:function(v,S){"string"==typeof v?D.push((function(_){if(v===_)return S(_)})):D.push(v)},addReader:function(v,S){"string"==typeof v?P.push((function(_,E){if(v===E)return S(_,E)})):P.push(v)},encode:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return encodeWriter(v,E),E.result()}throw new Error("Unsupported output format: "+S)},encodeDataItem:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return void 0!==v.getTag()?(encodeWriter(v,E),E.result()):(encodeWriter(v.getData(),E),E.result())}throw new Error("Unsupported output format: "+S)},decode:function(v,S){for(var _=0;_<P.length;_++){var E=(0,P[_])(v,S);if(E)return decodeReader(E)}throw new Error("Unsupported input format: "+S)},decodeToDataItem:function(S,_){for(var E=0;E<P.length;E++){var D=(0,P[E])(S,_);if(D){const S=decodeReader(D);return S instanceof v?S:new v(S)}}throw new Error("Unsupported input format: "+_)},addSemanticEncode:function(v,_){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return S.push({tag:v,fn:_}),this},addSemanticDecode:function(v,S){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return _[v]=S,this}};function BufferReader(v){this.buffer=v,this.pos=0}function BufferWriter(v){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=v}function HexReader(v){this.hex=v,this.pos=0}function HexWriter(v){this.$hex="",this.finalFormat=v||"hex"}return BufferReader.prototype=Object.create(Reader.prototype),BufferReader.prototype.peekByte=function(){return this.buffer[this.pos]},BufferReader.prototype.readByte=function(){return this.buffer[this.pos++]},BufferReader.prototype.readUint16=function(){var v=this.buffer.readUInt16BE(this.pos);return this.pos+=2,v},BufferReader.prototype.readUint32=function(){var v=this.buffer.readUInt32BE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat32=function(){var v=this.buffer.readFloatBE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat64=function(){var v=this.buffer.readDoubleBE(this.pos);return this.pos+=8,v},BufferReader.prototype.readChunk=function(v){var S=R.alloc(v);return this.buffer.copy(S,0,this.pos,this.pos+=v),S},BufferWriter.prototype=Object.create(Writer.prototype),BufferWriter.prototype.writeByte=function(v){this.latestBuffer[this.latestBufferOffset++]=v,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},BufferWriter.prototype.writeFloat32=function(v){var S=R.alloc(4);S.writeFloatBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeFloat64=function(v){var S=R.alloc(8);S.writeDoubleBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeString=function(v,S){var _=R.from(v,"utf-8");S(_.length),this.writeBuffer(_)},BufferWriter.prototype.canWriteBinary=function(v){return v instanceof R},BufferWriter.prototype.writeBinary=function(v,S){S(v.length),this.writeBuffer(v)},BufferWriter.prototype.writeBuffer=function(v){if(!(v instanceof R))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=v.length?(v.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=v.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(v),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(v),this.byteLength+=v.length},BufferWriter.prototype.result=function(){for(var v=R.alloc(this.byteLength),S=0,_=0;_<this.completeBuffers.length;_++){var E=this.completeBuffers[_];E.copy(v,S,0,E.length),S+=E.length}return this.latestBufferOffset&&this.latestBuffer.copy(v,S,0,this.latestBufferOffset),this.stringFormat?v.toString(this.stringFormat):v},"function"==typeof R&&(M.addReader((function(v,S){return R.isBuffer(v)?new BufferReader(v):"hex"===S||"base64"===S?new BufferReader(R.from(v,S)):void 0})),M.addWriter((function(v){return v&&"buffer"!==v?"hex"===v||"base64"===v?new BufferWriter(v):void 0:new BufferWriter}))),HexReader.prototype=Object.create(Reader.prototype),HexReader.prototype.peekByte=function(){var v=this.hex.substring(this.pos,2);return parseInt(v,16)},HexReader.prototype.readByte=function(){var v=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(v,16)},HexReader.prototype.readChunk=function(v){var S=this.hex.substring(this.pos,this.pos+2*v);return this.pos+=2*v,"function"==typeof R?R.from(S,"hex"):new BinaryHex(S)},HexWriter.prototype=Object.create(Writer.prototype),HexWriter.prototype.writeByte=function(v){if(v<0||v>255)throw new Error("Byte value out of range: "+v);var S=v.toString(16);1==S.length&&(S="0"+S),this.$hex+=S},HexWriter.prototype.canWriteBinary=function(v){return v instanceof BinaryHex||"function"==typeof R&&v instanceof R},HexWriter.prototype.writeBinary=function(v,S){if(v instanceof BinaryHex)S(v.length()),this.$hex+=v.$hex;else{if(!("function"==typeof R&&v instanceof R))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");S(v.length),this.$hex+=v.toString("hex")}},HexWriter.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof R?R.from(this.$hex,"hex"):new BinaryHex(this.$hex).toString(this.finalFormat)},HexWriter.prototype.writeString=function(v,S){var _=BinaryHex.fromUtf8String(v);S(_.length()),this.$hex+=_.$hex},M.addReader((function(v,S){return v instanceof BinaryHex||v.$hex?new HexReader(v.$hex):"hex"===S?new HexReader(v):void 0})),M.addWriter((function(v){if("hex"===v)return new HexWriter})),M}();return S.addSemanticEncode(0,(function(v){if(v instanceof Date)return v.toISOString()})).addSemanticDecode(0,(function(v){return new Date(v)})).addSemanticDecode(1,(function(v){return new Date(v)})),S})?E.apply(S,P):E)||(v.exports=D)},514639:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=S.addWriter=S.addReader=S.addSemanticEncode=S.addSemanticDecode=S.decodeToDataItem=S.encodeDataItem=void 0;var E=_(848691);Object.defineProperty(S,"encodeDataItem",{enumerable:!0,get:function(){return E.encodeDataItem}}),Object.defineProperty(S,"decodeToDataItem",{enumerable:!0,get:function(){return E.decodeToDataItem}}),Object.defineProperty(S,"addSemanticDecode",{enumerable:!0,get:function(){return E.addSemanticDecode}}),Object.defineProperty(S,"addSemanticEncode",{enumerable:!0,get:function(){return E.addSemanticEncode}}),Object.defineProperty(S,"addReader",{enumerable:!0,get:function(){return E.addReader}}),Object.defineProperty(S,"addWriter",{enumerable:!0,get:function(){return E.addWriter}});var P=_(605408);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return P.DataItem}})},152381:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});const E=_(705354),P=_(234696),D=_(953986),R=Object.values(P.RegistryTypes).filter((v=>!!v.getTag())).map((v=>v.getTag())),M=Object.values(D.ScriptExpressions).map((v=>v.getTag()));E.patchTags(R.concat(M))},925318:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0})},705354:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.patchTags=void 0;const E=_(514639),P=[];S.patchTags=v=>{v.forEach((v=>{P.find((S=>S===v))||(E.addSemanticEncode(v,(S=>{if(S instanceof E.DataItem&&S.getTag()===v)return S.getData()})),E.addSemanticDecode(v,(S=>new E.DataItem(S,v))),P.push(v))}))}},368872:(v,S,_)=>{"use strict";var E=_(939216),P=_(825636).Buffer;v.exports=function(v){function decodeRaw(S){var _=S.slice(0,-4),E=S.slice(-4),P=v(_);if(!(E[0]^P[0]|E[1]^P[1]|E[2]^P[2]|E[3]^P[3]))return _}return{encode:function encode(S){var _=v(S);return E.encode(P.concat([S,_],S.length+4))},decode:function decode(v){var S=decodeRaw(E.decode(v));if(!S)throw new Error("Invalid checksum");return S},decodeUnsafe:function decodeUnsafe(v){var S=E.decodeUnsafe(v);if(S)return decodeRaw(S)}}}},216173:(v,S,_)=>{"use strict";var E=_(213257),P=_(368872);v.exports=P((function sha256x2(v){var S=E("sha256").update(v).digest();return E("sha256").update(S).digest()}))},205747:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"NIL",{enumerable:!0,get:function get(){return M.default}}),Object.defineProperty(S,"parse",{enumerable:!0,get:function get(){return L.default}}),Object.defineProperty(S,"stringify",{enumerable:!0,get:function get(){return N.default}}),Object.defineProperty(S,"v1",{enumerable:!0,get:function get(){return E.default}}),Object.defineProperty(S,"v3",{enumerable:!0,get:function get(){return P.default}}),Object.defineProperty(S,"v4",{enumerable:!0,get:function get(){return D.default}}),Object.defineProperty(S,"v5",{enumerable:!0,get:function get(){return R.default}}),Object.defineProperty(S,"validate",{enumerable:!0,get:function get(){return F.default}}),Object.defineProperty(S,"version",{enumerable:!0,get:function get(){return O.default}});var E=_interopRequireDefault(_(806698)),P=_interopRequireDefault(_(742656)),D=_interopRequireDefault(_(882805)),R=_interopRequireDefault(_(90742)),M=_interopRequireDefault(_(996884)),O=_interopRequireDefault(_(514539)),F=_interopRequireDefault(_(98569)),N=_interopRequireDefault(_(223746)),L=_interopRequireDefault(_(307180));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}},886955:(v,S)=>{"use strict";function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){const _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=function md5(v){if("string"==typeof v){const S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(let _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){const S=[],_=32*v.length,E="0123456789abcdef";for(let P=0;P<_;P+=8){const _=v[P>>5]>>>P%32&255,D=parseInt(E.charAt(_>>>4&15)+E.charAt(15&_),16);S.push(D)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;let _=1732584193,E=-271733879,P=-1732584194,D=271733878;for(let S=0;S<v.length;S+=16){const R=_,M=E,O=P,F=D;_=md5ff(_,E,P,D,v[S],7,-680876936),D=md5ff(D,_,E,P,v[S+1],12,-389564586),P=md5ff(P,D,_,E,v[S+2],17,606105819),E=md5ff(E,P,D,_,v[S+3],22,-1044525330),_=md5ff(_,E,P,D,v[S+4],7,-176418897),D=md5ff(D,_,E,P,v[S+5],12,1200080426),P=md5ff(P,D,_,E,v[S+6],17,-1473231341),E=md5ff(E,P,D,_,v[S+7],22,-45705983),_=md5ff(_,E,P,D,v[S+8],7,1770035416),D=md5ff(D,_,E,P,v[S+9],12,-1958414417),P=md5ff(P,D,_,E,v[S+10],17,-42063),E=md5ff(E,P,D,_,v[S+11],22,-1990404162),_=md5ff(_,E,P,D,v[S+12],7,1804603682),D=md5ff(D,_,E,P,v[S+13],12,-40341101),P=md5ff(P,D,_,E,v[S+14],17,-1502002290),E=md5ff(E,P,D,_,v[S+15],22,1236535329),_=md5gg(_,E,P,D,v[S+1],5,-165796510),D=md5gg(D,_,E,P,v[S+6],9,-1069501632),P=md5gg(P,D,_,E,v[S+11],14,643717713),E=md5gg(E,P,D,_,v[S],20,-373897302),_=md5gg(_,E,P,D,v[S+5],5,-701558691),D=md5gg(D,_,E,P,v[S+10],9,38016083),P=md5gg(P,D,_,E,v[S+15],14,-660478335),E=md5gg(E,P,D,_,v[S+4],20,-405537848),_=md5gg(_,E,P,D,v[S+9],5,568446438),D=md5gg(D,_,E,P,v[S+14],9,-1019803690),P=md5gg(P,D,_,E,v[S+3],14,-187363961),E=md5gg(E,P,D,_,v[S+8],20,1163531501),_=md5gg(_,E,P,D,v[S+13],5,-1444681467),D=md5gg(D,_,E,P,v[S+2],9,-51403784),P=md5gg(P,D,_,E,v[S+7],14,1735328473),E=md5gg(E,P,D,_,v[S+12],20,-1926607734),_=md5hh(_,E,P,D,v[S+5],4,-378558),D=md5hh(D,_,E,P,v[S+8],11,-2022574463),P=md5hh(P,D,_,E,v[S+11],16,1839030562),E=md5hh(E,P,D,_,v[S+14],23,-35309556),_=md5hh(_,E,P,D,v[S+1],4,-1530992060),D=md5hh(D,_,E,P,v[S+4],11,1272893353),P=md5hh(P,D,_,E,v[S+7],16,-155497632),E=md5hh(E,P,D,_,v[S+10],23,-1094730640),_=md5hh(_,E,P,D,v[S+13],4,681279174),D=md5hh(D,_,E,P,v[S],11,-358537222),P=md5hh(P,D,_,E,v[S+3],16,-722521979),E=md5hh(E,P,D,_,v[S+6],23,76029189),_=md5hh(_,E,P,D,v[S+9],4,-640364487),D=md5hh(D,_,E,P,v[S+12],11,-421815835),P=md5hh(P,D,_,E,v[S+15],16,530742520),E=md5hh(E,P,D,_,v[S+2],23,-995338651),_=md5ii(_,E,P,D,v[S],6,-198630844),D=md5ii(D,_,E,P,v[S+7],10,1126891415),P=md5ii(P,D,_,E,v[S+14],15,-1416354905),E=md5ii(E,P,D,_,v[S+5],21,-57434055),_=md5ii(_,E,P,D,v[S+12],6,1700485571),D=md5ii(D,_,E,P,v[S+3],10,-1894986606),P=md5ii(P,D,_,E,v[S+10],15,-1051523),E=md5ii(E,P,D,_,v[S+1],21,-2054922799),_=md5ii(_,E,P,D,v[S+8],6,1873313359),D=md5ii(D,_,E,P,v[S+15],10,-30611744),P=md5ii(P,D,_,E,v[S+6],15,-1560198380),E=md5ii(E,P,D,_,v[S+13],21,1309151649),_=md5ii(_,E,P,D,v[S+4],6,-145523070),D=md5ii(D,_,E,P,v[S+11],10,-1120210379),P=md5ii(P,D,_,E,v[S+2],15,718787259),E=md5ii(E,P,D,_,v[S+9],21,-343485551),_=safeAdd(_,R),E=safeAdd(E,M),P=safeAdd(P,O),D=safeAdd(D,F)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];const S=8*v.length,_=new Uint32Array(getOutputLength(S));for(let E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};S.default=_},829472:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};S.default=_},996884:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;S.default="00000000-0000-0000-0000-000000000000"},307180:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(98569));var P=function parse(v){if(!(0,E.default)(v))throw TypeError("Invalid UUID");let S;const _=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};S.default=P},537356:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;S.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},992438:(v,S)=>{"use strict";let _;Object.defineProperty(S,"__esModule",{value:!0}),S.default=function rng(){if(!_&&(_="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _(E)};const E=new Uint8Array(16)},797254:(v,S)=>{"use strict";function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=function sha1(v){const S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){const S=unescape(encodeURIComponent(v));v=[];for(let _=0;_<S.length;++_)v.push(S.charCodeAt(_))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);const E=v.length/4+2,P=Math.ceil(E/16),D=new Array(P);for(let S=0;S<P;++S){const _=new Uint32Array(16);for(let E=0;E<16;++E)_[E]=v[64*S+4*E]<<24|v[64*S+4*E+1]<<16|v[64*S+4*E+2]<<8|v[64*S+4*E+3];D[S]=_}D[P-1][14]=8*(v.length-1)/Math.pow(2,32),D[P-1][14]=Math.floor(D[P-1][14]),D[P-1][15]=8*(v.length-1)&4294967295;for(let v=0;v<P;++v){const E=new Uint32Array(80);for(let S=0;S<16;++S)E[S]=D[v][S];for(let v=16;v<80;++v)E[v]=ROTL(E[v-3]^E[v-8]^E[v-14]^E[v-16],1);let P=_[0],R=_[1],M=_[2],O=_[3],F=_[4];for(let v=0;v<80;++v){const _=Math.floor(v/20),D=ROTL(P,5)+f(_,R,M,O)+F+S[_]+E[v]>>>0;F=O,O=M,M=ROTL(R,30)>>>0,R=P,P=D}_[0]=_[0]+P>>>0,_[1]=_[1]+R>>>0,_[2]=_[2]+M>>>0,_[3]=_[3]+O>>>0,_[4]=_[4]+F>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};S.default=_},223746:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,S.unsafeStringify=unsafeStringify;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(98569));const P=[];for(let v=0;v<256;++v)P.push((v+256).toString(16).slice(1));function unsafeStringify(v,S=0){return P[v[S+0]]+P[v[S+1]]+P[v[S+2]]+P[v[S+3]]+"-"+P[v[S+4]]+P[v[S+5]]+"-"+P[v[S+6]]+P[v[S+7]]+"-"+P[v[S+8]]+P[v[S+9]]+"-"+P[v[S+10]]+P[v[S+11]]+P[v[S+12]]+P[v[S+13]]+P[v[S+14]]+P[v[S+15]]}var D=function stringify(v,S=0){const _=unsafeStringify(v,S);if(!(0,E.default)(_))throw TypeError("Stringified UUID is invalid");return _};S.default=D},806698:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(992438)),P=_(223746);let D,R,M=0,O=0;var F=function v1(v,S,_){let F=S&&_||0;const N=S||new Array(16);let L=(v=v||{}).node||D,U=void 0!==v.clockseq?v.clockseq:R;if(null==L||null==U){const S=v.random||(v.rng||E.default)();null==L&&(L=D=[1|S[0],S[1],S[2],S[3],S[4],S[5]]),null==U&&(U=R=16383&(S[6]<<8|S[7]))}let V=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:O+1;const W=V-M+(G-O)/1e4;if(W<0&&void 0===v.clockseq&&(U=U+1&16383),(W<0||V>M)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");M=V,O=G,R=U,V+=122192928e5;const $=(1e4*(268435455&V)+G)%4294967296;N[F++]=$>>>24&255,N[F++]=$>>>16&255,N[F++]=$>>>8&255,N[F++]=255&$;const X=V/4294967296*1e4&268435455;N[F++]=X>>>8&255,N[F++]=255&X,N[F++]=X>>>24&15|16,N[F++]=X>>>16&255,N[F++]=U>>>8|128,N[F++]=255&U;for(let v=0;v<6;++v)N[F+v]=L[v];return S||(0,P.unsafeStringify)(N)};S.default=F},742656:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(343357)),P=_interopRequireDefault(_(886955));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var D=(0,E.default)("v3",48,P.default);S.default=D},343357:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URL=S.DNS=void 0,S.default=function v35(v,S,_){function generateUUID(v,D,R,M){var O;if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));const S=[];for(let _=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof D&&(D=(0,P.default)(D)),16!==(null===(O=D)||void 0===O?void 0:O.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let F=new Uint8Array(16+v.length);if(F.set(D),F.set(v,D.length),F=_(F),F[6]=15&F[6]|S,F[8]=63&F[8]|128,R){M=M||0;for(let v=0;v<16;++v)R[M+v]=F[v];return R}return(0,E.unsafeStringify)(F)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS=D,generateUUID.URL=R,generateUUID};var E=_(223746),P=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(307180));const D="6ba7b810-9dad-11d1-80b4-00c04fd430c8";S.DNS=D;const R="6ba7b811-9dad-11d1-80b4-00c04fd430c8";S.URL=R},882805:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(829472)),P=_interopRequireDefault(_(992438)),D=_(223746);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var R=function v4(v,S,_){if(E.default.randomUUID&&!S&&!v)return E.default.randomUUID();const R=(v=v||{}).random||(v.rng||P.default)();if(R[6]=15&R[6]|64,R[8]=63&R[8]|128,S){_=_||0;for(let v=0;v<16;++v)S[_+v]=R[v];return S}return(0,D.unsafeStringify)(R)};S.default=R},90742:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(343357)),P=_interopRequireDefault(_(797254));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var D=(0,E.default)("v5",80,P.default);S.default=D},98569:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(537356));var P=function validate(v){return"string"==typeof v&&E.default.test(v)};S.default=P},514539:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(98569));var P=function version(v){if(!(0,E.default)(v))throw TypeError("Invalid UUID");return parseInt(v.slice(14,15),16)};S.default=P},669817:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Bytes=void 0;const E=_(574822),P=_(312720),D=_(82987);class Bytes extends P.RegistryItem{constructor(v){super(),this.bytes=v,this.getRegistryType=()=>D.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new E.DataItem(this.bytes)}}S.Bytes=Bytes,Bytes.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new Bytes(S)},Bytes.fromCBOR=v=>{const S=(0,E.decodeToDataItem)(v);return Bytes.fromDataItem(S)}},884550:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoAccount=void 0;const P=_(996722),D=_(574822),R=_(312720),M=_(82987);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.outputDescriptors=2]="outputDescriptors"}(O||(O={}));class CryptoAccount extends R.RegistryItem{constructor(v,S){super(),this.masterFingerprint=v,this.outputDescriptors=S,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(v[O.outputDescriptors]=this.outputDescriptors.map((v=>v.toDataItem()))),new D.DataItem(v)}}}S.CryptoAccount=CryptoAccount,CryptoAccount.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),D=S[O.masterFingerprint];D&&_.writeUInt32BE(D,0);const R=S[O.outputDescriptors].map((v=>P.CryptoOutput.fromDataItem(v)));return new CryptoAccount(_,R)},CryptoAccount.fromCBOR=v=>{const S=(0,D.decodeToDataItem)(v);return CryptoAccount.fromDataItem(S)}},708596:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoCoinInfo=S.Network=S.Type=void 0;const E=_(574822),P=_(312720),D=_(82987);var R,M,O;!function(v){v.type="1",v.network="2"}(R||(R={})),function(v){v[v.bitcoin=0]="bitcoin"}(M=S.Type||(S.Type={})),function(v){v[v.mainnet=0]="mainnet",v[v.testnet=1]="testnet"}(O=S.Network||(S.Network={}));class CryptoCoinInfo extends P.RegistryItem{constructor(v,S){super(),this.type=v,this.network=S,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||M.bitcoin,this.getNetwork=()=>this.network||O.mainnet,this.toDataItem=()=>{const v={};return this.type&&(v[R.type]=this.type),this.network&&(v[R.network]=this.network),new E.DataItem(v)}}}S.CryptoCoinInfo=CryptoCoinInfo,CryptoCoinInfo.fromDataItem=v=>{const S=v.getData(),_=S[R.type],E=S[R.network];return new CryptoCoinInfo(_,E)},CryptoCoinInfo.fromCBOR=v=>{const S=(0,E.decodeToDataItem)(v);return CryptoCoinInfo.fromDataItem(S)}},85226:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoECKey=void 0;const E=_(574822),P=_(312720),D=_(82987);var R;!function(v){v[v.curve=1]="curve",v[v.private=2]="private",v[v.data=3]="data"}(R||(R={}));class CryptoECKey extends P.RegistryItem{constructor(v){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const v={};return this.curve&&(v[R.curve]=this.curve),void 0!==this.privateKey&&(v[R.private]=this.privateKey),v[R.data]=this.data,new E.DataItem(v)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=v.data,this.curve=v.curve,this.privateKey=v.privateKey||void 0}}S.CryptoECKey=CryptoECKey,CryptoECKey.fromDataItem=v=>{const S=v.getData(),_=S[R.curve],E=S[R.private],P=S[R.data];if(!P)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${v}`);return new CryptoECKey({data:P,curve:_,privateKey:E})},CryptoECKey.fromCBOR=v=>{const S=(0,E.decodeToDataItem)(v);return CryptoECKey.fromDataItem(S)}},823230:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoHDKey=void 0;const P=_(311061),D=_(708596),R=_(748013),M=_(574822),O=_(312720),F=_(82987);var N;!function(v){v[v.is_master=1]="is_master",v[v.is_private=2]="is_private",v[v.key_data=3]="key_data",v[v.chain_code=4]="chain_code",v[v.use_info=5]="use_info",v[v.origin=6]="origin",v[v.children=7]="children",v[v.parent_fingerprint=8]="parent_fingerprint",v[v.name=9]="name",v[v.note=10]="note"}(N||(N={}));class CryptoHDKey extends O.RegistryItem{constructor(v){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var v,S,_;let D,R,M=0,O=E.alloc(4).fill(0);if(this.isMaster())D=E.from("0488ADE4","hex"),R=0,M=0;else{R=(null===(v=this.getOrigin())||void 0===v?void 0:v.getComponents().length)||(null===(S=this.getOrigin())||void 0===S?void 0:S.getDepth());const P=null===(_=this.getOrigin())||void 0===_?void 0:_.getComponents(),F=P[P.length-1];F&&(M=F.isHardened()?F.getIndex()+2147483648:F.getIndex(),this.getParentFingerprint()&&(O=this.getParentFingerprint())),D=this.isPrivateKey()?E.from("0488ADE4","hex"):E.from("0488B21E","hex")}const F=E.alloc(1);F.writeUInt8(R,0);const N=E.alloc(4);N.writeUInt32BE(M,0);const L=this.getChainCode(),U=this.getKey();return(0,P.encode)(E.concat([D,F,O,N,L,U]))},this.getRegistryType=()=>F.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var v,S,_,E,P,D,R;let M="";return this.getOrigin()&&(null===(v=this.getOrigin())||void 0===v?void 0:v.getSourceFingerprint())&&(null===(S=this.getOrigin())||void 0===S?void 0:S.getPath())&&(M+=`${null===(E=null===(_=this.getOrigin())||void 0===_?void 0:_.getSourceFingerprint())||void 0===E?void 0:E.toString("hex")}/${null===(P=this.getOrigin())||void 0===P?void 0:P.getPath()}`),M+=this.getBip32Key(),this.getChildren()&&(null===(D=this.getChildren())||void 0===D?void 0:D.getPath())&&(M+=`/${null===(R=this.getChildren())||void 0===R?void 0:R.getPath()}`),M},this.setupMasterKey=v=>{this.master=!0,this.key=v.key,this.chainCode=v.chainCode},this.setupDeriveKey=v=>{this.master=!1,this.privateKey=v.isPrivateKey,this.key=v.key,this.chainCode=v.chainCode,this.useInfo=v.useInfo,this.origin=v.origin,this.children=v.children,this.parentFingerprint=v.parentFingerprint,this.name=v.name,this.note=v.note},this.toDataItem=()=>{const v={};if(this.master)v[N.is_master]=!0,v[N.key_data]=this.key,v[N.chain_code]=this.chainCode;else{if(void 0!==this.privateKey&&(v[N.is_private]=this.privateKey),v[N.key_data]=this.key,this.chainCode&&(v[N.chain_code]=this.chainCode),this.useInfo){const S=this.useInfo.toDataItem();S.setTag(this.useInfo.getRegistryType().getTag()),v[N.use_info]=S}if(this.origin){const S=this.origin.toDataItem();S.setTag(this.origin.getRegistryType().getTag()),v[N.origin]=S}if(this.children){const S=this.children.toDataItem();S.setTag(this.children.getRegistryType().getTag()),v[N.children]=S}this.parentFingerprint&&(v[N.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),void 0!==this.name&&(v[N.name]=this.name),void 0!==this.note&&(v[N.note]=this.note)}return new M.DataItem(v)},v.isMaster?this.setupMasterKey(v):this.setupDeriveKey(v)}}S.CryptoHDKey=CryptoHDKey,CryptoHDKey.fromDataItem=v=>{const S=v.getData(),_=!!S[N.is_master],P=S[N.is_private],M=S[N.key_data],O=S[N.chain_code],F=S[N.use_info]?D.CryptoCoinInfo.fromDataItem(S[N.use_info]):void 0,L=S[N.origin]?R.CryptoKeypath.fromDataItem(S[N.origin]):void 0,U=S[N.children]?R.CryptoKeypath.fromDataItem(S[N.children]):void 0,V=S[N.parent_fingerprint];let G;V&&(G=E.alloc(4),G.writeUInt32BE(V,0));const W=S[N.name],$=S[N.note];return new CryptoHDKey({isMaster:_,isPrivateKey:P,key:M,chainCode:O,useInfo:F,origin:L,children:U,parentFingerprint:G,name:W,note:$})},CryptoHDKey.fromCBOR=v=>{const S=(0,M.decodeToDataItem)(v);return CryptoHDKey.fromDataItem(S)}},748013:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoKeypath=void 0;const P=_(574822),D=_(415120),R=_(312720),M=_(82987);var O;!function(v){v[v.components=1]="components",v[v.source_fingerprint=2]="source_fingerprint",v[v.depth=3]="depth"}(O||(O={}));class CryptoKeypath extends R.RegistryItem{constructor(v=[],S,_){super(),this.components=v,this.sourceFingerprint=S,this.depth=_,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return;return this.components.map((v=>`${v.isWildcard()?"*":v.getIndex()}${v.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const v={},S=[];return this.components&&this.components.forEach((v=>{v.isWildcard()?S.push([]):S.push(v.getIndex()),S.push(v.isHardened())})),v[O.components]=S,this.sourceFingerprint&&(v[O.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),void 0!==this.depth&&(v[O.depth]=this.depth),new P.DataItem(v)}}}S.CryptoKeypath=CryptoKeypath,CryptoKeypath.fromDataItem=v=>{const S=v.getData(),_=[],P=S[O.components];if(P)for(let v=0;v<P.length;v+=2){const S=P[v+1],E=P[v];"number"==typeof E?_.push(new D.PathComponent({index:E,hardened:S})):_.push(new D.PathComponent({hardened:S}))}const R=S[O.source_fingerprint];let M;R&&(M=E.alloc(4),M.writeUInt32BE(R,0));const F=S[O.depth];return new CryptoKeypath(_,M,F)},CryptoKeypath.fromCBOR=v=>{const S=(0,P.decodeToDataItem)(v);return CryptoKeypath.fromDataItem(S)}},49920:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoOutput=void 0;const E=_(85226),P=_(823230),D=_(574822),R=_(604720),M=_(312720),O=_(82987),F=_(925593);class CryptoOutput extends M.RegistryItem{constructor(v,S){super(),this.scriptExpressions=v,this.cryptoKey=S,this.getRegistryType=()=>O.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof P.CryptoHDKey?this.cryptoKey:void 0,this.getECKey=()=>this.cryptoKey instanceof E.CryptoECKey?this.cryptoKey:void 0,this.getMultiKey=()=>this.cryptoKey instanceof R.MultiKey?this.cryptoKey:void 0,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=v=>v>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[v].getExpression()}(${this._toOutputDescriptor(v+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let v=this.cryptoKey.toDataItem();(this.cryptoKey instanceof E.CryptoECKey||this.cryptoKey instanceof P.CryptoHDKey)&&v.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((S=>{const _=S.getTag();void 0===v.getTag()?v.setTag(_):v=new D.DataItem(v,_)})),v}}}S.CryptoOutput=CryptoOutput,CryptoOutput.fromDataItem=v=>{const S=[];let _=v;for(;;){let v=_.getTag();const E=F.ScriptExpression.fromTag(v);if(!E)break;if(S.push(E),!(_.getData()instanceof D.DataItem))break;_=_.getData(),v=_.getTag()}const M=S.length;if(M>0&&(S[M-1].getExpression()===F.ScriptExpressions.MULTISIG.getExpression()||S[M-1].getExpression()===F.ScriptExpressions.SORTED_MULTISIG.getExpression())){const v=R.MultiKey.fromDataItem(_);return new CryptoOutput(S,v)}if(_.getTag()===O.RegistryTypes.CRYPTO_HDKEY.getTag()){const v=P.CryptoHDKey.fromDataItem(_);return new CryptoOutput(S,v)}{const v=E.CryptoECKey.fromDataItem(_);return new CryptoOutput(S,v)}},CryptoOutput.fromCBOR=v=>{const S=(0,D.decodeToDataItem)(v);return CryptoOutput.fromDataItem(S)}},860010:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoPSBT=void 0;const E=_(574822),P=_(312720),D=_(82987);class CryptoPSBT extends P.RegistryItem{constructor(v){super(),this.psbt=v,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new E.DataItem(this.psbt)}}S.CryptoPSBT=CryptoPSBT,CryptoPSBT.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new CryptoPSBT(S)},CryptoPSBT.fromCBOR=v=>{const S=(0,E.decodeToDataItem)(v);return CryptoPSBT.fromDataItem(S)}},752085:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URRegistryDecoder=void 0;const E=_(653980),P=_(996722),D=_(82987),R=_(4896);class URRegistryDecoder extends E.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const v=this.resultUR();switch(v.type){case D.RegistryTypes.BYTES.getType():return P.Bytes.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_HDKEY.getType():return P.CryptoHDKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_KEYPATH.getType():return P.CryptoKeypath.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_COIN_INFO.getType():return P.CryptoCoinInfo.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ECKEY.getType():return P.CryptoECKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_OUTPUT.getType():return P.CryptoOutput.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_PSBT.getType():return P.CryptoPSBT.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ACCOUNT.getType():return P.CryptoAccount.fromCBOR(v.cbor);default:throw new R.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${v.type} is not supported now`)}}}}S.URRegistryDecoder=URRegistryDecoder},604720:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MultiKey=void 0;const E=_(85226),P=_(823230),D=_(795207),R=_(312720),M=_(82987);var O;!function(v){v[v.threshold=1]="threshold",v[v.keys=2]="keys"}(O||(O={}));class MultiKey extends R.RegistryItem{constructor(v,S){super(),this.threshold=v,this.keys=S,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const v={};v[O.threshold]=this.threshold;const S=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}));return v[O.keys]=S,new D.DataItem(v)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((v=>v.getOutputDescriptorContent())).join(",")].join(",")}}S.MultiKey=MultiKey,MultiKey.fromDataItem=v=>{const S=v.getData(),_=S[O.threshold],D=S[O.keys],R=[];return D.forEach((v=>{v.getTag()===M.RegistryTypes.CRYPTO_HDKEY.getTag()?R.push(P.CryptoHDKey.fromDataItem(v)):v.getTag()===M.RegistryTypes.CRYPTO_ECKEY.getTag()&&R.push(E.CryptoECKey.fromDataItem(v))})),new MultiKey(_,R)}},415120:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PathComponent=void 0;class PathComponent{constructor(v){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=v.index,this.hardened=v.hardened,void 0!==this.index?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&PathComponent.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}S.PathComponent=PathComponent,PathComponent.HARDENED_BIT=2147483648},312720:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryItem=void 0;const E=_(653980),P=_(574822);S.RegistryItem=class RegistryItem{constructor(){this.toCBOR=()=>{if(void 0===this.toDataItem())throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,P.encodeDataItem)(this.toDataItem())},this.toUR=()=>new E.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(v,S,_)=>{const P=this.toUR();return new E.UREncoder(P,v,S,_)}}}},82987:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryTypes=S.RegistryType=void 0;class RegistryType{constructor(v,S){this.type=v,this.tag=S,this.getTag=()=>this.tag,this.getType=()=>this.type}}S.RegistryType=RegistryType,S.RegistryTypes={UUID:new RegistryType("uuid",37),BYTES:new RegistryType("bytes",void 0),CRYPTO_HDKEY:new RegistryType("crypto-hdkey",303),CRYPTO_KEYPATH:new RegistryType("crypto-keypath",304),CRYPTO_COIN_INFO:new RegistryType("crypto-coin-info",305),CRYPTO_ECKEY:new RegistryType("crypto-eckey",306),CRYPTO_OUTPUT:new RegistryType("crypto-output",308),CRYPTO_PSBT:new RegistryType("crypto-psbt",310),CRYPTO_ACCOUNT:new RegistryType("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new RegistryType("crypto-multi-accounts",1103)}},925593:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ScriptExpressions=S.ScriptExpression=void 0;class ScriptExpression{constructor(v,S){this.tag=v,this.expression=S,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}S.ScriptExpression=ScriptExpression,ScriptExpression.fromTag=v=>Object.values(S.ScriptExpressions).find((S=>S.getTag()===v)),S.ScriptExpressions={SCRIPT_HASH:new ScriptExpression(400,"sh"),WITNESS_SCRIPT_HASH:new ScriptExpression(401,"wsh"),PUBLIC_KEY:new ScriptExpression(402,"pk"),PUBLIC_KEY_HASH:new ScriptExpression(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ScriptExpression(404,"wpkh"),COMBO:new ScriptExpression(405,"combo"),MULTISIG:new ScriptExpression(406,"multi"),SORTED_MULTISIG:new ScriptExpression(407,"sortedmulti"),ADDRESS:new ScriptExpression(307,"addr"),RAW_SCRIPT:new ScriptExpression(408,"raw")}},4896:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UnknownURTypeError=void 0;class UnknownURTypeError extends Error{constructor(v){super(v)}}S.UnknownURTypeError=UnknownURTypeError},105896:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoMultiAccounts=void 0;const P=_(82987),D=_(823230),R=_(312720),M=_(574822);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.keys=2]="keys",v[v.device=3]="device"}(O||(O={}));class CryptoMultiAccounts extends R.RegistryItem{constructor(v,S,_){super(),this.masterFingerprint=v,this.keys=S,this.device=_,this.getRegistryType=()=>P.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(v[O.keys]=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}))),this.device&&(v[O.device]=this.device),new M.DataItem(v)}}}S.CryptoMultiAccounts=CryptoMultiAccounts,CryptoMultiAccounts.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),P=S[O.masterFingerprint];P&&_.writeUInt32BE(P,0);const R=S[O.keys].map((v=>D.CryptoHDKey.fromDataItem(v))),M=S[O.device];return new CryptoMultiAccounts(_,R,M)},CryptoMultiAccounts.fromCBOR=v=>{const S=(0,M.decodeToDataItem)(v);return CryptoMultiAccounts.fromDataItem(S)}},996722:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Buffer=S.extend=S.PathComponent=S.ScriptExpressions=S.MultiKey=S.CryptoPSBT=S.CryptoOutput=S.CryptoECKey=S.CryptoCoinInfoNetwork=S.CryptoCoinInfoType=S.CryptoCoinInfo=S.CryptoKeypath=S.CryptoMultiAccounts=S.CryptoHDKey=S.CryptoAccount=S.Bytes=S.URRegistryDecoder=S.DataItem=void 0;const E=_(434117);_(793340);const P=_(901048);Object.defineProperty(S,"Buffer",{enumerable:!0,get:function(){return P.Buffer}});const D=_(823230);Object.defineProperty(S,"CryptoHDKey",{enumerable:!0,get:function(){return D.CryptoHDKey}});const R=_(748013);Object.defineProperty(S,"CryptoKeypath",{enumerable:!0,get:function(){return R.CryptoKeypath}});const M=_(708596);Object.defineProperty(S,"CryptoCoinInfo",{enumerable:!0,get:function(){return M.CryptoCoinInfo}}),Object.defineProperty(S,"CryptoCoinInfoType",{enumerable:!0,get:function(){return M.Type}}),Object.defineProperty(S,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return M.Network}});const O=_(85226);Object.defineProperty(S,"CryptoECKey",{enumerable:!0,get:function(){return O.CryptoECKey}});const F=_(669817);Object.defineProperty(S,"Bytes",{enumerable:!0,get:function(){return F.Bytes}});const N=_(49920);Object.defineProperty(S,"CryptoOutput",{enumerable:!0,get:function(){return N.CryptoOutput}});const L=_(860010);Object.defineProperty(S,"CryptoPSBT",{enumerable:!0,get:function(){return L.CryptoPSBT}});const U=_(884550);Object.defineProperty(S,"CryptoAccount",{enumerable:!0,get:function(){return U.CryptoAccount}});const V=_(752085);Object.defineProperty(S,"URRegistryDecoder",{enumerable:!0,get:function(){return V.URRegistryDecoder}});const G=_(604720);Object.defineProperty(S,"MultiKey",{enumerable:!0,get:function(){return G.MultiKey}});const W=_(925593);Object.defineProperty(S,"ScriptExpressions",{enumerable:!0,get:function(){return W.ScriptExpressions}});const $=_(415120);Object.defineProperty(S,"PathComponent",{enumerable:!0,get:function(){return $.PathComponent}});const X=_(312720),Y=_(82987),J=_(574822);var Z=_(574822);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return Z.DataItem}});const Q=_(939347),tt=_(105896);Object.defineProperty(S,"CryptoMultiAccounts",{enumerable:!0,get:function(){return tt.CryptoMultiAccounts}});const et={URRegistryDecoder:V.URRegistryDecoder,Bytes:F.Bytes,CryptoAccount:U.CryptoAccount,CryptoHDKey:D.CryptoHDKey,CryptoMultiAccounts:tt.CryptoMultiAccounts,CryptoKeypath:R.CryptoKeypath,CryptoCoinInfo:M.CryptoCoinInfo,CryptoCoinInfoType:M.Type,CryptoCoinInfoNetwork:M.Network,CryptoECKey:O.CryptoECKey,CryptoOutput:N.CryptoOutput,CryptoPSBT:L.CryptoPSBT,MultiKey:G.MultiKey,ScriptExpressions:W.ScriptExpressions,PathComponent:$.PathComponent},rt={addReader:J.addReader,addSemanticDecode:J.addSemanticDecode,addSemanticEncode:J.addSemanticEncode,addWriter:J.addWriter,patchTags:Q.patchTags},nt={RegistryTypes:Y.RegistryTypes,RegistryItem:X.RegistryItem,RegistryType:Y.RegistryType,decodeToDataItem:J.decodeToDataItem,encodeDataItem:J.encodeDataItem,cbor:rt};S.extend=nt,(0,E.__exportStar)(_(4896),S),(0,E.__exportStar)(_(752085),S),(0,E.__exportStar)(_(574822),S),(0,E.__exportStar)(_(884550),S),(0,E.__exportStar)(_(860010),S),(0,E.__exportStar)(_(823230),S),(0,E.__exportStar)(_(105896),S),(0,E.__exportStar)(_(49920),S),(0,E.__exportStar)(_(708596),S),(0,E.__exportStar)(_(85226),S),(0,E.__exportStar)(_(604720),S),(0,E.__exportStar)(_(748013),S),(0,E.__exportStar)(_(793340),S),(0,E.__exportStar)(_(415120),S),(0,E.__exportStar)(_(312720),S),(0,E.__exportStar)(_(82987),S),(0,E.__exportStar)(_(288847),S),(0,E.__exportStar)(_(939347),S),S.default=et},795207:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=void 0;S.DataItem=class DataItem{constructor(v,S){this.setTag=v=>{this.tag=v},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=v,this.tag=S}}},780022:function(v,S,_){"use strict";var E,P,D,R=_(901048).Buffer;P=[],void 0===(D="function"==typeof(E=function(){const{DataItem:v}=_(795207);var S=function(){function BinaryHex(v){this.$hex=v}BinaryHex.prototype={length:function(){return this.$hex.length/2},toString:function(v){if(!v||"hex"===v||16===v)return this.$hex;if("utf-8"===v){for(var S="",_=0;_<this.$hex.length;_+=2)S+="%"+this.$hex.substring(_,_+2);return decodeURIComponent(S)}if("latin"===v){for(S=[],_=0;_<this.$hex.length;_+=2)S.push(parseInt(this.$hex.substring(_,_+2),16));return String.fromCharCode.apply(String,S)}throw new Error("Unrecognised format: "+v)}},BinaryHex.fromLatinString=function(v){for(var S="",_=0;_<v.length;_++){var E=v.charCodeAt(_).toString(16);1===E.length&&(E="0"+E),S+=E}return new BinaryHex(S)},BinaryHex.fromUtf8String=function(v){for(var S=encodeURIComponent(v),_="",E=0;E<S.length;E++)if("%"===S.charAt(E))_+=S.substring(E+1,E+3),E+=2;else{var P=S.charCodeAt(E).toString(16);P.length<2&&(P="0"+P),_+=P}return new BinaryHex(_)};var S=[],_={},notImplemented=function(v){return function(){throw new Error(v+" not implemented")}};function Reader(){}function Writer(){}function readHeaderRaw(v){var S=v.readByte();return{type:S>>5,value:31&S}}function valueFromHeader(v,S){var _=v.value;return _<24?_:24==_?S.readByte():25==_?S.readUint16():26==_?S.readUint32():27==_?S.readUint64():31==_?null:void notImplemented("Additional info: "+_)()}function writeHeaderRaw(v,S,_){_.writeByte(v<<5|S)}function writeHeader(v,S,_){var E=v<<5;S<24?_.writeByte(E|S):S<256?(_.writeByte(24|E),_.writeByte(S)):S<65536?(_.writeByte(25|E),_.writeUint16(S)):S<4294967296?(_.writeByte(26|E),_.writeUint32(S)):(_.writeByte(27|E),_.writeUint64(S))}Reader.prototype={peekByte:notImplemented("peekByte"),readByte:notImplemented("readByte"),readChunk:notImplemented("readChunk"),readFloat16:function(){var v=this.readUint16(),S=(32767&v)>>10,_=1023&v,E=32768&v;if(31===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-25)*(1024+_):Math.pow(2,-24)*_;return E?-P:P},readFloat32:function(){var v=this.readUint32(),S=(2147483647&v)>>23,_=8388607&v,E=2147483648&v;if(255===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-23-127)*(8388608+_):Math.pow(2,-149)*_;return E?-P:P},readFloat64:function(){var v=this.readUint32(),S=v>>20&2047,_=4294967296*(1048575&v)+this.readUint32(),E=2147483648&v;if(2047===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-52-1023)*(4503599627370496+_):Math.pow(2,-1074)*_;return E?-P:P},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},Writer.prototype={writeByte:notImplemented("writeByte"),result:notImplemented("result"),writeFloat16:notImplemented("writeFloat16"),writeFloat32:notImplemented("writeFloat32"),writeFloat64:notImplemented("writeFloat64"),writeUint16:function(v){this.writeByte(v>>8&255),this.writeByte(255&v)},writeUint32:function(v){this.writeUint16(v>>16&65535),this.writeUint16(65535&v)},writeUint64:function(v){if(v>=9007199254740992||v<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+v+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(v/4294967296)),this.writeUint32(v%4294967296)},writeString:notImplemented("writeString"),canWriteBinary:function(v){return!1},writeBinary:notImplemented("writeChunk")};var E=new Error;function decodeReader(v){var S=readHeaderRaw(v);switch(S.type){case 0:return valueFromHeader(S,v);case 1:return-1-valueFromHeader(S,v);case 2:return v.readChunk(valueFromHeader(S,v));case 3:return v.readChunk(valueFromHeader(S,v)).toString("utf-8");case 4:case 5:var P=valueFromHeader(S,v),D=[];if(null!==P){5===S.type&&(P*=2);for(var R=0;R<P;R++)D[R]=decodeReader(v)}else for(var M;(M=decodeReader(v))!==E;)D.push(M);if(5===S.type){var O={};for(R=0;R<D.length;R+=2)O[D[R]]=D[R+1];return O}return D;case 6:var F=valueFromHeader(S,v),N=_[F];return D=decodeReader(v),N?N(D):D;case 7:if(25===S.value)return v.readFloat16();if(26===S.value)return v.readFloat32();if(27===S.value)return v.readFloat64();switch(valueFromHeader(S,v)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return E;default:throw new Error("Unknown fixed value: "+S.value)}default:throw new Error("Unsupported header: "+JSON.stringify(S))}throw new Error("not implemented yet")}function encodeWriter(v,_){for(var E=0;E<S.length;E++){var P=S[E].fn(v);if(void 0!==P)return writeHeader(6,S[E].tag,_),encodeWriter(P,_)}if(v&&"function"==typeof v.toCBOR&&(v=v.toCBOR()),!1===v)writeHeader(7,20,_);else if(!0===v)writeHeader(7,21,_);else if(null===v)writeHeader(7,22,_);else if(void 0===v)writeHeader(7,23,_);else if("number"==typeof v)Math.floor(v)===v&&v<9007199254740992&&v>-9007199254740992?v<0?writeHeader(1,-1-v,_):writeHeader(0,v,_):(writeHeaderRaw(7,27,_),_.writeFloat64(v));else if("string"==typeof v)_.writeString(v,(function(v){writeHeader(3,v,_)}));else if(_.canWriteBinary(v))_.writeBinary(v,(function(v){writeHeader(2,v,_)}));else{if("object"!=typeof v)throw new Error("CBOR encoding not supported: "+v);if(M.config.useToJSON&&"function"==typeof v.toJSON&&(v=v.toJSON()),Array.isArray(v))for(writeHeader(4,v.length,_),E=0;E<v.length;E++)encodeWriter(v[E],_);else{var D=Object.keys(v);for(writeHeader(5,D.length,_),E=0;E<D.length;E++){const S=parseInt(D[E]);isNaN(S)?(encodeWriter(D[E],_),encodeWriter(v[D[E]],_)):(encodeWriter(S,_),encodeWriter(v[D[E]],_))}}}}var P=[],D=[],M={config:{useToJSON:!0},addWriter:function(v,S){"string"==typeof v?D.push((function(_){if(v===_)return S(_)})):D.push(v)},addReader:function(v,S){"string"==typeof v?P.push((function(_,E){if(v===E)return S(_,E)})):P.push(v)},encode:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return encodeWriter(v,E),E.result()}throw new Error("Unsupported output format: "+S)},encodeDataItem:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return void 0!==v.getTag()?(encodeWriter(v,E),E.result()):(encodeWriter(v.getData(),E),E.result())}throw new Error("Unsupported output format: "+S)},decode:function(v,S){for(var _=0;_<P.length;_++){var E=(0,P[_])(v,S);if(E)return decodeReader(E)}throw new Error("Unsupported input format: "+S)},decodeToDataItem:function(S,_){for(var E=0;E<P.length;E++){var D=(0,P[E])(S,_);if(D){const S=decodeReader(D);return S instanceof v?S:new v(S)}}throw new Error("Unsupported input format: "+_)},addSemanticEncode:function(v,_){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return S.push({tag:v,fn:_}),this},addSemanticDecode:function(v,S){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return _[v]=S,this}};function BufferReader(v){this.buffer=v,this.pos=0}function BufferWriter(v){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=v}function HexReader(v){this.hex=v,this.pos=0}function HexWriter(v){this.$hex="",this.finalFormat=v||"hex"}return BufferReader.prototype=Object.create(Reader.prototype),BufferReader.prototype.peekByte=function(){return this.buffer[this.pos]},BufferReader.prototype.readByte=function(){return this.buffer[this.pos++]},BufferReader.prototype.readUint16=function(){var v=this.buffer.readUInt16BE(this.pos);return this.pos+=2,v},BufferReader.prototype.readUint32=function(){var v=this.buffer.readUInt32BE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat32=function(){var v=this.buffer.readFloatBE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat64=function(){var v=this.buffer.readDoubleBE(this.pos);return this.pos+=8,v},BufferReader.prototype.readChunk=function(v){var S=R.alloc(v);return this.buffer.copy(S,0,this.pos,this.pos+=v),S},BufferWriter.prototype=Object.create(Writer.prototype),BufferWriter.prototype.writeByte=function(v){this.latestBuffer[this.latestBufferOffset++]=v,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},BufferWriter.prototype.writeFloat32=function(v){var S=R.alloc(4);S.writeFloatBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeFloat64=function(v){var S=R.alloc(8);S.writeDoubleBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeString=function(v,S){var _=R.from(v,"utf-8");S(_.length),this.writeBuffer(_)},BufferWriter.prototype.canWriteBinary=function(v){return v instanceof R},BufferWriter.prototype.writeBinary=function(v,S){S(v.length),this.writeBuffer(v)},BufferWriter.prototype.writeBuffer=function(v){if(!(v instanceof R))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=v.length?(v.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=v.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(v),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(v),this.byteLength+=v.length},BufferWriter.prototype.result=function(){for(var v=R.alloc(this.byteLength),S=0,_=0;_<this.completeBuffers.length;_++){var E=this.completeBuffers[_];E.copy(v,S,0,E.length),S+=E.length}return this.latestBufferOffset&&this.latestBuffer.copy(v,S,0,this.latestBufferOffset),this.stringFormat?v.toString(this.stringFormat):v},"function"==typeof R&&(M.addReader((function(v,S){return R.isBuffer(v)?new BufferReader(v):"hex"===S||"base64"===S?new BufferReader(R.from(v,S)):void 0})),M.addWriter((function(v){return v&&"buffer"!==v?"hex"===v||"base64"===v?new BufferWriter(v):void 0:new BufferWriter}))),HexReader.prototype=Object.create(Reader.prototype),HexReader.prototype.peekByte=function(){var v=this.hex.substring(this.pos,2);return parseInt(v,16)},HexReader.prototype.readByte=function(){var v=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(v,16)},HexReader.prototype.readChunk=function(v){var S=this.hex.substring(this.pos,this.pos+2*v);return this.pos+=2*v,"function"==typeof R?R.from(S,"hex"):new BinaryHex(S)},HexWriter.prototype=Object.create(Writer.prototype),HexWriter.prototype.writeByte=function(v){if(v<0||v>255)throw new Error("Byte value out of range: "+v);var S=v.toString(16);1==S.length&&(S="0"+S),this.$hex+=S},HexWriter.prototype.canWriteBinary=function(v){return v instanceof BinaryHex||"function"==typeof R&&v instanceof R},HexWriter.prototype.writeBinary=function(v,S){if(v instanceof BinaryHex)S(v.length()),this.$hex+=v.$hex;else{if(!("function"==typeof R&&v instanceof R))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");S(v.length),this.$hex+=v.toString("hex")}},HexWriter.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof R?R.from(this.$hex,"hex"):new BinaryHex(this.$hex).toString(this.finalFormat)},HexWriter.prototype.writeString=function(v,S){var _=BinaryHex.fromUtf8String(v);S(_.length()),this.$hex+=_.$hex},M.addReader((function(v,S){return v instanceof BinaryHex||v.$hex?new HexReader(v.$hex):"hex"===S?new HexReader(v):void 0})),M.addWriter((function(v){if("hex"===v)return new HexWriter})),M}();return S.addSemanticEncode(0,(function(v){if(v instanceof Date)return v.toISOString()})).addSemanticDecode(0,(function(v){return new Date(v)})).addSemanticDecode(1,(function(v){return new Date(v)})),S})?E.apply(S,P):E)||(v.exports=D)},574822:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=S.addWriter=S.addReader=S.addSemanticEncode=S.addSemanticDecode=S.decodeToDataItem=S.encodeDataItem=void 0;var E=_(780022);Object.defineProperty(S,"encodeDataItem",{enumerable:!0,get:function(){return E.encodeDataItem}}),Object.defineProperty(S,"decodeToDataItem",{enumerable:!0,get:function(){return E.decodeToDataItem}}),Object.defineProperty(S,"addSemanticDecode",{enumerable:!0,get:function(){return E.addSemanticDecode}}),Object.defineProperty(S,"addSemanticEncode",{enumerable:!0,get:function(){return E.addSemanticEncode}}),Object.defineProperty(S,"addReader",{enumerable:!0,get:function(){return E.addReader}}),Object.defineProperty(S,"addWriter",{enumerable:!0,get:function(){return E.addWriter}});var P=_(795207);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return P.DataItem}})},793340:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});const E=_(939347),P=_(82987),D=_(925593),R=Object.values(P.RegistryTypes).filter((v=>!!v.getTag())).map((v=>v.getTag())),M=Object.values(D.ScriptExpressions).map((v=>v.getTag()));(0,E.patchTags)(R.concat(M))},288847:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0})},939347:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.patchTags=void 0;const E=_(574822),P=[];S.patchTags=v=>{v.forEach((v=>{P.find((S=>S===v))||((0,E.addSemanticEncode)(v,(S=>{if(S instanceof E.DataItem&&S.getTag()===v)return S.getData()})),(0,E.addSemanticDecode)(v,(S=>new E.DataItem(S,v))),P.push(v))}))}},755152:(v,S,_)=>{"use strict";var E=_(939216),P=_(825636).Buffer;v.exports=function(v){function decodeRaw(S){var _=S.slice(0,-4),E=S.slice(-4),P=v(_);if(!(E[0]^P[0]|E[1]^P[1]|E[2]^P[2]|E[3]^P[3]))return _}return{encode:function encode(S){var _=v(S);return E.encode(P.concat([S,_],S.length+4))},decode:function decode(v){var S=decodeRaw(E.decode(v));if(!S)throw new Error("Invalid checksum");return S},decodeUnsafe:function decodeUnsafe(v){var S=E.decodeUnsafe(v);if(S)return decodeRaw(S)}}}},311061:(v,S,_)=>{"use strict";var E=_(213257),P=_(755152);v.exports=P((function sha256x2(v){var S=E("sha256").update(v).digest();return E("sha256").update(S).digest()}))},659946:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneAptosSDK=void 0;const E=_(151342),P=_(427666),D=_(765531);class KeystoneAptosSDK{parseSignature(v){if(v.type!==D.URType.AptosSignature)throw new Error("type not match");const S=E.AptosSignature.fromCBOR(v.cbor);return{requestId:(0,P.uuidStringify)(S.getRequestId()),signature:(0,P.toHex)(S.getSignature()),authenticationPublicKey:(0,P.toHex)(S.getAuthenticationPublicKey())}}generateSignRequest({requestId:v,signData:S,signType:_,accounts:D,origin:R}){const M=[],O=[];if(D.forEach((v=>{M.push(new E.CryptoKeypath((0,P.parsePath)(v.path).map((v=>new E.PathComponent(v))),(0,P.toBuffer)(v.xfp))),void 0!==v.key&&O.push((0,P.toBuffer)(v.key))})),O.length>0&&O.length!==M.length)throw new Error("account and path count must match");return new E.AptosSignRequest({requestId:(0,P.uuidParse)(v),signData:(0,P.toBuffer)(S),signType:_,authenticationKeyDerivationPaths:M,accounts:O,origin:R}).toUR()}}KeystoneAptosSDK.SignType=E.SignType,S.KeystoneAptosSDK=KeystoneAptosSDK},708516:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneArweaveSDK=void 0;const E=_(427666),P=_(765531),D=_(550892);class KeystoneArweaveSDK{parseAccount(v){if(v.type!==P.URType.ArweaveCryptoAccount)throw new Error("type not match");const S=D.ArweaveCryptoAccount.fromCBOR(v.cbor);return{masterFingerprint:(0,E.toHex)(S.getMasterFingerprint()),keyData:(0,E.toHex)(S.getKeyData()),device:S.getDevice()}}parseSignature(v){if(v.type!==P.URType.ArweaveSignature)throw new Error("type not match");const S=D.ArweaveSignature.fromCBOR(v.cbor),_=S.getRequestId();return{requestId:(0,E.uuidStringify)(_),signature:(0,E.toHex)(S.getSignature())}}generateSignRequest({requestId:v,signData:S,signType:_,saltLen:P,masterFingerprint:R,account:M,origin:O}){return new D.ArweaveSignRequest({requestId:(0,E.uuidParse)(v),signData:(0,E.toBuffer)(S),signType:_,saltLen:P,masterFingerprint:(0,E.toBuffer)(R),account:void 0!==M?(0,E.toBuffer)(M):void 0,origin:O}).toUR()}}KeystoneArweaveSDK.SignType=D.SignType,KeystoneArweaveSDK.SaltLen=D.SaltLen,S.KeystoneArweaveSDK=KeystoneArweaveSDK},126417:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneBitcoinSDK=void 0;const E=_(418201),P=_(779812),D=_(427666),R=_(765531);class KeystoneBitcoinSDK{constructor(v){this.config=v}parsePSBT(v){if(v.type!==R.URType.CryptoPSBT)throw new Error("type not match");return(0,D.toHex)(E.CryptoPSBT.fromCBOR(v.cbor).getPSBT())}generatePSBT(v){return new E.CryptoPSBT(v).toUR()}generateSignRequest({requestId:v,signData:S,dataType:_,accounts:E,origin:R}){var M;const O=[],F=[];return E.forEach((v=>{var S;O.push(new P.CryptoKeypath((0,D.parsePath)(v.path).map((v=>new P.PathComponent(v))),(0,D.toBuffer)(v.xfp))),F.push(null!==(S=v.address)&&void 0!==S?S:"")})),new P.BtcSignRequest({signData:(0,D.toBuffer)(S),dataType:_,derivationPaths:O,requestId:(0,D.uuidParse)(v),addresses:F,origin:null!=R?R:null===(M=this.config)||void 0===M?void 0:M.origin}).toUR()}parseSignature(v){if(v.type!==R.URType.BtcSignature)throw new Error("type not match");const S=P.BtcSignature.fromCBOR(v.cbor);return{requestId:(0,D.uuidStringify)(S.getRequestId()),signature:(0,D.toHex)(S.getSignature()),publicKey:(0,D.toHex)(S.getPublicKey())}}}KeystoneBitcoinSDK.DataType=P.DataType,S.KeystoneBitcoinSDK=KeystoneBitcoinSDK},792351:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneBitcoinCashSDK=void 0;const E=_(877060);class KeystoneBitcoinCashSDK extends E.Keystone{generateSignRequest(v){return super.generateSignRequest(Object.assign({chain:E.Chain.BCH},v))}}S.KeystoneBitcoinCashSDK=KeystoneBitcoinCashSDK},210845:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneCardanoSDK=void 0;const P=_(480727),D=_(427666),R=_(765531);S.KeystoneCardanoSDK=class KeystoneCardanoSDK{parseSignature(v){if(v.type!==R.URType.CardanoSignature)throw new Error("type not match");const S=P.CardanoSignature.fromCBOR(v.cbor),_=S.getRequestId();return{requestId:E.isBuffer(_)?(0,D.uuidStringify)(_):"",witnessSet:(0,D.toHex)(S.getWitnessSet())}}generateSignRequest({signData:v,utxos:S,extraSigners:_,requestId:E,origin:D}){return P.CardanoSignRequest.constructCardanoSignRequest(v,S,_,E,D).toUR()}}},353323:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneCosmosSDK=void 0;const E=_(427666),P=_(765531),D=_(900961);class KeystoneCosmosSDK{constructor(v){this.config=v}parseSignature(v){if(v.type!==P.URType.CosmosSignature)throw new Error("type not match");const S=D.CosmosSignature.fromCBOR(v.cbor);return{requestId:(0,E.uuidStringify)(S.getRequestId()),signature:(0,E.toHex)(S.getSignature()),publicKey:(0,E.toHex)(S.getPublicKey())}}generateSignRequest({requestId:v,signData:S,dataType:_,accounts:P,origin:R}){var M;const O=[],F=[];return P.forEach((v=>{O.push(new D.CryptoKeypath((0,E.parsePath)(v.path).map((v=>new D.PathComponent(v))),(0,E.toBuffer)(v.xfp))),F.push(v.address)})),new D.CosmosSignRequest({signData:(0,E.toBuffer)(S),dataType:_,derivationPaths:O,requestId:(0,E.uuidParse)(v),addresses:F,origin:null!=R?R:null===(M=this.config)||void 0===M?void 0:M.origin}).toUR()}}KeystoneCosmosSDK.DataType=D.SignDataType,S.KeystoneCosmosSDK=KeystoneCosmosSDK},496675:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneDashSDK=void 0;const E=_(877060);class KeystoneDashSDK extends E.Keystone{generateSignRequest(v){return super.generateSignRequest(Object.assign({chain:E.Chain.DASH},v))}}S.KeystoneDashSDK=KeystoneDashSDK},46002:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneEthereumSDK=void 0;const E=_(696728),P=_(427666),D=_(765531);class KeystoneEthereumSDK{constructor(v){this.config=v}parseSignature(v){if(v.type!==D.URType.EthSignature)throw new Error("type not match");const S=E.ETHSignature.fromCBOR(v.cbor),_=S.getRequestId();return{requestId:void 0===_?void 0:(0,P.uuidStringify)(_),signature:(0,P.toHex)(S.getSignature()),origin:S.getOrigin()}}generateSignRequest({requestId:v,signData:S,dataType:_,path:D,xfp:R,chainId:M,address:O,origin:F}){var N;return new E.EthSignRequest({requestId:(0,P.uuidParse)(v),signData:(0,P.toBuffer)(S),dataType:_,derivationPath:new E.CryptoKeypath((0,P.parsePath)(D).map((v=>new E.PathComponent(v))),(0,P.toBuffer)(R)),chainId:M,address:void 0!==O?(0,P.toBuffer)(O):void 0,origin:null!=F?F:null===(N=this.config)||void 0===N?void 0:N.origin}).toUR()}}KeystoneEthereumSDK.DataType=E.DataType,S.KeystoneEthereumSDK=KeystoneEthereumSDK},704541:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneEvmSDK=void 0;const E=_(427666),P=_(765531),D=_(139719);class KeystoneEvmSDK{constructor(v){this.config=v}parseSignature(v){if(v.type!==P.URType.EvmSignature)throw new Error("type not match");const S=D.EvmSignature.fromCBOR(v.cbor);return{requestId:(0,E.uuidStringify)(S.getRequestId()),signature:(0,E.toHex)(S.getSignature())}}generateSignRequest({requestId:v,signData:S,dataType:_,customChainIdentifier:P,account:R,origin:M}){var O;const F=new D.CryptoKeypath((0,E.parsePath)(R.path).map((v=>new D.PathComponent(v))),(0,E.toBuffer)(R.xfp));return new D.EvmSignRequest({signData:(0,E.toBuffer)(S),dataType:_,customChainIdentifier:P,derivationPath:F,requestId:(0,E.uuidParse)(v),address:void 0!==R.address?(0,E.toBuffer)(R.address.substring(R.address.startsWith("0x")?2:0)):void 0,origin:null!=M?M:null===(O=this.config)||void 0===O?void 0:O.origin}).toUR()}}KeystoneEvmSDK.DataType=D.SignDataType,S.KeystoneEvmSDK=KeystoneEvmSDK},838859:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),P(_(126417),S),P(_(353323),S),P(_(704541),S),P(_(46002),S),P(_(124603),S),P(_(936079),S),P(_(659946),S),P(_(792351),S),P(_(496675),S),P(_(526234),S),P(_(171517),S),P(_(210845),S),P(_(708516),S),P(_(427868),S),P(_(340526),S)},877060:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.Keystone=S.TXCase=S.Chain=void 0;const D=P(_(951791)),R=_(765531),M=_(961137),O=_(755773),F=_(883872),N=_(765942),L=_(200720),U=_(467464),V=_(236267);var G,W;!function(v){v.LTC="LTC",v.BCH="BCH",v.DASH="DASH"}(G=S.Chain||(S.Chain={})),function(v){v.LTC="ltcTx",v.BCH="bchTx",v.DASH="dashTx"}(W=S.TXCase||(S.TXCase={}));S.Keystone=class Keystone{generateSignData({chain:v,requestId:S,signData:_,xfp:E}){let P,R,M;switch(v){case G.LTC:P=new L.LtcTx(Object.assign(Object.assign({},_),{fee:BigInt(_.fee),dustThreshold:5460})),M=G.LTC,R=W.LTC;break;case G.BCH:P=new U.BchTx(Object.assign(Object.assign({},_),{fee:BigInt(_.fee),dustThreshold:546})),M=G.BCH,R=W.BCH;break;case G.DASH:P=new V.DashTx(Object.assign(Object.assign({},_),{fee:BigInt(_.fee),dustThreshold:546})),M=G.DASH,R=W.DASH;break;default:throw new Error("chain not support")}return D.default.gzip(new O.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new F.Payload({xfp:E,type:F.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new N.SignTransaction({coinCode:M,hdPath:"",signId:S,timestamp:BigInt(Date.now()),decimal:8,Transaction:{case:R,value:P}})}})}).toBinary())}generateSignRequest(v){const S=E.from(this.generateSignData(v));return new M.KeystoneSignRequest({signData:S,origin:v.origin}).toUR()}parseSignResult(v){var S,_;if(v.type!==R.URType.KeystoneSignResult)throw new Error("type not match");const E=M.KeystoneSignResult.fromCBOR(v.cbor),P=O.Base.fromBinary(D.default.ungzip(E.getSignResult()));if("signTxResult"!==(null===(S=P.data)||void 0===S?void 0:S.Content.case))throw new Error("invalid sign result");const F=null===(_=P.data)||void 0===_?void 0:_.Content.value;return{requestId:F.signId,rawData:F.rawTx}}}},526234:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneLitecoinSDK=void 0;const E=_(877060);class KeystoneLitecoinSDK extends E.Keystone{generateSignRequest(v){return super.generateSignRequest(Object.assign({chain:E.Chain.LTC},v))}}S.KeystoneLitecoinSDK=KeystoneLitecoinSDK},171517:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneNearSDK=void 0;const E=_(427666),P=_(765531),D=_(632231);S.KeystoneNearSDK=class KeystoneNearSDK{parseSignature(v){if(v.type!==P.URType.NearSignature)throw new Error("type not match");const S=D.NearSignature.fromCBOR(v.cbor),_=S.getRequestId();return{requestId:void 0===_?void 0:(0,E.uuidStringify)(_),signature:S.getSignature().map((v=>(0,E.toHex)(v)))}}generateSignRequest({requestId:v,signData:S,path:_,xfp:P,account:R,origin:M}){return new D.NearSignRequest({requestId:(0,E.uuidParse)(v),signData:S.map((v=>(0,E.toBuffer)(v))),derivationPath:new D.CryptoKeypath((0,E.parsePath)(_).map((v=>new D.PathComponent(v))),(0,E.toBuffer)(P)),account:R,origin:M}).toUR()}}},124603:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneSolanaSDK=void 0;const E=_(88255),P=_(427666),D=_(765531);class KeystoneSolanaSDK{parseSignature(v){if(v.type!==D.URType.SolSignature)throw new Error("type not match");const S=E.SolSignature.fromCBOR(v.cbor),_=S.getRequestId();return{requestId:void 0===_?void 0:(0,P.uuidStringify)(_),signature:(0,P.toHex)(S.getSignature())}}generateSignRequest({requestId:v,signData:S,dataType:_,path:D,xfp:R,address:M,origin:O}){return new E.SolSignRequest({requestId:(0,P.uuidParse)(v),signData:(0,P.toBuffer)(S),signType:_,derivationPath:new E.CryptoKeypath((0,P.parsePath)(D).map((v=>new E.PathComponent(v))),(0,P.toBuffer)(R)),address:void 0!==M?(0,P.toBuffer)(M):void 0,origin:O}).toUR()}}KeystoneSolanaSDK.DataType=E.SignType,S.KeystoneSolanaSDK=KeystoneSolanaSDK},427868:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneSuiSDK=void 0;const P=_(570796),D=_(427666),R=_(765531);S.KeystoneSuiSDK=class KeystoneSuiSDK{parseSignature(v){if(v.type!==R.URType.SuiSignature)throw new Error("type not match");const S=P.SuiSignature.fromCBOR(v.cbor),_=S.getRequestId();return{requestId:E.isBuffer(_)?(0,D.uuidStringify)(_):"",signature:(0,D.toHex)(S.getSignature()),publicKey:(0,D.toHex)(S.getPublicKey())}}generateSignRequest({requestId:v,intentMessage:S,accounts:_,origin:E}){const R=[],M=[];if(_.forEach((v=>{R.push(new P.CryptoKeypath((0,D.parsePath)(v.path).map((v=>new P.PathComponent(v))),(0,D.toBuffer)(v.xfp))),void 0!==v.address&&M.push((0,D.toBuffer)(v.address.startsWith("0x")?v.address.substring(2):v.address))})),M.length>0&&M.length!==R.length)throw new Error("address and path count must match");return new P.SuiSignRequest({requestId:(0,D.uuidParse)(v),intentMessage:(0,D.toBuffer)(S),derivationPaths:R,addresses:M,origin:E}).toUR()}}},340526:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneTonSDK=void 0;const P=_(494458),D=_(427666),R=_(765531);class KeystoneTonSDK{constructor(v){this.config=v}parseSignature(v){if(v.type!==R.URType.TonSignature)throw new Error("type not match");const S=P.TonSignature.fromCBOR(v.cbor),_=S.getRequestId();return{requestId:E.isBuffer(_)?(0,D.uuidStringify)(_):"",signature:(0,D.toHex)(S.getSignature()),origin:S.getOrigin()}}generateSignRequest({requestId:v,signData:S,dataType:_,xfp:E,derivationPath:R,address:M}){var O;return P.TonSignRequest.constructTonRequest((0,D.toBuffer)(S),_,M,v,null===(O=this.config)||void 0===O?void 0:O.origin,E,R).toUR()}}KeystoneTonSDK.DataType=P.DataType,S.KeystoneTonSDK=KeystoneTonSDK},936079:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneTronSDK=void 0;const D=_(427666),R=_(765531),M=_(293796),O=P(_(951791)),F=_(755773),N=_(883872),L=_(765942),U=_(961137);S.KeystoneTronSDK=class KeystoneTronSDK{parseSignature(v){var S,_;if(v.type!==R.URType.KeystoneSignResult)throw new Error("type not match");const E=U.KeystoneSignResult.fromCBOR(v.cbor),P=F.Base.fromBinary(O.default.ungzip(E.getSignResult()));if("signTxResult"!==(null===(S=P.data)||void 0===S?void 0:S.Content.case))throw new Error("invalid sign result");const{signId:D,rawTx:M}=null===(_=P.data)||void 0===_?void 0:_.Content.value;return{requestId:D,raw:M}}generateSignRequest({requestId:v,signData:S,path:_,xfp:P,tokenInfo:R,origin:V}){const G=(0,M.raw2tx)((0,D.toBuffer)(S),R),W=O.default.gzip(new F.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new N.Payload({xfp:P,type:N.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new L.SignTransaction({coinCode:"TRON",hdPath:_,signId:v,timestamp:BigInt(Date.now()),decimal:6,Transaction:{case:"tronTx",value:G}})}})}).toBinary());return new U.KeystoneSignRequest({signData:E.from(W),origin:V}).toUR()}}},293796:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.raw2tx=void 0;const D=P(_(529848)),R=_(898585),M=_(399046),O=_(427666),F=_(950818);function formatAddress(v){return D.default.encode(v)}S.raw2tx=function raw2tx(v,S){let _;try{_=M.Transaction_raw.fromBinary(v)}catch(v){throw new Error("Sign data is invalid")}const P=void 0!==S?{decimals:S.decimals,tokenFullName:S.name,tokenShortName:S.symbol}:null,D=E.from([...new Uint8Array(8).fill(0),..._.refBlockHash,...new Uint8Array(16).fill(0)]),N=new F.LatestBlock({hash:(0,O.toHex)(D),number:Number(`0x${(0,O.toHex)(_.refBlockBytes.slice(0,2))}`),timestamp:BigInt(Number(_.expiration)-3e6)}),L=_.contract[0];if(void 0===L.parameter)throw new Error("contract is invalid");let U;switch(L.type){case M.Transaction_Contract_ContractType.TransferContract:try{U=R.TransferContract.fromBinary(L.parameter.value)}catch(v){throw new Error("sign data is invalid")}return new F.TronTx({fee:Number(_.feeLimit),from:formatAddress(U.ownerAddress),latestBlock:N,to:formatAddress(U.toAddress),token:"TRX",value:U.amount.toString()});case M.Transaction_Contract_ContractType.TransferAssetContract:try{U=R.TransferAssetContract.fromBinary(L.parameter.value)}catch(v){throw new Error("sign data is invalid")}if(null==P)throw new Error("token info is invalid");return new F.TronTx({fee:Number(_.feeLimit),from:formatAddress(U.ownerAddress),latestBlock:N,override:P,to:formatAddress(U.toAddress),token:E.from(U.assetName).toString(),value:U.amount.toString()});case M.Transaction_Contract_ContractType.TriggerSmartContract:try{U=R.TriggerSmartContract.fromBinary(L.parameter.value)}catch(v){throw new Error("sign data is invalid")}if(null==P)throw new Error("token info is invalid");return new F.TronTx({contractAddress:formatAddress(U.contractAddress),fee:Number(_.feeLimit),from:formatAddress(U.ownerAddress),latestBlock:N,override:P,to:formatAddress(E.from([65,...U.data.slice(16,36)])),value:BigInt(`0x${E.from(U.data.slice(36,68)).toString("hex")}`).toString()});default:throw new Error("contract is not supported")}}},870774:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),P(_(706580),S)},706580:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneXrpSDK=void 0;const P=_(653980),D=_(143138);S.KeystoneXrpSDK=class KeystoneXrpSDK{parseAccount(v){const S=v.decodeCBOR().toString();return JSON.parse(S)}parseSignature(v){if("bytes"!==v.type)throw new Error("type not match");try{const S=v.decodeCBOR().toString("hex");return(0,D.decode)(S).TxnSignature}catch(v){throw new Error("signature is invalid")}}generateSignRequest(v){const S=JSON.stringify(v);return P.UR.fromBuffer(E.from(S))}}},467464:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.BchTx_Input=S.BchTx=void 0;const E=_(936038),P=_(682082);class BchTx extends E.Message{constructor(v){super(),this.fee=E.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new BchTx).fromBinary(v,S)}static fromJson(v,S){return(new BchTx).fromJson(v,S)}static fromJsonString(v,S){return(new BchTx).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(BchTx,v,S)}}BchTx.runtime=E.proto3,BchTx.typeName="protoc.BchTx",BchTx.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:BchTx_Input,repeated:!0},{no:5,name:"outputs",kind:"message",T:P.Output,repeated:!0}])),S.BchTx=BchTx;class BchTx_Input extends E.Message{constructor(v){super(),this.hash="",this.index=0,this.value=E.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new BchTx_Input).fromBinary(v,S)}static fromJson(v,S){return(new BchTx_Input).fromJson(v,S)}static fromJsonString(v,S){return(new BchTx_Input).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(BchTx_Input,v,S)}}BchTx_Input.runtime=E.proto3,BchTx_Input.typeName="protoc.BchTx.Input",BchTx_Input.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}])),S.BchTx_Input=BchTx_Input},236267:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DashTx_Input=S.DashTx=void 0;const E=_(936038),P=_(682082);class DashTx extends E.Message{constructor(v){super(),this.fee=E.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new DashTx).fromBinary(v,S)}static fromJson(v,S){return(new DashTx).fromJson(v,S)}static fromJsonString(v,S){return(new DashTx).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(DashTx,v,S)}}DashTx.runtime=E.proto3,DashTx.typeName="protoc.DashTx",DashTx.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:DashTx_Input,repeated:!0},{no:5,name:"outputs",kind:"message",T:P.Output,repeated:!0}])),S.DashTx=DashTx;class DashTx_Input extends E.Message{constructor(v){super(),this.hash="",this.index=0,this.value=E.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new DashTx_Input).fromBinary(v,S)}static fromJson(v,S){return(new DashTx_Input).fromJson(v,S)}static fromJsonString(v,S){return(new DashTx_Input).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(DashTx_Input,v,S)}}DashTx_Input.runtime=E.proto3,DashTx_Input.typeName="protoc.DashTx.Input",DashTx_Input.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}])),S.DashTx_Input=DashTx_Input},200720:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.LtcTx=void 0;const E=_(936038),P=_(682082);class LtcTx extends E.Message{constructor(v){super(),this.fee=E.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new LtcTx).fromBinary(v,S)}static fromJson(v,S){return(new LtcTx).fromJson(v,S)}static fromJsonString(v,S){return(new LtcTx).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(LtcTx,v,S)}}LtcTx.runtime=E.proto3,LtcTx.typeName="protoc.LtcTx",LtcTx.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:P.Input,repeated:!0},{no:5,name:"outputs",kind:"message",T:P.Output,repeated:!0}])),S.LtcTx=LtcTx},950818:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.TronTx=S.Override=S.LatestBlock=void 0;const E=_(936038);class LatestBlock extends E.Message{constructor(v){super(),this.hash="",this.number=0,this.timestamp=E.protoInt64.zero,E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new LatestBlock).fromBinary(v,S)}static fromJson(v,S){return(new LatestBlock).fromJson(v,S)}static fromJsonString(v,S){return(new LatestBlock).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(LatestBlock,v,S)}}LatestBlock.runtime=E.proto3,LatestBlock.typeName="protoc.LatestBlock",LatestBlock.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"timestamp",kind:"scalar",T:3}])),S.LatestBlock=LatestBlock;class Override extends E.Message{constructor(v){super(),this.tokenShortName="",this.tokenFullName="",this.decimals=0,E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new Override).fromBinary(v,S)}static fromJson(v,S){return(new Override).fromJson(v,S)}static fromJsonString(v,S){return(new Override).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(Override,v,S)}}Override.runtime=E.proto3,Override.typeName="protoc.Override",Override.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"tokenShortName",kind:"scalar",T:9},{no:2,name:"tokenFullName",kind:"scalar",T:9},{no:3,name:"decimals",kind:"scalar",T:5}])),S.Override=Override;class TronTx extends E.Message{constructor(v){super(),this.token="",this.contractAddress="",this.from="",this.to="",this.memo="",this.value="",this.fee=0,E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new TronTx).fromBinary(v,S)}static fromJson(v,S){return(new TronTx).fromJson(v,S)}static fromJsonString(v,S){return(new TronTx).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(TronTx,v,S)}}TronTx.runtime=E.proto3,TronTx.typeName="protoc.TronTx",TronTx.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"contractAddress",kind:"scalar",T:9},{no:3,name:"from",kind:"scalar",T:9},{no:4,name:"to",kind:"scalar",T:9},{no:5,name:"memo",kind:"scalar",T:9},{no:6,name:"value",kind:"scalar",T:9},{no:7,name:"latestBlock",kind:"message",T:LatestBlock},{no:8,name:"override",kind:"message",T:Override},{no:9,name:"fee",kind:"scalar",T:5}])),S.TronTx=TronTx},898585:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.TriggerSmartContract=S.TransferAssetContract=S.TransferContract=void 0;const E=_(936038);class TransferContract extends E.Message{constructor(v){super(),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=E.protoInt64.zero,E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new TransferContract).fromBinary(v,S)}static fromJson(v,S){return(new TransferContract).fromJson(v,S)}static fromJsonString(v,S){return(new TransferContract).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(TransferContract,v,S)}}TransferContract.runtime=E.proto3,TransferContract.typeName="protocol.TransferContract",TransferContract.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"to_address",kind:"scalar",T:12},{no:3,name:"amount",kind:"scalar",T:3}])),S.TransferContract=TransferContract;class TransferAssetContract extends E.Message{constructor(v){super(),this.assetName=new Uint8Array(0),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=E.protoInt64.zero,E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new TransferAssetContract).fromBinary(v,S)}static fromJson(v,S){return(new TransferAssetContract).fromJson(v,S)}static fromJsonString(v,S){return(new TransferAssetContract).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(TransferAssetContract,v,S)}}TransferAssetContract.runtime=E.proto3,TransferAssetContract.typeName="protocol.TransferAssetContract",TransferAssetContract.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"asset_name",kind:"scalar",T:12},{no:2,name:"owner_address",kind:"scalar",T:12},{no:3,name:"to_address",kind:"scalar",T:12},{no:4,name:"amount",kind:"scalar",T:3}])),S.TransferAssetContract=TransferAssetContract;class TriggerSmartContract extends E.Message{constructor(v){super(),this.ownerAddress=new Uint8Array(0),this.contractAddress=new Uint8Array(0),this.callValue=E.protoInt64.zero,this.data=new Uint8Array(0),this.callTokenValue=E.protoInt64.zero,this.tokenId=E.protoInt64.zero,E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new TriggerSmartContract).fromBinary(v,S)}static fromJson(v,S){return(new TriggerSmartContract).fromJson(v,S)}static fromJsonString(v,S){return(new TriggerSmartContract).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(TriggerSmartContract,v,S)}}TriggerSmartContract.runtime=E.proto3,TriggerSmartContract.typeName="protocol.TriggerSmartContract",TriggerSmartContract.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"contract_address",kind:"scalar",T:12},{no:3,name:"call_value",kind:"scalar",T:3},{no:4,name:"data",kind:"scalar",T:12},{no:5,name:"call_token_value",kind:"scalar",T:3},{no:6,name:"token_id",kind:"scalar",T:3}])),S.TriggerSmartContract=TriggerSmartContract},399046:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Transaction_raw=S.Transaction_Contract_ContractType=S.Transaction_Contract=S.Transaction=S.authority=S.AccountId=void 0;const E=_(936038);class AccountId extends E.Message{constructor(v){super(),this.name=new Uint8Array(0),this.address=new Uint8Array(0),E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new AccountId).fromBinary(v,S)}static fromJson(v,S){return(new AccountId).fromJson(v,S)}static fromJsonString(v,S){return(new AccountId).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(AccountId,v,S)}}AccountId.runtime=E.proto3,AccountId.typeName="protocol.AccountId",AccountId.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"name",kind:"scalar",T:12},{no:2,name:"address",kind:"scalar",T:12}])),S.AccountId=AccountId;class authority extends E.Message{constructor(v){super(),this.permissionName=new Uint8Array(0),E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new authority).fromBinary(v,S)}static fromJson(v,S){return(new authority).fromJson(v,S)}static fromJsonString(v,S){return(new authority).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(authority,v,S)}}authority.runtime=E.proto3,authority.typeName="protocol.authority",authority.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"account",kind:"message",T:AccountId},{no:2,name:"permission_name",kind:"scalar",T:12}])),S.authority=authority;class Transaction extends E.Message{constructor(v){super(),this.signature=[],E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new Transaction).fromBinary(v,S)}static fromJson(v,S){return(new Transaction).fromJson(v,S)}static fromJsonString(v,S){return(new Transaction).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(Transaction,v,S)}}Transaction.runtime=E.proto3,Transaction.typeName="protocol.Transaction",Transaction.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"raw_data",kind:"message",T:Transaction_raw},{no:2,name:"signature",kind:"scalar",T:12,repeated:!0}])),S.Transaction=Transaction;class Transaction_Contract extends E.Message{constructor(v){super(),this.type=P.AccountCreateContract,this.provider=new Uint8Array(0),this.ContractName=new Uint8Array(0),this.PermissionId=0,E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new Transaction_Contract).fromBinary(v,S)}static fromJson(v,S){return(new Transaction_Contract).fromJson(v,S)}static fromJsonString(v,S){return(new Transaction_Contract).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(Transaction_Contract,v,S)}}var P;Transaction_Contract.runtime=E.proto3,Transaction_Contract.typeName="protocol.Transaction.Contract",Transaction_Contract.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"type",kind:"enum",T:E.proto3.getEnumType(P)},{no:2,name:"parameter",kind:"message",T:E.Any},{no:3,name:"provider",kind:"scalar",T:12},{no:4,name:"ContractName",kind:"scalar",T:12},{no:5,name:"Permission_id",kind:"scalar",T:5}])),S.Transaction_Contract=Transaction_Contract,function(v){v[v.AccountCreateContract=0]="AccountCreateContract",v[v.TransferContract=1]="TransferContract",v[v.TransferAssetContract=2]="TransferAssetContract",v[v.TriggerSmartContract=31]="TriggerSmartContract"}(P=S.Transaction_Contract_ContractType||(S.Transaction_Contract_ContractType={})),E.proto3.util.setEnumType(P,"protocol.Transaction.Contract.ContractType",[{no:0,name:"AccountCreateContract"},{no:1,name:"TransferContract"},{no:2,name:"TransferAssetContract"},{no:31,name:"TriggerSmartContract"}]);class Transaction_raw extends E.Message{constructor(v){super(),this.refBlockBytes=new Uint8Array(0),this.refBlockNum=E.protoInt64.zero,this.refBlockHash=new Uint8Array(0),this.expiration=E.protoInt64.zero,this.auths=[],this.data=new Uint8Array(0),this.contract=[],this.scripts=new Uint8Array(0),this.timestamp=E.protoInt64.zero,this.feeLimit=E.protoInt64.zero,E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new Transaction_raw).fromBinary(v,S)}static fromJson(v,S){return(new Transaction_raw).fromJson(v,S)}static fromJsonString(v,S){return(new Transaction_raw).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(Transaction_raw,v,S)}}Transaction_raw.runtime=E.proto3,Transaction_raw.typeName="protocol.Transaction.raw",Transaction_raw.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"ref_block_bytes",kind:"scalar",T:12},{no:3,name:"ref_block_num",kind:"scalar",T:3},{no:4,name:"ref_block_hash",kind:"scalar",T:12},{no:8,name:"expiration",kind:"scalar",T:3},{no:9,name:"auths",kind:"message",T:authority,repeated:!0},{no:10,name:"data",kind:"scalar",T:12},{no:11,name:"contract",kind:"message",T:Transaction_Contract,repeated:!0},{no:12,name:"scripts",kind:"scalar",T:12},{no:14,name:"timestamp",kind:"scalar",T:3},{no:18,name:"fee_limit",kind:"scalar",T:3}])),S.Transaction_raw=Transaction_raw},755773:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Base=void 0;const E=_(936038),P=_(883872);class Base extends E.Message{constructor(v){super(),this.version=0,this.description="",this.Content={case:void 0},this.deviceType="",E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new Base).fromBinary(v,S)}static fromJson(v,S){return(new Base).fromJson(v,S)}static fromJsonString(v,S){return(new Base).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(Base,v,S)}}Base.runtime=E.proto3,Base.typeName="protoc.Base",Base.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"version",kind:"scalar",T:5},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"data",kind:"message",T:P.Payload},{no:4,name:"hotVersion",kind:"scalar",T:5,oneof:"Content"},{no:5,name:"coldVersion",kind:"scalar",T:5,oneof:"Content"},{no:6,name:"deviceType",kind:"scalar",T:9}])),S.Base=Base},682082:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Output=S.utxo=S.Input=S.Omni=S.BtcTx=void 0;const E=_(936038);class BtcTx extends E.Message{constructor(v){super(),this.fee=E.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new BtcTx).fromBinary(v,S)}static fromJson(v,S){return(new BtcTx).fromJson(v,S)}static fromJsonString(v,S){return(new BtcTx).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(BtcTx,v,S)}}BtcTx.runtime=E.proto3,BtcTx.typeName="protoc.BtcTx",BtcTx.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Input,repeated:!0},{no:5,name:"outputs",kind:"message",T:Output,repeated:!0},{no:6,name:"omni",kind:"message",T:Omni}])),S.BtcTx=BtcTx;class Omni extends E.Message{constructor(v){super(),this.to="",this.changeAddress="",this.omniAmount=E.protoInt64.zero,this.propertyId=0,E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new Omni).fromBinary(v,S)}static fromJson(v,S){return(new Omni).fromJson(v,S)}static fromJsonString(v,S){return(new Omni).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(Omni,v,S)}}Omni.runtime=E.proto3,Omni.typeName="protoc.Omni",Omni.fields=E.proto3.util.newFieldList((()=>[{no:5,name:"to",kind:"scalar",T:9},{no:6,name:"changeAddress",kind:"scalar",T:9},{no:7,name:"omniAmount",kind:"scalar",T:3},{no:8,name:"propertyId",kind:"scalar",T:5}])),S.Omni=Omni;class Input extends E.Message{constructor(v){super(),this.hash="",this.index=0,this.ownerKeyPath="",E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new Input).fromBinary(v,S)}static fromJson(v,S){return(new Input).fromJson(v,S)}static fromJsonString(v,S){return(new Input).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(Input,v,S)}}Input.runtime=E.proto3,Input.typeName="protoc.Input",Input.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"utxo",kind:"message",T:utxo},{no:4,name:"ownerKeyPath",kind:"scalar",T:9}])),S.Input=Input;class utxo extends E.Message{constructor(v){super(),this.publicKey="",this.script="",this.value=E.protoInt64.zero,E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new utxo).fromBinary(v,S)}static fromJson(v,S){return(new utxo).fromJson(v,S)}static fromJsonString(v,S){return(new utxo).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(utxo,v,S)}}utxo.runtime=E.proto3,utxo.typeName="protoc.utxo",utxo.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"publicKey",kind:"scalar",T:9},{no:2,name:"script",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:3}])),S.utxo=utxo;class Output extends E.Message{constructor(v){super(),this.address="",this.value=E.protoInt64.zero,this.isChange=!1,this.changeAddressPath="",E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new Output).fromBinary(v,S)}static fromJson(v,S){return(new Output).fromJson(v,S)}static fromJsonString(v,S){return(new Output).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(Output,v,S)}}Output.runtime=E.proto3,Output.typeName="protoc.Output",Output.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"address",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:3},{no:3,name:"isChange",kind:"scalar",T:8},{no:4,name:"changeAddressPath",kind:"scalar",T:9}])),S.Output=Output},883872:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Payload_Type=S.Payload=void 0;const E=_(936038),P=_(765942),D=_(76148);class Payload extends E.Message{constructor(v){super(),this.type=R.RESERVE,this.xfp="",this.Content={case:void 0},E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new Payload).fromBinary(v,S)}static fromJson(v,S){return(new Payload).fromJson(v,S)}static fromJsonString(v,S){return(new Payload).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(Payload,v,S)}}var R;Payload.runtime=E.proto3,Payload.typeName="protoc.Payload",Payload.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"type",kind:"enum",T:E.proto3.getEnumType(R)},{no:2,name:"xfp",kind:"scalar",T:9},{no:4,name:"signTx",kind:"message",T:P.SignTransaction,oneof:"Content"},{no:7,name:"signTxResult",kind:"message",T:D.SignTransactionResult,oneof:"Content"}])),S.Payload=Payload,function(v){v[v.RESERVE=0]="RESERVE",v[v.SYNC=1]="SYNC",v[v.SIGN_TX=2]="SIGN_TX",v[v.SIGN_MSG=3]="SIGN_MSG",v[v.SIGN_MULTI_SIG=4]="SIGN_MULTI_SIG",v[v.SYNC_MULTI_SIG_MSG=5]="SYNC_MULTI_SIG_MSG",v[v.SIGN_ETH_MULTI_SIG_MSG=6]="SIGN_ETH_MULTI_SIG_MSG",v[v.VERIFY_ADDRESS=7]="VERIFY_ADDRESS",v[v.STAKING=8]="STAKING",v[v.SIGN_TX_RESULT=9]="SIGN_TX_RESULT"}(R=S.Payload_Type||(S.Payload_Type={})),E.proto3.util.setEnumType(R,"protoc.Payload.Type",[{no:0,name:"TYPE_RESERVE"},{no:1,name:"TYPE_SYNC"},{no:2,name:"TYPE_SIGN_TX"},{no:3,name:"TYPE_SIGN_MSG"},{no:4,name:"TYPE_SIGN_MULTI_SIG"},{no:5,name:"TYPE_SYNC_MULTI_SIG_MSG"},{no:6,name:"TYPE_SIGN_ETH_MULTI_SIG_MSG"},{no:7,name:"TYPE_VERIFY_ADDRESS"},{no:8,name:"TYPE_STAKING"},{no:9,name:"TYPE_SIGN_TX_RESULT"}])},76148:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SignTransactionResult=void 0;const E=_(936038);class SignTransactionResult extends E.Message{constructor(v){super(),this.signId="",this.txId="",this.rawTx="",E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new SignTransactionResult).fromBinary(v,S)}static fromJson(v,S){return(new SignTransactionResult).fromJson(v,S)}static fromJsonString(v,S){return(new SignTransactionResult).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(SignTransactionResult,v,S)}}SignTransactionResult.runtime=E.proto3,SignTransactionResult.typeName="protoc.SignTransactionResult",SignTransactionResult.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"signId",kind:"scalar",T:9},{no:2,name:"txId",kind:"scalar",T:9},{no:3,name:"rawTx",kind:"scalar",T:9}])),S.SignTransactionResult=SignTransactionResult},765942:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SignTransaction=void 0;const E=_(936038),P=_(950818),D=_(467464),R=_(236267),M=_(200720);class SignTransaction extends E.Message{constructor(v){super(),this.coinCode="",this.signId="",this.hdPath="",this.timestamp=E.protoInt64.zero,this.decimal=0,this.Transaction={case:void 0},E.proto3.util.initPartial(v,this)}static fromBinary(v,S){return(new SignTransaction).fromBinary(v,S)}static fromJson(v,S){return(new SignTransaction).fromJson(v,S)}static fromJsonString(v,S){return(new SignTransaction).fromJsonString(v,S)}static equals(v,S){return E.proto3.util.equals(SignTransaction,v,S)}}SignTransaction.runtime=E.proto3,SignTransaction.typeName="protoc.SignTransaction",SignTransaction.fields=E.proto3.util.newFieldList((()=>[{no:1,name:"coinCode",kind:"scalar",T:9},{no:2,name:"signId",kind:"scalar",T:9},{no:3,name:"hdPath",kind:"scalar",T:9},{no:4,name:"timestamp",kind:"scalar",T:3},{no:5,name:"decimal",kind:"scalar",T:5},{no:8,name:"tronTx",kind:"message",T:P.TronTx,oneof:"Transaction"},{no:10,name:"bchTx",kind:"message",T:D.BchTx,oneof:"Transaction"},{no:11,name:"dashTx",kind:"message",T:R.DashTx,oneof:"Transaction"},{no:12,name:"ltcTx",kind:"message",T:M.LtcTx,oneof:"Transaction"}])),S.SignTransaction=SignTransaction},730336:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}:function(v,S){v.default=S}),D=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(null!=v)for(var _ in v)"default"!==_&&Object.prototype.hasOwnProperty.call(v,_)&&E(S,v,_);return P(S,v),S},R=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),S.utils=S.KeystoneSDK=S.DerivationAlgorithm=S.Curve=void 0;const M=D(_(427666));S.utils=M;const O=_(243760);Object.defineProperty(S,"KeystoneSDK",{enumerable:!0,get:function(){return O.KeystoneSDK}}),R(_(653980),S),R(_(515758),S),R(_(838859),S);var F=_(784594);Object.defineProperty(S,"Curve",{enumerable:!0,get:function(){return F.Curve}}),Object.defineProperty(S,"DerivationAlgorithm",{enumerable:!0,get:function(){return F.DerivationAlgorithm}}),S.default=O.KeystoneSDK},243760:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeystoneSDK=void 0;const E=_(838859),P=_(941956),D=_(870774);class KeystoneSDK{constructor(v){this.parseMultiAccounts=P.parseMultiAccounts,this.parseTonAccount=P.parseTonAccount,this.parseHDKey=P.parseHDKey,this.parseAccount=P.parseAccount,this.generateKeyDerivationCall=P.generateKeyDerivationCall,this.config=v}get btc(){return void 0===this._btc&&(this._btc=new E.KeystoneBitcoinSDK),this._btc}get eth(){return void 0===this._eth&&(this._eth=new E.KeystoneEthereumSDK(this.config)),this._eth}get sol(){return void 0===this._sol&&(this._sol=new E.KeystoneSolanaSDK),this._sol}get cosmos(){return void 0===this._cosmos&&(this._cosmos=new E.KeystoneCosmosSDK(this.config)),this._cosmos}get evm(){return void 0===this._evm&&(this._evm=new E.KeystoneEvmSDK(this.config)),this._evm}get tron(){return void 0===this._tron&&(this._tron=new E.KeystoneTronSDK),this._tron}get ltc(){return void 0===this._ltc&&(this._ltc=new E.KeystoneLitecoinSDK),this._ltc}get bch(){return void 0===this._bch&&(this._bch=new E.KeystoneBitcoinCashSDK),this._bch}get dash(){return void 0===this._dash&&(this._dash=new E.KeystoneDashSDK),this._dash}get aptos(){return void 0===this._aptos&&(this._aptos=new E.KeystoneAptosSDK),this._aptos}get near(){return void 0===this._near&&(this._near=new E.KeystoneNearSDK),this._near}get arweave(){return void 0===this._arweave&&(this._arweave=new E.KeystoneArweaveSDK),this._arweave}get sui(){return void 0===this._sui&&(this._sui=new E.KeystoneSuiSDK),this._sui}get cardano(){return void 0===this._cardano&&(this._cardano=new E.KeystoneCardanoSDK),this._cardano}get xrp(){return void 0===this._xrp&&(this._xrp=new D.KeystoneXrpSDK),this._xrp}get ton(){return void 0===this._ton&&(this._ton=new E.KeystoneTonSDK(this.config)),this._ton}}KeystoneSDK.parseMultiAccounts=P.parseMultiAccounts,KeystoneSDK.parseHDKey=P.parseHDKey,KeystoneSDK.generateKeyDerivationCall=P.generateKeyDerivationCall,S.KeystoneSDK=KeystoneSDK},930573:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.AccountNote=void 0,function(v){v.Standard="account.standard",v.LedgerLegacy="account.ledger_legacy",v.LedgerLive="account.ledger_live"}(S.AccountNote||(S.AccountNote={}))},515758:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),P(_(930573),S),P(_(691328),S),P(_(138048),S),P(_(729611),S),P(_(765531),S)},691328:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0})},138048:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0})},729611:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0})},765531:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URType=S.UR=void 0;var E=_(653980);Object.defineProperty(S,"UR",{enumerable:!0,get:function(){return E.UR}}),function(v){v.CryptoPSBT="crypto-psbt",v.CryptoMultiAccounts="crypto-multi-accounts",v.CryptoHDKey="crypto-hdkey",v.CryptoAccount="crypto-account",v.BtcSignature="btc-signature",v.ArweaveCryptoAccount="arweave-crypto-account",v.EthSignature="eth-signature",v.SolSignature="sol-signature",v.CosmosSignature="cosmos-signature",v.EvmSignature="evm-signature",v.AptosSignature="aptos-signature",v.CardanoSignature="cardano-signature",v.TronSignature="keystone-sign-result",v.KeystoneSignResult="keystone-sign-result",v.NearSignature="near-signature",v.ArweaveSignature="arweave-signature",v.SuiSignature="sui-signature",v.XrpAccount="bytes",v.XrpSignRequest="bytes",v.XrpSignature="bytes",v.TonSignature="ton-signature"}(S.URType||(S.URType={}))},53329:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoinSymbol=void 0,S.getCoinSymbol=function getCoinSymbol(v){var S;return null!==(S={0:"BTC",2:"LTC",3:"DOGE",4:"RDD",5:"DASH",6:"PPC",7:"NMC",8:"FTC",9:"XCP",10:"BLK",11:"NSR",12:"NBT",13:"MZC",14:"VIA",15:"XCH",16:"RBY",17:"GRS",18:"DGC",19:"CCN",20:"DGB",22:"MONA",23:"CLAM",24:"XPM",25:"NEOS",26:"JBS",27:"ZRC",28:"VTC",29:"NXT",30:"BURST",31:"MUE",32:"ZOOM",33:"VASH",34:"CDN",35:"SDC",36:"PKB",37:"PND",38:"START",39:"MOIN",40:"EXP",41:"EMC2",42:"DCR",43:"XEM",44:"PART",45:"ARG",48:"SHR",49:"GCR",50:"NVC",51:"AC",52:"BTCD",53:"DOPE",54:"TPC",55:"AIB",56:"EDRC",57:"SYS",58:"SLR",59:"SMLY",60:"ETH",61:"ETC",62:"PSB",63:"LDCN",65:"XBC",66:"IOP",67:"NXS",68:"INSN",69:"OK",70:"BRIT",71:"CMP",72:"CRW",73:"BELA",74:"ICX",75:"FJC",76:"MIX",77:"XVG",78:"EFL",79:"CLUB",80:"RICHX",81:"POT",82:"QRK",83:"TRC",84:"GRC",85:"AUR",86:"IXC",87:"NLG",88:"BITB",89:"BTA",90:"XMY",91:"BSD",92:"UNO",93:"MTR",94:"GB",95:"SHM",96:"CRX",97:"BIQ",98:"EVO",99:"STO",100:"BIGUP",101:"GAME",102:"DLC",103:"ZYD",104:"DBIC",105:"STRAT",106:"SH",107:"MARS",108:"UBQ",109:"PTC",110:"NRO",111:"ARK",112:"USC",113:"THC",114:"LINX",115:"ECN",116:"DNR",117:"PINK",118:"ATOM",119:"PIVX",120:"FLASH",121:"ZEN",122:"PUT",123:"ZNY",124:"UNIFY",125:"XST",126:"BRK",127:"VC",128:"XMR",129:"VOX",130:"NAV",131:"FCT",132:"EC",133:"ZEC",134:"LSK",135:"STEEM",136:"XZC",137:"RBTC",139:"RPT",140:"LBC",141:"KMD",142:"BSQ",143:"RIC",144:"XRP",145:"BCH",146:"NEBL",147:"ZCL",148:"XLM",149:"NLC2",150:"WHL",151:"ERC",152:"DMD",153:"BTM",154:"BIO",155:"XWCC",156:"BTG",157:"BTC2X",158:"SSN",159:"TOA",160:"BTX",161:"ACC",162:"BCO",163:"ELLA",164:"PIRL",165:"XNO",166:"VIVO",167:"FRST",168:"HNC",169:"BUZZ",170:"MBRS",171:"HC",172:"HTML",173:"ODN",174:"ONX",175:"RVN",176:"GBX",177:"BTCZ",178:"POA",179:"NYC",180:"MXT",181:"WC",182:"MNX",183:"BTCP",184:"MUSIC",185:"BCA",186:"CRAVE",187:"STAK",188:"WBTC",189:"LCH",190:"EXCL",192:"LCC",193:"XFE",194:"EOS",195:"TRX",196:"KOBO",197:"HUSH",198:"BAN",199:"ETF",200:"OMNI",201:"BIFI",202:"UFO",203:"CNMC",204:"BCN",205:"RIN",206:"ATP",207:"EVT",208:"ATN",209:"BIS",210:"NEET",211:"BOPO",212:"OOT",213:"ALIAS",214:"MONK",215:"BOXY",216:"FLO",217:"MEC",218:"BTDX",219:"XAX",220:"ANON",221:"LTZ",222:"BITG",223:"ICP",224:"SMART",225:"XUEZ",226:"HLM",227:"WEB",228:"ACM",229:"NOS",230:"BITC",231:"HTH",232:"TZC",233:"VAR",234:"IOV",235:"FIO",236:"BSV",237:"DXN",238:"QRL",239:"PCX",240:"LOKI",242:"NIM",243:"SOV",244:"JCT",245:"SLP",246:"EWT",247:"UC",248:"EXOS",249:"ECA",250:"SOOM",251:"XRD",252:"FREE",253:"NPW",254:"BST",256:"NANO",257:"BTCC",259:"ZEST",260:"ABT",261:"PION",262:"DT3",263:"ZBUX",264:"KPL",265:"TPAY",266:"ZILLA",267:"ANK",268:"BCC",269:"HPB",270:"ONE",271:"SBC",272:"IPC",273:"DMTC",274:"OGC",275:"SHIT",276:"ANDES",277:"AREPA",278:"BOLI",279:"RIL",280:"HTR",281:"FCTID",282:"BRAVO",283:"ALGO",284:"BZX",285:"GXX",286:"HEAT",287:"XDN",288:"FSN",289:"CPC",290:"BOLD",291:"IOST",292:"TKEY",293:"USE",294:"BCZ",295:"IOC",296:"ASF",297:"MASS",298:"FAIR",299:"NUKO",300:"GNX",301:"DIVI",302:"CMT",303:"EUNO",304:"IOTX",305:"ONION",306:"8BIT",307:"ATC",308:"BTS",309:"CKB",310:"UGAS",311:"ADS",312:"ARA",313:"ZIL",314:"MOAC",315:"SWTC",316:"VNSC",317:"PLUG",318:"MAN",319:"ECC",320:"RPD",321:"RAP",322:"GARD",323:"ZER",324:"EBST",325:"SHARD",326:"MRX",327:"CMM",328:"BLOCK",329:"AUDAX",330:"LUNA",331:"ZPM",332:"KUVA",333:"MEM",334:"CS",335:"SWIFT",336:"FIX",337:"CPC",338:"VGO",339:"DVT",340:"N8V",341:"MTNS",342:"BLAST",343:"DCT",344:"AUX",345:"USDP",346:"HTDF",347:"YEC",348:"QLC",349:"TEA",350:"ARW",351:"MDM",352:"CYB",353:"LTO",354:"DOT",355:"AEON",356:"RES",357:"AYA",358:"DAPS",359:"CSC",360:"VSYS",361:"NOLLAR",362:"XNOS",363:"CPU",364:"LAMB",365:"VCT",366:"CZR",367:"ABBC",368:"HET",369:"XAS",370:"VDL",371:"MED",372:"ZVC",373:"VESTX",374:"DBT",375:"SEOS",376:"MXW",377:"ZNZ",378:"XCX",379:"SOX",380:"NYZO",381:"ULC",382:"RYO",383:"KAL",384:"XSN",385:"DOGEC",386:"BMV",387:"QBC",388:"IMG",389:"QOS",390:"PKT",391:"LHD",392:"CENNZ",393:"HSN",394:"CRO",395:"UMBRU",396:"EVER",397:"NEAR",398:"XPC",399:"ZOC",400:"NIX",401:"UC",402:"GALI",403:"OLT",404:"XBI",405:"DONU",406:"EARTHS",407:"HDD",408:"SUGAR",409:"AILE",410:"TENT",411:"TAN",412:"AIN",413:"MSR",414:"SUMO",415:"ETN",416:"BYTZ",417:"WOW",418:"XTNC",419:"LTHN",420:"NODE",421:"AGM",422:"CCX",423:"TNET",424:"TELOS",425:"AION",426:"BC",427:"KTV",428:"ZCR",429:"ERG",430:"PESO",431:"BTC2",432:"XRPHD",433:"WE",434:"KSM",435:"PCN",436:"NCH",437:"ICU",438:"LN",439:"DTP",440:"BTCR",441:"AERGO",442:"XTH",443:"LV",444:"PHR",445:"VITAE",446:"COCOS",447:"DIN",448:"SPL",449:"YCE",450:"XLR",451:"KTS",452:"DGLD",453:"XNS",454:"EM",455:"SHN",456:"SEELE",457:"AE",458:"ODX",459:"KAVA",460:"GLEEC",461:"FIL",462:"RUTA",463:"CSDT",464:"ETI",465:"ZSLP",466:"ERE",467:"DX",468:"CPS",469:"BTH",470:"MESG",471:"FIMK",472:"AR",473:"OGO",474:"ROSE",475:"BARE",476:"GLEEC",477:"CLR",478:"RNG",479:"OLO",480:"PEXA",481:"MOON",482:"OCEAN",483:"BNT",484:"AMO",485:"FCH",486:"LAT",487:"COIN",488:"VEO",489:"CCA",490:"GFN",491:"BIP",492:"KPG",493:"FIN",494:"BAND",495:"DROP",496:"BHT",497:"LYRA",498:"CS",499:"RUPX",500:"THETA",501:"SOL",502:"THT",503:"CFX",504:"KUMA",505:"HASH",506:"CSPR",507:"EARTH",508:"EGLD",509:"CHI",510:"KOTO",511:"OTC",512:"XRD",513:"SEELEN",514:"AETH",515:"DNA",516:"VEE",517:"SIERRA",518:"LET",519:"BSC",520:"BTCV",521:"ABA",522:"SCC",523:"EDG",524:"AMS",525:"GOSS",526:"BU",527:"GRAM",528:"YAP",529:"SCRT",530:"NOVO",531:"GHOST",532:"HST",533:"PRJ",534:"YOU",535:"XHV",536:"BYND",537:"JOYS",538:"VAL",539:"FLOW",540:"SMESH",541:"SCDO",542:"IQS",543:"BIND",544:"COINEVO",545:"SCRIBE",546:"HYN",547:"BHP",548:"BBC",549:"MKF",550:"XDC",551:"STR",552:"SUM",553:"HBC",555:"BCS",556:"KTS",557:"LKR",558:"TAO",559:"XWC",560:"DEAL",561:"NTY",562:"TOP",564:"AG",565:"CICO",566:"IRIS",567:"NCG",568:"LRG",569:"SERO",570:"BDX",571:"CCXX",572:"SLS",573:"SRM",575:"VIVT",576:"BPS",577:"NKN",578:"ICL",579:"BONO",580:"PLC",581:"DUN",582:"DMCH",583:"CTC",584:"KELP",585:"GBCR",586:"XDAG",587:"PRV",588:"SCAP",589:"TFUEL",590:"GTM",591:"RNL",592:"GRIN",593:"MWC",594:"DOCK",595:"POLYX",596:"DIVER",597:"XEP",598:"APN",599:"TFC",600:"UTE",601:"MTC",602:"NC",603:"XINY",604:"DYN",605:"BUFS",606:"STOS",607:"TON",608:"TAFT",609:"HYDRA",610:"NOR",613:"WCN",614:"OPT",615:"PSWAP",616:"VAL",617:"XOR",618:"SSP",619:"DEI",621:"ZERO",622:"ALPHA",623:"BDECO",624:"NOBL",625:"EAST",626:"KDA",627:"SOUL",628:"LORE",629:"FNR",630:"NEXUS",631:"QTZ",632:"XMA",633:"CALL",634:"VAL",635:"POKT",636:"EMIT",637:"APTOS",638:"ADON",639:"BTSG",640:"LFC",641:"KCS",642:"KCC",643:"AZERO",644:"TREE",645:"LX",646:"XLN",647:"CIC",648:"ZRB",650:"UCO",651:"SFX",652:"SFT",653:"WSFX",654:"USDG",655:"WMP",659:"KOIN",660:"PIRATE",663:"SFRX",666:"ACT",667:"PRKL",668:"SSC",669:"GC",670:"PLGR",671:"MPLGR",672:"KNOX",673:"ZED",674:"CNDL",675:"WLKR",676:"WLKRR",677:"YUNGE",678:"Voken",679:"APL",680:"Evrynet",681:"NENG",682:"CHTA",685:"OAS",686:"KAR",688:"CET",690:"KLV",694:"VTBC",698:"VEIL",699:"GTB",700:"XDAI",701:"COM",702:"CCC",707:"MCOIN",711:"CHC",712:"SERF",713:"XTL",714:"BNB",715:"SIN",716:"DLN",717:"BONTE",718:"PEER",725:"MCX",730:"HEALIOS",731:"BMK",734:"DENTX",737:"ATOP",747:"CFG",750:"XPRT",757:"HONEY",768:"BALLZ",770:"COSA",771:"BR",775:"PLSR",776:"KEY",777:"BTW",780:"PLCUC",781:"PLCUX",782:"PLCU",784:"SUI",786:"UIDD",787:"ACA",788:"BNC",789:"TAU",799:"PDEX",800:"BEET",801:"DST",804:"ZKS",808:"QVT",809:"SDN",810:"ASTR",813:"MEER",818:"VET",819:"REEF",820:"CLO",822:"BDB",827:"ACE",828:"CCN",831:"CRUZ",832:"SAPP",833:"777",834:"KYAN",835:"AZR",836:"CFL",837:"DASHD",838:"TRTT",839:"UCR",840:"PNY",841:"BECN",842:"MONK",843:"SAGA",844:"SUV",845:"ESK",846:"OWO",847:"PEPS",848:"BIR",849:"MOBIC",850:"FLS",852:"DSM",853:"PRCY",858:"HVH",866:"MOB",868:"IF",877:"NAM",880:"LUM",883:"ZBC",886:"ADF",888:"NEO",889:"TOMO",890:"XSEL",896:"LKSC",898:"AS",899:"XEC",900:"LMO",901:"NXT",904:"HNT",907:"FIS",909:"SGE",911:"GERT",916:"META",917:"FRA",919:"CCD",921:"AVN",925:"DIP",928:"GHM",931:"RUNE",945:"UNLOCK",955:"LTP",960:"VKAX",966:"MATIC",968:"UNW",970:"TWINS",977:"TLOS",981:"TAFECO",985:"AU",987:"VCG",988:"XAZAB",989:"AIOZ",990:"CORE",991:"PEC",992:"UNT",993:"XRB",994:"QUAI",995:"CAPS",996:"OKT",997:"SUM",998:"LBTC",999:"BCD",1e3:"BTN",1001:"TT",1002:"BKT",1003:"NODL",1004:"PCOIN",1005:"TAO",1006:"HSK",1007:"FTM",1008:"RPG",1010:"HT",1011:"ELV",1013:"BIC",1020:"EVC",1022:"XRD",1023:"ONE",1024:"ONT",1025:"CZZ",1026:"KEX",1027:"MCM",1032:"BTCR",1042:"MFID",1111:"BBC",1120:"RISE",1122:"CMT",1128:"ETSC",1129:"DFI",1130:"DFI",1137:"$DAG",1145:"CDY",1155:"EFI",1170:"HOO",1234:"ALPH",1284:"GLMR",1285:"MOVR",1298:"WPC",1308:"WEI",1337:"DFC",1397:"HYC",1410:"TENTSLP",1510:"XSC",1512:"AAC",1533:"BEAM",1555:"APC",1616:"ELF",1618:"AUDL",1620:"ATH",1627:"LUME",1642:"NEW",1657:"BTA",1668:"NEOX",1669:"MEWC",1688:"BCX",1729:"XTZ",1776:"LBTC",1777:"BBP",1784:"JPYS",1789:"VEGA",1815:"ADA",1818:"CUBE",1856:"TES",1888:"ZTX",1899:"XEC",1901:"CLC",1919:"VIPS",1926:"CITY",1955:"XX",1977:"XMX",1984:"TRTL",1985:"SLRT",1986:"QTH",1987:"EGEM",1988:"MIRA",1989:"HODL",1990:"PHL",1991:"SC",1996:"MYT",1997:"POLIS",1998:"XMCC",1999:"COLX",2e3:"GIN",2001:"MNP",2002:"MLN",2017:"KIN",2018:"EOSC",2019:"GBT",2020:"PKC",2021:"SKT",2022:"XHT",2048:"MCASH",2049:"TRUE",2086:"KILT",2109:"SAMA",2112:"IoTE",2137:"XRG",2182:"CHZ",2221:"ASK",2301:"QTUM",2302:"ETP",2303:"GXC",2304:"CRP",2305:"ELA",2338:"SNOW",2365:"XIN",2570:"AOA",2718:"NAS",2894:"REOSC",2941:"BND",3003:"LUX",3030:"HBAR",3077:"COS",3276:"CCC",3333:"SXP",3377:"ROI",3381:"DYN",3383:"SEQ",3552:"DEO",3564:"DST",3601:"CY",4040:"FC8",4096:"YEE",4218:"IOTA",4219:"SMR",4242:"AXE",4343:"XYM",4444:"C4E",4919:"XVM",5006:"SBC",5248:"FIC",5353:"HNS",5404:"ISK",5467:"ALTME",5555:"FUND",5757:"STX",5895:"VOW",5920:"SLU",6060:"GO",6174:"MOI",6599:"RSC",6666:"BPA",6688:"SAFE",6779:"COTI",6969:"ROGER",7091:"TOPL",7331:"KLY",7341:"SHFT",7777:"BTV",8e3:"SKY",8192:"PAC",8217:"KLAY",8339:"BTQ",8444:"XCH",8680:"PLMNT",8888:"SBTC",8964:"NULS",8997:"BBC",8998:"JGC",8999:"BTP",9e3:"AVAX",9001:"ARB1",9002:"BOBA",9003:"LOOP",9004:"STRK",9005:"AVAXC",9006:"BSC",9797:"NRG",9888:"BTF",9999:"GOD",1e4:"FO",10226:"RTM",10291:"XRC",10605:"XPI",11111:"ESS",12345:"IPOS",12586:"MINA",13107:"BTY",13108:"YCC",14001:"WAX",15845:"SDGO",16181:"XTX",16754:"ARDR",18e3:"MTR",19165:"SAFE",19167:"FLUX",19169:"RITO",20036:"XND",21004:"C4EI",21888:"PCT",22504:"PWR",25252:"BELL",25718:"CHX",29223:"NEXA",31102:"ESN",33416:"TEO",33878:"BTCS",34952:"BTT",37992:"FXTC",39321:"AMA",42069:"FACT",43028:"AXIV",49262:"EVE",49344:"STASH",52752:"CELO",61616:"TH",65536:"KETH",69420:"GRLC",70007:"GWL",77777:"ZYN",88888:"RYO",99999:"WICC",100500:"HOME",101010:"STC",105105:"STRAX",111111:"KAS",161803:"APTA",200625:"AKA",200665:"GENOM",246529:"ATS",261131:"ZAMA",314159:"PI",333332:"VALUE",333333:"3333",424242:"X42",534352:"SCR",666666:"VITE",888888:"SEA",1048576:"AMAX",1171337:"ILT",1313114:"ETHO",1313500:"XERO",1712144:"LAX",3924011:"EPK",4741444:"HYD",5249353:"BCO",5249354:"BHD",5264462:"PTN",5655640:"VLX",5718350:"WAN",5741564:"WAVES",5741565:"WEST",6382179:"ABC",6517357:"CRM",7562605:"SEM",7567736:"ION",7777777:"FCT",7825266:"WGR",7825267:"OBSR",8163271:"AFS",15118976:"XDS",61717561:"AQUA",88888888:"HATCH",91927009:"kUSD",99999996:"GENS",99999997:"EQ",99999998:"FLUID",99999999:"QKC",608589380:"FVDC"}[v])&&void 0!==S?S:""}},840917:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.pathToKeypath=void 0;const E=_(418201);S.pathToKeypath=v=>{const S=v.replace(/[m|M]\//,"").split("/").map((v=>{const S=parseInt(v.replace("'",""),10),_=v.endsWith("'");return new E.PathComponent({index:S,hardened:_})}));return new E.CryptoKeypath(S)}},427666:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),P(_(150549),S),P(_(840917),S),P(_(53329),S)},150549:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),D=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}:function(v,S){v.default=S}),R=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(null!=v)for(var _ in v)"default"!==_&&Object.prototype.hasOwnProperty.call(v,_)&&P(S,v,_);return D(S,v),S},M=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||P(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.uuidStringify=S.uuidParse=S.toBuffer=S.toHex=S.uuid=void 0;const O=R(_(722333));S.uuid=O,M(_(53329),S),S.toHex=function toHex(v){return void 0===v?"":E.from(v).toString("hex")},S.toBuffer=function toBuffer(v){return E.from(null!=v?v:"","hex")},S.uuidParse=function uuidParse(v){return E.from(O.parse(v))},S.uuidStringify=function uuidStringify(v){return O.stringify(v)},S.parsePath=function parsePath(v){return v.replace(/^m\//i,"").split("/").map((v=>{const S=v.endsWith("'");return{index:Number(S?v.substring(0,v.length-1):v),hardened:S}}))}},489623:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseAccount=void 0;const E=_(515758),P=_(418201),D=_(427666),R=_(371023);S.parseAccount=v=>{if(v.type!==E.URType.CryptoAccount)throw new Error("type not match");const S=P.CryptoAccount.fromCBOR(v.cbor),_=(0,D.toHex)(S.getMasterFingerprint()),M=[];return S.getOutputDescriptors().forEach((v=>{if(v.getRegistryType()!==P.RegistryTypes.CRYPTO_HDKEY){const S=v.getCryptoKey(),_=(0,D.toHex)(S.getChainCode()),E=(0,D.toHex)(S.getParentFingerprint()),P=S.getOrigin();if(void 0===P)throw new Error("account is invalid");let O;0!==_.length&&0!==E.length&&(O=S.getBip32Key());const F=P.getComponents()[1].getIndex();M.push({chain:(0,D.getCoinSymbol)(F),path:`m/${P.getPath()}`,publicKey:(0,D.toHex)(S.getKey()),name:S.getName(),chainCode:_,extendedPublicKey:O,note:S.getNote(),extra:(0,R.generateExtraData)(F)})}})),{masterFingerprint:_,keys:M}}},371023:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.generateExtraData=void 0;const _={60:1};S.generateExtraData=v=>{var S;return{okx:{chainId:null!==(S=_[v])&&void 0!==S?S:v}}}},784594:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.generateKeyDerivationCall=S.DerivationAlgorithm=S.Curve=void 0;const E=_(418201);Object.defineProperty(S,"Curve",{enumerable:!0,get:function(){return E.Curve}}),Object.defineProperty(S,"DerivationAlgorithm",{enumerable:!0,get:function(){return E.DerivationAlgorithm}});const P=_(427666);S.generateKeyDerivationCall=({schemas:v,origin:S})=>{const _=v.map((({path:v,curve:S=E.Curve.secp256k1,algo:_=E.DerivationAlgorithm.slip10})=>{if(S===E.Curve.secp256k1&&_===E.DerivationAlgorithm.bip32ed25519)throw new Error("the combination of the given curve and algo not supported");return new E.KeyDerivationSchema((0,P.pathToKeypath)(v),S,_)})),D=new E.KeyDerivation(_);return new E.QRHardwareCall(E.QRHardwareCallType.KeyDerivation,D,S).toUR()}},382451:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseTonAccount=S.parseHDKey=void 0;const E=_(515758),P=_(418201),D=_(427666),R=_(371023);S.parseHDKey=v=>{var S;if(v.type!==E.URType.CryptoHDKey)throw new Error("type not match");const _=P.CryptoHDKey.fromCBOR(v.cbor),M=(0,D.toHex)(_.getChainCode()),O=(0,D.toHex)(_.getParentFingerprint()),F=_.getOrigin();if(void 0===(null===(S=_.getOrigin().getSourceFingerprint())||void 0===S?void 0:S.toString("hex")))throw new Error("HDKey is invalid");let N;0!==M.length&&0!==O.length&&(N=_.getBip32Key());const L=F.getComponents()[1].getIndex();return{chain:(0,D.getCoinSymbol)(L),path:`m/${F.getPath()}`,publicKey:(0,D.toHex)(_.getKey()),name:_.getName(),xfp:F.getSourceFingerprint().toString("hex"),chainCode:M,extendedPublicKey:N,note:_.getNote(),extra:(0,R.generateExtraData)(L)}};S.parseTonAccount=v=>{var S;if(v.type!==E.URType.CryptoHDKey)throw new Error("type not match");const _=P.CryptoHDKey.fromCBOR(v.cbor),R=_.getOrigin();if(R){if(void 0===(null===(S=_.getOrigin().getSourceFingerprint())||void 0===S?void 0:S.toString("hex")))throw new Error("HDKey is invalid");return{path:`m/${R.getPath()}`,publicKey:(0,D.toHex)(_.getKey()),name:_.getName(),xfp:R.getSourceFingerprint().toString("hex")}}return{publicKey:(0,D.toHex)(_.getKey()),name:_.getName()}}},941956:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),P(_(784594),S),P(_(643601),S),P(_(382451),S),P(_(489623),S)},643601:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseMultiAccounts=void 0;const E=_(515758),P=_(418201),D=_(427666),R=_(371023);S.parseMultiAccounts=v=>{if(v.type!==E.URType.CryptoMultiAccounts)throw new Error("type not match");const S=P.CryptoMultiAccounts.fromCBOR(v.cbor),_=(0,D.toHex)(S.getMasterFingerprint());return{device:S.getDevice(),masterFingerprint:_,keys:S.getKeys().map((v=>{const S=(0,D.toHex)(v.getChainCode()),_=(0,D.toHex)(v.getParentFingerprint()),E=v.getOrigin();if(void 0===E)throw new Error("multi accounts is invalid");let P;0!==S.length&&0!==_.length&&(P=v.getBip32Key());const M=E.getComponents()[1].getIndex();return{chain:(0,D.getCoinSymbol)(M),path:`m/${E.getPath()}`,publicKey:(0,D.toHex)(v.getKey()),name:v.getName(),chainCode:S,extendedPublicKey:P,note:v.getNote(),extra:(0,R.generateExtraData)(M)}})),deviceId:S.getDeviceId(),deviceVersion:S.getVersion()}}},732986:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Bytes=void 0;const E=_(169985),P=_(784541),D=_(124218);class Bytes extends P.RegistryItem{constructor(v){super(),this.bytes=v,this.getRegistryType=()=>D.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new E.DataItem(this.bytes)}}S.Bytes=Bytes,Bytes.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new Bytes(S)},Bytes.fromCBOR=v=>{const S=(0,E.decodeToDataItem)(v);return Bytes.fromDataItem(S)}},858701:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoAccount=void 0;const P=_(418201),D=_(169985),R=_(784541),M=_(124218);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.outputDescriptors=2]="outputDescriptors"}(O||(O={}));class CryptoAccount extends R.RegistryItem{constructor(v,S){super(),this.masterFingerprint=v,this.outputDescriptors=S,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(v[O.outputDescriptors]=this.outputDescriptors.map((v=>v.toDataItem()))),new D.DataItem(v)}}}S.CryptoAccount=CryptoAccount,CryptoAccount.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),D=S[O.masterFingerprint];D&&_.writeUInt32BE(D,0);const R=S[O.outputDescriptors].map((v=>P.CryptoOutput.fromDataItem(v)));return new CryptoAccount(_,R)},CryptoAccount.fromCBOR=v=>{const S=(0,D.decodeToDataItem)(v);return CryptoAccount.fromDataItem(S)}},297965:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoCoinInfo=S.Network=S.Type=void 0;const E=_(169985),P=_(784541),D=_(124218);var R,M,O;!function(v){v.type="1",v.network="2"}(R||(R={})),function(v){v[v.bitcoin=0]="bitcoin"}(M=S.Type||(S.Type={})),function(v){v[v.mainnet=0]="mainnet",v[v.testnet=1]="testnet"}(O=S.Network||(S.Network={}));class CryptoCoinInfo extends P.RegistryItem{constructor(v,S){super(),this.type=v,this.network=S,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||M.bitcoin,this.getNetwork=()=>this.network||O.mainnet,this.toDataItem=()=>{const v={};return this.type&&(v[R.type]=this.type),this.network&&(v[R.network]=this.network),new E.DataItem(v)}}}S.CryptoCoinInfo=CryptoCoinInfo,CryptoCoinInfo.fromDataItem=v=>{const S=v.getData(),_=S[R.type],E=S[R.network];return new CryptoCoinInfo(_,E)},CryptoCoinInfo.fromCBOR=v=>{const S=(0,E.decodeToDataItem)(v);return CryptoCoinInfo.fromDataItem(S)}},862905:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoECKey=void 0;const E=_(169985),P=_(784541),D=_(124218);var R;!function(v){v[v.curve=1]="curve",v[v.private=2]="private",v[v.data=3]="data"}(R||(R={}));class CryptoECKey extends P.RegistryItem{constructor(v){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const v={};return this.curve&&(v[R.curve]=this.curve),void 0!==this.privateKey&&(v[R.private]=this.privateKey),v[R.data]=this.data,new E.DataItem(v)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=v.data,this.curve=v.curve,this.privateKey=v.privateKey||void 0}}S.CryptoECKey=CryptoECKey,CryptoECKey.fromDataItem=v=>{const S=v.getData(),_=S[R.curve],E=S[R.private],P=S[R.data];if(!P)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${v}`);return new CryptoECKey({data:P,curve:_,privateKey:E})},CryptoECKey.fromCBOR=v=>{const S=(0,E.decodeToDataItem)(v);return CryptoECKey.fromDataItem(S)}},947453:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoHDKey=void 0;const P=_(709498),D=_(297965),R=_(772702),M=_(169985),O=_(784541),F=_(124218);var N;!function(v){v[v.is_master=1]="is_master",v[v.is_private=2]="is_private",v[v.key_data=3]="key_data",v[v.chain_code=4]="chain_code",v[v.use_info=5]="use_info",v[v.origin=6]="origin",v[v.children=7]="children",v[v.parent_fingerprint=8]="parent_fingerprint",v[v.name=9]="name",v[v.note=10]="note"}(N||(N={}));class CryptoHDKey extends O.RegistryItem{constructor(v){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var v,S,_;let D,R,M=0,O=E.alloc(4).fill(0);if(this.isMaster())D=E.from("0488ADE4","hex"),R=0,M=0;else{R=(null===(v=this.getOrigin())||void 0===v?void 0:v.getComponents().length)||(null===(S=this.getOrigin())||void 0===S?void 0:S.getDepth());const P=null===(_=this.getOrigin())||void 0===_?void 0:_.getComponents(),F=P[P.length-1];F&&(M=F.isHardened()?F.getIndex()+2147483648:F.getIndex(),this.getParentFingerprint()&&(O=this.getParentFingerprint())),D=this.isPrivateKey()?E.from("0488ADE4","hex"):E.from("0488B21E","hex")}const F=E.alloc(1);F.writeUInt8(R,0);const N=E.alloc(4);N.writeUInt32BE(M,0);const L=this.getChainCode(),U=this.getKey();return(0,P.encode)(E.concat([D,F,O,N,L,U]))},this.getRegistryType=()=>F.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var v,S,_,E,P,D,R;let M="";return this.getOrigin()&&(null===(v=this.getOrigin())||void 0===v?void 0:v.getSourceFingerprint())&&(null===(S=this.getOrigin())||void 0===S?void 0:S.getPath())&&(M+=`${null===(E=null===(_=this.getOrigin())||void 0===_?void 0:_.getSourceFingerprint())||void 0===E?void 0:E.toString("hex")}/${null===(P=this.getOrigin())||void 0===P?void 0:P.getPath()}`),M+=this.getBip32Key(),this.getChildren()&&(null===(D=this.getChildren())||void 0===D?void 0:D.getPath())&&(M+=`/${null===(R=this.getChildren())||void 0===R?void 0:R.getPath()}`),M},this.setupMasterKey=v=>{this.master=!0,this.key=v.key,this.chainCode=v.chainCode},this.setupDeriveKey=v=>{this.master=!1,this.privateKey=v.isPrivateKey,this.key=v.key,this.chainCode=v.chainCode,this.useInfo=v.useInfo,this.origin=v.origin,this.children=v.children,this.parentFingerprint=v.parentFingerprint,this.name=v.name,this.note=v.note},this.toDataItem=()=>{const v={};if(this.master)v[N.is_master]=!0,v[N.key_data]=this.key,v[N.chain_code]=this.chainCode;else{if(void 0!==this.privateKey&&(v[N.is_private]=this.privateKey),v[N.key_data]=this.key,this.chainCode&&(v[N.chain_code]=this.chainCode),this.useInfo){const S=this.useInfo.toDataItem();S.setTag(this.useInfo.getRegistryType().getTag()),v[N.use_info]=S}if(this.origin){const S=this.origin.toDataItem();S.setTag(this.origin.getRegistryType().getTag()),v[N.origin]=S}if(this.children){const S=this.children.toDataItem();S.setTag(this.children.getRegistryType().getTag()),v[N.children]=S}this.parentFingerprint&&(v[N.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),void 0!==this.name&&(v[N.name]=this.name),void 0!==this.note&&(v[N.note]=this.note)}return new M.DataItem(v)},v.isMaster?this.setupMasterKey(v):this.setupDeriveKey(v)}}S.CryptoHDKey=CryptoHDKey,CryptoHDKey.fromDataItem=v=>{const S=v.getData(),_=!!S[N.is_master],P=S[N.is_private],M=S[N.key_data],O=S[N.chain_code],F=S[N.use_info]?D.CryptoCoinInfo.fromDataItem(S[N.use_info]):void 0,L=S[N.origin]?R.CryptoKeypath.fromDataItem(S[N.origin]):void 0,U=S[N.children]?R.CryptoKeypath.fromDataItem(S[N.children]):void 0,V=S[N.parent_fingerprint];let G;V&&(G=E.alloc(4),G.writeUInt32BE(V,0));const W=S[N.name],$=S[N.note];return new CryptoHDKey({isMaster:_,isPrivateKey:P,key:M,chainCode:O,useInfo:F,origin:L,children:U,parentFingerprint:G,name:W,note:$})},CryptoHDKey.fromCBOR=v=>{const S=(0,M.decodeToDataItem)(v);return CryptoHDKey.fromDataItem(S)}},772702:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoKeypath=void 0;const P=_(169985),D=_(598115),R=_(784541),M=_(124218);var O;!function(v){v[v.components=1]="components",v[v.source_fingerprint=2]="source_fingerprint",v[v.depth=3]="depth"}(O||(O={}));class CryptoKeypath extends R.RegistryItem{constructor(v=[],S,_){super(),this.components=v,this.sourceFingerprint=S,this.depth=_,this.getRegistryType=()=>M.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return;return this.components.map((v=>`${v.isWildcard()?"*":v.getIndex()}${v.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const v={},S=[];return this.components&&this.components.forEach((v=>{v.isWildcard()?S.push([]):S.push(v.getIndex()),S.push(v.isHardened())})),v[O.components]=S,this.sourceFingerprint&&(v[O.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),void 0!==this.depth&&(v[O.depth]=this.depth),new P.DataItem(v)}}}S.CryptoKeypath=CryptoKeypath,CryptoKeypath.fromDataItem=v=>{const S=v.getData(),_=[],P=S[O.components];if(P)for(let v=0;v<P.length;v+=2){const S=P[v+1],E=P[v];"number"==typeof E?_.push(new D.PathComponent({index:E,hardened:S})):_.push(new D.PathComponent({hardened:S}))}const R=S[O.source_fingerprint];let M;R&&(M=E.alloc(4),M.writeUInt32BE(R,0));const F=S[O.depth];return new CryptoKeypath(_,M,F)},CryptoKeypath.fromCBOR=v=>{const S=(0,P.decodeToDataItem)(v);return CryptoKeypath.fromDataItem(S)}},215045:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoOutput=void 0;const E=_(862905),P=_(947453),D=_(169985),R=_(18765),M=_(784541),O=_(124218),F=_(143820);class CryptoOutput extends M.RegistryItem{constructor(v,S){super(),this.scriptExpressions=v,this.cryptoKey=S,this.getRegistryType=()=>O.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof P.CryptoHDKey?this.cryptoKey:void 0,this.getECKey=()=>this.cryptoKey instanceof E.CryptoECKey?this.cryptoKey:void 0,this.getMultiKey=()=>this.cryptoKey instanceof R.MultiKey?this.cryptoKey:void 0,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=v=>v>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[v].getExpression()}(${this._toOutputDescriptor(v+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let v=this.cryptoKey.toDataItem();(this.cryptoKey instanceof E.CryptoECKey||this.cryptoKey instanceof P.CryptoHDKey)&&v.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((S=>{const _=S.getTag();void 0===v.getTag()?v.setTag(_):v=new D.DataItem(v,_)})),v}}}S.CryptoOutput=CryptoOutput,CryptoOutput.fromDataItem=v=>{const S=[];let _=v;for(;;){let v=_.getTag();const E=F.ScriptExpression.fromTag(v);if(!E)break;if(S.push(E),!(_.getData()instanceof D.DataItem))break;_=_.getData(),v=_.getTag()}const M=S.length;if(M>0&&(S[M-1].getExpression()===F.ScriptExpressions.MULTISIG.getExpression()||S[M-1].getExpression()===F.ScriptExpressions.SORTED_MULTISIG.getExpression())){const v=R.MultiKey.fromDataItem(_);return new CryptoOutput(S,v)}if(_.getTag()===O.RegistryTypes.CRYPTO_HDKEY.getTag()){const v=P.CryptoHDKey.fromDataItem(_);return new CryptoOutput(S,v)}{const v=E.CryptoECKey.fromDataItem(_);return new CryptoOutput(S,v)}},CryptoOutput.fromCBOR=v=>{const S=(0,D.decodeToDataItem)(v);return CryptoOutput.fromDataItem(S)}},309787:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoPSBT=void 0;const E=_(169985),P=_(784541),D=_(124218);class CryptoPSBT extends P.RegistryItem{constructor(v){super(),this.psbt=v,this.getRegistryType=()=>D.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new E.DataItem(this.psbt)}}S.CryptoPSBT=CryptoPSBT,CryptoPSBT.fromDataItem=v=>{const S=v.getData();if(!S)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${v}`);return new CryptoPSBT(S)},CryptoPSBT.fromCBOR=v=>{const S=(0,E.decodeToDataItem)(v);return CryptoPSBT.fromDataItem(S)}},118214:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URRegistryDecoder=void 0;const E=_(653980),P=_(418201),D=_(124218),R=_(296685);class URRegistryDecoder extends E.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const v=this.resultUR();switch(v.type){case D.RegistryTypes.BYTES.getType():return P.Bytes.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_HDKEY.getType():return P.CryptoHDKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_KEYPATH.getType():return P.CryptoKeypath.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_COIN_INFO.getType():return P.CryptoCoinInfo.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ECKEY.getType():return P.CryptoECKey.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_OUTPUT.getType():return P.CryptoOutput.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_PSBT.getType():return P.CryptoPSBT.fromCBOR(v.cbor);case D.RegistryTypes.CRYPTO_ACCOUNT.getType():return P.CryptoAccount.fromCBOR(v.cbor);default:throw new R.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${v.type} is not supported now`)}}}}S.URRegistryDecoder=URRegistryDecoder},18765:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MultiKey=void 0;const E=_(862905),P=_(947453),D=_(960730),R=_(784541),M=_(124218);var O;!function(v){v[v.threshold=1]="threshold",v[v.keys=2]="keys"}(O||(O={}));class MultiKey extends R.RegistryItem{constructor(v,S){super(),this.threshold=v,this.keys=S,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const v={};v[O.threshold]=this.threshold;const S=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}));return v[O.keys]=S,new D.DataItem(v)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((v=>v.getOutputDescriptorContent())).join(",")].join(",")}}S.MultiKey=MultiKey,MultiKey.fromDataItem=v=>{const S=v.getData(),_=S[O.threshold],D=S[O.keys],R=[];return D.forEach((v=>{v.getTag()===M.RegistryTypes.CRYPTO_HDKEY.getTag()?R.push(P.CryptoHDKey.fromDataItem(v)):v.getTag()===M.RegistryTypes.CRYPTO_ECKEY.getTag()&&R.push(E.CryptoECKey.fromDataItem(v))})),new MultiKey(_,R)}},598115:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PathComponent=void 0;class PathComponent{constructor(v){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=v.index,this.hardened=v.hardened,void 0!==this.index?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&PathComponent.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}S.PathComponent=PathComponent,PathComponent.HARDENED_BIT=2147483648},784541:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryItem=void 0;const E=_(653980),P=_(169985);S.RegistryItem=class RegistryItem{constructor(){this.toCBOR=()=>{if(void 0===this.toDataItem())throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,P.encodeDataItem)(this.toDataItem())},this.toUR=()=>new E.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(v,S,_)=>{const P=this.toUR();return new E.UREncoder(P,v,S,_)}}}},124218:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RegistryTypes=S.RegistryType=void 0;class RegistryType{constructor(v,S){this.type=v,this.tag=S,this.getTag=()=>this.tag,this.getType=()=>this.type}}S.RegistryType=RegistryType,S.RegistryTypes={UUID:new RegistryType("uuid",37),BYTES:new RegistryType("bytes",void 0),CRYPTO_HDKEY:new RegistryType("crypto-hdkey",303),CRYPTO_KEYPATH:new RegistryType("crypto-keypath",304),CRYPTO_COIN_INFO:new RegistryType("crypto-coin-info",305),CRYPTO_ECKEY:new RegistryType("crypto-eckey",306),CRYPTO_OUTPUT:new RegistryType("crypto-output",308),CRYPTO_PSBT:new RegistryType("crypto-psbt",310),CRYPTO_ACCOUNT:new RegistryType("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new RegistryType("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new RegistryType("qr-hardware-call",1201),KEY_DERIVATION_CALL:new RegistryType("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new RegistryType("key-derivation-schema",1302)}},143820:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ScriptExpressions=S.ScriptExpression=void 0;class ScriptExpression{constructor(v,S){this.tag=v,this.expression=S,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}S.ScriptExpression=ScriptExpression,ScriptExpression.fromTag=v=>Object.values(S.ScriptExpressions).find((S=>S.getTag()===v)),S.ScriptExpressions={SCRIPT_HASH:new ScriptExpression(400,"sh"),WITNESS_SCRIPT_HASH:new ScriptExpression(401,"wsh"),PUBLIC_KEY:new ScriptExpression(402,"pk"),PUBLIC_KEY_HASH:new ScriptExpression(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ScriptExpression(404,"wpkh"),COMBO:new ScriptExpression(405,"combo"),MULTISIG:new ScriptExpression(406,"multi"),SORTED_MULTISIG:new ScriptExpression(407,"sortedmulti"),ADDRESS:new ScriptExpression(307,"addr"),RAW_SCRIPT:new ScriptExpression(408,"raw")}},296685:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UnknownURTypeError=void 0;class UnknownURTypeError extends Error{constructor(v){super(v)}}S.UnknownURTypeError=UnknownURTypeError},716993:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.CryptoMultiAccounts=void 0;const P=_(124218),D=_(947453),R=_(784541),M=_(169985);var O;!function(v){v[v.masterFingerprint=1]="masterFingerprint",v[v.keys=2]="keys",v[v.device=3]="device",v[v.deviceId=4]="deviceId",v[v.version=5]="version"}(O||(O={}));class CryptoMultiAccounts extends R.RegistryItem{constructor(v,S,_,E,D){super(),this.masterFingerprint=v,this.keys=S,this.device=_,this.deviceId=E,this.version=D,this.getRegistryType=()=>P.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const v={};return this.masterFingerprint&&(v[O.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(v[O.keys]=this.keys.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S}))),this.device&&(v[O.device]=this.device),this.deviceId&&(v[O.deviceId]=this.deviceId),this.version&&(v[O.version]=this.version),new M.DataItem(v)}}}S.CryptoMultiAccounts=CryptoMultiAccounts,CryptoMultiAccounts.fromDataItem=v=>{const S=v.getData(),_=E.alloc(4),P=S[O.masterFingerprint];P&&_.writeUInt32BE(P,0);const R=S[O.keys].map((v=>D.CryptoHDKey.fromDataItem(v))),M=S[O.device],F=S[O.deviceId],N=S[O.version];return new CryptoMultiAccounts(_,R,M,F,N)},CryptoMultiAccounts.fromCBOR=v=>{const S=(0,M.decodeToDataItem)(v);return CryptoMultiAccounts.fromDataItem(S)}},279641:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyDerivationSchema=S.DerivationAlgorithm=S.Curve=void 0;const E=_(124218),P=_(784541),D=_(169985),R=_(772702);var M,O,F;!function(v){v[v.keyPath=1]="keyPath",v[v.curve=2]="curve",v[v.algo=3]="algo"}(M||(M={})),function(v){v[v.secp256k1=0]="secp256k1",v[v.ed25519=1]="ed25519"}(O=S.Curve||(S.Curve={})),function(v){v[v.slip10=0]="slip10",v[v.bip32ed25519=1]="bip32ed25519"}(F=S.DerivationAlgorithm||(S.DerivationAlgorithm={}));class KeyDerivationSchema extends P.RegistryItem{constructor(v,S=O.secp256k1,_=F.slip10){super(),this.keypath=v,this.curve=S,this.algo=_,this.getRegistryType=()=>E.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{const v={},S=this.getKeypath().toDataItem();return S.setTag(this.getKeypath().getRegistryType().getTag()),v[M.keyPath]=S,v[M.curve]=this.curve,v[M.algo]=this.algo,new D.DataItem(v)}}}S.KeyDerivationSchema=KeyDerivationSchema,KeyDerivationSchema.fromDataItem=v=>{const S=v.getData(),_=R.CryptoKeypath.fromDataItem(S[M.keyPath]),E=S[M.curve],P=S[M.algo];return new KeyDerivationSchema(_,E,P)},KeyDerivationSchema.fromCBOR=v=>{const S=(0,D.decodeToDataItem)(v);return KeyDerivationSchema.fromDataItem(S)}},666785:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyDerivation=void 0;const E=_(124218),P=_(784541),D=_(169985),R=_(279641);var M;!function(v){v[v.schemas=1]="schemas"}(M||(M={}));class KeyDerivation extends P.RegistryItem{constructor(v){super(),this.schemas=v,this.getRegistryType=()=>E.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const v={};return v[M.schemas]=this.schemas.map((v=>{const S=v.toDataItem();return S.setTag(v.getRegistryType().getTag()),S})),new D.DataItem(v)}}}S.KeyDerivation=KeyDerivation,KeyDerivation.fromDataItem=v=>{const S=v.getData()[M.schemas].map((v=>R.KeyDerivationSchema.fromDataItem(v)));return new KeyDerivation(S)},KeyDerivation.fromCBOR=v=>{const S=(0,D.decodeToDataItem)(v);return KeyDerivation.fromDataItem(S)}},450072:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.QRHardwareCall=S.QRHardwareCallType=void 0;const E=_(124218),P=_(784541),D=_(169985),R=_(666785);var M,O;!function(v){v[v.type=1]="type",v[v.params=2]="params",v[v.origin=3]="origin"}(M||(M={})),function(v){v[v.KeyDerivation=0]="KeyDerivation"}(O=S.QRHardwareCallType||(S.QRHardwareCallType={}));class QRHardwareCall extends P.RegistryItem{constructor(v,S,_){super(),this.type=v,this.params=S,this.origin=_,this.getRegistryType=()=>E.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const v={};v[M.type]=this.type;const S=this.params.toDataItem();return S.setTag(this.params.getRegistryType().getTag()),v[M.params]=S,this.origin&&(v[M.origin]=this.origin),new D.DataItem(v)}}}S.QRHardwareCall=QRHardwareCall,QRHardwareCall.fromDataItem=v=>{const S=v.getData(),_=S[M.type]||O.KeyDerivation;let E;if(_===O.KeyDerivation)E=R.KeyDerivation.fromDataItem(S[M.params]);const P=S[M.origin];return new QRHardwareCall(_,E,P)},QRHardwareCall.fromCBOR=v=>{const S=(0,D.decodeToDataItem)(v);return QRHardwareCall.fromDataItem(S)}},418201:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Buffer=S.extend=S.PathComponent=S.ScriptExpressions=S.MultiKey=S.CryptoPSBT=S.CryptoOutput=S.CryptoECKey=S.CryptoCoinInfoNetwork=S.CryptoCoinInfoType=S.CryptoCoinInfo=S.CryptoKeypath=S.CryptoMultiAccounts=S.CryptoHDKey=S.CryptoAccount=S.Bytes=S.URRegistryDecoder=S.DataItem=void 0;const E=_(434117);_(108895);const P=_(901048);Object.defineProperty(S,"Buffer",{enumerable:!0,get:function(){return P.Buffer}});const D=_(947453);Object.defineProperty(S,"CryptoHDKey",{enumerable:!0,get:function(){return D.CryptoHDKey}});const R=_(772702);Object.defineProperty(S,"CryptoKeypath",{enumerable:!0,get:function(){return R.CryptoKeypath}});const M=_(297965);Object.defineProperty(S,"CryptoCoinInfo",{enumerable:!0,get:function(){return M.CryptoCoinInfo}}),Object.defineProperty(S,"CryptoCoinInfoType",{enumerable:!0,get:function(){return M.Type}}),Object.defineProperty(S,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return M.Network}});const O=_(862905);Object.defineProperty(S,"CryptoECKey",{enumerable:!0,get:function(){return O.CryptoECKey}});const F=_(732986);Object.defineProperty(S,"Bytes",{enumerable:!0,get:function(){return F.Bytes}});const N=_(215045);Object.defineProperty(S,"CryptoOutput",{enumerable:!0,get:function(){return N.CryptoOutput}});const L=_(309787);Object.defineProperty(S,"CryptoPSBT",{enumerable:!0,get:function(){return L.CryptoPSBT}});const U=_(858701);Object.defineProperty(S,"CryptoAccount",{enumerable:!0,get:function(){return U.CryptoAccount}});const V=_(118214);Object.defineProperty(S,"URRegistryDecoder",{enumerable:!0,get:function(){return V.URRegistryDecoder}});const G=_(18765);Object.defineProperty(S,"MultiKey",{enumerable:!0,get:function(){return G.MultiKey}});const W=_(143820);Object.defineProperty(S,"ScriptExpressions",{enumerable:!0,get:function(){return W.ScriptExpressions}});const $=_(598115);Object.defineProperty(S,"PathComponent",{enumerable:!0,get:function(){return $.PathComponent}});const X=_(784541),Y=_(124218),J=_(169985);var Z=_(169985);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return Z.DataItem}});const Q=_(964468),tt=_(716993);Object.defineProperty(S,"CryptoMultiAccounts",{enumerable:!0,get:function(){return tt.CryptoMultiAccounts}});const et={URRegistryDecoder:V.URRegistryDecoder,Bytes:F.Bytes,CryptoAccount:U.CryptoAccount,CryptoHDKey:D.CryptoHDKey,CryptoMultiAccounts:tt.CryptoMultiAccounts,CryptoKeypath:R.CryptoKeypath,CryptoCoinInfo:M.CryptoCoinInfo,CryptoCoinInfoType:M.Type,CryptoCoinInfoNetwork:M.Network,CryptoECKey:O.CryptoECKey,CryptoOutput:N.CryptoOutput,CryptoPSBT:L.CryptoPSBT,MultiKey:G.MultiKey,ScriptExpressions:W.ScriptExpressions,PathComponent:$.PathComponent},rt={addReader:J.addReader,addSemanticDecode:J.addSemanticDecode,addSemanticEncode:J.addSemanticEncode,addWriter:J.addWriter,patchTags:Q.patchTags},nt={RegistryTypes:Y.RegistryTypes,RegistryItem:X.RegistryItem,RegistryType:Y.RegistryType,decodeToDataItem:J.decodeToDataItem,encodeDataItem:J.encodeDataItem,cbor:rt};S.extend=nt,(0,E.__exportStar)(_(296685),S),(0,E.__exportStar)(_(118214),S),(0,E.__exportStar)(_(169985),S),(0,E.__exportStar)(_(858701),S),(0,E.__exportStar)(_(309787),S),(0,E.__exportStar)(_(947453),S),(0,E.__exportStar)(_(716993),S),(0,E.__exportStar)(_(450072),S),(0,E.__exportStar)(_(666785),S),(0,E.__exportStar)(_(279641),S),(0,E.__exportStar)(_(215045),S),(0,E.__exportStar)(_(297965),S),(0,E.__exportStar)(_(862905),S),(0,E.__exportStar)(_(18765),S),(0,E.__exportStar)(_(772702),S),(0,E.__exportStar)(_(108895),S),(0,E.__exportStar)(_(598115),S),(0,E.__exportStar)(_(784541),S),(0,E.__exportStar)(_(124218),S),(0,E.__exportStar)(_(337544),S),(0,E.__exportStar)(_(964468),S),S.default=et},960730:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=void 0;S.DataItem=class DataItem{constructor(v,S){this.setTag=v=>{this.tag=v},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=v,this.tag=S}}},891253:function(v,S,_){"use strict";var E,P,D,R=_(901048).Buffer;P=[],void 0===(D="function"==typeof(E=function(){const{DataItem:v}=_(960730);var S=function(){function BinaryHex(v){this.$hex=v}BinaryHex.prototype={length:function(){return this.$hex.length/2},toString:function(v){if(!v||"hex"===v||16===v)return this.$hex;if("utf-8"===v){for(var S="",_=0;_<this.$hex.length;_+=2)S+="%"+this.$hex.substring(_,_+2);return decodeURIComponent(S)}if("latin"===v){for(S=[],_=0;_<this.$hex.length;_+=2)S.push(parseInt(this.$hex.substring(_,_+2),16));return String.fromCharCode.apply(String,S)}throw new Error("Unrecognised format: "+v)}},BinaryHex.fromLatinString=function(v){for(var S="",_=0;_<v.length;_++){var E=v.charCodeAt(_).toString(16);1===E.length&&(E="0"+E),S+=E}return new BinaryHex(S)},BinaryHex.fromUtf8String=function(v){for(var S=encodeURIComponent(v),_="",E=0;E<S.length;E++)if("%"===S.charAt(E))_+=S.substring(E+1,E+3),E+=2;else{var P=S.charCodeAt(E).toString(16);P.length<2&&(P="0"+P),_+=P}return new BinaryHex(_)};var S=[],_={},notImplemented=function(v){return function(){throw new Error(v+" not implemented")}};function Reader(){}function Writer(){}function readHeaderRaw(v){var S=v.readByte();return{type:S>>5,value:31&S}}function valueFromHeader(v,S){var _=v.value;return _<24?_:24==_?S.readByte():25==_?S.readUint16():26==_?S.readUint32():27==_?S.readUint64():31==_?null:void notImplemented("Additional info: "+_)()}function writeHeaderRaw(v,S,_){_.writeByte(v<<5|S)}function writeHeader(v,S,_){var E=v<<5;S<24?_.writeByte(E|S):S<256?(_.writeByte(24|E),_.writeByte(S)):S<65536?(_.writeByte(25|E),_.writeUint16(S)):S<4294967296?(_.writeByte(26|E),_.writeUint32(S)):(_.writeByte(27|E),_.writeUint64(S))}Reader.prototype={peekByte:notImplemented("peekByte"),readByte:notImplemented("readByte"),readChunk:notImplemented("readChunk"),readFloat16:function(){var v=this.readUint16(),S=(32767&v)>>10,_=1023&v,E=32768&v;if(31===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-25)*(1024+_):Math.pow(2,-24)*_;return E?-P:P},readFloat32:function(){var v=this.readUint32(),S=(2147483647&v)>>23,_=8388607&v,E=2147483648&v;if(255===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-23-127)*(8388608+_):Math.pow(2,-149)*_;return E?-P:P},readFloat64:function(){var v=this.readUint32(),S=v>>20&2047,_=4294967296*(1048575&v)+this.readUint32(),E=2147483648&v;if(2047===S)return 0===_?E?-1/0:1/0:NaN;var P=S?Math.pow(2,S-52-1023)*(4503599627370496+_):Math.pow(2,-1074)*_;return E?-P:P},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},Writer.prototype={writeByte:notImplemented("writeByte"),result:notImplemented("result"),writeFloat16:notImplemented("writeFloat16"),writeFloat32:notImplemented("writeFloat32"),writeFloat64:notImplemented("writeFloat64"),writeUint16:function(v){this.writeByte(v>>8&255),this.writeByte(255&v)},writeUint32:function(v){this.writeUint16(v>>16&65535),this.writeUint16(65535&v)},writeUint64:function(v){if(v>=9007199254740992||v<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+v+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(v/4294967296)),this.writeUint32(v%4294967296)},writeString:notImplemented("writeString"),canWriteBinary:function(v){return!1},writeBinary:notImplemented("writeChunk")};var E=new Error;function decodeReader(v){var S=readHeaderRaw(v);switch(S.type){case 0:return valueFromHeader(S,v);case 1:return-1-valueFromHeader(S,v);case 2:return v.readChunk(valueFromHeader(S,v));case 3:return v.readChunk(valueFromHeader(S,v)).toString("utf-8");case 4:case 5:var P=valueFromHeader(S,v),D=[];if(null!==P){5===S.type&&(P*=2);for(var R=0;R<P;R++)D[R]=decodeReader(v)}else for(var M;(M=decodeReader(v))!==E;)D.push(M);if(5===S.type){var O={};for(R=0;R<D.length;R+=2)O[D[R]]=D[R+1];return O}return D;case 6:var F=valueFromHeader(S,v),N=_[F];return D=decodeReader(v),N?N(D):D;case 7:if(25===S.value)return v.readFloat16();if(26===S.value)return v.readFloat32();if(27===S.value)return v.readFloat64();switch(valueFromHeader(S,v)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return E;default:throw new Error("Unknown fixed value: "+S.value)}default:throw new Error("Unsupported header: "+JSON.stringify(S))}throw new Error("not implemented yet")}function encodeWriter(v,_){for(var E=0;E<S.length;E++){var P=S[E].fn(v);if(void 0!==P)return writeHeader(6,S[E].tag,_),encodeWriter(P,_)}if(v&&"function"==typeof v.toCBOR&&(v=v.toCBOR()),!1===v)writeHeader(7,20,_);else if(!0===v)writeHeader(7,21,_);else if(null===v)writeHeader(7,22,_);else if(void 0===v)writeHeader(7,23,_);else if("number"==typeof v)Math.floor(v)===v&&v<9007199254740992&&v>-9007199254740992?v<0?writeHeader(1,-1-v,_):writeHeader(0,v,_):(writeHeaderRaw(7,27,_),_.writeFloat64(v));else if("string"==typeof v)_.writeString(v,(function(v){writeHeader(3,v,_)}));else if(_.canWriteBinary(v))_.writeBinary(v,(function(v){writeHeader(2,v,_)}));else{if("object"!=typeof v)throw new Error("CBOR encoding not supported: "+v);if(M.config.useToJSON&&"function"==typeof v.toJSON&&(v=v.toJSON()),Array.isArray(v))for(writeHeader(4,v.length,_),E=0;E<v.length;E++)encodeWriter(v[E],_);else{var D=Object.keys(v);for(writeHeader(5,D.length,_),E=0;E<D.length;E++){const S=parseInt(D[E]);isNaN(S)?(encodeWriter(D[E],_),encodeWriter(v[D[E]],_)):(encodeWriter(S,_),encodeWriter(v[D[E]],_))}}}}var P=[],D=[],M={config:{useToJSON:!0},addWriter:function(v,S){"string"==typeof v?D.push((function(_){if(v===_)return S(_)})):D.push(v)},addReader:function(v,S){"string"==typeof v?P.push((function(_,E){if(v===E)return S(_,E)})):P.push(v)},encode:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return encodeWriter(v,E),E.result()}throw new Error("Unsupported output format: "+S)},encodeDataItem:function(v,S){for(var _=0;_<D.length;_++){var E=(0,D[_])(S);if(E)return void 0!==v.getTag()?(encodeWriter(v,E),E.result()):(encodeWriter(v.getData(),E),E.result())}throw new Error("Unsupported output format: "+S)},decode:function(v,S){for(var _=0;_<P.length;_++){var E=(0,P[_])(v,S);if(E)return decodeReader(E)}throw new Error("Unsupported input format: "+S)},decodeToDataItem:function(S,_){for(var E=0;E<P.length;E++){var D=(0,P[E])(S,_);if(D){const S=decodeReader(D);return S instanceof v?S:new v(S)}}throw new Error("Unsupported input format: "+_)},addSemanticEncode:function(v,_){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return S.push({tag:v,fn:_}),this},addSemanticDecode:function(v,S){if("number"!=typeof v||v%1!=0||v<0)throw new Error("Tag must be a positive integer");return _[v]=S,this}};function BufferReader(v){this.buffer=v,this.pos=0}function BufferWriter(v){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=v}function HexReader(v){this.hex=v,this.pos=0}function HexWriter(v){this.$hex="",this.finalFormat=v||"hex"}return BufferReader.prototype=Object.create(Reader.prototype),BufferReader.prototype.peekByte=function(){return this.buffer[this.pos]},BufferReader.prototype.readByte=function(){return this.buffer[this.pos++]},BufferReader.prototype.readUint16=function(){var v=this.buffer.readUInt16BE(this.pos);return this.pos+=2,v},BufferReader.prototype.readUint32=function(){var v=this.buffer.readUInt32BE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat32=function(){var v=this.buffer.readFloatBE(this.pos);return this.pos+=4,v},BufferReader.prototype.readFloat64=function(){var v=this.buffer.readDoubleBE(this.pos);return this.pos+=8,v},BufferReader.prototype.readChunk=function(v){var S=R.alloc(v);return this.buffer.copy(S,0,this.pos,this.pos+=v),S},BufferWriter.prototype=Object.create(Writer.prototype),BufferWriter.prototype.writeByte=function(v){this.latestBuffer[this.latestBufferOffset++]=v,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},BufferWriter.prototype.writeFloat32=function(v){var S=R.alloc(4);S.writeFloatBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeFloat64=function(v){var S=R.alloc(8);S.writeDoubleBE(v,0),this.writeBuffer(S)},BufferWriter.prototype.writeString=function(v,S){var _=R.from(v,"utf-8");S(_.length),this.writeBuffer(_)},BufferWriter.prototype.canWriteBinary=function(v){return v instanceof R},BufferWriter.prototype.writeBinary=function(v,S){S(v.length),this.writeBuffer(v)},BufferWriter.prototype.writeBuffer=function(v){if(!(v instanceof R))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=v.length?(v.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=v.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(v),this.latestBuffer=R.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(v),this.byteLength+=v.length},BufferWriter.prototype.result=function(){for(var v=R.alloc(this.byteLength),S=0,_=0;_<this.completeBuffers.length;_++){var E=this.completeBuffers[_];E.copy(v,S,0,E.length),S+=E.length}return this.latestBufferOffset&&this.latestBuffer.copy(v,S,0,this.latestBufferOffset),this.stringFormat?v.toString(this.stringFormat):v},"function"==typeof R&&(M.addReader((function(v,S){return R.isBuffer(v)?new BufferReader(v):"hex"===S||"base64"===S?new BufferReader(R.from(v,S)):void 0})),M.addWriter((function(v){return v&&"buffer"!==v?"hex"===v||"base64"===v?new BufferWriter(v):void 0:new BufferWriter}))),HexReader.prototype=Object.create(Reader.prototype),HexReader.prototype.peekByte=function(){var v=this.hex.substring(this.pos,2);return parseInt(v,16)},HexReader.prototype.readByte=function(){var v=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(v,16)},HexReader.prototype.readChunk=function(v){var S=this.hex.substring(this.pos,this.pos+2*v);return this.pos+=2*v,"function"==typeof R?R.from(S,"hex"):new BinaryHex(S)},HexWriter.prototype=Object.create(Writer.prototype),HexWriter.prototype.writeByte=function(v){if(v<0||v>255)throw new Error("Byte value out of range: "+v);var S=v.toString(16);1==S.length&&(S="0"+S),this.$hex+=S},HexWriter.prototype.canWriteBinary=function(v){return v instanceof BinaryHex||"function"==typeof R&&v instanceof R},HexWriter.prototype.writeBinary=function(v,S){if(v instanceof BinaryHex)S(v.length()),this.$hex+=v.$hex;else{if(!("function"==typeof R&&v instanceof R))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");S(v.length),this.$hex+=v.toString("hex")}},HexWriter.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof R?R.from(this.$hex,"hex"):new BinaryHex(this.$hex).toString(this.finalFormat)},HexWriter.prototype.writeString=function(v,S){var _=BinaryHex.fromUtf8String(v);S(_.length()),this.$hex+=_.$hex},M.addReader((function(v,S){return v instanceof BinaryHex||v.$hex?new HexReader(v.$hex):"hex"===S?new HexReader(v):void 0})),M.addWriter((function(v){if("hex"===v)return new HexWriter})),M}();return S.addSemanticEncode(0,(function(v){if(v instanceof Date)return v.toISOString()})).addSemanticDecode(0,(function(v){return new Date(v)})).addSemanticDecode(1,(function(v){return new Date(v)})),S})?E.apply(S,P):E)||(v.exports=D)},169985:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DataItem=S.addWriter=S.addReader=S.addSemanticEncode=S.addSemanticDecode=S.decodeToDataItem=S.encodeDataItem=void 0;var E=_(891253);Object.defineProperty(S,"encodeDataItem",{enumerable:!0,get:function(){return E.encodeDataItem}}),Object.defineProperty(S,"decodeToDataItem",{enumerable:!0,get:function(){return E.decodeToDataItem}}),Object.defineProperty(S,"addSemanticDecode",{enumerable:!0,get:function(){return E.addSemanticDecode}}),Object.defineProperty(S,"addSemanticEncode",{enumerable:!0,get:function(){return E.addSemanticEncode}}),Object.defineProperty(S,"addReader",{enumerable:!0,get:function(){return E.addReader}}),Object.defineProperty(S,"addWriter",{enumerable:!0,get:function(){return E.addWriter}});var P=_(960730);Object.defineProperty(S,"DataItem",{enumerable:!0,get:function(){return P.DataItem}})},108895:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});const E=_(964468),P=_(124218),D=_(143820),R=Object.values(P.RegistryTypes).filter((v=>!!v.getTag())).map((v=>v.getTag())),M=Object.values(D.ScriptExpressions).map((v=>v.getTag()));(0,E.patchTags)(R.concat(M))},337544:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0})},964468:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.patchTags=void 0;const E=_(169985),P=[];S.patchTags=v=>{v.forEach((v=>{P.find((S=>S===v))||((0,E.addSemanticEncode)(v,(S=>{if(S instanceof E.DataItem&&S.getTag()===v)return S.getData()})),(0,E.addSemanticDecode)(v,(S=>new E.DataItem(S,v))),P.push(v))}))}},163129:(v,S,_)=>{"use strict";var E=_(939216),P=_(825636).Buffer;v.exports=function(v){function decodeRaw(S){var _=S.slice(0,-4),E=S.slice(-4),P=v(_);if(!(E[0]^P[0]|E[1]^P[1]|E[2]^P[2]|E[3]^P[3]))return _}return{encode:function encode(S){var _=v(S);return E.encode(P.concat([S,_],S.length+4))},decode:function decode(v){var S=decodeRaw(E.decode(v));if(!S)throw new Error("Invalid checksum");return S},decodeUnsafe:function decodeUnsafe(v){var S=E.decodeUnsafe(v);if(S)return decodeRaw(S)}}}},709498:(v,S,_)=>{"use strict";var E=_(213257),P=_(163129);v.exports=P((function sha256x2(v){var S=E("sha256").update(v).digest();return E("sha256").update(S).digest()}))},722333:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"NIL",{enumerable:!0,get:function get(){return M.default}}),Object.defineProperty(S,"parse",{enumerable:!0,get:function get(){return L.default}}),Object.defineProperty(S,"stringify",{enumerable:!0,get:function get(){return N.default}}),Object.defineProperty(S,"v1",{enumerable:!0,get:function get(){return E.default}}),Object.defineProperty(S,"v3",{enumerable:!0,get:function get(){return P.default}}),Object.defineProperty(S,"v4",{enumerable:!0,get:function get(){return D.default}}),Object.defineProperty(S,"v5",{enumerable:!0,get:function get(){return R.default}}),Object.defineProperty(S,"validate",{enumerable:!0,get:function get(){return F.default}}),Object.defineProperty(S,"version",{enumerable:!0,get:function get(){return O.default}});var E=_interopRequireDefault(_(500752)),P=_interopRequireDefault(_(221178)),D=_interopRequireDefault(_(417923)),R=_interopRequireDefault(_(719932)),M=_interopRequireDefault(_(828310)),O=_interopRequireDefault(_(915573)),F=_interopRequireDefault(_(830015)),N=_interopRequireDefault(_(747036)),L=_interopRequireDefault(_(860546));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}},299817:(v,S)=>{"use strict";function getOutputLength(v){return 14+(v+64>>>9<<4)+1}function safeAdd(v,S){const _=(65535&v)+(65535&S);return(v>>16)+(S>>16)+(_>>16)<<16|65535&_}function md5cmn(v,S,_,E,P,D){return safeAdd(function bitRotateLeft(v,S){return v<<S|v>>>32-S}(safeAdd(safeAdd(S,v),safeAdd(E,D)),P),_)}function md5ff(v,S,_,E,P,D,R){return md5cmn(S&_|~S&E,v,S,P,D,R)}function md5gg(v,S,_,E,P,D,R){return md5cmn(S&E|_&~E,v,S,P,D,R)}function md5hh(v,S,_,E,P,D,R){return md5cmn(S^_^E,v,S,P,D,R)}function md5ii(v,S,_,E,P,D,R){return md5cmn(_^(S|~E),v,S,P,D,R)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=function md5(v){if("string"==typeof v){const S=unescape(encodeURIComponent(v));v=new Uint8Array(S.length);for(let _=0;_<S.length;++_)v[_]=S.charCodeAt(_)}return function md5ToHexEncodedArray(v){const S=[],_=32*v.length,E="0123456789abcdef";for(let P=0;P<_;P+=8){const _=v[P>>5]>>>P%32&255,D=parseInt(E.charAt(_>>>4&15)+E.charAt(15&_),16);S.push(D)}return S}(function wordsToMd5(v,S){v[S>>5]|=128<<S%32,v[getOutputLength(S)-1]=S;let _=1732584193,E=-271733879,P=-1732584194,D=271733878;for(let S=0;S<v.length;S+=16){const R=_,M=E,O=P,F=D;_=md5ff(_,E,P,D,v[S],7,-680876936),D=md5ff(D,_,E,P,v[S+1],12,-389564586),P=md5ff(P,D,_,E,v[S+2],17,606105819),E=md5ff(E,P,D,_,v[S+3],22,-1044525330),_=md5ff(_,E,P,D,v[S+4],7,-176418897),D=md5ff(D,_,E,P,v[S+5],12,1200080426),P=md5ff(P,D,_,E,v[S+6],17,-1473231341),E=md5ff(E,P,D,_,v[S+7],22,-45705983),_=md5ff(_,E,P,D,v[S+8],7,1770035416),D=md5ff(D,_,E,P,v[S+9],12,-1958414417),P=md5ff(P,D,_,E,v[S+10],17,-42063),E=md5ff(E,P,D,_,v[S+11],22,-1990404162),_=md5ff(_,E,P,D,v[S+12],7,1804603682),D=md5ff(D,_,E,P,v[S+13],12,-40341101),P=md5ff(P,D,_,E,v[S+14],17,-1502002290),E=md5ff(E,P,D,_,v[S+15],22,1236535329),_=md5gg(_,E,P,D,v[S+1],5,-165796510),D=md5gg(D,_,E,P,v[S+6],9,-1069501632),P=md5gg(P,D,_,E,v[S+11],14,643717713),E=md5gg(E,P,D,_,v[S],20,-373897302),_=md5gg(_,E,P,D,v[S+5],5,-701558691),D=md5gg(D,_,E,P,v[S+10],9,38016083),P=md5gg(P,D,_,E,v[S+15],14,-660478335),E=md5gg(E,P,D,_,v[S+4],20,-405537848),_=md5gg(_,E,P,D,v[S+9],5,568446438),D=md5gg(D,_,E,P,v[S+14],9,-1019803690),P=md5gg(P,D,_,E,v[S+3],14,-187363961),E=md5gg(E,P,D,_,v[S+8],20,1163531501),_=md5gg(_,E,P,D,v[S+13],5,-1444681467),D=md5gg(D,_,E,P,v[S+2],9,-51403784),P=md5gg(P,D,_,E,v[S+7],14,1735328473),E=md5gg(E,P,D,_,v[S+12],20,-1926607734),_=md5hh(_,E,P,D,v[S+5],4,-378558),D=md5hh(D,_,E,P,v[S+8],11,-2022574463),P=md5hh(P,D,_,E,v[S+11],16,1839030562),E=md5hh(E,P,D,_,v[S+14],23,-35309556),_=md5hh(_,E,P,D,v[S+1],4,-1530992060),D=md5hh(D,_,E,P,v[S+4],11,1272893353),P=md5hh(P,D,_,E,v[S+7],16,-155497632),E=md5hh(E,P,D,_,v[S+10],23,-1094730640),_=md5hh(_,E,P,D,v[S+13],4,681279174),D=md5hh(D,_,E,P,v[S],11,-358537222),P=md5hh(P,D,_,E,v[S+3],16,-722521979),E=md5hh(E,P,D,_,v[S+6],23,76029189),_=md5hh(_,E,P,D,v[S+9],4,-640364487),D=md5hh(D,_,E,P,v[S+12],11,-421815835),P=md5hh(P,D,_,E,v[S+15],16,530742520),E=md5hh(E,P,D,_,v[S+2],23,-995338651),_=md5ii(_,E,P,D,v[S],6,-198630844),D=md5ii(D,_,E,P,v[S+7],10,1126891415),P=md5ii(P,D,_,E,v[S+14],15,-1416354905),E=md5ii(E,P,D,_,v[S+5],21,-57434055),_=md5ii(_,E,P,D,v[S+12],6,1700485571),D=md5ii(D,_,E,P,v[S+3],10,-1894986606),P=md5ii(P,D,_,E,v[S+10],15,-1051523),E=md5ii(E,P,D,_,v[S+1],21,-2054922799),_=md5ii(_,E,P,D,v[S+8],6,1873313359),D=md5ii(D,_,E,P,v[S+15],10,-30611744),P=md5ii(P,D,_,E,v[S+6],15,-1560198380),E=md5ii(E,P,D,_,v[S+13],21,1309151649),_=md5ii(_,E,P,D,v[S+4],6,-145523070),D=md5ii(D,_,E,P,v[S+11],10,-1120210379),P=md5ii(P,D,_,E,v[S+2],15,718787259),E=md5ii(E,P,D,_,v[S+9],21,-343485551),_=safeAdd(_,R),E=safeAdd(E,M),P=safeAdd(P,O),D=safeAdd(D,F)}return[_,E,P,D]}(function bytesToWords(v){if(0===v.length)return[];const S=8*v.length,_=new Uint32Array(getOutputLength(S));for(let E=0;E<S;E+=8)_[E>>5]|=(255&v[E/8])<<E%32;return _}(v),8*v.length))};S.default=_},342922:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};S.default=_},828310:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;S.default="00000000-0000-0000-0000-000000000000"},860546:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(830015));var P=function parse(v){if(!(0,E.default)(v))throw TypeError("Invalid UUID");let S;const _=new Uint8Array(16);return _[0]=(S=parseInt(v.slice(0,8),16))>>>24,_[1]=S>>>16&255,_[2]=S>>>8&255,_[3]=255&S,_[4]=(S=parseInt(v.slice(9,13),16))>>>8,_[5]=255&S,_[6]=(S=parseInt(v.slice(14,18),16))>>>8,_[7]=255&S,_[8]=(S=parseInt(v.slice(19,23),16))>>>8,_[9]=255&S,_[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255,_[11]=S/4294967296&255,_[12]=S>>>24&255,_[13]=S>>>16&255,_[14]=S>>>8&255,_[15]=255&S,_};S.default=P},233866:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;S.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},533632:(v,S)=>{"use strict";let _;Object.defineProperty(S,"__esModule",{value:!0}),S.default=function rng(){if(!_&&(_="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _(E)};const E=new Uint8Array(16)},931684:(v,S)=>{"use strict";function f(v,S,_,E){switch(v){case 0:return S&_^~S&E;case 1:case 3:return S^_^E;case 2:return S&_^S&E^_&E}}function ROTL(v,S){return v<<S|v>>>32-S}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=function sha1(v){const S=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof v){const S=unescape(encodeURIComponent(v));v=[];for(let _=0;_<S.length;++_)v.push(S.charCodeAt(_))}else Array.isArray(v)||(v=Array.prototype.slice.call(v));v.push(128);const E=v.length/4+2,P=Math.ceil(E/16),D=new Array(P);for(let S=0;S<P;++S){const _=new Uint32Array(16);for(let E=0;E<16;++E)_[E]=v[64*S+4*E]<<24|v[64*S+4*E+1]<<16|v[64*S+4*E+2]<<8|v[64*S+4*E+3];D[S]=_}D[P-1][14]=8*(v.length-1)/Math.pow(2,32),D[P-1][14]=Math.floor(D[P-1][14]),D[P-1][15]=8*(v.length-1)&4294967295;for(let v=0;v<P;++v){const E=new Uint32Array(80);for(let S=0;S<16;++S)E[S]=D[v][S];for(let v=16;v<80;++v)E[v]=ROTL(E[v-3]^E[v-8]^E[v-14]^E[v-16],1);let P=_[0],R=_[1],M=_[2],O=_[3],F=_[4];for(let v=0;v<80;++v){const _=Math.floor(v/20),D=ROTL(P,5)+f(_,R,M,O)+F+S[_]+E[v]>>>0;F=O,O=M,M=ROTL(R,30)>>>0,R=P,P=D}_[0]=_[0]+P>>>0,_[1]=_[1]+R>>>0,_[2]=_[2]+M>>>0,_[3]=_[3]+O>>>0,_[4]=_[4]+F>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,255&_[0],_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,255&_[1],_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,255&_[2],_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,255&_[3],_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,255&_[4]]};S.default=_},747036:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,S.unsafeStringify=unsafeStringify;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(830015));const P=[];for(let v=0;v<256;++v)P.push((v+256).toString(16).slice(1));function unsafeStringify(v,S=0){return P[v[S+0]]+P[v[S+1]]+P[v[S+2]]+P[v[S+3]]+"-"+P[v[S+4]]+P[v[S+5]]+"-"+P[v[S+6]]+P[v[S+7]]+"-"+P[v[S+8]]+P[v[S+9]]+"-"+P[v[S+10]]+P[v[S+11]]+P[v[S+12]]+P[v[S+13]]+P[v[S+14]]+P[v[S+15]]}var D=function stringify(v,S=0){const _=unsafeStringify(v,S);if(!(0,E.default)(_))throw TypeError("Stringified UUID is invalid");return _};S.default=D},500752:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(533632)),P=_(747036);let D,R,M=0,O=0;var F=function v1(v,S,_){let F=S&&_||0;const N=S||new Array(16);let L=(v=v||{}).node||D,U=void 0!==v.clockseq?v.clockseq:R;if(null==L||null==U){const S=v.random||(v.rng||E.default)();null==L&&(L=D=[1|S[0],S[1],S[2],S[3],S[4],S[5]]),null==U&&(U=R=16383&(S[6]<<8|S[7]))}let V=void 0!==v.msecs?v.msecs:Date.now(),G=void 0!==v.nsecs?v.nsecs:O+1;const W=V-M+(G-O)/1e4;if(W<0&&void 0===v.clockseq&&(U=U+1&16383),(W<0||V>M)&&void 0===v.nsecs&&(G=0),G>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");M=V,O=G,R=U,V+=122192928e5;const $=(1e4*(268435455&V)+G)%4294967296;N[F++]=$>>>24&255,N[F++]=$>>>16&255,N[F++]=$>>>8&255,N[F++]=255&$;const X=V/4294967296*1e4&268435455;N[F++]=X>>>8&255,N[F++]=255&X,N[F++]=X>>>24&15|16,N[F++]=X>>>16&255,N[F++]=U>>>8|128,N[F++]=255&U;for(let v=0;v<6;++v)N[F+v]=L[v];return S||(0,P.unsafeStringify)(N)};S.default=F},221178:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(178595)),P=_interopRequireDefault(_(299817));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var D=(0,E.default)("v3",48,P.default);S.default=D},178595:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.URL=S.DNS=void 0,S.default=function v35(v,S,_){function generateUUID(v,D,R,M){var O;if("string"==typeof v&&(v=function stringToBytes(v){v=unescape(encodeURIComponent(v));const S=[];for(let _=0;_<v.length;++_)S.push(v.charCodeAt(_));return S}(v)),"string"==typeof D&&(D=(0,P.default)(D)),16!==(null===(O=D)||void 0===O?void 0:O.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let F=new Uint8Array(16+v.length);if(F.set(D),F.set(v,D.length),F=_(F),F[6]=15&F[6]|S,F[8]=63&F[8]|128,R){M=M||0;for(let v=0;v<16;++v)R[M+v]=F[v];return R}return(0,E.unsafeStringify)(F)}try{generateUUID.name=v}catch(v){}return generateUUID.DNS=D,generateUUID.URL=R,generateUUID};var E=_(747036),P=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(860546));const D="6ba7b810-9dad-11d1-80b4-00c04fd430c8";S.DNS=D;const R="6ba7b811-9dad-11d1-80b4-00c04fd430c8";S.URL=R},417923:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(342922)),P=_interopRequireDefault(_(533632)),D=_(747036);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var R=function v4(v,S,_){if(E.default.randomUUID&&!S&&!v)return E.default.randomUUID();const R=(v=v||{}).random||(v.rng||P.default)();if(R[6]=15&R[6]|64,R[8]=63&R[8]|128,S){_=_||0;for(let v=0;v<16;++v)S[_+v]=R[v];return S}return(0,D.unsafeStringify)(R)};S.default=R},719932:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=_interopRequireDefault(_(178595)),P=_interopRequireDefault(_(931684));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var D=(0,E.default)("v5",80,P.default);S.default=D},830015:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(233866));var P=function validate(v){return"string"==typeof v&&E.default.test(v)};S.default=P},915573:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(830015));var P=function version(v){if(!(0,E.default)(v))throw TypeError("Invalid UUID");return parseInt(v.slice(14,15),16)};S.default=P},634234:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),D=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}:function(v,S){v.default=S}),R=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(null!=v)for(var _ in v)"default"!==_&&Object.prototype.hasOwnProperty.call(v,_)&&P(S,v,_);return D(S,v),S};Object.defineProperty(S,"__esModule",{value:!0}),S.getEncryptionPublicKey=S.decryptSafely=S.decrypt=S.encryptSafely=S.encrypt=void 0;const M=R(_(882926)),O=R(_(190665)),F=_(961854);function encrypt({publicKey:v,data:S,version:_}){if((0,F.isNullish)(v))throw new Error("Missing publicKey parameter");if((0,F.isNullish)(S))throw new Error("Missing data parameter");if((0,F.isNullish)(_))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===_){if("string"!=typeof S)throw new Error("Message data must be given as a string");const _=M.box.keyPair();let E;try{E=O.decodeBase64(v)}catch(v){throw new Error("Bad public key")}const P=O.decodeUTF8(S),D=M.randomBytes(M.box.nonceLength),R=M.box(P,D,E,_.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:O.encodeBase64(D),ephemPublicKey:O.encodeBase64(_.publicKey),ciphertext:O.encodeBase64(R)}}throw new Error("Encryption type/version not supported")}function decrypt({encryptedData:v,privateKey:S}){if((0,F.isNullish)(v))throw new Error("Missing encryptedData parameter");if((0,F.isNullish)(S))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===v.version){const _=naclDecodeHex(S),E=M.box.keyPair.fromSecretKey(_).secretKey,P=O.decodeBase64(v.nonce),D=O.decodeBase64(v.ciphertext),R=O.decodeBase64(v.ephemPublicKey),F=M.box.open(D,P,R,E);try{if(!F)throw new Error;const v=O.encodeUTF8(F);if(!v)throw new Error;return v}catch(v){if(v&&"string"==typeof v.message&&v.message.length)throw new Error(`Decryption failed: ${v.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}function naclDecodeHex(v){const S=E.from(v,"hex").toString("base64");return O.decodeBase64(S)}S.encrypt=encrypt,S.encryptSafely=function encryptSafely({publicKey:v,data:S,version:_}){if((0,F.isNullish)(v))throw new Error("Missing publicKey parameter");if((0,F.isNullish)(S))throw new Error("Missing data parameter");if((0,F.isNullish)(_))throw new Error("Missing version parameter");if("object"==typeof S&&S&&"toJSON"in S)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const P={data:S,padding:""},D=E.byteLength(JSON.stringify(P),"utf-8")%2048;let R=0;return D>0&&(R=2048-D-16),P.padding="0".repeat(R),encrypt({publicKey:v,data:JSON.stringify(P),version:_})},S.decrypt=decrypt,S.decryptSafely=function decryptSafely({encryptedData:v,privateKey:S}){if((0,F.isNullish)(v))throw new Error("Missing encryptedData parameter");if((0,F.isNullish)(S))throw new Error("Missing privateKey parameter");return JSON.parse(decrypt({encryptedData:v,privateKey:S})).data},S.getEncryptionPublicKey=function getEncryptionPublicKey(v){const S=naclDecodeHex(v),_=M.box.keyPair.fromSecretKey(S).publicKey;return O.encodeBase64(_)}},132806:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.rawEncode=S.parseNumber=S.solidityPack=void 0;const D=_(613526),R=P(_(243755)),M=_(2321),O=_(961854);function isArray(v){return v.endsWith("]")}function parseTypeArray(v){const S=v.match(/(.*)\[(.*?)\]$/u);return S?""===S[2]?"dynamic":parseInt(S[2],10):null}function parseTypeN(v){const S=/^\D+(\d+)$/u.exec(v);if(null===S)throw new Error(`Invalid parseTypeN input "${v}".`);return parseInt(S[1],10)}function parseNumber(v){const S=typeof v;if("string"===S)return(0,D.isHexPrefixed)(v)?new R.default((0,M.stripHexPrefix)(v),16):new R.default(v,10);if("number"===S)return new R.default(v);if(v&&Object.prototype.hasOwnProperty.call(v,"toArray")||R.default.isBN(v))return v;throw new Error("Argument is not a number")}function solidityHexValue(v,S,_){if(isArray(v)){const _=v.replace(/\[.*?\]/u,"");if(!isArray(_)){const _=parseTypeArray(v);if("dynamic"!==_&&0!==_&&null!==_&&S.length>_)throw new Error(`Elements exceed array size: ${_}`)}const P=S.map((v=>solidityHexValue(_,v,256)));return E.concat(P)}if("bytes"===v)return S;if("string"===v)return E.from(S,"utf8");if("bool"===v){_=_||8;const v=Array(_/4).join("0");return E.from(S?`${v}1`:`${v}0`,"hex")}if("address"===v){let v=20;return _&&(v=_/8),(0,D.setLengthLeft)((0,D.toBuffer)(S),v)}if(v.startsWith("bytes")){const _=parseTypeN(v);if(_<1||_>32)throw new Error(`Invalid bytes<N> width: ${_}`);return"number"==typeof S&&(S=(0,O.normalize)(S)),(0,D.setLengthRight)((0,D.toBuffer)(S),_)}if(v.startsWith("uint")){const P=parseTypeN(v);if(P%8||P<8||P>256)throw new Error(`Invalid uint<N> width: ${P}`);const D=parseNumber(S);if(D.bitLength()>P)throw new Error(`Supplied uint exceeds width: ${P} vs ${D.bitLength()}`);return _=_||P,D.toArrayLike(E,"be",_/8)}if(v.startsWith("int")){const P=parseTypeN(v);if(P%8||P<8||P>256)throw new Error(`Invalid int<N> width: ${P}`);const D=parseNumber(S);if(D.bitLength()>P)throw new Error(`Supplied int exceeds width: ${P} vs ${D.bitLength()}`);return _=_||P,D.toTwos(P).toArrayLike(E,"be",_/8)}throw new Error(`Unsupported or invalid type: ${JSON.stringify(v)}`)}function elementaryName(v){return v.startsWith("int[")?`int256${v.slice(3)}`:"int"===v?"int256":v.startsWith("uint[")?`uint256${v.slice(4)}`:"uint"===v?"uint256":v.startsWith("fixed[")?`fixed128x128${v.slice(5)}`:"fixed"===v?"fixed128x128":v.startsWith("ufixed[")?`ufixed128x128${v.slice(6)}`:"ufixed"===v?"ufixed128x128":v}function encodeSingle(v,S){if("address"===v)return encodeSingle("uint160",parseNumber(S));if("bool"===v)return encodeSingle("uint8",S?1:0);if("string"===v)return encodeSingle("bytes",E.from(S,"utf8"));if(isArray(v)){if(void 0===S.length)throw new Error("Not an array?");const _=parseTypeArray(v);if("dynamic"!==_&&0!==_&&null!==_&&S.length>_)throw new Error(`Elements exceed array size: ${_}`);const P=[];v=v.slice(0,v.lastIndexOf("[")),"string"==typeof S&&(S=JSON.parse(S));for(const _ in S)Object.prototype.hasOwnProperty.call(S,_)&&P.push(encodeSingle(v,S[_]));if("dynamic"===_){const v=encodeSingle("uint256",S.length);P.unshift(v)}return E.concat(P)}if("bytes"===v){S=E.from(S);let v=E.concat([encodeSingle("uint256",S.length),S]);return S.length%32!=0&&(v=E.concat([v,(0,D.zeros)(32-S.length%32)])),v}if(v.startsWith("bytes")){const _=parseTypeN(v);if(_<1||_>32)throw new Error(`Invalid bytes<N> width: ${_}`);const E="number"==typeof S?(0,O.normalize)(S):S;return(0,D.setLengthRight)((0,D.toBuffer)(E),32)}if(v.startsWith("uint")){const _=parseTypeN(v);if(_%8||_<8||_>256)throw new Error(`Invalid uint<N> width: ${_}`);const P=parseNumber(S);if(P.bitLength()>_)throw new Error(`Supplied uint exceeds width: ${_} vs ${P.bitLength()}`);if(P.isNeg())throw new Error("Supplied uint is negative");return P.toArrayLike(E,"be",32)}if(v.startsWith("int")){const _=parseTypeN(v);if(_%8||_<8||_>256)throw new Error(`Invalid int<N> width: ${_}`);const P=parseNumber(S);if(P.bitLength()>_)throw new Error(`Supplied int exceeds width: ${_} vs ${P.bitLength()}`);return P.toTwos(256).toArrayLike(E,"be",32)}if(v.startsWith("ufixed")){const _=parseTypeNxM(v),E=parseNumber(S);if(E.isNeg())throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",E.mul(new R.default(2).pow(new R.default(_[1]))))}if(v.startsWith("fixed")){const _=parseTypeNxM(v);return encodeSingle("int256",parseNumber(S).mul(new R.default(2).pow(new R.default(_[1]))))}throw new Error(`Unsupported or invalid type: ${JSON.stringify(v)}`)}function isDynamic(v){return"string"===v||"bytes"===v||"dynamic"===parseTypeArray(v)}function parseTypeNxM(v){const S=/^\D+(\d+)x(\d+)$/u.exec(v);if(null===S||S.length<1)throw new Error(`Invalid parseTypeNxM input "${v}".`);return[parseInt(S[1],10),parseInt(S[2],10)]}S.solidityPack=function solidityPack(v,S){if(v.length!==S.length)throw new Error("Number of types are not matching the values");const _=[];for(let E=0;E<v.length;E++){const P=elementaryName(v[E]),D=S[E];_.push(solidityHexValue(P,D,null))}return E.concat(_)},S.parseNumber=parseNumber,S.rawEncode=function rawEncode(v,S){const _=[],P=[];let D=0;v.forEach((v=>{if(isArray(v)){const S=parseTypeArray(v);D+="dynamic"!==S&&null!==S?32*S:32}else D+=32}));for(let E=0;E<v.length;E++){const R=elementaryName(v[E]),M=encodeSingle(R,S[E]);isDynamic(R)?(_.push(encodeSingle("uint256",D)),P.push(M),D+=M.length):_.push(M)}return E.concat(_.concat(P))}},364291:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),S.normalize=S.concatSig=void 0,P(_(302229),S),P(_(444052),S),P(_(634234),S);var D=_(961854);Object.defineProperty(S,"concatSig",{enumerable:!0,get:function(){return D.concatSig}}),Object.defineProperty(S,"normalize",{enumerable:!0,get:function(){return D.normalize}})},302229:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.extractPublicKey=S.recoverPersonalSignature=S.personalSign=void 0;const E=_(613526),P=_(961854);function getPublicKeyFor(v,S){const _=(0,E.hashPersonalMessage)((0,P.legacyToBuffer)(v));return(0,P.recoverPublicKey)(_,S)}S.personalSign=function personalSign({privateKey:v,data:S}){if((0,P.isNullish)(S))throw new Error("Missing data parameter");if((0,P.isNullish)(v))throw new Error("Missing privateKey parameter");const _=(0,P.legacyToBuffer)(S),D=(0,E.hashPersonalMessage)(_),R=(0,E.ecsign)(D,v);return(0,P.concatSig)((0,E.toBuffer)(R.v),R.r,R.s)},S.recoverPersonalSignature=function recoverPersonalSignature({data:v,signature:S}){if((0,P.isNullish)(v))throw new Error("Missing data parameter");if((0,P.isNullish)(S))throw new Error("Missing signature parameter");const _=getPublicKeyFor(v,S),D=(0,E.publicToAddress)(_);return(0,E.bufferToHex)(D)},S.extractPublicKey=function extractPublicKey({data:v,signature:S}){if((0,P.isNullish)(v))throw new Error("Missing data parameter");if((0,P.isNullish)(S))throw new Error("Missing signature parameter");return`0x${getPublicKeyFor(v,S).toString("hex")}`}},444052:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.recoverTypedSignature=S.signTypedData=S.typedSignatureHash=S.TypedDataUtils=S.TYPED_MESSAGE_SCHEMA=S.SignTypedDataVersion=void 0;const P=_(613526),D=_(216008),R=_(2321),M=_(132806),O=_(961854);var F;function validateVersion(v,S){if(!Object.keys(F).includes(v))throw new Error(`Invalid version: '${v}'`);if(S&&!S.includes(v))throw new Error(`SignTypedDataVersion not allowed: '${v}'. Allowed versions are: ${S.join(", ")}`)}function encodeField(v,S,_,N,L){if(validateVersion(L,[F.V3,F.V4]),void 0!==v[_])return["bytes32",L===F.V4&&null==N?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,P.arrToBufArr)((0,D.keccak256)(encodeData(_,N,v,L)))];if(void 0===N)throw new Error(`missing value for field ${S} of type ${_}`);if("bytes"===_){if("number"==typeof N)N=(0,O.numberToBuffer)(N);else if((0,R.isHexString)(N)){const v=N.length%2?"0":"";N=E.from(v+N.slice(2),"hex")}else N=E.from(N,"utf8");return["bytes32",(0,P.arrToBufArr)((0,D.keccak256)(N))]}if("string"===_)return N="number"==typeof N?(0,O.numberToBuffer)(N):E.from(null!=N?N:"","utf8"),["bytes32",(0,P.arrToBufArr)((0,D.keccak256)(N))];if(_.endsWith("]")){if(L===F.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const E=_.slice(0,_.lastIndexOf("[")),R=N.map((_=>encodeField(v,S,E,_,L)));return["bytes32",(0,P.arrToBufArr)((0,D.keccak256)((0,M.rawEncode)(R.map((([v])=>v)),R.map((([,v])=>v)))))]}return[_,N]}function encodeData(v,S,_,E){validateVersion(E,[F.V3,F.V4]);const P=["bytes32"],D=[hashType(v,_)];for(const R of _[v]){if(E===F.V3&&void 0===S[R.name])continue;const[v,M]=encodeField(_,R.name,R.type,S[R.name],E);P.push(v),D.push(M)}return(0,M.rawEncode)(P,D)}function encodeType(v,S){let _="";const E=findTypeDependencies(v,S);E.delete(v);const P=[v,...Array.from(E).sort()];for(const v of P){if(!S[v])throw new Error(`No type definition specified: ${v}`);_+=`${v}(${S[v].map((({name:v,type:S})=>`${S} ${v}`)).join(",")})`}return _}function findTypeDependencies(v,S,_=new Set){if("string"!=typeof v)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(v)}`);const E=v.match(/^\w*/u);if([v]=E,_.has(v)||void 0===S[v])return _;_.add(v);for(const E of S[v])findTypeDependencies(E.type,S,_);return _}function hashStruct(v,S,_,E){validateVersion(E,[F.V3,F.V4]);const R=encodeData(v,S,_,E),M=(0,D.keccak256)(R);return(0,P.arrToBufArr)(M)}function hashType(v,S){const _=E.from(encodeType(v,S),"utf-8");return(0,P.arrToBufArr)((0,D.keccak256)(_))}function sanitizeData(v){const _={};for(const E in S.TYPED_MESSAGE_SCHEMA.properties)v[E]&&(_[E]=v[E]);return"types"in _&&(_.types=Object.assign({EIP712Domain:[]},_.types)),_}function eip712DomainHash(v,S){validateVersion(S,[F.V3,F.V4]);const _=sanitizeData(v),{domain:E}=_;return hashStruct("EIP712Domain",E,{EIP712Domain:_.types.EIP712Domain},S)}function _typedSignatureHash(v){const S=new Error("Expect argument to be non-empty array");if("object"!=typeof v||!("length"in v)||!v.length)throw S;const _=v.map((function(v){return"bytes"!==v.type?v.value:(0,O.legacyToBuffer)(v.value)})),E=v.map((function(v){return v.type})),R=v.map((function(v){if(!v.name)throw S;return`${v.type} ${v.name}`}));return(0,P.arrToBufArr)((0,D.keccak256)((0,M.solidityPack)(["bytes32","bytes32"],[(0,D.keccak256)((0,M.solidityPack)(new Array(v.length).fill("string"),R)),(0,D.keccak256)((0,M.solidityPack)(E,_))])))}!function(v){v.V1="V1",v.V3="V3",v.V4="V4"}(F=S.SignTypedDataVersion||(S.SignTypedDataVersion={})),S.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},S.TypedDataUtils={encodeData,encodeType,findTypeDependencies,hashStruct,hashType,sanitizeData,eip712Hash:function eip712Hash(v,S){validateVersion(S,[F.V3,F.V4]);const _=sanitizeData(v),R=[E.from("1901","hex")];return R.push(eip712DomainHash(v,S)),"EIP712Domain"!==_.primaryType&&R.push(hashStruct(_.primaryType,_.message,_.types,S)),(0,P.arrToBufArr)((0,D.keccak256)(E.concat(R)))},eip712DomainHash},S.typedSignatureHash=function typedSignatureHash(v){const S=_typedSignatureHash(v);return(0,P.bufferToHex)(S)},S.signTypedData=function signTypedData({privateKey:v,data:_,version:E}){if(validateVersion(E),(0,O.isNullish)(_))throw new Error("Missing data parameter");if((0,O.isNullish)(v))throw new Error("Missing private key parameter");const D=E===F.V1?_typedSignatureHash(_):S.TypedDataUtils.eip712Hash(_,E),R=(0,P.ecsign)(D,v);return(0,O.concatSig)((0,P.toBuffer)(R.v),R.r,R.s)},S.recoverTypedSignature=function recoverTypedSignature({data:v,signature:_,version:E}){if(validateVersion(E),(0,O.isNullish)(v))throw new Error("Missing data parameter");if((0,O.isNullish)(_))throw new Error("Missing signature parameter");const D=E===F.V1?_typedSignatureHash(v):S.TypedDataUtils.eip712Hash(v,E),R=(0,O.recoverPublicKey)(D,_),M=(0,P.publicToAddress)(R);return(0,P.bufferToHex)(M)}},961854:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.numberToBuffer=S.normalize=S.recoverPublicKey=S.concatSig=S.legacyToBuffer=S.isNullish=S.padWithZeroes=void 0;const P=_(613526),D=_(2321);function padWithZeroes(v,S){if(""!==v&&!/^[a-f0-9]+$/iu.test(v))throw new Error(`Expected an unprefixed hex string. Received: ${v}`);if(S<0)throw new Error(`Expected a non-negative integer target length. Received: ${S}`);return String.prototype.padStart.call(v,S,"0")}S.padWithZeroes=padWithZeroes,S.isNullish=function isNullish(v){return null==v},S.legacyToBuffer=function legacyToBuffer(v){return"string"!=typeof v||(0,D.isHexString)(v)?(0,P.toBuffer)(v):E.from(v)},S.concatSig=function concatSig(v,S,_){const E=(0,P.fromSigned)(S),R=(0,P.fromSigned)(_),M=(0,P.bufferToInt)(v),O=padWithZeroes((0,P.toUnsigned)(E).toString("hex"),64),F=padWithZeroes((0,P.toUnsigned)(R).toString("hex"),64),N=(0,D.stripHexPrefix)((0,D.intToHex)(M));return(0,P.addHexPrefix)(O.concat(F,N))},S.recoverPublicKey=function recoverPublicKey(v,S){const _=(0,P.fromRpcSig)(S);return(0,P.ecrecover)(v,_.v,_.r,_.s)},S.normalize=function normalize(v){if(v){if("number"==typeof v){if(v<0)return"0x";const S=(0,P.toBuffer)(v);v=(0,P.bufferToHex)(S)}if("string"!=typeof v){let S="eth-sig-util.normalize() requires hex string or integer input.";throw S+=` received ${typeof v}: ${v}`,new Error(S)}return(0,P.addHexPrefix)(v.toLowerCase())}},S.numberToBuffer=function numberToBuffer(v){const S=v.toString(16),_=S.length%2?"0":"";return E.from(_+S,"hex")}},243755:function(v,S,_){!function(v,S){"use strict";function assert(v,S){if(!v)throw new Error(S||"Assertion failed")}function inherits(v,S){v.super_=S;var TempCtor=function(){};TempCtor.prototype=S.prototype,v.prototype=new TempCtor,v.prototype.constructor=v}function BN(v,S,_){if(BN.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,null!==v&&("le"!==S&&"be"!==S||(_=S,S=10),this._init(v||0,S||10,_||"be"))}var E;"object"==typeof v?v.exports=BN:S.BN=BN,BN.BN=BN,BN.wordSize=26;try{E="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:_(998679).Buffer}catch(v){}function parseHex4Bits(v,S){var _=v.charCodeAt(S);return _>=65&&_<=70?_-55:_>=97&&_<=102?_-87:_-48&15}function parseHexByte(v,S,_){var E=parseHex4Bits(v,_);return _-1>=S&&(E|=parseHex4Bits(v,_-1)<<4),E}function parseBase(v,S,_,E){for(var P=0,D=Math.min(v.length,_),R=S;R<D;R++){var M=v.charCodeAt(R)-48;P*=E,P+=M>=49?M-49+10:M>=17?M-17+10:M}return P}BN.isBN=function isBN(v){return v instanceof BN||null!==v&&"object"==typeof v&&v.constructor.wordSize===BN.wordSize&&Array.isArray(v.words)},BN.max=function max(v,S){return v.cmp(S)>0?v:S},BN.min=function min(v,S){return v.cmp(S)<0?v:S},BN.prototype._init=function init(v,S,_){if("number"==typeof v)return this._initNumber(v,S,_);if("object"==typeof v)return this._initArray(v,S,_);"hex"===S&&(S=16),assert(S===(0|S)&&S>=2&&S<=36);var E=0;"-"===(v=v.toString().replace(/\s+/g,""))[0]&&(E++,this.negative=1),E<v.length&&(16===S?this._parseHex(v,E,_):(this._parseBase(v,S,E),"le"===_&&this._initArray(this.toArray(),S,_)))},BN.prototype._initNumber=function _initNumber(v,S,_){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[67108863&v],this.length=1):v<4503599627370496?(this.words=[67108863&v,v/67108864&67108863],this.length=2):(assert(v<9007199254740992),this.words=[67108863&v,v/67108864&67108863,1],this.length=3),"le"===_&&this._initArray(this.toArray(),S,_)},BN.prototype._initArray=function _initArray(v,S,_){if(assert("number"==typeof v.length),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var P,D,R=0;if("be"===_)for(E=v.length-1,P=0;E>=0;E-=3)D=v[E]|v[E-1]<<8|v[E-2]<<16,this.words[P]|=D<<R&67108863,this.words[P+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,P++);else if("le"===_)for(E=0,P=0;E<v.length;E+=3)D=v[E]|v[E+1]<<8|v[E+2]<<16,this.words[P]|=D<<R&67108863,this.words[P+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,P++);return this.strip()},BN.prototype._parseHex=function _parseHex(v,S,_){this.length=Math.ceil((v.length-S)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var P,D=0,R=0;if("be"===_)for(E=v.length-1;E>=S;E-=2)P=parseHexByte(v,S,E)<<D,this.words[R]|=67108863&P,D>=18?(D-=18,R+=1,this.words[R]|=P>>>26):D+=8;else for(E=(v.length-S)%2==0?S+1:S;E<v.length;E+=2)P=parseHexByte(v,S,E)<<D,this.words[R]|=67108863&P,D>=18?(D-=18,R+=1,this.words[R]|=P>>>26):D+=8;this.strip()},BN.prototype._parseBase=function _parseBase(v,S,_){this.words=[0],this.length=1;for(var E=0,P=1;P<=67108863;P*=S)E++;E--,P=P/S|0;for(var D=v.length-_,R=D%E,M=Math.min(D,D-R)+_,O=0,F=_;F<M;F+=E)O=parseBase(v,F,F+E,S),this.imuln(P),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(0!==R){var N=1;for(O=parseBase(v,F,v.length,S),F=0;F<R;F++)N*=S;this.imuln(N),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},BN.prototype.copy=function copy(v){v.words=new Array(this.length);for(var S=0;S<this.length;S++)v.words[S]=this.words[S];v.length=this.length,v.negative=this.negative,v.red=this.red},BN.prototype.clone=function clone(){var v=new BN(null);return this.copy(v),v},BN.prototype._expand=function _expand(v){for(;this.length<v;)this.words[this.length++]=0;return this},BN.prototype.strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var P=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(v,S,_){_.negative=S.negative^v.negative;var E=v.length+S.length|0;_.length=E,E=E-1|0;var P=0|v.words[0],D=0|S.words[0],R=P*D,M=67108863&R,O=R/67108864|0;_.words[0]=M;for(var F=1;F<E;F++){for(var N=O>>>26,L=67108863&O,U=Math.min(F,S.length-1),V=Math.max(0,F-v.length+1);V<=U;V++){var G=F-V|0;N+=(R=(P=0|v.words[G])*(D=0|S.words[V])+L)/67108864|0,L=67108863&R}_.words[F]=0|L,O=0|N}return 0!==O?_.words[F]=0|O:_.length--,_.strip()}BN.prototype.toString=function toString(v,S){var _;if(S=0|S||1,16===(v=v||10)||"hex"===v){_="";for(var E=0,M=0,O=0;O<this.length;O++){var F=this.words[O],N=(16777215&(F<<E|M)).toString(16);_=0!==(M=F>>>24-E&16777215)||O!==this.length-1?P[6-N.length]+N+_:N+_,(E+=2)>=26&&(E-=26,O--)}for(0!==M&&(_=M.toString(16)+_);_.length%S!=0;)_="0"+_;return 0!==this.negative&&(_="-"+_),_}if(v===(0|v)&&v>=2&&v<=36){var L=D[v],U=R[v];_="";var V=this.clone();for(V.negative=0;!V.isZero();){var G=V.modn(U).toString(v);_=(V=V.idivn(U)).isZero()?G+_:P[L-G.length]+G+_}for(this.isZero()&&(_="0"+_);_.length%S!=0;)_="0"+_;return 0!==this.negative&&(_="-"+_),_}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var v=this.words[0];return 2===this.length?v+=67108864*this.words[1]:3===this.length&&1===this.words[2]?v+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-v:v},BN.prototype.toJSON=function toJSON(){return this.toString(16)},BN.prototype.toBuffer=function toBuffer(v,S){return assert(void 0!==E),this.toArrayLike(E,v,S)},BN.prototype.toArray=function toArray(v,S){return this.toArrayLike(Array,v,S)},BN.prototype.toArrayLike=function toArrayLike(v,S,_){var E=this.byteLength(),P=_||Math.max(1,E);assert(E<=P,"byte array longer than desired length"),assert(P>0,"Requested array length <= 0"),this.strip();var D,R,M="le"===S,O=new v(P),F=this.clone();if(M){for(R=0;!F.isZero();R++)D=F.andln(255),F.iushrn(8),O[R]=D;for(;R<P;R++)O[R]=0}else{for(R=0;R<P-E;R++)O[R]=0;for(R=0;!F.isZero();R++)D=F.andln(255),F.iushrn(8),O[P-R-1]=D}return O},Math.clz32?BN.prototype._countBits=function _countBits(v){return 32-Math.clz32(v)}:BN.prototype._countBits=function _countBits(v){var S=v,_=0;return S>=4096&&(_+=13,S>>>=13),S>=64&&(_+=7,S>>>=7),S>=8&&(_+=4,S>>>=4),S>=2&&(_+=2,S>>>=2),_+S},BN.prototype._zeroBits=function _zeroBits(v){if(0===v)return 26;var S=v,_=0;return 8191&S||(_+=13,S>>>=13),127&S||(_+=7,S>>>=7),15&S||(_+=4,S>>>=4),3&S||(_+=2,S>>>=2),1&S||_++,_},BN.prototype.bitLength=function bitLength(){var v=this.words[this.length-1],S=this._countBits(v);return 26*(this.length-1)+S},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var v=0,S=0;S<this.length;S++){var _=this._zeroBits(this.words[S]);if(v+=_,26!==_)break}return v},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(v){return 0!==this.negative?this.abs().inotn(v).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]|v.words[S];return this.strip()},BN.prototype.ior=function ior(v){return assert(!(this.negative|v.negative)),this.iuor(v)},BN.prototype.or=function or(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},BN.prototype.uor=function uor(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},BN.prototype.iuand=function iuand(v){var S;S=this.length>v.length?v:this;for(var _=0;_<S.length;_++)this.words[_]=this.words[_]&v.words[_];return this.length=S.length,this.strip()},BN.prototype.iand=function iand(v){return assert(!(this.negative|v.negative)),this.iuand(v)},BN.prototype.and=function and(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},BN.prototype.uand=function uand(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},BN.prototype.iuxor=function iuxor(v){var S,_;this.length>v.length?(S=this,_=v):(S=v,_=this);for(var E=0;E<_.length;E++)this.words[E]=S.words[E]^_.words[E];if(this!==S)for(;E<S.length;E++)this.words[E]=S.words[E];return this.length=S.length,this.strip()},BN.prototype.ixor=function ixor(v){return assert(!(this.negative|v.negative)),this.iuxor(v)},BN.prototype.xor=function xor(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},BN.prototype.uxor=function uxor(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},BN.prototype.inotn=function inotn(v){assert("number"==typeof v&&v>=0);var S=0|Math.ceil(v/26),_=v%26;this._expand(S),_>0&&S--;for(var E=0;E<S;E++)this.words[E]=67108863&~this.words[E];return _>0&&(this.words[E]=~this.words[E]&67108863>>26-_),this.strip()},BN.prototype.notn=function notn(v){return this.clone().inotn(v)},BN.prototype.setn=function setn(v,S){assert("number"==typeof v&&v>=0);var _=v/26|0,E=v%26;return this._expand(_+1),this.words[_]=S?this.words[_]|1<<E:this.words[_]&~(1<<E),this.strip()},BN.prototype.iadd=function iadd(v){var S,_,E;if(0!==this.negative&&0===v.negative)return this.negative=0,S=this.isub(v),this.negative^=1,this._normSign();if(0===this.negative&&0!==v.negative)return v.negative=0,S=this.isub(v),v.negative=1,S._normSign();this.length>v.length?(_=this,E=v):(_=v,E=this);for(var P=0,D=0;D<E.length;D++)S=(0|_.words[D])+(0|E.words[D])+P,this.words[D]=67108863&S,P=S>>>26;for(;0!==P&&D<_.length;D++)S=(0|_.words[D])+P,this.words[D]=67108863&S,P=S>>>26;if(this.length=_.length,0!==P)this.words[this.length]=P,this.length++;else if(_!==this)for(;D<_.length;D++)this.words[D]=_.words[D];return this},BN.prototype.add=function add(v){var S;return 0!==v.negative&&0===this.negative?(v.negative=0,S=this.sub(v),v.negative^=1,S):0===v.negative&&0!==this.negative?(this.negative=0,S=v.sub(this),this.negative=1,S):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},BN.prototype.isub=function isub(v){if(0!==v.negative){v.negative=0;var S=this.iadd(v);return v.negative=1,S._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var _,E,P=this.cmp(v);if(0===P)return this.negative=0,this.length=1,this.words[0]=0,this;P>0?(_=this,E=v):(_=v,E=this);for(var D=0,R=0;R<E.length;R++)D=(S=(0|_.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&S;for(;0!==D&&R<_.length;R++)D=(S=(0|_.words[R])+D)>>26,this.words[R]=67108863&S;if(0===D&&R<_.length&&_!==this)for(;R<_.length;R++)this.words[R]=_.words[R];return this.length=Math.max(this.length,R),_!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function sub(v){return this.clone().isub(v)};var M=function comb10MulTo(v,S,_){var E,P,D,R=v.words,M=S.words,O=_.words,F=0,N=0|R[0],L=8191&N,U=N>>>13,V=0|R[1],G=8191&V,W=V>>>13,$=0|R[2],X=8191&$,Y=$>>>13,J=0|R[3],Z=8191&J,Q=J>>>13,tt=0|R[4],et=8191&tt,rt=tt>>>13,nt=0|R[5],it=8191&nt,st=nt>>>13,ot=0|R[6],at=8191&ot,ct=ot>>>13,ut=0|R[7],ht=8191&ut,dt=ut>>>13,ft=0|R[8],pt=8191&ft,mt=ft>>>13,yt=0|R[9],vt=8191&yt,bt=yt>>>13,St=0|M[0],wt=8191&St,Tt=St>>>13,xt=0|M[1],_t=8191&xt,Et=xt>>>13,Ct=0|M[2],At=8191&Ct,It=Ct>>>13,Pt=0|M[3],Dt=8191&Pt,Bt=Pt>>>13,Rt=0|M[4],Mt=8191&Rt,Ot=Rt>>>13,kt=0|M[5],Ft=8191&kt,Nt=kt>>>13,Ht=0|M[6],Lt=8191&Ht,jt=Ht>>>13,Kt=0|M[7],Ut=8191&Kt,Vt=Kt>>>13,qt=0|M[8],Gt=8191&qt,zt=qt>>>13,Wt=0|M[9],$t=8191&Wt,Xt=Wt>>>13;_.negative=v.negative^S.negative,_.length=19;var Yt=(F+(E=Math.imul(L,wt))|0)+((8191&(P=(P=Math.imul(L,Tt))+Math.imul(U,wt)|0))<<13)|0;F=((D=Math.imul(U,Tt))+(P>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,E=Math.imul(G,wt),P=(P=Math.imul(G,Tt))+Math.imul(W,wt)|0,D=Math.imul(W,Tt);var Jt=(F+(E=E+Math.imul(L,_t)|0)|0)+((8191&(P=(P=P+Math.imul(L,Et)|0)+Math.imul(U,_t)|0))<<13)|0;F=((D=D+Math.imul(U,Et)|0)+(P>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,E=Math.imul(X,wt),P=(P=Math.imul(X,Tt))+Math.imul(Y,wt)|0,D=Math.imul(Y,Tt),E=E+Math.imul(G,_t)|0,P=(P=P+Math.imul(G,Et)|0)+Math.imul(W,_t)|0,D=D+Math.imul(W,Et)|0;var Zt=(F+(E=E+Math.imul(L,At)|0)|0)+((8191&(P=(P=P+Math.imul(L,It)|0)+Math.imul(U,At)|0))<<13)|0;F=((D=D+Math.imul(U,It)|0)+(P>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,E=Math.imul(Z,wt),P=(P=Math.imul(Z,Tt))+Math.imul(Q,wt)|0,D=Math.imul(Q,Tt),E=E+Math.imul(X,_t)|0,P=(P=P+Math.imul(X,Et)|0)+Math.imul(Y,_t)|0,D=D+Math.imul(Y,Et)|0,E=E+Math.imul(G,At)|0,P=(P=P+Math.imul(G,It)|0)+Math.imul(W,At)|0,D=D+Math.imul(W,It)|0;var Qt=(F+(E=E+Math.imul(L,Dt)|0)|0)+((8191&(P=(P=P+Math.imul(L,Bt)|0)+Math.imul(U,Dt)|0))<<13)|0;F=((D=D+Math.imul(U,Bt)|0)+(P>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,E=Math.imul(et,wt),P=(P=Math.imul(et,Tt))+Math.imul(rt,wt)|0,D=Math.imul(rt,Tt),E=E+Math.imul(Z,_t)|0,P=(P=P+Math.imul(Z,Et)|0)+Math.imul(Q,_t)|0,D=D+Math.imul(Q,Et)|0,E=E+Math.imul(X,At)|0,P=(P=P+Math.imul(X,It)|0)+Math.imul(Y,At)|0,D=D+Math.imul(Y,It)|0,E=E+Math.imul(G,Dt)|0,P=(P=P+Math.imul(G,Bt)|0)+Math.imul(W,Dt)|0,D=D+Math.imul(W,Bt)|0;var te=(F+(E=E+Math.imul(L,Mt)|0)|0)+((8191&(P=(P=P+Math.imul(L,Ot)|0)+Math.imul(U,Mt)|0))<<13)|0;F=((D=D+Math.imul(U,Ot)|0)+(P>>>13)|0)+(te>>>26)|0,te&=67108863,E=Math.imul(it,wt),P=(P=Math.imul(it,Tt))+Math.imul(st,wt)|0,D=Math.imul(st,Tt),E=E+Math.imul(et,_t)|0,P=(P=P+Math.imul(et,Et)|0)+Math.imul(rt,_t)|0,D=D+Math.imul(rt,Et)|0,E=E+Math.imul(Z,At)|0,P=(P=P+Math.imul(Z,It)|0)+Math.imul(Q,At)|0,D=D+Math.imul(Q,It)|0,E=E+Math.imul(X,Dt)|0,P=(P=P+Math.imul(X,Bt)|0)+Math.imul(Y,Dt)|0,D=D+Math.imul(Y,Bt)|0,E=E+Math.imul(G,Mt)|0,P=(P=P+Math.imul(G,Ot)|0)+Math.imul(W,Mt)|0,D=D+Math.imul(W,Ot)|0;var ee=(F+(E=E+Math.imul(L,Ft)|0)|0)+((8191&(P=(P=P+Math.imul(L,Nt)|0)+Math.imul(U,Ft)|0))<<13)|0;F=((D=D+Math.imul(U,Nt)|0)+(P>>>13)|0)+(ee>>>26)|0,ee&=67108863,E=Math.imul(at,wt),P=(P=Math.imul(at,Tt))+Math.imul(ct,wt)|0,D=Math.imul(ct,Tt),E=E+Math.imul(it,_t)|0,P=(P=P+Math.imul(it,Et)|0)+Math.imul(st,_t)|0,D=D+Math.imul(st,Et)|0,E=E+Math.imul(et,At)|0,P=(P=P+Math.imul(et,It)|0)+Math.imul(rt,At)|0,D=D+Math.imul(rt,It)|0,E=E+Math.imul(Z,Dt)|0,P=(P=P+Math.imul(Z,Bt)|0)+Math.imul(Q,Dt)|0,D=D+Math.imul(Q,Bt)|0,E=E+Math.imul(X,Mt)|0,P=(P=P+Math.imul(X,Ot)|0)+Math.imul(Y,Mt)|0,D=D+Math.imul(Y,Ot)|0,E=E+Math.imul(G,Ft)|0,P=(P=P+Math.imul(G,Nt)|0)+Math.imul(W,Ft)|0,D=D+Math.imul(W,Nt)|0;var re=(F+(E=E+Math.imul(L,Lt)|0)|0)+((8191&(P=(P=P+Math.imul(L,jt)|0)+Math.imul(U,Lt)|0))<<13)|0;F=((D=D+Math.imul(U,jt)|0)+(P>>>13)|0)+(re>>>26)|0,re&=67108863,E=Math.imul(ht,wt),P=(P=Math.imul(ht,Tt))+Math.imul(dt,wt)|0,D=Math.imul(dt,Tt),E=E+Math.imul(at,_t)|0,P=(P=P+Math.imul(at,Et)|0)+Math.imul(ct,_t)|0,D=D+Math.imul(ct,Et)|0,E=E+Math.imul(it,At)|0,P=(P=P+Math.imul(it,It)|0)+Math.imul(st,At)|0,D=D+Math.imul(st,It)|0,E=E+Math.imul(et,Dt)|0,P=(P=P+Math.imul(et,Bt)|0)+Math.imul(rt,Dt)|0,D=D+Math.imul(rt,Bt)|0,E=E+Math.imul(Z,Mt)|0,P=(P=P+Math.imul(Z,Ot)|0)+Math.imul(Q,Mt)|0,D=D+Math.imul(Q,Ot)|0,E=E+Math.imul(X,Ft)|0,P=(P=P+Math.imul(X,Nt)|0)+Math.imul(Y,Ft)|0,D=D+Math.imul(Y,Nt)|0,E=E+Math.imul(G,Lt)|0,P=(P=P+Math.imul(G,jt)|0)+Math.imul(W,Lt)|0,D=D+Math.imul(W,jt)|0;var ne=(F+(E=E+Math.imul(L,Ut)|0)|0)+((8191&(P=(P=P+Math.imul(L,Vt)|0)+Math.imul(U,Ut)|0))<<13)|0;F=((D=D+Math.imul(U,Vt)|0)+(P>>>13)|0)+(ne>>>26)|0,ne&=67108863,E=Math.imul(pt,wt),P=(P=Math.imul(pt,Tt))+Math.imul(mt,wt)|0,D=Math.imul(mt,Tt),E=E+Math.imul(ht,_t)|0,P=(P=P+Math.imul(ht,Et)|0)+Math.imul(dt,_t)|0,D=D+Math.imul(dt,Et)|0,E=E+Math.imul(at,At)|0,P=(P=P+Math.imul(at,It)|0)+Math.imul(ct,At)|0,D=D+Math.imul(ct,It)|0,E=E+Math.imul(it,Dt)|0,P=(P=P+Math.imul(it,Bt)|0)+Math.imul(st,Dt)|0,D=D+Math.imul(st,Bt)|0,E=E+Math.imul(et,Mt)|0,P=(P=P+Math.imul(et,Ot)|0)+Math.imul(rt,Mt)|0,D=D+Math.imul(rt,Ot)|0,E=E+Math.imul(Z,Ft)|0,P=(P=P+Math.imul(Z,Nt)|0)+Math.imul(Q,Ft)|0,D=D+Math.imul(Q,Nt)|0,E=E+Math.imul(X,Lt)|0,P=(P=P+Math.imul(X,jt)|0)+Math.imul(Y,Lt)|0,D=D+Math.imul(Y,jt)|0,E=E+Math.imul(G,Ut)|0,P=(P=P+Math.imul(G,Vt)|0)+Math.imul(W,Ut)|0,D=D+Math.imul(W,Vt)|0;var ie=(F+(E=E+Math.imul(L,Gt)|0)|0)+((8191&(P=(P=P+Math.imul(L,zt)|0)+Math.imul(U,Gt)|0))<<13)|0;F=((D=D+Math.imul(U,zt)|0)+(P>>>13)|0)+(ie>>>26)|0,ie&=67108863,E=Math.imul(vt,wt),P=(P=Math.imul(vt,Tt))+Math.imul(bt,wt)|0,D=Math.imul(bt,Tt),E=E+Math.imul(pt,_t)|0,P=(P=P+Math.imul(pt,Et)|0)+Math.imul(mt,_t)|0,D=D+Math.imul(mt,Et)|0,E=E+Math.imul(ht,At)|0,P=(P=P+Math.imul(ht,It)|0)+Math.imul(dt,At)|0,D=D+Math.imul(dt,It)|0,E=E+Math.imul(at,Dt)|0,P=(P=P+Math.imul(at,Bt)|0)+Math.imul(ct,Dt)|0,D=D+Math.imul(ct,Bt)|0,E=E+Math.imul(it,Mt)|0,P=(P=P+Math.imul(it,Ot)|0)+Math.imul(st,Mt)|0,D=D+Math.imul(st,Ot)|0,E=E+Math.imul(et,Ft)|0,P=(P=P+Math.imul(et,Nt)|0)+Math.imul(rt,Ft)|0,D=D+Math.imul(rt,Nt)|0,E=E+Math.imul(Z,Lt)|0,P=(P=P+Math.imul(Z,jt)|0)+Math.imul(Q,Lt)|0,D=D+Math.imul(Q,jt)|0,E=E+Math.imul(X,Ut)|0,P=(P=P+Math.imul(X,Vt)|0)+Math.imul(Y,Ut)|0,D=D+Math.imul(Y,Vt)|0,E=E+Math.imul(G,Gt)|0,P=(P=P+Math.imul(G,zt)|0)+Math.imul(W,Gt)|0,D=D+Math.imul(W,zt)|0;var se=(F+(E=E+Math.imul(L,$t)|0)|0)+((8191&(P=(P=P+Math.imul(L,Xt)|0)+Math.imul(U,$t)|0))<<13)|0;F=((D=D+Math.imul(U,Xt)|0)+(P>>>13)|0)+(se>>>26)|0,se&=67108863,E=Math.imul(vt,_t),P=(P=Math.imul(vt,Et))+Math.imul(bt,_t)|0,D=Math.imul(bt,Et),E=E+Math.imul(pt,At)|0,P=(P=P+Math.imul(pt,It)|0)+Math.imul(mt,At)|0,D=D+Math.imul(mt,It)|0,E=E+Math.imul(ht,Dt)|0,P=(P=P+Math.imul(ht,Bt)|0)+Math.imul(dt,Dt)|0,D=D+Math.imul(dt,Bt)|0,E=E+Math.imul(at,Mt)|0,P=(P=P+Math.imul(at,Ot)|0)+Math.imul(ct,Mt)|0,D=D+Math.imul(ct,Ot)|0,E=E+Math.imul(it,Ft)|0,P=(P=P+Math.imul(it,Nt)|0)+Math.imul(st,Ft)|0,D=D+Math.imul(st,Nt)|0,E=E+Math.imul(et,Lt)|0,P=(P=P+Math.imul(et,jt)|0)+Math.imul(rt,Lt)|0,D=D+Math.imul(rt,jt)|0,E=E+Math.imul(Z,Ut)|0,P=(P=P+Math.imul(Z,Vt)|0)+Math.imul(Q,Ut)|0,D=D+Math.imul(Q,Vt)|0,E=E+Math.imul(X,Gt)|0,P=(P=P+Math.imul(X,zt)|0)+Math.imul(Y,Gt)|0,D=D+Math.imul(Y,zt)|0;var oe=(F+(E=E+Math.imul(G,$t)|0)|0)+((8191&(P=(P=P+Math.imul(G,Xt)|0)+Math.imul(W,$t)|0))<<13)|0;F=((D=D+Math.imul(W,Xt)|0)+(P>>>13)|0)+(oe>>>26)|0,oe&=67108863,E=Math.imul(vt,At),P=(P=Math.imul(vt,It))+Math.imul(bt,At)|0,D=Math.imul(bt,It),E=E+Math.imul(pt,Dt)|0,P=(P=P+Math.imul(pt,Bt)|0)+Math.imul(mt,Dt)|0,D=D+Math.imul(mt,Bt)|0,E=E+Math.imul(ht,Mt)|0,P=(P=P+Math.imul(ht,Ot)|0)+Math.imul(dt,Mt)|0,D=D+Math.imul(dt,Ot)|0,E=E+Math.imul(at,Ft)|0,P=(P=P+Math.imul(at,Nt)|0)+Math.imul(ct,Ft)|0,D=D+Math.imul(ct,Nt)|0,E=E+Math.imul(it,Lt)|0,P=(P=P+Math.imul(it,jt)|0)+Math.imul(st,Lt)|0,D=D+Math.imul(st,jt)|0,E=E+Math.imul(et,Ut)|0,P=(P=P+Math.imul(et,Vt)|0)+Math.imul(rt,Ut)|0,D=D+Math.imul(rt,Vt)|0,E=E+Math.imul(Z,Gt)|0,P=(P=P+Math.imul(Z,zt)|0)+Math.imul(Q,Gt)|0,D=D+Math.imul(Q,zt)|0;var ae=(F+(E=E+Math.imul(X,$t)|0)|0)+((8191&(P=(P=P+Math.imul(X,Xt)|0)+Math.imul(Y,$t)|0))<<13)|0;F=((D=D+Math.imul(Y,Xt)|0)+(P>>>13)|0)+(ae>>>26)|0,ae&=67108863,E=Math.imul(vt,Dt),P=(P=Math.imul(vt,Bt))+Math.imul(bt,Dt)|0,D=Math.imul(bt,Bt),E=E+Math.imul(pt,Mt)|0,P=(P=P+Math.imul(pt,Ot)|0)+Math.imul(mt,Mt)|0,D=D+Math.imul(mt,Ot)|0,E=E+Math.imul(ht,Ft)|0,P=(P=P+Math.imul(ht,Nt)|0)+Math.imul(dt,Ft)|0,D=D+Math.imul(dt,Nt)|0,E=E+Math.imul(at,Lt)|0,P=(P=P+Math.imul(at,jt)|0)+Math.imul(ct,Lt)|0,D=D+Math.imul(ct,jt)|0,E=E+Math.imul(it,Ut)|0,P=(P=P+Math.imul(it,Vt)|0)+Math.imul(st,Ut)|0,D=D+Math.imul(st,Vt)|0,E=E+Math.imul(et,Gt)|0,P=(P=P+Math.imul(et,zt)|0)+Math.imul(rt,Gt)|0,D=D+Math.imul(rt,zt)|0;var ce=(F+(E=E+Math.imul(Z,$t)|0)|0)+((8191&(P=(P=P+Math.imul(Z,Xt)|0)+Math.imul(Q,$t)|0))<<13)|0;F=((D=D+Math.imul(Q,Xt)|0)+(P>>>13)|0)+(ce>>>26)|0,ce&=67108863,E=Math.imul(vt,Mt),P=(P=Math.imul(vt,Ot))+Math.imul(bt,Mt)|0,D=Math.imul(bt,Ot),E=E+Math.imul(pt,Ft)|0,P=(P=P+Math.imul(pt,Nt)|0)+Math.imul(mt,Ft)|0,D=D+Math.imul(mt,Nt)|0,E=E+Math.imul(ht,Lt)|0,P=(P=P+Math.imul(ht,jt)|0)+Math.imul(dt,Lt)|0,D=D+Math.imul(dt,jt)|0,E=E+Math.imul(at,Ut)|0,P=(P=P+Math.imul(at,Vt)|0)+Math.imul(ct,Ut)|0,D=D+Math.imul(ct,Vt)|0,E=E+Math.imul(it,Gt)|0,P=(P=P+Math.imul(it,zt)|0)+Math.imul(st,Gt)|0,D=D+Math.imul(st,zt)|0;var ue=(F+(E=E+Math.imul(et,$t)|0)|0)+((8191&(P=(P=P+Math.imul(et,Xt)|0)+Math.imul(rt,$t)|0))<<13)|0;F=((D=D+Math.imul(rt,Xt)|0)+(P>>>13)|0)+(ue>>>26)|0,ue&=67108863,E=Math.imul(vt,Ft),P=(P=Math.imul(vt,Nt))+Math.imul(bt,Ft)|0,D=Math.imul(bt,Nt),E=E+Math.imul(pt,Lt)|0,P=(P=P+Math.imul(pt,jt)|0)+Math.imul(mt,Lt)|0,D=D+Math.imul(mt,jt)|0,E=E+Math.imul(ht,Ut)|0,P=(P=P+Math.imul(ht,Vt)|0)+Math.imul(dt,Ut)|0,D=D+Math.imul(dt,Vt)|0,E=E+Math.imul(at,Gt)|0,P=(P=P+Math.imul(at,zt)|0)+Math.imul(ct,Gt)|0,D=D+Math.imul(ct,zt)|0;var he=(F+(E=E+Math.imul(it,$t)|0)|0)+((8191&(P=(P=P+Math.imul(it,Xt)|0)+Math.imul(st,$t)|0))<<13)|0;F=((D=D+Math.imul(st,Xt)|0)+(P>>>13)|0)+(he>>>26)|0,he&=67108863,E=Math.imul(vt,Lt),P=(P=Math.imul(vt,jt))+Math.imul(bt,Lt)|0,D=Math.imul(bt,jt),E=E+Math.imul(pt,Ut)|0,P=(P=P+Math.imul(pt,Vt)|0)+Math.imul(mt,Ut)|0,D=D+Math.imul(mt,Vt)|0,E=E+Math.imul(ht,Gt)|0,P=(P=P+Math.imul(ht,zt)|0)+Math.imul(dt,Gt)|0,D=D+Math.imul(dt,zt)|0;var le=(F+(E=E+Math.imul(at,$t)|0)|0)+((8191&(P=(P=P+Math.imul(at,Xt)|0)+Math.imul(ct,$t)|0))<<13)|0;F=((D=D+Math.imul(ct,Xt)|0)+(P>>>13)|0)+(le>>>26)|0,le&=67108863,E=Math.imul(vt,Ut),P=(P=Math.imul(vt,Vt))+Math.imul(bt,Ut)|0,D=Math.imul(bt,Vt),E=E+Math.imul(pt,Gt)|0,P=(P=P+Math.imul(pt,zt)|0)+Math.imul(mt,Gt)|0,D=D+Math.imul(mt,zt)|0;var de=(F+(E=E+Math.imul(ht,$t)|0)|0)+((8191&(P=(P=P+Math.imul(ht,Xt)|0)+Math.imul(dt,$t)|0))<<13)|0;F=((D=D+Math.imul(dt,Xt)|0)+(P>>>13)|0)+(de>>>26)|0,de&=67108863,E=Math.imul(vt,Gt),P=(P=Math.imul(vt,zt))+Math.imul(bt,Gt)|0,D=Math.imul(bt,zt);var pe=(F+(E=E+Math.imul(pt,$t)|0)|0)+((8191&(P=(P=P+Math.imul(pt,Xt)|0)+Math.imul(mt,$t)|0))<<13)|0;F=((D=D+Math.imul(mt,Xt)|0)+(P>>>13)|0)+(pe>>>26)|0,pe&=67108863;var me=(F+(E=Math.imul(vt,$t))|0)+((8191&(P=(P=Math.imul(vt,Xt))+Math.imul(bt,$t)|0))<<13)|0;return F=((D=Math.imul(bt,Xt))+(P>>>13)|0)+(me>>>26)|0,me&=67108863,O[0]=Yt,O[1]=Jt,O[2]=Zt,O[3]=Qt,O[4]=te,O[5]=ee,O[6]=re,O[7]=ne,O[8]=ie,O[9]=se,O[10]=oe,O[11]=ae,O[12]=ce,O[13]=ue,O[14]=he,O[15]=le,O[16]=de,O[17]=pe,O[18]=me,0!==F&&(O[19]=F,_.length++),_};function jumboMulTo(v,S,_){return(new FFTM).mulp(v,S,_)}function FFTM(v,S){this.x=v,this.y=S}Math.imul||(M=smallMulTo),BN.prototype.mulTo=function mulTo(v,S){var _,E=this.length+v.length;return _=10===this.length&&10===v.length?M(this,v,S):E<63?smallMulTo(this,v,S):E<1024?function bigMulTo(v,S,_){_.negative=S.negative^v.negative,_.length=v.length+S.length;for(var E=0,P=0,D=0;D<_.length-1;D++){var R=P;P=0;for(var M=67108863&E,O=Math.min(D,S.length-1),F=Math.max(0,D-v.length+1);F<=O;F++){var N=D-F,L=(0|v.words[N])*(0|S.words[F]),U=67108863&L;M=67108863&(U=U+M|0),P+=(R=(R=R+(L/67108864|0)|0)+(U>>>26)|0)>>>26,R&=67108863}_.words[D]=M,E=R,R=P}return 0!==E?_.words[D]=E:_.length--,_.strip()}(this,v,S):jumboMulTo(this,v,S),_},FFTM.prototype.makeRBT=function makeRBT(v){for(var S=new Array(v),_=BN.prototype._countBits(v)-1,E=0;E<v;E++)S[E]=this.revBin(E,_,v);return S},FFTM.prototype.revBin=function revBin(v,S,_){if(0===v||v===_-1)return v;for(var E=0,P=0;P<S;P++)E|=(1&v)<<S-P-1,v>>=1;return E},FFTM.prototype.permute=function permute(v,S,_,E,P,D){for(var R=0;R<D;R++)E[R]=S[v[R]],P[R]=_[v[R]]},FFTM.prototype.transform=function transform(v,S,_,E,P,D){this.permute(D,v,S,_,E,P);for(var R=1;R<P;R<<=1)for(var M=R<<1,O=Math.cos(2*Math.PI/M),F=Math.sin(2*Math.PI/M),N=0;N<P;N+=M)for(var L=O,U=F,V=0;V<R;V++){var G=_[N+V],W=E[N+V],$=_[N+V+R],X=E[N+V+R],Y=L*$-U*X;X=L*X+U*$,$=Y,_[N+V]=G+$,E[N+V]=W+X,_[N+V+R]=G-$,E[N+V+R]=W-X,V!==M&&(Y=O*L-F*U,U=O*U+F*L,L=Y)}},FFTM.prototype.guessLen13b=function guessLen13b(v,S){var _=1|Math.max(S,v),E=1&_,P=0;for(_=_/2|0;_;_>>>=1)P++;return 1<<P+1+E},FFTM.prototype.conjugate=function conjugate(v,S,_){if(!(_<=1))for(var E=0;E<_/2;E++){var P=v[E];v[E]=v[_-E-1],v[_-E-1]=P,P=S[E],S[E]=-S[_-E-1],S[_-E-1]=-P}},FFTM.prototype.normalize13b=function normalize13b(v,S){for(var _=0,E=0;E<S/2;E++){var P=8192*Math.round(v[2*E+1]/S)+Math.round(v[2*E]/S)+_;v[E]=67108863&P,_=P<67108864?0:P/67108864|0}return v},FFTM.prototype.convert13b=function convert13b(v,S,_,E){for(var P=0,D=0;D<S;D++)P+=0|v[D],_[2*D]=8191&P,P>>>=13,_[2*D+1]=8191&P,P>>>=13;for(D=2*S;D<E;++D)_[D]=0;assert(0===P),assert(!(-8192&P))},FFTM.prototype.stub=function stub(v){for(var S=new Array(v),_=0;_<v;_++)S[_]=0;return S},FFTM.prototype.mulp=function mulp(v,S,_){var E=2*this.guessLen13b(v.length,S.length),P=this.makeRBT(E),D=this.stub(E),R=new Array(E),M=new Array(E),O=new Array(E),F=new Array(E),N=new Array(E),L=new Array(E),U=_.words;U.length=E,this.convert13b(v.words,v.length,R,E),this.convert13b(S.words,S.length,F,E),this.transform(R,D,M,O,E,P),this.transform(F,D,N,L,E,P);for(var V=0;V<E;V++){var G=M[V]*N[V]-O[V]*L[V];O[V]=M[V]*L[V]+O[V]*N[V],M[V]=G}return this.conjugate(M,O,E),this.transform(M,O,U,D,E,P),this.conjugate(U,D,E),this.normalize13b(U,E),_.negative=v.negative^S.negative,_.length=v.length+S.length,_.strip()},BN.prototype.mul=function mul(v){var S=new BN(null);return S.words=new Array(this.length+v.length),this.mulTo(v,S)},BN.prototype.mulf=function mulf(v){var S=new BN(null);return S.words=new Array(this.length+v.length),jumboMulTo(this,v,S)},BN.prototype.imul=function imul(v){return this.clone().mulTo(v,this)},BN.prototype.imuln=function imuln(v){assert("number"==typeof v),assert(v<67108864);for(var S=0,_=0;_<this.length;_++){var E=(0|this.words[_])*v,P=(67108863&E)+(67108863&S);S>>=26,S+=E/67108864|0,S+=P>>>26,this.words[_]=67108863&P}return 0!==S&&(this.words[_]=S,this.length++),this},BN.prototype.muln=function muln(v){return this.clone().imuln(v)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(v){var S=function toBitArray(v){for(var S=new Array(v.bitLength()),_=0;_<S.length;_++){var E=_/26|0,P=_%26;S[_]=(v.words[E]&1<<P)>>>P}return S}(v);if(0===S.length)return new BN(1);for(var _=this,E=0;E<S.length&&0===S[E];E++,_=_.sqr());if(++E<S.length)for(var P=_.sqr();E<S.length;E++,P=P.sqr())0!==S[E]&&(_=_.mul(P));return _},BN.prototype.iushln=function iushln(v){assert("number"==typeof v&&v>=0);var S,_=v%26,E=(v-_)/26,P=67108863>>>26-_<<26-_;if(0!==_){var D=0;for(S=0;S<this.length;S++){var R=this.words[S]&P,M=(0|this.words[S])-R<<_;this.words[S]=M|D,D=R>>>26-_}D&&(this.words[S]=D,this.length++)}if(0!==E){for(S=this.length-1;S>=0;S--)this.words[S+E]=this.words[S];for(S=0;S<E;S++)this.words[S]=0;this.length+=E}return this.strip()},BN.prototype.ishln=function ishln(v){return assert(0===this.negative),this.iushln(v)},BN.prototype.iushrn=function iushrn(v,S,_){var E;assert("number"==typeof v&&v>=0),E=S?(S-S%26)/26:0;var P=v%26,D=Math.min((v-P)/26,this.length),R=67108863^67108863>>>P<<P,M=_;if(E-=D,E=Math.max(0,E),M){for(var O=0;O<D;O++)M.words[O]=this.words[O];M.length=D}if(0===D);else if(this.length>D)for(this.length-=D,O=0;O<this.length;O++)this.words[O]=this.words[O+D];else this.words[0]=0,this.length=1;var F=0;for(O=this.length-1;O>=0&&(0!==F||O>=E);O--){var N=0|this.words[O];this.words[O]=F<<26-P|N>>>P,F=N&R}return M&&0!==F&&(M.words[M.length++]=F),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function ishrn(v,S,_){return assert(0===this.negative),this.iushrn(v,S,_)},BN.prototype.shln=function shln(v){return this.clone().ishln(v)},BN.prototype.ushln=function ushln(v){return this.clone().iushln(v)},BN.prototype.shrn=function shrn(v){return this.clone().ishrn(v)},BN.prototype.ushrn=function ushrn(v){return this.clone().iushrn(v)},BN.prototype.testn=function testn(v){assert("number"==typeof v&&v>=0);var S=v%26,_=(v-S)/26,E=1<<S;return!(this.length<=_)&&!!(this.words[_]&E)},BN.prototype.imaskn=function imaskn(v){assert("number"==typeof v&&v>=0);var S=v%26,_=(v-S)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=_)return this;if(0!==S&&_++,this.length=Math.min(_,this.length),0!==S){var E=67108863^67108863>>>S<<S;this.words[this.length-1]&=E}return this.strip()},BN.prototype.maskn=function maskn(v){return this.clone().imaskn(v)},BN.prototype.iaddn=function iaddn(v){return assert("number"==typeof v),assert(v<67108864),v<0?this.isubn(-v):0!==this.negative?1===this.length&&(0|this.words[0])<v?(this.words[0]=v-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},BN.prototype._iaddn=function _iaddn(v){this.words[0]+=v;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},BN.prototype.isubn=function isubn(v){if(assert("number"==typeof v),assert(v<67108864),v<0)return this.iaddn(-v);if(0!==this.negative)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this.strip()},BN.prototype.addn=function addn(v){return this.clone().iaddn(v)},BN.prototype.subn=function subn(v){return this.clone().isubn(v)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(v,S,_){var E,P,D=v.length+_;this._expand(D);var R=0;for(E=0;E<v.length;E++){P=(0|this.words[E+_])+R;var M=(0|v.words[E])*S;R=((P-=67108863&M)>>26)-(M/67108864|0),this.words[E+_]=67108863&P}for(;E<this.length-_;E++)R=(P=(0|this.words[E+_])+R)>>26,this.words[E+_]=67108863&P;if(0===R)return this.strip();for(assert(-1===R),R=0,E=0;E<this.length;E++)R=(P=-(0|this.words[E])+R)>>26,this.words[E]=67108863&P;return this.negative=1,this.strip()},BN.prototype._wordDiv=function _wordDiv(v,S){var _=(this.length,v.length),E=this.clone(),P=v,D=0|P.words[P.length-1];0!==(_=26-this._countBits(D))&&(P=P.ushln(_),E.iushln(_),D=0|P.words[P.length-1]);var R,M=E.length-P.length;if("mod"!==S){(R=new BN(null)).length=M+1,R.words=new Array(R.length);for(var O=0;O<R.length;O++)R.words[O]=0}var F=E.clone()._ishlnsubmul(P,1,M);0===F.negative&&(E=F,R&&(R.words[M]=1));for(var N=M-1;N>=0;N--){var L=67108864*(0|E.words[P.length+N])+(0|E.words[P.length+N-1]);for(L=Math.min(L/D|0,67108863),E._ishlnsubmul(P,L,N);0!==E.negative;)L--,E.negative=0,E._ishlnsubmul(P,1,N),E.isZero()||(E.negative^=1);R&&(R.words[N]=L)}return R&&R.strip(),E.strip(),"div"!==S&&0!==_&&E.iushrn(_),{div:R||null,mod:E}},BN.prototype.divmod=function divmod(v,S,_){return assert(!v.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===v.negative?(D=this.neg().divmod(v,S),"mod"!==S&&(E=D.div.neg()),"div"!==S&&(P=D.mod.neg(),_&&0!==P.negative&&P.iadd(v)),{div:E,mod:P}):0===this.negative&&0!==v.negative?(D=this.divmod(v.neg(),S),"mod"!==S&&(E=D.div.neg()),{div:E,mod:D.mod}):this.negative&v.negative?(D=this.neg().divmod(v.neg(),S),"div"!==S&&(P=D.mod.neg(),_&&0!==P.negative&&P.isub(v)),{div:D.div,mod:P}):v.length>this.length||this.cmp(v)<0?{div:new BN(0),mod:this}:1===v.length?"div"===S?{div:this.divn(v.words[0]),mod:null}:"mod"===S?{div:null,mod:new BN(this.modn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new BN(this.modn(v.words[0]))}:this._wordDiv(v,S);var E,P,D},BN.prototype.div=function div(v){return this.divmod(v,"div",!1).div},BN.prototype.mod=function mod(v){return this.divmod(v,"mod",!1).mod},BN.prototype.umod=function umod(v){return this.divmod(v,"mod",!0).mod},BN.prototype.divRound=function divRound(v){var S=this.divmod(v);if(S.mod.isZero())return S.div;var _=0!==S.div.negative?S.mod.isub(v):S.mod,E=v.ushrn(1),P=v.andln(1),D=_.cmp(E);return D<0||1===P&&0===D?S.div:0!==S.div.negative?S.div.isubn(1):S.div.iaddn(1)},BN.prototype.modn=function modn(v){assert(v<=67108863);for(var S=(1<<26)%v,_=0,E=this.length-1;E>=0;E--)_=(S*_+(0|this.words[E]))%v;return _},BN.prototype.idivn=function idivn(v){assert(v<=67108863);for(var S=0,_=this.length-1;_>=0;_--){var E=(0|this.words[_])+67108864*S;this.words[_]=E/v|0,S=E%v}return this.strip()},BN.prototype.divn=function divn(v){return this.clone().idivn(v)},BN.prototype.egcd=function egcd(v){assert(0===v.negative),assert(!v.isZero());var S=this,_=v.clone();S=0!==S.negative?S.umod(v):S.clone();for(var E=new BN(1),P=new BN(0),D=new BN(0),R=new BN(1),M=0;S.isEven()&&_.isEven();)S.iushrn(1),_.iushrn(1),++M;for(var O=_.clone(),F=S.clone();!S.isZero();){for(var N=0,L=1;!(S.words[0]&L)&&N<26;++N,L<<=1);if(N>0)for(S.iushrn(N);N-- >0;)(E.isOdd()||P.isOdd())&&(E.iadd(O),P.isub(F)),E.iushrn(1),P.iushrn(1);for(var U=0,V=1;!(_.words[0]&V)&&U<26;++U,V<<=1);if(U>0)for(_.iushrn(U);U-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(O),R.isub(F)),D.iushrn(1),R.iushrn(1);S.cmp(_)>=0?(S.isub(_),E.isub(D),P.isub(R)):(_.isub(S),D.isub(E),R.isub(P))}return{a:D,b:R,gcd:_.iushln(M)}},BN.prototype._invmp=function _invmp(v){assert(0===v.negative),assert(!v.isZero());var S=this,_=v.clone();S=0!==S.negative?S.umod(v):S.clone();for(var E,P=new BN(1),D=new BN(0),R=_.clone();S.cmpn(1)>0&&_.cmpn(1)>0;){for(var M=0,O=1;!(S.words[0]&O)&&M<26;++M,O<<=1);if(M>0)for(S.iushrn(M);M-- >0;)P.isOdd()&&P.iadd(R),P.iushrn(1);for(var F=0,N=1;!(_.words[0]&N)&&F<26;++F,N<<=1);if(F>0)for(_.iushrn(F);F-- >0;)D.isOdd()&&D.iadd(R),D.iushrn(1);S.cmp(_)>=0?(S.isub(_),P.isub(D)):(_.isub(S),D.isub(P))}return(E=0===S.cmpn(1)?P:D).cmpn(0)<0&&E.iadd(v),E},BN.prototype.gcd=function gcd(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var S=this.clone(),_=v.clone();S.negative=0,_.negative=0;for(var E=0;S.isEven()&&_.isEven();E++)S.iushrn(1),_.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;_.isEven();)_.iushrn(1);var P=S.cmp(_);if(P<0){var D=S;S=_,_=D}else if(0===P||0===_.cmpn(1))break;S.isub(_)}return _.iushln(E)},BN.prototype.invm=function invm(v){return this.egcd(v).a.umod(v)},BN.prototype.isEven=function isEven(){return!(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return!(1&~this.words[0])},BN.prototype.andln=function andln(v){return this.words[0]&v},BN.prototype.bincn=function bincn(v){assert("number"==typeof v);var S=v%26,_=(v-S)/26,E=1<<S;if(this.length<=_)return this._expand(_+1),this.words[_]|=E,this;for(var P=E,D=_;0!==P&&D<this.length;D++){var R=0|this.words[D];P=(R+=P)>>>26,R&=67108863,this.words[D]=R}return 0!==P&&(this.words[D]=P,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(v){var S,_=v<0;if(0!==this.negative&&!_)return-1;if(0===this.negative&&_)return 1;if(this.strip(),this.length>1)S=1;else{_&&(v=-v),assert(v<=67108863,"Number is too big");var E=0|this.words[0];S=E===v?0:E<v?-1:1}return 0!==this.negative?0|-S:S},BN.prototype.cmp=function cmp(v){if(0!==this.negative&&0===v.negative)return-1;if(0===this.negative&&0!==v.negative)return 1;var S=this.ucmp(v);return 0!==this.negative?0|-S:S},BN.prototype.ucmp=function ucmp(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var S=0,_=this.length-1;_>=0;_--){var E=0|this.words[_],P=0|v.words[_];if(E!==P){E<P?S=-1:E>P&&(S=1);break}}return S},BN.prototype.gtn=function gtn(v){return 1===this.cmpn(v)},BN.prototype.gt=function gt(v){return 1===this.cmp(v)},BN.prototype.gten=function gten(v){return this.cmpn(v)>=0},BN.prototype.gte=function gte(v){return this.cmp(v)>=0},BN.prototype.ltn=function ltn(v){return-1===this.cmpn(v)},BN.prototype.lt=function lt(v){return-1===this.cmp(v)},BN.prototype.lten=function lten(v){return this.cmpn(v)<=0},BN.prototype.lte=function lte(v){return this.cmp(v)<=0},BN.prototype.eqn=function eqn(v){return 0===this.cmpn(v)},BN.prototype.eq=function eq(v){return 0===this.cmp(v)},BN.red=function red(v){return new Red(v)},BN.prototype.toRed=function toRed(v){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),v.convertTo(this)._forceRed(v)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(v){return this.red=v,this},BN.prototype.forceRed=function forceRed(v){return assert(!this.red,"Already a number in reduction context"),this._forceRed(v)},BN.prototype.redAdd=function redAdd(v){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},BN.prototype.redIAdd=function redIAdd(v){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},BN.prototype.redSub=function redSub(v){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},BN.prototype.redISub=function redISub(v){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},BN.prototype.redShl=function redShl(v){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},BN.prototype.redMul=function redMul(v){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},BN.prototype.redIMul=function redIMul(v){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(v){return assert(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var O={k256:null,p224:null,p192:null,p25519:null};function MPrime(v,S){this.name=v,this.p=new BN(S,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(v){if("string"==typeof v){var S=BN._prime(v);this.m=S.p,this.prime=S}else assert(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}function Mont(v){Red.call(this,v),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var v=new BN(null);return v.words=new Array(Math.ceil(this.n/13)),v},MPrime.prototype.ireduce=function ireduce(v){var S,_=v;do{this.split(_,this.tmp),S=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength()}while(S>this.n);var E=S<this.n?-1:_.ucmp(this.p);return 0===E?(_.words[0]=0,_.length=1):E>0?_.isub(this.p):void 0!==_.strip?_.strip():_._strip(),_},MPrime.prototype.split=function split(v,S){v.iushrn(this.n,0,S)},MPrime.prototype.imulK=function imulK(v){return v.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(v,S){for(var _=4194303,E=Math.min(v.length,9),P=0;P<E;P++)S.words[P]=v.words[P];if(S.length=E,v.length<=9)return v.words[0]=0,void(v.length=1);var D=v.words[9];for(S.words[S.length++]=D&_,P=10;P<v.length;P++){var R=0|v.words[P];v.words[P-10]=(R&_)<<4|D>>>22,D=R}D>>>=22,v.words[P-10]=D,0===D&&v.length>10?v.length-=10:v.length-=9},K256.prototype.imulK=function imulK(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var S=0,_=0;_<v.length;_++){var E=0|v.words[_];S+=977*E,v.words[_]=67108863&S,S=64*E+(S/67108864|0)}return 0===v.words[v.length-1]&&(v.length--,0===v.words[v.length-1]&&v.length--),v},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(v){for(var S=0,_=0;_<v.length;_++){var E=19*(0|v.words[_])+S,P=67108863&E;E>>>=26,v.words[_]=P,S=E}return 0!==S&&(v.words[v.length++]=S),v},BN._prime=function prime(v){if(O[v])return O[v];var prime;if("k256"===v)prime=new K256;else if("p224"===v)prime=new P224;else if("p192"===v)prime=new P192;else{if("p25519"!==v)throw new Error("Unknown prime "+v);prime=new P25519}return O[v]=prime,prime},Red.prototype._verify1=function _verify1(v){assert(0===v.negative,"red works only with positives"),assert(v.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(v,S){assert(!(v.negative|S.negative),"red works only with positives"),assert(v.red&&v.red===S.red,"red works only with red numbers")},Red.prototype.imod=function imod(v){return this.prime?this.prime.ireduce(v)._forceRed(this):v.umod(this.m)._forceRed(this)},Red.prototype.neg=function neg(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},Red.prototype.add=function add(v,S){this._verify2(v,S);var _=v.add(S);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},Red.prototype.iadd=function iadd(v,S){this._verify2(v,S);var _=v.iadd(S);return _.cmp(this.m)>=0&&_.isub(this.m),_},Red.prototype.sub=function sub(v,S){this._verify2(v,S);var _=v.sub(S);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},Red.prototype.isub=function isub(v,S){this._verify2(v,S);var _=v.isub(S);return _.cmpn(0)<0&&_.iadd(this.m),_},Red.prototype.shl=function shl(v,S){return this._verify1(v),this.imod(v.ushln(S))},Red.prototype.imul=function imul(v,S){return this._verify2(v,S),this.imod(v.imul(S))},Red.prototype.mul=function mul(v,S){return this._verify2(v,S),this.imod(v.mul(S))},Red.prototype.isqr=function isqr(v){return this.imul(v,v.clone())},Red.prototype.sqr=function sqr(v){return this.mul(v,v)},Red.prototype.sqrt=function sqrt(v){if(v.isZero())return v.clone();var S=this.m.andln(3);if(assert(S%2==1),3===S){var _=this.m.add(new BN(1)).iushrn(2);return this.pow(v,_)}for(var E=this.m.subn(1),P=0;!E.isZero()&&0===E.andln(1);)P++,E.iushrn(1);assert(!E.isZero());var D=new BN(1).toRed(this),R=D.redNeg(),M=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new BN(2*O*O).toRed(this);0!==this.pow(O,M).cmp(R);)O.redIAdd(R);for(var F=this.pow(O,E),N=this.pow(v,E.addn(1).iushrn(1)),L=this.pow(v,E),U=P;0!==L.cmp(D);){for(var V=L,G=0;0!==V.cmp(D);G++)V=V.redSqr();assert(G<U);var W=this.pow(F,new BN(1).iushln(U-G-1));N=N.redMul(W),F=W.redSqr(),L=L.redMul(F),U=G}return N},Red.prototype.invm=function invm(v){var S=v._invmp(this.m);return 0!==S.negative?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},Red.prototype.pow=function pow(v,S){if(S.isZero())return new BN(1).toRed(this);if(0===S.cmpn(1))return v.clone();var _=new Array(16);_[0]=new BN(1).toRed(this),_[1]=v;for(var E=2;E<_.length;E++)_[E]=this.mul(_[E-1],v);var P=_[0],D=0,R=0,M=S.bitLength()%26;for(0===M&&(M=26),E=S.length-1;E>=0;E--){for(var O=S.words[E],F=M-1;F>=0;F--){var N=O>>F&1;P!==_[0]&&(P=this.sqr(P)),0!==N||0!==D?(D<<=1,D|=N,(4===++R||0===E&&0===F)&&(P=this.mul(P,_[D]),R=0,D=0)):R=0}M=26}return P},Red.prototype.convertTo=function convertTo(v){var S=v.umod(this.m);return S===v?S.clone():S},Red.prototype.convertFrom=function convertFrom(v){var S=v.clone();return S.red=null,S},BN.mont=function mont(v){return new Mont(v)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(v){return this.imod(v.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(v){var S=this.imod(v.mul(this.rinv));return S.red=null,S},Mont.prototype.imul=function imul(v,S){if(v.isZero()||S.isZero())return v.words[0]=0,v.length=1,v;var _=v.imul(S),E=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=_.isub(E).iushrn(this.shift),D=P;return P.cmp(this.m)>=0?D=P.isub(this.m):P.cmpn(0)<0&&(D=P.iadd(this.m)),D._forceRed(this)},Mont.prototype.mul=function mul(v,S){if(v.isZero()||S.isZero())return new BN(0)._forceRed(this);var _=v.mul(S),E=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=_.isub(E).iushrn(this.shift),D=P;return P.cmp(this.m)>=0?D=P.isub(this.m):P.cmpn(0)<0&&(D=P.iadd(this.m)),D._forceRed(this)},Mont.prototype.invm=function invm(v){return this.imod(v._invmp(this.m).mul(this.r2))._forceRed(this)}}(v=_.nmd(v),this)},629206:v=>{"use strict";v.exports=function base(v){if(v.length>=255)throw new TypeError("Alphabet too long");for(var S=new Uint8Array(256),_=0;_<S.length;_++)S[_]=255;for(var E=0;E<v.length;E++){var P=v.charAt(E),D=P.charCodeAt(0);if(255!==S[D])throw new TypeError(P+" is ambiguous");S[D]=E}var R=v.length,M=v.charAt(0),O=Math.log(R)/Math.log(256),F=Math.log(256)/Math.log(R);function decodeUnsafe(v){if("string"!=typeof v)throw new TypeError("Expected String");if(0===v.length)return new Uint8Array;for(var _=0,E=0,P=0;v[_]===M;)E++,_++;for(var D=(v.length-_)*O+1>>>0,F=new Uint8Array(D);v[_];){var N=S[v.charCodeAt(_)];if(255===N)return;for(var L=0,U=D-1;(0!==N||L<P)&&-1!==U;U--,L++)N+=R*F[U]>>>0,F[U]=N%256>>>0,N=N/256>>>0;if(0!==N)throw new Error("Non-zero carry");P=L,_++}for(var V=D-P;V!==D&&0===F[V];)V++;for(var G=new Uint8Array(E+(D-V)),W=E;V!==D;)G[W++]=F[V++];return G}return{encode:function encode(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===S.length)return"";for(var _=0,E=0,P=0,D=S.length;P!==D&&0===S[P];)P++,_++;for(var O=(D-P)*F+1>>>0,N=new Uint8Array(O);P!==D;){for(var L=S[P],U=0,V=O-1;(0!==L||U<E)&&-1!==V;V--,U++)L+=256*N[V]>>>0,N[V]=L%R>>>0,L=L/R>>>0;if(0!==L)throw new Error("Non-zero carry");E=U,P++}for(var G=O-E;G!==O&&0===N[G];)G++;for(var W=M.repeat(_);G<O;++G)W+=v.charAt(N[G]);return W},decodeUnsafe,decode:function decode(v){var S=decodeUnsafe(v);if(S)return S;throw new Error("Non-base"+R+" character")}}}},586589:(v,S,_)=>{const E=_(629206);v.exports=E("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},988596:(v,S,_)=>{"use strict";_.d(S,{Gdf:()=>nr,fnT:()=>Mn,HH7:()=>fr,FRY:()=>Rn,AcW:()=>ce,KW$:()=>Pn,cLD:()=>Jr,APd:()=>isValidSuiAddress,ibA:()=>messageWithIntent,t4L:()=>normalizeSuiAddress,oxV:()=>toB64,CU6:()=>toSerializedSignature});_(882926);var E=_(586589),P=_.n(E);function dist_fromB64(v,S){for(var _,E,P,D=v.replace(/[^A-Za-z0-9+/]/g,""),R=D.length,M=S?Math.ceil((3*R+1>>2)/S)*S:3*R+1>>2,O=new Uint8Array(M),F=0,N=0,L=0;L<R;L++)if(E=3&L,F|=((P=D.charCodeAt(L))>64&&P<91?P-65:P>96&&P<123?P-71:P>47&&P<58?P+4:43===P?62:47===P?63:0)<<6*(3-E),3===E||R-L==1){for(_=0;_<3&&N<M;_++,N++)O[N]=F>>>(16>>>_&24)&255;F=0}return O}function uint6ToB64(v){return v<26?v+65:v<52?v+71:v<62?v-4:62===v?43:63===v?47:65}function toB64(v){for(var S=2,_="",E=v.length,P=0,D=0;D<E;D++)S=D%3,D>0&&4*D/3%76==0&&(_+=""),P|=v[D]<<(16>>>S&24),2!==S&&v.length-D!=1||(_+=String.fromCodePoint(uint6ToB64(P>>>18&63),uint6ToB64(P>>>12&63),uint6ToB64(P>>>6&63),uint6ToB64(63&P)),P=0);return _.slice(0,_.length-2+S)+(2===S?"":1===S?"=":"==")}function dist_fromHEX(v){let S=v.replace("0x","").match(/.{1,2}/g).map((v=>parseInt(v,16)));if(null===S)throw new Error(`Unable to parse HEX: ${v}`);return Uint8Array.from(S)}function dist_toHEX(v){return v.reduce(((v,S)=>v+S.toString(16).padStart(2,"0")),"")}function toLittleEndian(v,S){let _=new Uint8Array(S),E=0;for(;v>0;)_[E]=Number(v%BigInt(256)),v/=BigInt(256),E+=1;return _}var toB58=v=>P().encode(v),fromB58=v=>P().decode(v),D=class{constructor(v){this.bytePosition=0,this.dataView=new DataView(v.buffer)}shift(v){return this.bytePosition+=v,this}read8(){let v=this.dataView.getUint8(this.bytePosition);return this.shift(1),v}read16(){let v=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),v}read32(){let v=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),v}read64(){let v=this.read32(),S=this.read32().toString(16)+v.toString(16).padStart(8,"0");return BigInt("0x"+S).toString(10)}read128(){let v=BigInt(this.read64()),S=BigInt(this.read64()).toString(16)+v.toString(16).padStart(8,"0");return BigInt("0x"+S).toString(10)}read256(){let v=BigInt(this.read128()),S=BigInt(this.read128()).toString(16)+v.toString(16).padStart(16,"0");return BigInt("0x"+S).toString(10)}readBytes(v){let S=this.bytePosition+this.dataView.byteOffset,_=new Uint8Array(this.dataView.buffer,S,v);return this.shift(v),_}readULEB(){let v=this.bytePosition+this.dataView.byteOffset,S=new Uint8Array(this.dataView.buffer,v),{value:_,length:E}=function ulebDecode(v){let S=0,_=0,E=0;for(;;){let P=v[E];if(E+=1,S|=(127&P)<<_,!(128&P))break;_+=7}return{value:S,length:E}}(S);return this.shift(E),_}readVec(v){let S=this.readULEB(),_=[];for(let E=0;E<S;E++)_.push(v(this,E,S));return _}},R=class{constructor({size:v=1024,maxSize:S,allocateSize:_=1024}={}){this.bytePosition=0,this.size=v,this.maxSize=S||v,this.allocateSize=_,this.dataView=new DataView(new ArrayBuffer(v))}ensureSizeOrGrow(v){const S=this.bytePosition+v;if(S>this.size){const v=Math.min(this.maxSize,this.size+this.allocateSize);if(S>v)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${S}`);this.size=v;const _=new ArrayBuffer(this.size);new Uint8Array(_).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(_)}}shift(v){return this.bytePosition+=v,this}write8(v){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(v)),this.shift(1)}write16(v){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(v),!0),this.shift(2)}write32(v){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(v),!0),this.shift(4)}write64(v){return toLittleEndian(BigInt(v),8).forEach((v=>this.write8(v))),this}write128(v){return toLittleEndian(BigInt(v),16).forEach((v=>this.write8(v))),this}write256(v){return toLittleEndian(BigInt(v),32).forEach((v=>this.write8(v))),this}writeULEB(v){return function ulebEncode(v){let S=[],_=0;if(0===v)return[0];for(;v>0;)S[_]=127&v,(v>>=7)&&(S[_]|=128),_+=1;return S}(v).forEach((v=>this.write8(v))),this}writeVec(v,S){return this.writeULEB(v.length),Array.from(v).forEach(((_,E)=>S(this,_,E,v.length))),this}*[Symbol.iterator](){for(let v=0;v<this.bytePosition;v++)yield this.dataView.getUint8(v);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(v){return function encodeStr(v,S){switch(S){case"base58":return toB58(v);case"base64":return toB64(v);case"hex":return dist_toHEX(v);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),v)}};var M=class{constructor(v){if(this.types=new Map,this.counter=0,v instanceof M)return this.schema=v.schema,void(this.types=new Map(v.types));if(this.schema=v,this.registerAddressType(M.ADDRESS,v.addressLength,v.addressEncoding),this.registerVectorType(v.vectorType),v.types&&v.types.structs)for(let S of Object.keys(v.types.structs))this.registerStructType(S,v.types.structs[S]);if(v.types&&v.types.enums)for(let S of Object.keys(v.types.enums))this.registerEnumType(S,v.types.enums[S]);if(v.types&&v.types.aliases)for(let S of Object.keys(v.types.aliases))this.registerAlias(S,v.types.aliases[S]);!1!==v.withPrimitives&&function registerPrimitives(v){v.registerType(O.U8,(function(v,S){return v.write8(S)}),(function(v){return v.read8()}),(v=>v<256)),v.registerType(O.U16,(function(v,S){return v.write16(S)}),(function(v){return v.read16()}),(v=>v<65536)),v.registerType(O.U32,(function(v,S){return v.write32(S)}),(function(v){return v.read32()}),(v=>v<=4294967296n)),v.registerType(O.U64,(function(v,S){return v.write64(S)}),(function(v){return v.read64()})),v.registerType(O.U128,(function(v,S){return v.write128(S)}),(function(v){return v.read128()})),v.registerType(O.U256,(function(v,S){return v.write256(S)}),(function(v){return v.read256()})),v.registerType(O.BOOL,(function(v,S){return v.write8(S)}),(function(v){return"1"===v.read8().toString(10)})),v.registerType(O.STRING,(function(v,S){return v.writeVec(Array.from(S),((v,S)=>v.write8(S.charCodeAt(0))))}),(function(v){return v.readVec((v=>v.read8())).map((v=>String.fromCharCode(Number(v)))).join("")}),(v=>!0)),v.registerType(O.HEX,(function(v,S){return v.writeVec(Array.from(dist_fromHEX(S)),((v,S)=>v.write8(S)))}),(function(v){let S=v.readVec((v=>v.read8()));return dist_toHEX(new Uint8Array(S))})),v.registerType(O.BASE58,(function(v,S){return v.writeVec(Array.from(fromB58(S)),((v,S)=>v.write8(S)))}),(function(v){let S=v.readVec((v=>v.read8()));return toB58(new Uint8Array(S))})),v.registerType(O.BASE64,(function(v,S){return v.writeVec(Array.from(dist_fromB64(S)),((v,S)=>v.write8(S)))}),(function(v){let S=v.readVec((v=>v.read8()));return toB64(new Uint8Array(S))}))}(this)}tempKey(){return"bcs-struct-"+ ++this.counter}ser(v,S,_){if("string"==typeof v||Array.isArray(v)){const{name:E,params:P}=this.parseTypeName(v);return this.getTypeInterface(E).encode(this,S,_,P)}if("object"==typeof v){const E=this.tempKey();return new M(this).registerStructType(E,v).ser(E,S,_)}throw new Error(`Incorrect type passed into the '.ser()' function. \n${JSON.stringify(v)}`)}de(v,S,_){if("string"==typeof S){if(!_)throw new Error("To pass a string to `bcs.de`, specify encoding");S=function decodeStr(v,S){switch(S){case"base58":return fromB58(v);case"base64":return dist_fromB64(v);case"hex":return dist_fromHEX(v);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(S,_)}if("string"==typeof v||Array.isArray(v)){const{name:_,params:E}=this.parseTypeName(v);return this.getTypeInterface(_).decode(this,S,E)}if("object"==typeof v){const E=new M(this),P=this.tempKey();return E.registerStructType(P,v).de(P,S,_)}throw new Error(`Incorrect type passed into the '.de()' function. \n${JSON.stringify(v)}`)}hasType(v){return this.types.has(v)}registerAlias(v,S){return this.types.set(v,S),this}registerType(v,S,_,E=(()=>!0)){const{name:P,params:M}=this.parseTypeName(v);return this.types.set(P,{encode(v,S,_,E){const P=M.reduce(((v,S,_)=>Object.assign(v,{[S]:E[_]})),{});return this._encodeRaw.call(v,new R(_),S,E,P)},decode(v,S,_){const E=M.reduce(((v,S,E)=>Object.assign(v,{[S]:_[E]})),{});return this._decodeRaw.call(v,new D(S),_,E)},_encodeRaw(v,_,D,R){if(E(_))return S.call(this,v,_,D,R);throw new Error(`Validation failed for type ${P}, data: ${_}`)},_decodeRaw(v,S,E){return _.call(this,v,S,E)}}),this}registerAddressType(v,S,_="hex"){switch(_){case"base64":return this.registerType(v,(function encodeAddress(v,S){return dist_fromB64(S).reduce(((v,S)=>v.write8(S)),v)}),(function decodeAddress(v){return toB64(v.readBytes(S))}));case"hex":return this.registerType(v,(function encodeAddress(v,S){return dist_fromHEX(S).reduce(((v,S)=>v.write8(S)),v)}),(function decodeAddress(v){return dist_toHEX(v.readBytes(S))}));default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(v){let{name:S,params:_}=this.parseTypeName(v);if(_.length>1)throw new Error("Vector can have only one type parameter; got "+S);return this.registerType(v,(function encodeVector(S,_,E,P){return S.writeVec(_,((S,_)=>{let D=E[0];if(!D)throw new Error(`Incorrect number of type parameters passed a to vector '${v}'`);let{name:R,params:M}=this.parseTypeName(D);if(this.hasType(R))return this.getTypeInterface(R)._encodeRaw.call(this,S,_,M,P);if(!(R in P))throw new Error(`Unable to find a matching type definition for ${R} in vector; make sure you passed a generic`);let{name:O,params:F}=this.parseTypeName(P[R]);return this.getTypeInterface(O)._encodeRaw.call(this,S,_,F,P)}))}),(function decodeVector(S,_,E){return S.readVec((S=>{let P=_[0];if(!P)throw new Error(`Incorrect number of type parameters passed to a vector '${v}'`);let{name:D,params:R}=this.parseTypeName(P);if(this.hasType(D))return this.getTypeInterface(D)._decodeRaw.call(this,S,R,E);if(!(D in E))throw new Error(`Unable to find a matching type definition for ${D} in vector; make sure you passed a generic`);let{name:M,params:O}=this.parseTypeName(E[D]);this.getTypeInterface(M)._decodeRaw.call(this,S,O,E)}))}))}registerStructType(v,S){for(let v in S){let _=this.tempKey(),E=S[v];Array.isArray(E)||"string"==typeof E||(S[v]=_,this.registerStructType(_,E))}let _=Object.freeze(S),E=Object.keys(_),{name:P,params:D}=this.parseTypeName(v);return this.registerType(v,(function encodeStruct(v,S,R,M){if(!S||S.constructor!==Object)throw new Error(`Expected ${P} to be an Object, got: ${S}`);if(R.length!==D.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${D.length}, got: ${R.length}`);for(let O of E){if(!(O in S))throw new Error(`Struct ${P} requires field ${O}:${_[O]}`);const{name:E,params:F}=this.parseTypeName(_[O]);if(D.includes(E)){const _=D.indexOf(E);let{name:F,params:N}=this.parseTypeName(R[_]);if(this.hasType(F)){this.getTypeInterface(F)._encodeRaw.call(this,v,S[O],N,M);continue}if(!(F in M))throw new Error(`Unable to find a matching type definition for ${F} in ${P}; make sure you passed a generic`);let{name:L,params:U}=this.parseTypeName(M[F]);this.getTypeInterface(L)._encodeRaw.call(this,v,S[O],U,M)}else this.getTypeInterface(E)._encodeRaw.call(this,v,S[O],F,M)}return v}),(function decodeStruct(v,S,R){if(S.length!==D.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${D.length}, got: ${S.length}`);let M={};for(let O of E){const{name:E,params:F}=this.parseTypeName(_[O]);if(D.includes(E)){const _=D.indexOf(E);let{name:F,params:N}=this.parseTypeName(S[_]);if(this.hasType(F)){M[O]=this.getTypeInterface(F)._decodeRaw.call(this,v,N,R);continue}if(!(F in R))throw new Error(`Unable to find a matching type definition for ${F} in ${P}; make sure you passed a generic`);let{name:L,params:U}=this.parseTypeName(R[F]);M[O]=this.getTypeInterface(L)._decodeRaw.call(this,v,U,R)}else M[O]=this.getTypeInterface(E)._decodeRaw.call(this,v,F,R)}return M}))}registerEnumType(v,S){for(let v in S){let _=this.tempKey(),E=S[v];null===E||Array.isArray(E)||"string"==typeof E||(S[v]=_,this.registerStructType(_,E))}let _=Object.freeze(S),E=Object.keys(_),{name:P,params:D}=this.parseTypeName(v);return this.registerType(v,(function encodeEnum(v,S,R,M){if(!S)throw new Error(`Unable to write enum "${P}", missing data.\nReceived: "${S}"`);if("object"!=typeof S)throw new Error(`Incorrect data passed into enum "${P}", expected object with properties: "${E.join(" | ")}".\nReceived: "${JSON.stringify(S)}"`);let O=Object.keys(S)[0];if(void 0===O)throw new Error(`Empty object passed as invariant of the enum "${P}"`);let F=E.indexOf(O);if(-1===F)throw new Error(`Unknown invariant of the enum "${P}", allowed values: "${E.join(" | ")}"; received "${O}"`);let N=E[F],L=_[N];if(v.write8(F),null===L)return v;let U=D.indexOf(L),V=-1===U?L:R[U];{let{name:_,params:E}=this.parseTypeName(V);return this.getTypeInterface(_)._encodeRaw.call(this,v,S[O],E,M)}}),(function decodeEnum(v,S,R){let M=v.readULEB(),O=E[M],F=_[O];if(-1===M)throw new Error(`Decoding type mismatch, expected enum "${P}" invariant index, received "${M}"`);if(null===F)return{[O]:!0};let N=D.indexOf(F),L=-1===N?F:S[N];{let{name:S,params:_}=this.parseTypeName(L);return{[O]:this.getTypeInterface(S)._decodeRaw.call(this,v,_,R)}}}))}getTypeInterface(v){let S=this.types.get(v);if("string"==typeof S){let v=[];for(;"string"==typeof S;){if(v.includes(S))throw new Error(`Recursive definition found: ${v.join(" -> ")} -> ${S}`);v.push(S),S=this.types.get(S)}}if(void 0===S)throw new Error(`Type ${v} is not registered`);return S}parseTypeName(v){if(Array.isArray(v)){let[S,..._]=v;return{name:S,params:_}}if("string"!=typeof v)throw new Error(`Illegal type passed as a name of the type: ${v}`);let[S,_]=this.schema.genericSeparators||["<",">"],E=v.indexOf(S),P=Array.from(v).reverse().indexOf(_);if(-1===E&&-1===P)return{name:v,params:[]};if(-1===E||-1===P)throw new Error(`Unclosed generic in name '${v}'`);return{name:v.slice(0,E),params:v.slice(E+1,v.length-P-1).split(",").map((v=>v.trim()))}}},O=M;O.U8="u8",O.U16="u16",O.U32="u32",O.U64="u64",O.U128="u128",O.U256="u256",O.BOOL="bool",O.VECTOR="vector",O.ADDRESS="address",O.STRING="string",O.HEX="hex-string",O.BASE58="base58-string",O.BASE64="base64-string";var F=_(614555),N=_(830036);class StructError extends TypeError{constructor(v,S){let _;const{message:E,explanation:P,...D}=v,{path:R}=v,M=0===R.length?E:`At path: ${R.join(".")} -- ${E}`;super(P??M),null!=P&&(this.cause=M),Object.assign(this,D),this.name=this.constructor.name,this.failures=()=>_??(_=[v,...S()])}}function isObject(v){return"object"==typeof v&&null!=v}function print(v){return"symbol"==typeof v?v.toString():"string"==typeof v?JSON.stringify(v):`${v}`}function toFailure(v,S,_,E){if(!0===v)return;!1===v?v={}:"string"==typeof v&&(v={message:v});const{path:P,branch:D}=S,{type:R}=_,{refinement:M,message:O=`Expected a value of type \`${R}\`${M?` with refinement \`${M}\``:""}, but received: \`${print(E)}\``}=v;return{value:E,type:R,refinement:M,key:P[P.length-1],path:P,branch:D,...v,message:O}}function*toFailures(v,S,_,E){(function isIterable(v){return isObject(v)&&"function"==typeof v[Symbol.iterator]})(v)||(v=[v]);for(const P of v){const v=toFailure(P,S,_,E);v&&(yield v)}}function*run(v,S,_={}){const{path:E=[],branch:P=[v],coerce:D=!1,mask:R=!1}=_,M={path:E,branch:P};if(D&&(v=S.coercer(v,M),R&&"type"!==S.type&&isObject(S.schema)&&isObject(v)&&!Array.isArray(v)))for(const _ in v)void 0===S.schema[_]&&delete v[_];let O="valid";for(const E of S.validator(v,M))E.explanation=_.message,O="not_valid",yield[E,void 0];for(let[F,N,L]of S.entries(v,M)){const S=run(N,L,{path:void 0===F?E:[...E,F],branch:void 0===F?P:[...P,N],coerce:D,mask:R,message:_.message});for(const _ of S)_[0]?(O=null!=_[0].refinement?"not_refined":"not_valid",yield[_[0],void 0]):D&&(N=_[1],void 0===F?v=N:v instanceof Map?v.set(F,N):v instanceof Set?v.add(N):isObject(v)&&(void 0!==N||F in v)&&(v[F]=N))}if("not_valid"!==O)for(const E of S.refiner(v,M))E.explanation=_.message,O="not_refined",yield[E,void 0];"valid"===O&&(yield[void 0,v])}class Struct{constructor(v){const{type:S,schema:_,validator:E,refiner:P,coercer:D=(v=>v),entries:R=function*(){}}=v;this.type=S,this.schema=_,this.entries=R,this.coercer=D,this.validator=E?(v,S)=>toFailures(E(v,S),S,this,v):()=>[],this.refiner=P?(v,S)=>toFailures(P(v,S),S,this,v):()=>[]}assert(v,S){return assert(v,this,S)}create(v,S){return create(v,this,S)}is(v){return dist_is(v,this)}mask(v,S){return mask(v,this,S)}validate(v,S={}){return validate(v,this,S)}}function assert(v,S,_){const E=validate(v,S,{message:_});if(E[0])throw E[0]}function create(v,S,_){const E=validate(v,S,{coerce:!0,message:_});if(E[0])throw E[0];return E[1]}function mask(v,S,_){const E=validate(v,S,{coerce:!0,mask:!0,message:_});if(E[0])throw E[0];return E[1]}function dist_is(v,S){return!validate(v,S)[0]}function validate(v,S,_={}){const E=run(v,S,_),P=function shiftIterator(v){const{done:S,value:_}=v.next();return S?void 0:_}(E);if(P[0]){return[new StructError(P[0],(function*(){for(const v of E)v[0]&&(yield v[0])})),void 0]}return[void 0,P[1]]}function dist_assign(...v){const S="type"===v[0].type,_=v.map((v=>v.schema)),E=Object.assign({},..._);return S?type(E):object(E)}function dist_define(v,S){return new Struct({type:v,schema:null,validator:S})}function any(){return dist_define("any",(()=>!0))}function array(v){return new Struct({type:"array",schema:v,*entries(S){if(v&&Array.isArray(S))for(const[_,E]of S.entries())yield[_,E,v]},coercer:v=>Array.isArray(v)?v.slice():v,validator:v=>Array.isArray(v)||`Expected an array value, but received: ${print(v)}`})}function dist_boolean(){return dist_define("boolean",(v=>"boolean"==typeof v))}function integer(){return dist_define("integer",(v=>"number"==typeof v&&!isNaN(v)&&Number.isInteger(v)||`Expected an integer, but received: ${print(v)}`))}function literal(v){const S=print(v),_=typeof v;return new Struct({type:"literal",schema:"string"===_||"number"===_||"boolean"===_?v:null,validator:_=>_===v||`Expected the literal \`${S}\`, but received: ${print(_)}`})}function never(){return dist_define("never",(()=>!1))}function nullable(v){return new Struct({...v,validator:(S,_)=>null===S||v.validator(S,_),refiner:(S,_)=>null===S||v.refiner(S,_)})}function number(){return dist_define("number",(v=>"number"==typeof v&&!isNaN(v)||`Expected a number, but received: ${print(v)}`))}function object(v){const S=v?Object.keys(v):[],_=never();return new Struct({type:"object",schema:v||null,*entries(E){if(v&&isObject(E)){const P=new Set(Object.keys(E));for(const _ of S)P.delete(_),yield[_,E[_],v[_]];for(const v of P)yield[v,E[v],_]}},validator:v=>isObject(v)||`Expected an object, but received: ${print(v)}`,coercer:v=>isObject(v)?{...v}:v})}function optional(v){return new Struct({...v,validator:(S,_)=>void 0===S||v.validator(S,_),refiner:(S,_)=>void 0===S||v.refiner(S,_)})}function record(v,S){return new Struct({type:"record",schema:null,*entries(_){if(isObject(_))for(const E in _){const P=_[E];yield[E,E,v],yield[E,P,S]}},validator:v=>isObject(v)||`Expected an object, but received: ${print(v)}`})}function string(){return dist_define("string",(v=>"string"==typeof v||`Expected a string, but received: ${print(v)}`))}function tuple(v){const S=never();return new Struct({type:"tuple",schema:null,*entries(_){if(Array.isArray(_)){const E=Math.max(v.length,_.length);for(let P=0;P<E;P++)yield[P,_[P],v[P]||S]}},validator:v=>Array.isArray(v)||`Expected an array, but received: ${print(v)}`})}function type(v){const S=Object.keys(v);return new Struct({type:"type",schema:v,*entries(_){if(isObject(_))for(const E of S)yield[E,_[E],v[E]]},validator:v=>isObject(v)||`Expected an object, but received: ${print(v)}`,coercer:v=>isObject(v)?{...v}:v})}function union(v){const S=v.map((v=>v.type)).join(" | ");return new Struct({type:"union",schema:null,coercer(S){for(const _ of v){const[v,E]=_.validate(S,{coerce:!0});if(!v)return E}return S},validator(_,E){const P=[];for(const S of v){const[...v]=run(_,S,E),[D]=v;if(!D[0])return[];for(const[S]of v)S&&P.push(S)}return[`Expected the value to satisfy a union of \`${S}\`, but received: ${print(_)}`,...P]}})}var L=_(759499),U=_.n(L),V=_(787091),G=_(239585),__accessCheck=(v,S,_)=>{if(!S.has(v))throw TypeError("Cannot "+_)},__privateGet=(v,S,_)=>(__accessCheck(v,S,"read from private field"),_?_.call(v):S.get(v)),__privateAdd=(v,S,_)=>{if(S.has(v))throw TypeError("Cannot add the same private member more than once");S instanceof WeakSet?S.add(v):S.set(v,_)},__privateSet=(v,S,_,E)=>(__accessCheck(v,S,"write to private field"),E?E.call(v,_):S.set(v,_),_),__privateMethod=(v,S,_)=>(__accessCheck(v,S,"access private method"),_),W=string(),$=string(),X=string(),Y=string(),J=string(),Z=string(),Q=union([object({AddressOwner:J}),object({ObjectOwner:J}),object({Shared:object({initial_shared_version:number()})}),literal("Immutable")]),tt=dist_define("SuiJsonValue",(()=>!0));function isValidTransactionDigest(v){try{return 32===fromB58(v).length}catch(v){return!1}}var et=32;function isValidSuiAddress(v){return function isHex(v){return/^(0x|0X)?[a-fA-F0-9]+$/.test(v)&&v.length%2==0}(v)&&function getHexByteLength(v){return/^(0x|0X)/.test(v)?(v.length-2)/2:v.length/2}(v)===et}function isValidSuiObjectId(v){return isValidSuiAddress(v)}function normalizeSuiAddress(v,S=!1){let _=v.toLowerCase();return!S&&_.startsWith("0x")&&(_=_.slice(2)),`0x${_.padStart(2*et,"0")}`}function normalizeSuiObjectId(v,S=!1){return normalizeSuiAddress(v,S)}union([string(),literal("package")]);var rt=object({digest:W,objectId:string(),version:union([number(),string()])}),nt=object({payment:array(rt),owner:string(),price:string(),budget:string()}),it=dist_assign(rt,object({type:string(),owner:Q,previousTransaction:W})),st=record(string(),any()),ot=record(string(),string()),at=object({type:string(),fields:st,hasPublicTransfer:dist_boolean()}),ct=object({disassembled:ot}),ut=union([dist_assign(at,object({dataType:literal("moveObject")})),dist_assign(ct,object({dataType:literal("package")}))]),ht=(object({type:string(),hasPublicTransfer:dist_boolean(),version:Z,bcsBytes:array(number())}),object({id:Y,moduleMap:record(string(),string())})),dt=union([dist_assign(at,object({dataType:literal("moveObject")})),dist_assign(ht,object({dataType:literal("package")}))]),ft=(BigInt(1e9),string()),pt=object({code:string(),error:optional(string()),object_id:optional(Y),version:optional(Z),digest:optional(ft)}),mt=object({data:nullable(record(string(),string())),error:nullable(pt)}),yt=union([mt,optional(record(string(),string()))]),vt=object({objectId:Y,version:Z,digest:ft,type:optional(string()),content:optional(ut),bcs:optional(dt),owner:optional(Q),previousTransaction:optional(W),storageRebate:optional(string()),display:optional(yt)}),bt=(object({showType:optional(dist_boolean()),showContent:optional(dist_boolean()),showBcs:optional(dist_boolean()),showOwner:optional(dist_boolean()),showPreviousTransaction:optional(dist_boolean()),showStorageRebate:optional(dist_boolean()),showDisplay:optional(dist_boolean())}),union([literal("Exists"),literal("notExists"),literal("Deleted")]),array(it),object({data:optional(vt),error:optional(pt)}));function getSuiObjectData(v){return v.data}function getObjectReference(v){if("reference"in v)return v.reference;const S=getSuiObjectData(v);return S?{objectId:S.objectId,version:S.version,digest:S.digest}:function getObjectDeletedResponse(v){if(v.error&&"object_id"in v.error&&"version"in v.error&&"digest"in v.error){const S=v.error;return{objectId:S.object_id,version:S.version,digest:S.digest}}}(v)}function getObjectOwner(v){return dist_is(v,Q)?v:getSuiObjectData(v)?.owner}var St=object({objectId:Y,atCheckpoint:optional(number())}),wt=object({data:array(bt),nextCursor:union([nullable(Y),nullable(St)]),hasNextPage:dist_boolean()}),Tt=object({txDigest:W,eventSeq:Z}),xt=object({id:Tt,packageId:Y,transactionModule:string(),sender:J,type:string(),parsedJson:optional(record(string(),any())),bcs:optional(string()),timestampMs:optional(string())}),_t=object({data:array(xt),nextCursor:nullable(Tt),hasNextPage:dist_boolean()}),Et=object({subscription:number(),result:xt});var Ct=string(),At=object({epoch:Ct,storage_charge:string(),computation_charge:string(),storage_rebate:string(),epoch_start_timestamp_ms:optional(string())}),It=object({epoch:Ct,round:string(),commit_timestamp_ms:string()}),Pt=object({objects:array(Y)}),Dt=union([literal("GasCoin"),object({Input:number()}),object({Result:number()}),object({NestedResult:tuple([number(),number()])})]),Bt=object({arguments:optional(array(Dt)),type_arguments:optional(array(string())),package:Y,module:string(),function:string()}),Rt=union([object({MoveCall:Bt}),object({TransferObjects:tuple([array(Dt),Dt])}),object({SplitCoins:tuple([Dt,array(Dt)])}),object({MergeCoins:tuple([Dt,array(Dt)])}),object({Publish:union([tuple([ct,array(Y)]),array(Y)])}),object({Upgrade:union([tuple([ct,array(Y),Y,Dt]),tuple([array(Y),Y,Dt])])}),object({MakeMoveVec:tuple([nullable(string()),array(Dt)])})]),Mt=union([object({type:literal("pure"),valueType:optional(string()),value:tt}),object({type:literal("object"),objectType:literal("immOrOwnedObject"),objectId:Y,version:Z,digest:ft}),object({type:literal("object"),objectType:literal("sharedObject"),objectId:Y,initialSharedVersion:Z,mutable:dist_boolean()})]),Ot=object({transactions:array(Rt),inputs:array(Mt)}),kt=union([dist_assign(At,object({kind:literal("ChangeEpoch")})),dist_assign(It,object({kind:literal("ConsensusCommitPrologue")})),dist_assign(Pt,object({kind:literal("Genesis")})),dist_assign(Ot,object({kind:literal("ProgrammableTransaction")}))]),Ft=object({messageVersion:literal("v1"),transaction:kt,sender:J,gasData:nt}),Nt=string(),Ht=(object({epoch:Ct,signature:union([Nt,array(Nt)]),signers_map:array(number())}),object({computationCost:string(),storageCost:string(),storageRebate:string(),nonRefundableStorageFee:string()})),Lt=object({status:union([literal("success"),literal("failure")]),error:optional(string())}),jt=object({owner:Q,reference:rt}),Kt=object({objectId:Y,sequenceNumber:Z}),Ut=object({messageVersion:literal("v1"),status:Lt,executedEpoch:Ct,modifiedAtVersions:optional(array(Kt)),gasUsed:Ht,sharedObjects:optional(array(rt)),transactionDigest:W,created:optional(array(jt)),mutated:optional(array(jt)),unwrapped:optional(array(jt)),deleted:optional(array(rt)),unwrapped_then_deleted:optional(array(rt)),wrapped:optional(array(rt)),gasObject:jt,eventsDigest:optional(X),dependencies:optional(array(W))}),Vt=array(xt),qt=tuple([array(number()),string()]),Gt=tuple([Dt,array(number()),string()]),zt=object({mutableReferenceOutputs:optional(array(Gt)),returnValues:optional(array(qt))}),Wt=object({effects:Ut,events:Vt,results:optional(array(zt)),error:optional(string())}),$t=string(),Xt=object({data:Ft,txSignatures:array(string())}),Yt=object({type:literal("published"),packageId:Y,version:Z,digest:ft,modules:array(string())}),Jt=object({type:literal("transferred"),sender:J,recipient:Q,objectType:string(),objectId:Y,version:Z,digest:ft}),Zt=object({type:literal("mutated"),sender:J,owner:Q,objectType:string(),objectId:Y,version:Z,previousVersion:Z,digest:ft}),Qt=object({type:literal("deleted"),sender:J,objectType:string(),objectId:Y,version:Z}),te=object({type:literal("wrapped"),sender:J,objectType:string(),objectId:Y,version:Z}),ee=object({type:literal("created"),sender:J,owner:Q,objectType:string(),objectId:Y,version:Z,digest:ft}),re=union([Yt,Jt,Zt,Qt,te,ee]),ne=object({owner:Q,coinType:string(),amount:string()}),ie=object({digest:W,transaction:optional(Xt),effects:optional(Ut),events:optional(Vt),timestampMs:optional(string()),checkpoint:optional(string()),confirmedLocalExecution:optional(dist_boolean()),objectChanges:optional(array(re)),balanceChanges:optional(array(ne)),errors:optional(array(string()))}),se=(object({showInput:optional(dist_boolean()),showEffects:optional(dist_boolean()),showEvents:optional(dist_boolean()),showObjectChanges:optional(dist_boolean()),showBalanceChanges:optional(dist_boolean())}),object({data:array(ie),nextCursor:nullable(W),hasNextPage:dist_boolean()})),oe=object({effects:Ut,events:Vt,objectChanges:array(re),balanceChanges:array(ne),input:optional(Ft)});function getOption(v){if("object"!=typeof v||null===v||!("type"in v)||!v.type.startsWith("0x1::option::Option<"))return v}var ae="0x1",ce="0x2::sui::SUI";normalizeSuiObjectId("0x6");var ue=object({decimals:number(),name:string(),symbol:string(),description:string(),iconUrl:nullable(string()),id:nullable(Y)}),he=class{static isDelegationSuiObject(v){return"type"in v&&v.type===he.SUI_OBJECT_TYPE}constructor(v){this.suiObject=v}nextRewardUnclaimedEpoch(){return this.suiObject.data.fields.next_reward_unclaimed_epoch}activeDelegation(){return BigInt(getOption(this.suiObject.data.fields.active_delegation)||0)}delegateAmount(){return this.suiObject.data.fields.delegate_amount}endingEpoch(){return getOption(this.suiObject.data.fields.ending_epoch)}validatorAddress(){return this.suiObject.data.fields.validator_address}isActive(){return this.activeDelegation()>0&&!this.endingEpoch()}hasUnclaimedRewards(v){return this.nextRewardUnclaimedEpoch()<=v&&(this.isActive()||(this.endingEpoch()||0)>v)}};he.SUI_OBJECT_TYPE="0x2::delegation::Delegation";var le="vector",de={kind:"TransactionKind",sender:O.ADDRESS,gasData:"GasData",expiration:"TransactionExpiration"},pe={enums:{"Option<T>":{None:null,Some:"T"},ObjectArg:{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"},CallArg:{Pure:[le,O.U8],Object:"ObjectArg",ObjVec:[le,"ObjectArg"]},TypeTag:{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null},TransactionKind:{ProgrammableTransaction:"ProgrammableTransaction",ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null},TransactionExpiration:{None:null,Epoch:O.U64},TransactionData:{V1:"TransactionDataV1"}},structs:{SuiObjectRef:{objectId:O.ADDRESS,version:O.U64,digest:"ObjectDigest"},SharedObjectRef:{objectId:O.ADDRESS,initialSharedVersion:O.U64,mutable:O.BOOL},StructTag:{address:O.ADDRESS,module:O.STRING,name:O.STRING,typeParams:[le,"TypeTag"]},GasData:{payment:[le,"SuiObjectRef"],owner:O.ADDRESS,price:O.U64,budget:O.U64},SenderSignedData:{data:"TransactionData",txSignatures:[le,[le,O.U8]]},TransactionDataV1:de},aliases:{ObjectDigest:O.BASE58}},me=new O({genericSeparators:["<",">"],vectorType:"vector",addressLength:32,addressEncoding:"hex",types:pe});me.registerType("utf8string",((v,S)=>{const _=Array.from((new TextEncoder).encode(S));return v.writeVec(_,((v,S)=>v.write8(S)))}),(v=>{let S=v.readVec((v=>v.read8()));return(new TextDecoder).decode(new Uint8Array(S))}));var ye=object({amount:number(),id:Y,transferTxDigest:W}),ve=(object({transferredGasObjects:array(ye),error:nullable(string())}),array(union([string(),object({Object:string()})]))),be=object({address:string(),name:string()}),Se=union([literal("Private"),literal("Public"),literal("Friend")]),we=object({abilities:array(string())}),Te=object({constraints:we,isPhantom:dist_boolean()}),xe=object({TypeParameter:number()}),_e=tuple([object({module:string(),package:string(),function:string()}),string()]),Ee=object({rank3Days:array(_e),rank7Days:array(_e),rank30Days:array(_e)});function isSuiMoveNormalizedType(v){if(!v)return!1;if("string"==typeof v)return!0;if(dist_is(v,xe))return!0;if(isSuiMoveNormalizedStructType(v))return!0;if("object"!=typeof v)return!1;const S=v;return!!dist_is(S.Reference,Ce)||(!!dist_is(S.MutableReference,Ce)||!!dist_is(S.Vector,Ce))}var Ce=dist_define("SuiMoveNormalizedType",isSuiMoveNormalizedType);function isSuiMoveNormalizedStructType(v){if(!v||"object"!=typeof v)return!1;const S=v;if(!S.Struct||"object"!=typeof S.Struct)return!1;const _=S.Struct;return!("string"!=typeof _.address||"string"!=typeof _.module||"string"!=typeof _.name||!Array.isArray(_.typeArguments)||!_.typeArguments.every((v=>isSuiMoveNormalizedType(v))))}dist_define("SuiMoveNormalizedStructType",isSuiMoveNormalizedStructType);var Ae=object({visibility:Se,isEntry:dist_boolean(),typeParameters:array(we),parameters:array(Ce),return:array(Ce)}),Ie=object({name:string(),type:Ce}),Pe=object({abilities:we,typeParameters:array(Te),fields:array(Ie)}),De=object({fileFormatVersion:number(),address:string(),name:string(),friends:array(be),structs:record(string(),Pe),exposedFunctions:record(string(),Ae)}),Be=record(string(),De);function extractMutableReference(v){return"object"==typeof v&&"MutableReference"in v?v.MutableReference:void 0}function extractStructTag(v){if("object"==typeof v&&"Struct"in v)return v;const S=function extractReference(v){return"object"==typeof v&&"Reference"in v?v.Reference:void 0}(v),_=extractMutableReference(v);return"object"==typeof S&&"Struct"in S?S:"object"==typeof _&&"Struct"in _?_:void 0}var Re=object({apy:number(),address:J}),Me=object({epoch:string(),apys:array(Re)}),Oe=(object({value:number()}),object({stakedSuiId:Y,stakeRequestEpoch:Ct,stakeActiveEpoch:Ct,principal:string(),status:union([literal("Active"),literal("Pending"),literal("Unstaked")]),estimatedReward:optional(string())})),ke=object({validatorAddress:J,stakingPool:Y,stakes:array(Oe)}),Fe=object({balance:object({value:number()}),distribution_counter:number(),current_distribution_amount:number(),stake_subsidy_period_length:number(),stake_subsidy_decrease_rate:number()}),Ne=(object({type:string(),fields:Fe}),object({value:number()}),object({id:string(),size:number(),head:object({vec:array()}),tail:object({vec:array()})})),He=(object({id:string(),size:number()}),object({type:string(),fields:Ne}),object({exchangeRates:object({id:string(),size:number()}),id:string(),pendingStake:number(),pendingPoolTokenWithdraw:number(),pendingTotalSuiWithdraw:number(),poolTokenBalance:number(),rewardsPool:object({value:number()}),activationEpoch:object({vec:array()}),deactivationEpoch:object({vec:array()}),suiBalance:number()})),Le=(object({type:string(),fields:He}),object({epoch:Ct,validators:array(tuple([$t,string()]))})),je=object({suiAddress:J,protocolPubkeyBytes:string(),networkPubkeyBytes:string(),workerPubkeyBytes:string(),proofOfPossessionBytes:string(),operationCapId:string(),name:string(),description:string(),imageUrl:string(),projectUrl:string(),p2pAddress:string(),netAddress:string(),primaryAddress:string(),workerAddress:string(),nextEpochProtocolPubkeyBytes:nullable(string()),nextEpochProofOfPossession:nullable(string()),nextEpochNetworkPubkeyBytes:nullable(string()),nextEpochWorkerPubkeyBytes:nullable(string()),nextEpochNetAddress:nullable(string()),nextEpochP2pAddress:nullable(string()),nextEpochPrimaryAddress:nullable(string()),nextEpochWorkerAddress:nullable(string()),votingPower:string(),gasPrice:string(),commissionRate:string(),nextEpochStake:string(),nextEpochGasPrice:string(),nextEpochCommissionRate:string(),stakingPoolId:string(),stakingPoolActivationEpoch:nullable(string()),stakingPoolDeactivationEpoch:nullable(string()),stakingPoolSuiBalance:string(),rewardsPool:string(),poolTokenBalance:string(),pendingStake:string(),pendingPoolTokenWithdraw:string(),pendingTotalSuiWithdraw:string(),exchangeRatesId:string(),exchangeRatesSize:string()}),Ke=object({epoch:string(),protocolVersion:string(),systemStateVersion:string(),storageFundTotalObjectStorageRebates:string(),storageFundNonRefundableBalance:string(),referenceGasPrice:string(),safeMode:dist_boolean(),safeModeStorageRewards:string(),safeModeComputationRewards:string(),safeModeStorageRebates:string(),safeModeNonRefundableStorageFee:string(),epochStartTimestampMs:string(),epochDurationMs:string(),stakeSubsidyStartEpoch:string(),maxValidatorCount:string(),minValidatorJoiningStake:string(),validatorLowStakeThreshold:string(),validatorVeryLowStakeThreshold:string(),validatorLowStakeGracePeriod:string(),stakeSubsidyBalance:string(),stakeSubsidyDistributionCounter:string(),stakeSubsidyCurrentDistributionAmount:string(),stakeSubsidyPeriodLength:string(),stakeSubsidyDecreaseRate:number(),totalStake:string(),activeValidators:array(je),pendingActiveValidatorsId:string(),pendingActiveValidatorsSize:string(),pendingRemovals:array(string()),stakingPoolMappingsId:string(),stakingPoolMappingsSize:string(),inactivePoolsId:string(),inactivePoolsSize:string(),validatorCandidatesId:string(),validatorCandidatesSize:string(),atRiskValidators:array(tuple([J,string()])),validatorReportRecords:array(tuple([J,array(J)]))}),Ue=object({coinType:string(),coinObjectId:Y,version:string(),digest:W,balance:string(),lockedUntilEpoch:optional(nullable(number())),previousTransaction:W}),Ve=object({data:array(Ue),nextCursor:nullable(Y),hasNextPage:dist_boolean()}),qe=object({coinType:string(),coinObjectCount:number(),totalBalance:string(),lockedBalance:object({epochId:optional(number()),number:optional(number())})}),Ge=object({value:string()}),ze=object({lastCheckpointId:string(),epochEndTimestamp:string(),protocolVersion:string(),referenceGasPrice:string(),totalStake:string(),storageFundReinvestment:string(),storageCharge:string(),storageRebate:string(),storageFundBalance:string(),stakeSubsidyAmount:string(),totalGasFees:string(),totalStakeRewardsDistributed:string(),leftoverStorageFundInflow:string()}),We=object({epoch:string(),validators:array(je),epochTotalTransactions:string(),firstCheckpointId:string(),epochStartTimestamp:string(),endOfEpochInfo:nullable(ze)}),$e=object({data:array(We),nextCursor:nullable(string()),hasNextPage:dist_boolean()}),Xe=object({computationCost:string(),storageCost:string(),storageRebate:string(),nonRefundableStorageFee:string()}),Ye=(string(),string()),Je=(object({digest:array(number())}),any()),Ze=string(),Qe=object({nextEpochCommittee:array(tuple([string(),string()])),nextEpochProtocolVersion:string(),epochCommitments:array(Je)}),tr=(object({transaction:W,effects:$}),object({epoch:string(),sequenceNumber:string(),digest:Ye,networkTotalTransactions:string(),previousDigest:optional(Ye),epochRollingGasCostSummary:Xe,timestampMs:string(),endOfEpochData:optional(Qe),validatorSignature:optional(Ze),transactions:array(W),checkpointCommitments:array(Je)})),er=object({data:array(tr),nextCursor:nullable(string()),hasNextPage:dist_boolean()}),rr={ED25519:0,Secp256k1:1};function toSerializedSignature({signature:v,signatureScheme:S,pubKey:_}){const E=new Uint8Array(1+v.length+_.toBytes().length);return E.set([rr[S]]),E.set(v,1),E.set(_.toBytes(),1+v.length),toB64(E)}var nr=class{constructor(v){if("string"==typeof v?this.data=dist_fromB64(v):v instanceof Uint8Array?this.data=v:this.data=Uint8Array.from(v),32!==this.data.length)throw new Error(`Invalid public key input. Expected 32 bytes, got ${this.data.length}`)}equals(v){return bytesEqual(this.toBytes(),v.toBytes())}toBase64(){return toB64(this.toBytes())}toBytes(){return this.data}toString(){return this.toBase64()}toSuiAddress(){let v=new Uint8Array(33);return v.set([rr.ED25519]),v.set(this.toBytes(),1),normalizeSuiAddress((0,N.My)((0,F.S)(v,{dkLen:32})).slice(0,2*et))}};function bytesEqual(v,S){if(v===S)return!0;if(v.length!==S.length)return!1;for(let _=0;_<v.length;_++)if(v[_]!==S[_])return!1;return!0}nr.SIZE=32;var ir=class{constructor(v){if("string"==typeof v?this.data=dist_fromB64(v):v instanceof Uint8Array?this.data=v:this.data=Uint8Array.from(v),33!==this.data.length)throw new Error(`Invalid public key input. Expected 33 bytes, got ${this.data.length}`)}equals(v){return bytesEqual(this.toBytes(),v.toBytes())}toBase64(){return toB64(this.toBytes())}toBytes(){return this.data}toString(){return this.toBase64()}toSuiAddress(){let v=new Uint8Array(34);return v.set([rr.Secp256k1]),v.set(this.toBytes(),1),normalizeSuiAddress((0,N.My)((0,F.S)(v,{dkLen:32})).slice(0,2*et))}};ir.SIZE=33;var sr,ar=class extends Error{constructor(v){super(v.cause?`RPC Error: ${v.cause.message}`:"Unknown RPC Error",{cause:v.cause}),this.req=v.req,this.code=v.code,this.data=v.data}},cr=class extends Error{constructor(v){super("RPC Validation Error: The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server.",{cause:v.cause}),this.req=v.req,this.result=v.result,this.message=this.toString()}toString(){let v=super.toString();return this.cause&&(v+=`\nCause: ${this.cause}`),this.result&&(v+=`\nReponse Received: ${JSON.stringify(this.result,null,2)}`),v}},ur=class extends Error{},lr=object({jsonrpc:literal("2.0"),id:string(),result:any()}),dr=object({jsonrpc:literal("2.0"),id:string(),error:object({code:any(),message:string(),data:optional(any())})}),fr=class{constructor(v,S){this.rpcClient=new(U())((async(_,E)=>{const P={method:"POST",body:_,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":"0.33.0","Client-Target-Api-Version":"1.1.0",...S}};try{let S=await fetch(v,P);const _=await S.text();if(S.ok)E(null,_);else{const v="text/html"===S.headers.get("content-type");E(new Error(`${S.status} ${S.statusText}${v?"":`: ${_}`}`))}}catch(v){E(v)}}),{})}async requestWithType(v,S,_){const E={method:v,args:S},P=await this.request(v,S);if(dist_is(P,dr))throw new ar({req:E,code:P.error.code,data:P.error.data,cause:new Error(P.error.message)});if(dist_is(P,lr)){const[v]=validate(P.result,_);return v?(console.warn(new cr({req:E,result:P.result,cause:v})),P.result):P.result}throw new ar({req:E,data:P})}async request(v,S){return new Promise(((_,E)=>{this.rpcClient.request(v,S,((v,S)=>{v?E(v):_(S)}))}))}},pr=union([literal("DynamicField"),literal("DynamicObject")]),gr=object({type:string(),value:any()}),mr=object({name:gr,bcsName:string(),type:pr,objectType:string(),objectId:Y,version:number(),digest:string()}),yr=object({data:array(mr),nextCursor:nullable(Y),hasNextPage:dist_boolean()}),vr={connectTimeout:15e3,callTimeout:3e4,reconnectInterval:3e3,maxReconnects:5},br="suix_subscribeEvent",Sr=class{constructor(v,S=vr){this.endpoint=v,this.options=S,this.connectionState=0,this.connectionTimeout=null,this.isSetup=!1,this.connectionPromise=null,this.eventSubscriptions=new Map,this.endpoint.startsWith("http")&&(this.endpoint=((v,S)=>{const _=new URL(v);return _.protocol=_.protocol.replace("http","ws"),S&&(_.port=S.toString()),_.toString()})(this.endpoint)),this.rpcClient=new V.K(this.endpoint,{reconnect_interval:this.options.reconnectInterval,max_reconnects:this.options.maxReconnects,autoconnect:!1})}setupSocket(){this.isSetup||(this.rpcClient.on("open",(()=>{this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null),this.connectionState=2,this.rpcClient.socket.on("message",this.onSocketMessage.bind(this))})),this.rpcClient.on("close",(()=>{this.connectionState=0})),this.rpcClient.on("error",console.error),this.isSetup=!0)}onSocketMessage(v){const S=JSON.parse(v),_=S.params;if(S.method===br)if((v=>v&&"subscription"in v&&"number"==typeof v.subscription&&"result"in v&&"object"==typeof v.result)(_)){const v=this.eventSubscriptions.get(_.subscription);v&&v.onMessage(_.result)}else if(dist_is(_,Et)){const v=this.eventSubscriptions.get(_.subscription);v&&v.onMessage(_.result)}}async connect(){return this.connectionPromise?this.connectionPromise:2===this.connectionState?Promise.resolve():(this.setupSocket(),this.rpcClient.connect(),this.connectionState=1,this.connectionPromise=new Promise(((v,S)=>{this.connectionTimeout=setTimeout((()=>S(new Error("timeout"))),this.options.connectTimeout),this.rpcClient.once("open",(()=>{this.refreshSubscriptions(),this.connectionPromise=null,v()})),this.rpcClient.once("error",(v=>{this.connectionPromise=null,S(v)}))})),this.connectionPromise)}async refreshSubscriptions(){if(0!==this.eventSubscriptions.size)try{let v=new Map;(await Promise.all(Array.from(this.eventSubscriptions.values()).map((async v=>{const S=v.onMessage,_=v.filter;if(!_||!S)return Promise.resolve(null);return{id:await this.subscribeEvent(_,S),onMessage:S,filter:_}})))).forEach((S=>{if(null===S)return;const _=S.filter,E=S.onMessage;v.set(S.id,{filter:_,onMessage:E})})),this.eventSubscriptions=v}catch(v){throw new Error(`error refreshing event subscriptions: ${v}`)}}async subscribeEvent(v,S){try{2!==this.connectionState&&await this.connect();let _=await this.rpcClient.call(br,[v],this.options.callTimeout);return this.eventSubscriptions.set(_,{filter:v,onMessage:S}),_}catch(S){throw new Error(`Error subscribing to event: ${JSON.stringify(S,null,2)}, filter: ${JSON.stringify(v)}`)}}async unsubscribeEvent(v){try{2!==this.connectionState&&await this.connect();let S=await this.rpcClient.call("suix_unsubscribeEvent",[v],this.options.callTimeout);return this.eventSubscriptions.delete(v)||S}catch(S){throw new Error(`Error unsubscribing from event: ${S}, subscription: ${v}`)}}};var wr=class{constructor(v){__privateAdd(this,sr,void 0),__privateSet(this,sr,v)}get fullnode(){return __privateGet(this,sr).fullnode}get websocket(){return __privateGet(this,sr).websocket||__privateGet(this,sr).fullnode}get faucet(){return __privateGet(this,sr).faucet}};sr=new WeakMap;new wr({fullnode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"});var Tr=new wr({fullnode:"https://fullnode.devnet.sui.io:443/",faucet:"https://faucet.devnet.sui.io/gas"});new wr({fullnode:"https://fullnode.testnet.sui.io:443/",faucet:"https://faucet.testnet.sui.io/gas"});function dist_create(v,S){return create(v,S)}var xr=Symbol("transaction-argument-type"),_r=object({kind:literal("Input"),index:integer(),value:optional(any()),type:optional(union([literal("pure"),literal("object")]))}),Er=[_r,object({kind:literal("GasCoin")}),object({kind:literal("Result"),index:integer()}),object({kind:literal("NestedResult"),index:integer(),resultIndex:integer()})],Cr=union([...Er]),Ar=union([...Er]);Ar[xr]={kind:"object"};var Ir,PureTransactionArgument=v=>{const S=union([...Er]);return S[xr]={kind:"pure",type:v},S},Pr=object({kind:literal("MoveCall"),target:dist_define("target",string().validator),typeArguments:array(string()),arguments:array(Cr)}),Dr=object({kind:literal("TransferObjects"),objects:array(Ar),address:PureTransactionArgument(O.ADDRESS)}),Br=object({kind:literal("SplitCoins"),coin:Ar,amounts:array(PureTransactionArgument("u64"))}),Rr=object({kind:literal("MergeCoins"),destination:Ar,sources:array(Ar)}),Mr=object({kind:literal("MakeMoveVec"),type:optional((Ir=string(),union([object({None:union([literal(!0),literal(null)])}),object({Some:Ir})]))),objects:array(Ar)}),Or=object({kind:literal("Publish"),modules:array(array(integer())),dependencies:array(Y)}),kr=object({kind:literal("Upgrade"),modules:array(array(integer())),dependencies:array(Y),packageId:Y,ticket:Ar}),Fr=[Pr,Dr,Br,Rr,Or,kr,Mr],Nr=union([...Fr]);var Hr={MoveCall:v=>dist_create({kind:"MoveCall",target:v.target,arguments:v.arguments??[],typeArguments:v.typeArguments??[]},Pr),TransferObjects:(v,S)=>dist_create({kind:"TransferObjects",objects:v,address:S},Dr),SplitCoins:(v,S)=>dist_create({kind:"SplitCoins",coin:v,amounts:S},Br),MergeCoins:(v,S)=>dist_create({kind:"MergeCoins",destination:v,sources:S},Rr),Publish:({modules:v,dependencies:S})=>dist_create({kind:"Publish",modules:v.map((v=>"string"==typeof v?Array.from(dist_fromB64(v)):v)),dependencies:S.map((v=>normalizeSuiObjectId(v)))},Or),Upgrade:({modules:v,dependencies:S,packageId:_,ticket:E})=>dist_create({kind:"Upgrade",modules:v.map((v=>"string"==typeof v?Array.from(dist_fromB64(v)):v)),dependencies:S.map((v=>normalizeSuiObjectId(v))),packageId:_,ticket:E},kr),MakeMoveVec:({type:v,objects:S})=>dist_create({kind:"MakeMoveVec",type:v?{Some:v}:{None:null},objects:S},Mr)},Lr=/^vector<(.+)>$/,jr=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,Kr=class{static parseFromStr(v,S=!1){if("address"===v)return{address:null};if("bool"===v)return{bool:null};if("u8"===v)return{u8:null};if("u16"===v)return{u16:null};if("u32"===v)return{u32:null};if("u64"===v)return{u64:null};if("u128"===v)return{u128:null};if("u256"===v)return{u256:null};if("signer"===v)return{signer:null};const _=v.match(Lr);if(_)return{vector:Kr.parseFromStr(_[1],S)};const E=v.match(jr);if(E){return{struct:{address:S?normalizeSuiAddress(E[1]):E[1],module:E[2],name:E[3],typeParams:void 0===E[5]?[]:Kr.parseStructTypeArgs(E[5],S)}}}throw new Error(`Encountered unexpected token when parsing type args for ${v}`)}static parseStructTypeArgs(v,S=!1){const _=[];let E="",P=0;for(let S=0;S<v.length;S++){const D=v[S];"<"===D&&P++,">"===D&&P--,0!==P||","!==D?E+=D:(_.push(E.trim()),E="")}return _.push(E.trim()),_.map((v=>Kr.parseFromStr(v,S)))}static tagToString(v){if("bool"in v)return"bool";if("u8"in v)return"u8";if("u16"in v)return"u16";if("u32"in v)return"u32";if("u64"in v)return"u64";if("u128"in v)return"u128";if("u256"in v)return"u256";if("address"in v)return"address";if("signer"in v)return"signer";if("vector"in v)return`vector<${Kr.tagToString(v.vector)}>`;if("struct"in v){const S=v.struct,_=S.typeParams.map(Kr.tagToString).join(", ");return`${S.address}::${S.module}::${S.name}${_?`<${_}>`:""}`}throw new Error("Invalid TypeTag")}},Ur="Argument",Vr="vector",qr="TypeTag",Gr="ProgrammableMoveCall",zr="Transaction",Wr="EnumKind",$r=[Wr,zr],Xr=[Wr,Ur],Yr="SimpleProgrammableMoveCall",Jr=new O(me).registerStructType("ProgrammableTransaction",{inputs:[Vr,"CallArg"],transactions:[Vr,$r]}).registerEnumType(Ur,{GasCoin:null,Input:{index:O.U16},Result:{index:O.U16},NestedResult:{index:O.U16,resultIndex:O.U16}}).registerStructType(Gr,{package:O.ADDRESS,module:O.STRING,function:O.STRING,type_arguments:[Vr,qr],arguments:[Vr,Xr]}).registerEnumType(zr,{MoveCall:Yr,TransferObjects:{objects:[Vr,Xr],address:Xr},SplitCoins:{coin:Xr,amounts:[Vr,Xr]},MergeCoins:{destination:Xr,sources:[Vr,Xr]},Publish:{modules:[Vr,[Vr,O.U8]],dependencies:[Vr,O.ADDRESS]},MakeMoveVec:{type:["Option",qr],objects:[Vr,Xr]},Upgrade:{modules:[Vr,[Vr,O.U8]],dependencies:[Vr,O.ADDRESS],packageId:O.ADDRESS,ticket:Xr}});Jr.registerType([Wr,"T"],(function encode(v,S,_,E){const P={[S.kind]:S},[D]=_;return this.getTypeInterface(D)._encodeRaw.call(this,v,P,_,E)}),(function decode(v,S,_){const[E]=S,P=this.getTypeInterface(E)._decodeRaw.call(this,v,S,_),D=Object.keys(P)[0];return{kind:D,...P[D]}}),(v=>{if("object"!=typeof v&&!("kind"in v))throw new Error(`EnumKind: Missing property "kind" in the input ${JSON.stringify(v)}`);return!0})),Jr.registerType(Yr,(function encodeProgrammableTx(v,S,_,E){const[P,D,R]=S.target.split("::"),M=S.typeArguments.map((v=>Kr.parseFromStr(v,!0)));return this.getTypeInterface(Gr)._encodeRaw.call(this,v,{package:normalizeSuiAddress(P),module:D,function:R,type_arguments:M,arguments:S.arguments},_,E)}),(function decodeProgrammableTx(v,S,_){let E=Jr.getTypeInterface(Gr)._decodeRaw.call(this,v,S,_);return{target:[E.package,E.module,E.function].join("::"),arguments:E.arguments,typeArguments:E.type_arguments.map(Kr.tagToString)}}),(v=>3===v.target.split("::").length));var Zr=union([object({ImmOrOwned:rt}),object({Shared:object({objectId:string(),initialSharedVersion:union([integer(),string()]),mutable:dist_boolean()})})]),Qr=object({Pure:array(integer())}),tn=object({Object:Zr}),en=union([Qr,tn]),rn={Pure:(v,S)=>({Pure:Array.from(v instanceof Uint8Array?v:Jr.ser(S,v,{maxSize:16384}).toBytes())}),ObjectRef:({objectId:v,digest:S,version:_})=>({Object:{ImmOrOwned:{digest:S,version:_,objectId:normalizeSuiAddress(v)}}}),SharedObjectRef:({objectId:v,mutable:S,initialSharedVersion:_})=>({Object:{Shared:{mutable:S,initialSharedVersion:_,objectId:normalizeSuiAddress(v)}}})};function getIdFromCallArg(v){return"string"==typeof v?normalizeSuiAddress(v):"ImmOrOwned"in v.Object?normalizeSuiAddress(v.Object.ImmOrOwned.objectId):normalizeSuiAddress(v.Object.Shared.objectId)}function getSharedObjectInput(v){return"object"==typeof v&&"Object"in v&&"Shared"in v.Object?v.Object.Shared:void 0}var nn={address:"0x2",module:"object",name:"ID"},sn={address:ae,module:"ascii",name:"String"},on={address:ae,module:"string",name:"String"},an={address:ae,module:"option",name:"Option"},isSameStruct=(v,S)=>v.address===S.address&&v.module===S.module&&v.name===S.name;function expectType(v,S){if(void 0!==S&&typeof S!==v)throw new Error(`Expect ${S} to be ${v}, received ${typeof S}`)}var cn=["Address","Bool","U8","U16","U32","U64","U128","U256"];function getPureSerializationType(v,S){if("string"==typeof v&&cn.includes(v)){if(v in["U8","U16","U32","U64","U128","U256"])expectType("number",S);else if("Bool"===v)expectType("boolean",S);else if("Address"===v&&(expectType("string",S),S&&!isValidSuiAddress(S)))throw new Error("Invalid Sui Address");return v.toLowerCase()}if("string"==typeof v)throw new Error(`Unknown pure normalized type ${JSON.stringify(v,null,2)}`);if("Vector"in v){if((void 0===S||"string"==typeof S)&&"U8"===v.Vector)return"string";if(void 0!==S&&!Array.isArray(S))throw new Error(`Expect ${S} to be a array, received ${typeof S}`);const _=getPureSerializationType(v.Vector,S?S[0]:void 0);if(void 0===_)return;return`vector<${_}>`}if("Struct"in v){if(isSameStruct(v.Struct,sn))return"string";if(isSameStruct(v.Struct,on))return"utf8string";if(isSameStruct(v.Struct,nn))return"address";if(isSameStruct(v.Struct,an)){return getPureSerializationType({Vector:v.Struct.typeArguments[0]},S)}}}var un=optional(nullable(union([object({Epoch:integer()}),object({None:union([literal(!0),literal(null)])})]))),hn=string(),ln=dist_define("StringEncodedBigint",(v=>{if(!["string","number","bigint"].includes(typeof v))return!1;try{return BigInt(v),!0}catch{return!1}})),dn=object({budget:optional(ln),price:optional(ln),payment:optional(array(rt)),owner:optional(hn)}),fn=object({version:literal(1),sender:optional(hn),expiration:un,gasConfig:dn,inputs:array(_r),transactions:array(Nr)});function prepareSuiAddress(v){return normalizeSuiAddress(v).replace("0x","")}var pn=131072,gn=class{constructor(v){this.version=1,this.sender=v?.sender,this.expiration=v?.expiration,this.gasConfig=v?.gasConfig??{},this.inputs=v?.inputs??[],this.transactions=v?.transactions??[]}static fromKindBytes(v){const S=Jr.de("TransactionKind",v),_=S?.ProgrammableTransaction;if(!_)throw new Error("Unable to deserialize from bytes.");const E=dist_create({version:1,gasConfig:{},inputs:_.inputs.map(((v,S)=>dist_create({kind:"Input",value:v,index:S,type:dist_is(v,Qr)?"pure":"object"},_r))),transactions:_.transactions},fn);return gn.restore(E)}static fromBytes(v){const S=Jr.de("TransactionData",v),_=S?.V1,E=_?.kind?.ProgrammableTransaction;if(!_||!E)throw new Error("Unable to deserialize from bytes.");const P=dist_create({version:1,sender:_.sender,expiration:_.expiration,gasConfig:_.gasData,inputs:E.inputs.map(((v,S)=>dist_create({kind:"Input",value:v,index:S,type:dist_is(v,Qr)?"pure":"object"},_r))),transactions:E.transactions},fn);return gn.restore(P)}static restore(v){assert(v,fn);const S=new gn;return Object.assign(S,v),S}static getDigestFromBytes(v){const S=function hashTypedData(v,S){const _=Array.from(`${v}::`).map((v=>v.charCodeAt(0))),E=new Uint8Array(_.length+S.length);return E.set(_),E.set(S,_.length),(0,F.S)(E,{dkLen:32})}("TransactionData",v);return toB58(S)}build({overrides:v,onlyTransactionKind:S}={}){const _=this.inputs.map((v=>(assert(v.value,en),v.value))),E={ProgrammableTransaction:{inputs:_,transactions:this.transactions}};if(S)return Jr.ser("TransactionKind",E,{maxSize:pn}).toBytes();const P=v?.expiration??this.expiration,D=v?.sender??this.sender,R={...this.gasConfig,...v?.gasConfig};if(!D)throw new Error("Missing transaction sender");if(!R.budget)throw new Error("Missing gas budget");if(!R.payment)throw new Error("Missing gas payment");if(!R.price)throw new Error("Missing gas price");const M={sender:prepareSuiAddress(D),expiration:P||{None:!0},gasData:{payment:R.payment,owner:prepareSuiAddress(this.gasConfig.owner??D),price:BigInt(R.price),budget:BigInt(R.budget)},kind:{ProgrammableTransaction:{inputs:_,transactions:this.transactions}}};return Jr.ser("TransactionData",{V1:M},{maxSize:pn}).toBytes()}getDigest(){const v=this.build({onlyTransactionKind:!1});return gn.getDigestFromBytes(v)}snapshot(){return dist_create(this,fn)}};function expectProvider(v){if(!v)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return v}var mn,yn,vn,bn,Sn,wn,Tn,xn,_n,En,Cn,An=Symbol.for("@mysten/transaction"),In=class{constructor(v){__privateAdd(this,yn),__privateAdd(this,bn),__privateAdd(this,wn),__privateAdd(this,xn),__privateAdd(this,En),__privateAdd(this,mn,void 0),__privateSet(this,mn,new gn(v?v.blockData:void 0))}static is(v){return!!v&&"object"==typeof v&&!0===v[An]}static fromKind(v){const S=new In;return __privateSet(S,mn,gn.fromKindBytes("string"==typeof v?dist_fromB64(v):v)),S}static from(v){const S=new In;return"string"==typeof v&&v.startsWith("{")?__privateSet(S,mn,gn.restore(JSON.parse(v))):__privateSet(S,mn,gn.fromBytes("string"==typeof v?dist_fromB64(v):v)),S}static get Transactions(){return Hr}static get Inputs(){return rn}setSender(v){__privateGet(this,mn).sender=v}setSenderIfNotSet(v){__privateGet(this,mn).sender||(__privateGet(this,mn).sender=v)}setExpiration(v){__privateGet(this,mn).expiration=v}setGasPrice(v){__privateGet(this,mn).gasConfig.price=String(v)}setGasBudget(v){__privateGet(this,mn).gasConfig.budget=String(v)}setGasOwner(v){__privateGet(this,mn).gasConfig.owner=v}setGasPayment(v){if(v.length>=256)throw new Error("Payment objects exceed maximum amount 256");__privateGet(this,mn).gasConfig.payment=v.map((v=>mask(v,rt)))}get blockData(){return __privateGet(this,mn).snapshot()}get[An](){return!0}get gas(){return{kind:"GasCoin"}}object(v){const S=getIdFromCallArg(v);return __privateGet(this,mn).inputs.find((v=>"object"===v.type&&S===getIdFromCallArg(v.value)))??__privateMethod(this,yn,vn).call(this,"object",v)}objectRef(...v){return this.object(rn.ObjectRef(...v))}sharedObjectRef(...v){return this.object(rn.SharedObjectRef(...v))}pure(v,S){return __privateMethod(this,yn,vn).call(this,"pure",v instanceof Uint8Array?rn.Pure(v):S?rn.Pure(v,S):v)}add(v){return function createTransactionResult(v){const S=[],nestedResultFor=_=>S[_]??(S[_]={kind:"NestedResult",index:v,resultIndex:_});return new Proxy({kind:"Result",index:v},{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(v,S){if(S in v)return Reflect.get(v,S);if(S===Symbol.iterator)return function*(){let v=0;for(;;)yield nestedResultFor(v),v++};if("symbol"==typeof S)return;const _=parseInt(S,10);return Number.isNaN(_)||_<0?void 0:nestedResultFor(_)}})}(__privateGet(this,mn).transactions.push(v)-1)}splitCoins(...v){return this.add(Hr.SplitCoins(...v))}mergeCoins(...v){return this.add(Hr.MergeCoins(...v))}publish(...v){return this.add(Hr.Publish(...v))}upgrade(...v){return this.add(Hr.Upgrade(...v))}moveCall(...v){return this.add(Hr.MoveCall(...v))}transferObjects(...v){return this.add(Hr.TransferObjects(...v))}makeMoveVec(...v){return this.add(Hr.MakeMoveVec(...v))}serialize(){return JSON.stringify(__privateGet(this,mn).snapshot())}async build({provider:v,onlyTransactionKind:S}={}){return await __privateMethod(this,En,Cn).call(this,{provider:v,onlyTransactionKind:S}),__privateGet(this,mn).build({onlyTransactionKind:S})}async getDigest({provider:v}={}){return await __privateMethod(this,En,Cn).call(this,{provider:v}),__privateGet(this,mn).getDigest()}},Pn=In;mn=new WeakMap,yn=new WeakSet,vn=function(v,S){const _=__privateGet(this,mn).inputs.length,E=dist_create({kind:"Input",value:"bigint"==typeof S?String(S):S,index:_,type:v},_r);return __privateGet(this,mn).inputs.push(E),E},bn=new WeakSet,Sn=async function({provider:v,onlyTransactionKind:S}){if(S||__privateGet(this,mn).gasConfig.payment)return;const _=__privateGet(this,mn).gasConfig.owner??__privateGet(this,mn).sender,E=(await expectProvider(v).getCoins({owner:_,coinType:ce})).data.filter((v=>!__privateGet(this,mn).inputs.find((S=>!!(dist_is(S.value,en)&&"Object"in S.value&&"ImmOrOwned"in S.value.Object)&&v.coinObjectId===S.value.Object.ImmOrOwned.objectId)))).slice(0,255).map((v=>({objectId:v.coinObjectId,digest:v.digest,version:v.version})));if(!E.length)throw new Error("No valid gas coins found for the transaction.");this.setGasPayment(E)},wn=new WeakSet,Tn=async function({provider:v,onlyTransactionKind:S}){S||__privateGet(this,mn).gasConfig.price||this.setGasPrice(await expectProvider(v).getReferenceGasPrice())},xn=new WeakSet,_n=async function(v){const{inputs:S,transactions:_}=__privateGet(this,mn),E=[],P=[];if(_.forEach((v=>{if("MoveCall"===v.kind){return void(v.arguments.some((v=>"Input"===v.kind&&!dist_is(S[v.index].value,en)))&&E.push(v))}const _=function getTransactionType(v){return assert(v,Nr),Fr.find((S=>dist_is(v,S)))}(v);_.schema&&Object.entries(v).forEach((([v,E])=>{if("kind"===v)return;const D=_.schema[v],R="array"===D.type,M=R?D.schema[xr]:D[xr];if(!M)return;const encodeInput=v=>{const _=S[v];if(!_)throw new Error(`Missing input ${E.index}`);if(!dist_is(_.value,en))if("object"===M.kind&&"string"==typeof _.value)P.push({id:_.value,input:_});else{if("pure"!==M.kind)throw new Error("Unexpected input format.");_.value=rn.Pure(_.value,M.type)}};if(R)E.forEach((v=>{"Input"===v.kind&&encodeInput(v.index)}));else{if("Input"!==E.kind)return;encodeInput(E.index)}}))})),E.length&&await Promise.all(E.map((async _=>{const[E,D,R]=_.target.split("::"),M=await expectProvider(v).getNormalizedMoveFunction({package:normalizeSuiObjectId(E),module:D,function:R}),O=M.parameters.length>0&&function isTxContext(v){const S=extractStructTag(v)?.Struct;return"0x2"===S?.address&&"tx_context"===S?.module&&"TxContext"===S?.name}(M.parameters.at(-1)),F=O?M.parameters.slice(0,M.parameters.length-1):M.parameters;if(F.length!==_.arguments.length)throw new Error("Incorrect number of arguments.");F.forEach(((v,E)=>{const D=_.arguments[E];if("Input"!==D.kind)return;const R=S[D.index];if(dist_is(R.value,en))return;const M=R.value,O=getPureSerializationType(v,M);if(O)return void(R.value=rn.Pure(M,O));if(!(null!=extractStructTag(v)||"object"==typeof v&&"TypeParameter"in v))throw new Error(`Unknown call arg type ${JSON.stringify(v,null,2)} for value ${JSON.stringify(M,null,2)}`);if("string"!=typeof M)throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(M,null,2)}`);P.push({id:M,input:R,normalizedType:v})}))}))),P.length){const S=[...new Set(P.map((({id:v})=>v)))],_=((v,S)=>Array.from({length:Math.ceil(v.length/S)},((_,E)=>v.slice(E*S,E*S+S))))(S,50),E=(await Promise.all(_.map((S=>expectProvider(v).multiGetObjects({ids:S,options:{showOwner:!0}}))))).flat();let D=new Map(S.map(((v,S)=>[v,E[S]])));const R=Array.from(D).filter((([v,S])=>S.error)).map((([v,S])=>v));if(R.length)throw new Error(`The following input objects are not invalid: ${R.join(", ")}`);P.forEach((({id:v,input:S,normalizedType:_})=>{const E=D.get(v),P=function getSharedObjectInitialVersion(v){const S=getObjectOwner(v);return"object"==typeof S&&"Shared"in S?S.Shared.initial_shared_version:void 0}(E);if(P){const E=function isMutableSharedObjectInput(v){return getSharedObjectInput(v)?.mutable??!1}(S.value)||null!=_&&null!=extractMutableReference(_);S.value=rn.SharedObjectRef({objectId:v,initialSharedVersion:P,mutable:E})}else S.value=rn.ObjectRef(getObjectReference(E))}))}},En=new WeakSet,Cn=async function({provider:v,onlyTransactionKind:S}){if(!S&&!__privateGet(this,mn).sender)throw new Error("Missing transaction sender");if(await Promise.all([__privateMethod(this,wn,Tn).call(this,{provider:v,onlyTransactionKind:S}),__privateMethod(this,xn,_n).call(this,v)]),!S&&(await __privateMethod(this,bn,Sn).call(this,{provider:v,onlyTransactionKind:S}),!__privateGet(this,mn).gasConfig.budget)){const S=await expectProvider(v).dryRunTransactionBlock({transactionBlock:__privateGet(this,mn).build({overrides:{gasConfig:{budget:String(5e10),payment:[]}}})});if("success"!==S.effects.status.status)throw new Error(`Dry run failed, could not automatically determine a budget: ${S.effects.status.error}`,{cause:S});const _=1000n*BigInt(this.blockData.gasConfig.price||1n),E=BigInt(S.effects.gasUsed.computationCost)+_,P=E+BigInt(S.effects.gasUsed.storageCost)-BigInt(S.effects.gasUsed.storageRebate);this.setGasBudget(P>E?P:E)}};var Dn=object({currentTps:number(),tps30Days:number(),currentCheckpoint:string(),currentEpoch:string(),totalAddresses:string(),totalObjects:string(),totalPackages:string()}),Bn={socketOptions:vr,versionCacheTimeoutInSeconds:600},Rn=class{constructor(v=Tr,S=Bn){this.options=S,this.connection=v;const _={...Bn,...S};this.options=_,this.client=_.rpcClient??new fr(this.connection.fullnode),this.wsClient=_.websocketClient??new Sr(this.connection.websocket,_.socketOptions)}async getRpcApiVersion(){if(this.rpcApiVersion&&this.cacheExpiry&&this.cacheExpiry<=Date.now())return this.rpcApiVersion;try{const v=await this.client.requestWithType("rpc.discover",[],any());return this.rpcApiVersion=v.info.version,this.cacheExpiry=Date.now()+1e3*(this.options.versionCacheTimeoutInSeconds??0),this.rpcApiVersion}catch(v){console.warn("Error fetching version number of the RPC API",v)}}async requestSuiFromFaucet(v,S){if(!this.connection.faucet)throw new Error("Faucet URL is not specified");return async function requestSuiFromFaucet(v,S,_){const E=await fetch(v,{method:"POST",body:JSON.stringify({FixedAmountRequest:{recipient:S}}),headers:{"Content-Type":"application/json",..._||{}}});if(429===E.status)throw new ur("Too many requests from this client have been sent to the faucet. Please retry later");let P;try{P=await E.json()}catch(v){throw new Error(`Encountered error when parsing response from faucet, error: ${v}, status ${E.status}, response ${E}`)}if(P.error)throw new Error(`Faucet returns error: ${P.error}`);return P}(this.connection.faucet,v,S)}async getCoins(v){if(!v.owner||!isValidSuiAddress(normalizeSuiAddress(v.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getCoins",[v.owner,v.coinType,v.cursor,v.limit],Ve)}async getAllCoins(v){if(!v.owner||!isValidSuiAddress(normalizeSuiAddress(v.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllCoins",[v.owner,v.cursor,v.limit],Ve)}async getBalance(v){if(!v.owner||!isValidSuiAddress(normalizeSuiAddress(v.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getBalance",[v.owner,v.coinType],qe)}async getAllBalances(v){if(!v.owner||!isValidSuiAddress(normalizeSuiAddress(v.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllBalances",[v.owner],array(qe))}async getCoinMetadata(v){return await this.client.requestWithType("suix_getCoinMetadata",[v.coinType],ue)}async getTotalSupply(v){return await this.client.requestWithType("suix_getTotalSupply",[v.coinType],Ge)}async call(v,S){const _=await this.client.request(v,S);if(dist_is(_,dr))throw new ar({req:{method:v,args:S},code:_.error.code,data:_.error.data,cause:new Error(_.error.message)});return _.result}async getMoveFunctionArgTypes(v){return await this.client.requestWithType("sui_getMoveFunctionArgTypes",[v.package,v.module,v.function],ve)}async getNormalizedMoveModulesByPackage(v){return await this.client.requestWithType("sui_getNormalizedMoveModulesByPackage",[v.package],Be)}async getNormalizedMoveModule(v){return await this.client.requestWithType("sui_getNormalizedMoveModule",[v.package,v.module],De)}async getNormalizedMoveFunction(v){return await this.client.requestWithType("sui_getNormalizedMoveFunction",[v.package,v.module,v.function],Ae)}async getNormalizedMoveStruct(v){return await this.client.requestWithType("sui_getNormalizedMoveStruct",[v.package,v.module,v.struct],Pe)}async getOwnedObjects(v){if(!v.owner||!isValidSuiAddress(normalizeSuiAddress(v.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getOwnedObjects",[v.owner,{filter:v.filter,options:v.options},v.cursor,v.limit],wt)}async getObject(v){if(!v.id||!isValidSuiObjectId(normalizeSuiObjectId(v.id)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("sui_getObject",[v.id,v.options],bt)}async multiGetObjects(v){v.ids.forEach((v=>{if(!v||!isValidSuiObjectId(normalizeSuiObjectId(v)))throw new Error(`Invalid Sui Object id ${v}`)}));if(v.ids.length!==new Set(v.ids).size)throw new Error(`Duplicate object ids in batch call ${v.ids}`);return await this.client.requestWithType("sui_multiGetObjects",[v.ids,v.options],array(bt))}async queryTransactionBlocks(v){return await this.client.requestWithType("suix_queryTransactionBlocks",[{filter:v.filter,options:v.options},v.cursor,v.limit,"descending"===(v.order||"descending")],se)}async getTransactionBlock(v){if(!isValidTransactionDigest(v.digest))throw new Error("Invalid Transaction digest");return await this.client.requestWithType("sui_getTransactionBlock",[v.digest,v.options],ie)}async multiGetTransactionBlocks(v){v.digests.forEach((v=>{if(!isValidTransactionDigest(v))throw new Error(`Invalid Transaction digest ${v}`)}));if(v.digests.length!==new Set(v.digests).size)throw new Error(`Duplicate digests in batch call ${v.digests}`);return await this.client.requestWithType("sui_multiGetTransactionBlocks",[v.digests,v.options],array(ie))}async executeTransactionBlock(v){return await this.client.requestWithType("sui_executeTransactionBlock",["string"==typeof v.transactionBlock?v.transactionBlock:toB64(v.transactionBlock),Array.isArray(v.signature)?v.signature:[v.signature],v.options,v.requestType],ie)}async getTotalTransactionBlocks(){const v=await this.client.requestWithType("sui_getTotalTransactionBlocks",[],string());return BigInt(v)}async getReferenceGasPrice(){const v=await this.client.requestWithType("suix_getReferenceGasPrice",[],string());return BigInt(v)}async getStakes(v){if(!v.owner||!isValidSuiAddress(normalizeSuiAddress(v.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getStakes",[v.owner],array(ke))}async getStakesByIds(v){return v.stakedSuiIds.forEach((v=>{if(!v||!isValidSuiObjectId(normalizeSuiObjectId(v)))throw new Error(`Invalid Sui Stake id ${v}`)})),await this.client.requestWithType("suix_getStakesByIds",[v.stakedSuiIds],array(ke))}async getLatestSuiSystemState(){return await this.client.requestWithType("suix_getLatestSuiSystemState",[],Ke)}async queryEvents(v){return await this.client.requestWithType("suix_queryEvents",[v.query,v.cursor,v.limit,"descending"===(v.order||"descending")],_t)}async subscribeEvent(v){return this.wsClient.subscribeEvent(v.filter,v.onMessage)}async unsubscribeEvent(v){return this.wsClient.unsubscribeEvent(v.id)}async devInspectTransactionBlock(v){let S;if(Pn.is(v.transactionBlock))v.transactionBlock.setSenderIfNotSet(v.sender),S=toB64(await v.transactionBlock.build({provider:this,onlyTransactionKind:!0}));else if("string"==typeof v.transactionBlock)S=v.transactionBlock;else{if(!(v.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction block format.");S=toB64(v.transactionBlock)}return await this.client.requestWithType("sui_devInspectTransactionBlock",[v.sender,S,v.gasPrice,v.epoch],Wt)}async dryRunTransactionBlock(v){return await this.client.requestWithType("sui_dryRunTransactionBlock",["string"==typeof v.transactionBlock?v.transactionBlock:toB64(v.transactionBlock)],oe)}async getDynamicFields(v){if(!v.parentId||!isValidSuiObjectId(normalizeSuiObjectId(v.parentId)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("suix_getDynamicFields",[v.parentId,v.cursor,v.limit],yr)}async getDynamicFieldObject(v){return await this.client.requestWithType("suix_getDynamicFieldObject",[v.parentId,v.name],bt)}async getLatestCheckpointSequenceNumber(){const v=await this.client.requestWithType("sui_getLatestCheckpointSequenceNumber",[],string());return String(v)}async getCheckpoint(v){return await this.client.requestWithType("sui_getCheckpoint",[v.id],tr)}async getCheckpoints(v){const S=await this.getRpcApiVersion();return await this.client.requestWithType("sui_getCheckpoints",[v.cursor,S&&(0,G.lt)(S,"0.32.0")?String(v?.limit):v?.limit,v.descendingOrder],er)}async getCommitteeInfo(v){return await this.client.requestWithType("suix_getCommitteeInfo",[v?.epoch],Le)}async getNetworkMetrics(){return await this.client.requestWithType("suix_getNetworkMetrics",[],Dn)}async getEpochs(v){const S=await this.getRpcApiVersion();return await this.client.requestWithType("suix_getEpochs",[v?.cursor,S&&(0,G.lt)(S,"0.32.0")?String(v?.limit):v?.limit,v?.descendingOrder],$e)}async getMoveCallMetrics(){return await this.client.requestWithType("suix_getMoveCallMetrics",[],Ee)}async getCurrentEpoch(){return await this.client.requestWithType("suix_getCurrentEpoch",[],We)}async getValidatorsApy(){return await this.client.requestWithType("suix_getValidatorsApy",[],Me)}async waitForTransactionBlock({signal:v,timeout:S=6e4,pollInterval:_=2e3,...E}){const P=AbortSignal.timeout(S),D=new Promise(((v,S)=>{P.addEventListener("abort",(()=>S(P.reason)))}));for(;!P.aborted;){v?.throwIfAborted();try{return await this.getTransactionBlock(E)}catch(v){await Promise.race([new Promise((v=>setTimeout(v,_))),D])}}throw P.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}},Mn=(v=>(v[v.TransactionData=0]="TransactionData",v[v.TransactionEffects=1]="TransactionEffects",v[v.CheckpointSummary=2]="CheckpointSummary",v[v.PersonalMessage=3]="PersonalMessage",v))(Mn||{});function messageWithIntent(v,S){const _=function intentWithScope(v){return[v,0,0]}(v),E=new Uint8Array(_.length+S.length);return E.set(_),E.set(S,_.length),E}normalizeSuiObjectId("0x5")},731434:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))},D=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.Account=void 0;const R=_(368524),M=_(532885),O=_(332564),F=_(962922),N=_(387438),L=D(_(682823)),U=_(881818),{addKey:V,createAccount:G,deleteAccount:W,deleteKey:$,deployContract:X,fullAccessKey:Y,functionCall:J,functionCallAccessKey:Z,stake:Q,transfer:tt}=O.actionCreators;function parseJsonFromRawResponse(v){return JSON.parse(E.from(v).toString())}function bytesJsonStringify(v){return E.from(JSON.stringify(v))}class Account{constructor(v,S){this.accessKeyByPublicKeyCache={},this.connection=v,this.accountId=S}state(){return P(this,void 0,void 0,(function*(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}))}signTransaction(v,S){return P(this,void 0,void 0,(function*(){const _=yield this.findAccessKey(v,S);if(!_)throw new F.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:E}=_,P=(yield this.connection.provider.block({finality:"final"})).header.hash,D=E.nonce.add(new L.default(1));return yield(0,O.signTransaction)(v,D,S,(0,U.baseDecode)(P),this.connection.signer,this.accountId,this.connection.networkId)}))}signAndSendTransaction({receiverId:v,actions:S,returnError:_}){return P(this,void 0,void 0,(function*(){let E,D;const R=yield(0,M.exponentialBackoff)(500,12,1.5,(()=>P(this,void 0,void 0,(function*(){[E,D]=yield this.signTransaction(v,S);const _=D.transaction.publicKey;try{return yield this.connection.provider.sendTransaction(D)}catch(S){if("InvalidNonce"===S.type)return(0,N.logWarning)(`Retrying transaction ${v}:${(0,U.baseEncode)(E)} with new nonce.`),delete this.accessKeyByPublicKeyCache[_.toString()],null;if("Expired"===S.type)return(0,N.logWarning)(`Retrying transaction ${v}:${(0,U.baseEncode)(E)} due to expired block hash`),null;throw S.context=new F.ErrorContext((0,U.baseEncode)(E)),S}}))));if(!R)throw new F.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,N.printTxOutcomeLogsAndFailures)({contractId:D.transaction.receiverId,outcome:R}),!_&&"object"==typeof R.status&&"object"==typeof R.status.Failure&&null!==R.status.Failure)throw R.status.Failure.error_message&&R.status.Failure.error_type?new F.TypedError(`Transaction ${R.transaction_outcome.id} failed. ${R.status.Failure.error_message}`,R.status.Failure.error_type):(0,N.parseResultError)(R);return R}))}findAccessKey(v,S){return P(this,void 0,void 0,(function*(){const v=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!v)throw new F.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const S=this.accessKeyByPublicKeyCache[v.toString()];if(void 0!==S)return{publicKey:v,accessKey:S};try{const S=yield this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:v.toString(),finality:"optimistic"}),_=Object.assign(Object.assign({},S),{nonce:new L.default(S.nonce)});return this.accessKeyByPublicKeyCache[v.toString()]?{publicKey:v,accessKey:this.accessKeyByPublicKeyCache[v.toString()]}:(this.accessKeyByPublicKeyCache[v.toString()]=_,{publicKey:v,accessKey:_})}catch(v){if("AccessKeyDoesNotExist"==v.type)return null;throw v}}))}createAndDeployContract(v,S,_,E){return P(this,void 0,void 0,(function*(){const P=Y();yield this.signAndSendTransaction({receiverId:v,actions:[G(),tt(E),V(R.PublicKey.from(S),P),X(_)]});return new Account(this.connection,v)}))}sendMoney(v,S){return P(this,void 0,void 0,(function*(){return this.signAndSendTransaction({receiverId:v,actions:[tt(S)]})}))}createAccount(v,S,_){return P(this,void 0,void 0,(function*(){const E=Y();return this.signAndSendTransaction({receiverId:v,actions:[G(),tt(_),V(R.PublicKey.from(S),E)]})}))}deleteAccount(v){return P(this,void 0,void 0,(function*(){return{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}.NEAR_NO_LOGS||console.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[W(v)]})}))}deployContract(v){return P(this,void 0,void 0,(function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[X(v)]})}))}encodeJSContractArgs(v,S,_){return E.concat([E.from(v),E.from([0]),E.from(S),E.from([0]),E.from(_)])}functionCall({contractId:v,methodName:S,args:_={},gas:E=N.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:D,walletMeta:R,walletCallbackUrl:M,stringify:F,jsContract:L}){return P(this,void 0,void 0,(function*(){let P;if(this.validateArgs(_),L){P=["call_js_contract",this.encodeJSContractArgs(v,S,JSON.stringify(_)),E,D,null,!0]}else{const v=void 0===F?O.stringifyJsonOrBytes:F;P=[S,_,E,D,v,!1]}return this.signAndSendTransaction({receiverId:L?this.connection.jsvmAccountId:v,actions:[J.apply(void 0,P)],walletMeta:R,walletCallbackUrl:M})}))}addKey(v,S,_,E){return P(this,void 0,void 0,(function*(){let P;return _||(_=[]),Array.isArray(_)||(_=[_]),P=S?Z(S,_,E):Y(),this.signAndSendTransaction({receiverId:this.accountId,actions:[V(R.PublicKey.from(v),P)]})}))}deleteKey(v){return P(this,void 0,void 0,(function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[$(R.PublicKey.from(v))]})}))}stake(v,S){return P(this,void 0,void 0,(function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[Q(S,R.PublicKey.from(v))]})}))}signedDelegate({actions:v,blockHeightTtl:S,receiverId:_}){return P(this,void 0,void 0,(function*(){const{provider:E,signer:D}=this.connection,{header:R}=yield E.block({finality:"final"}),{accessKey:M,publicKey:F}=yield this.findAccessKey(null,null),N=(0,O.buildDelegateAction)({actions:v,maxBlockHeight:new L.default(R.height).add(new L.default(S)),nonce:new L.default(M.nonce).add(new L.default(1)),publicKey:F,receiverId:_,senderId:this.accountId}),{signedDelegateAction:U}=yield(0,O.signDelegateAction)({delegateAction:N,signer:{sign:v=>P(this,void 0,void 0,(function*(){const{signature:S}=yield D.signMessage(v,N.senderId,this.connection.networkId);return S}))}});return U}))}validateArgs(v){if(!(void 0!==v.byteLength&&v.byteLength===v.length)&&(Array.isArray(v)||"object"!=typeof v))throw new F.PositionalArgsError}viewFunction({contractId:v,methodName:S,args:_={},parse:D=parseJsonFromRawResponse,stringify:R=bytesJsonStringify,jsContract:M=!1,blockQuery:O={finality:"optimistic"}}){return P(this,void 0,void 0,(function*(){let P;this.validateArgs(_),P=M?this.encodeJSContractArgs(v,S,Object.keys(_).length>0?JSON.stringify(_):""):R(_);const F=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"call_function"},O),{account_id:M?this.connection.jsvmAccountId:v,method_name:M?"view_js_contract":S,args_base64:P.toString("base64")}));return F.logs&&(0,N.printTxOutcomeLogs)({contractId:v,logs:F.logs}),F.result&&F.result.length>0&&D(E.from(F.result))}))}viewState(v,S={finality:"optimistic"}){return P(this,void 0,void 0,(function*(){const{values:_}=yield this.connection.provider.query(Object.assign(Object.assign({request_type:"view_state"},S),{account_id:this.accountId,prefix_base64:E.from(v).toString("base64")}));return _.map((({key:v,value:S})=>({key:E.from(v,"base64"),value:E.from(S,"base64")})))}))}getAccessKeys(){var v;return P(this,void 0,void 0,(function*(){const S=yield this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return null===(v=null==S?void 0:S.keys)||void 0===v?void 0:v.map((v=>Object.assign(Object.assign({},v),{access_key:Object.assign(Object.assign({},v.access_key),{nonce:new L.default(v.access_key.nonce)})})))}))}getAccountDetails(){return P(this,void 0,void 0,(function*(){return{authorizedApps:(yield this.getAccessKeys()).filter((v=>"FullAccess"!==v.access_key.permission)).map((v=>{const S=v.access_key.permission;return{contractId:S.FunctionCall.receiver_id,amount:S.FunctionCall.allowance,publicKey:v.public_key}}))}}))}getAccountBalance(){return P(this,void 0,void 0,(function*(){const v=yield this.connection.provider.experimental_protocolConfig({finality:"final"}),S=yield this.state(),_=new L.default(v.runtime_config.storage_amount_per_byte),E=new L.default(S.storage_usage).mul(_),P=new L.default(S.locked),D=new L.default(S.amount).add(P),R=D.sub(L.default.max(P,E));return{total:D.toString(),stateStaked:E.toString(),staked:P.toString(),available:R.toString()}}))}getActiveDelegatedStakeBalance(){return P(this,void 0,void 0,(function*(){const v=yield this.connection.provider.block({finality:"final"}),S=v.header.hash,_=v.header.epoch_id,{current_validators:E,next_validators:P,current_proposals:D}=yield this.connection.provider.validators(_),R=new Set;[...E,...P,...D].forEach((v=>R.add(v.account_id)));const M=[...R],O=M.map((v=>this.viewFunction({contractId:v,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:S}}))),F=yield Promise.allSettled(O);if(F.some((v=>"rejected"===v.status&&"TimeoutError"===v.reason.type)))throw new Error("Failed to get delegated stake balance");const N=F.reduce(((v,S,_)=>{const E=M[_];if("fulfilled"===S.status){const _=new L.default(S.value);if(!_.isZero())return Object.assign(Object.assign({},v),{stakedValidators:[...v.stakedValidators,{validatorId:E,amount:_.toString()}],total:v.total.add(_)})}return"rejected"===S.status?Object.assign(Object.assign({},v),{failedValidators:[...v.failedValidators,{validatorId:E,error:S.reason}]}):v}),{stakedValidators:[],failedValidators:[],total:new L.default(0)});return Object.assign(Object.assign({},N),{total:N.total.toString()})}))}}S.Account=Account},94826:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))},D=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.Account2FA=void 0;const R=_(368524),M=_(962922),O=_(532885),F=_(332564),N=D(_(682823)),L=_(707547),U=_(273812),V=_(836292),{addKey:G,deleteKey:W,deployContract:$,fullAccessKey:X,functionCall:Y,functionCallAccessKey:J}=F.actionCreators;class Account2FA extends L.AccountMultisig{constructor(v,S,_){super(v,S,_),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=_.helperUrl||this.helperUrl,this.storage=_.storage,this.sendCode=_.sendCode||this.sendCodeDefault,this.getCode=_.getCode||this.getCodeDefault,this.verifyCode=_.verifyCode||this.verifyCodeDefault,this.onConfirmResult=_.onConfirmResult}signAndSendTransaction({receiverId:v,actions:S}){const _=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return P(this,void 0,void 0,(function*(){yield _.signAndSendTransaction.call(this,{receiverId:v,actions:S}),yield this.sendCode();const E=yield this.promptAndVerify();return this.onConfirmResult&&(yield this.onConfirmResult(E)),E}))}deployMultisig(v){const S=Object.create(null,{signAndSendTransactionWithAccount:{get:()=>super.signAndSendTransactionWithAccount}});return P(this,void 0,void 0,(function*(){const{accountId:_}=this,P=(yield this.getRecoveryMethods()).data.filter((({kind:v,publicKey:S})=>("phrase"===v||"ledger"===v)&&null!==S)).map((v=>v.publicKey)),D=(yield this.getAccessKeys()).filter((({public_key:v,access_key:{permission:S}})=>"FullAccess"===S&&!P.includes(v))).map((v=>v.public_key)).map(toPK),R=toPK((yield this.postSignedJson("/2fa/getAccessKey",{accountId:_})).publicKey),O=E.from(JSON.stringify({num_confirmations:2})),F=[...D.map((v=>W(v))),...D.map((v=>G(v,J(_,U.MULTISIG_CHANGE_METHODS,null)))),G(R,J(_,U.MULTISIG_CONFIRM_METHODS,null)),$(v)],N=F.concat(Y("new",O,U.MULTISIG_GAS,U.MULTISIG_DEPOSIT));console.log("deploying multisig contract for",_);const{stateStatus:L}=yield this.checkMultisigCodeAndStateStatus(v);switch(L){case V.MultisigStateStatus.STATE_NOT_INITIALIZED:return yield S.signAndSendTransactionWithAccount.call(this,_,N);case V.MultisigStateStatus.VALID_STATE:return yield S.signAndSendTransactionWithAccount.call(this,_,F);case V.MultisigStateStatus.INVALID_STATE:throw new M.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new M.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}}))}disableWithFAK({contractBytes:v,cleanupContractBytes:S}){return P(this,void 0,void 0,(function*(){let _=[];S&&(yield this.deleteAllRequests().catch((v=>v)),_=yield this.get2faDisableCleanupActions(S));const E=yield this.get2faDisableKeyConversionActions(),P=[..._,...E,$(v)],D=yield this.findAccessKey(this.accountId,P);if(D&&D.accessKey&&"FullAccess"!==D.accessKey.permission)throw new M.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,P)}))}get2faDisableCleanupActions(v){return P(this,void 0,void 0,(function*(){const S=yield this.viewState("").catch((v=>{const S=v.cause&&v.cause.name;if("NO_CONTRACT_CODE"==S)return[];throw"TOO_LARGE_CONTRACT_STATE"==S?new M.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):v})),_=S.map((({key:v})=>v.toString("base64")));return S.length?[$(v),Y("clean",{keys:_},U.MULTISIG_GAS,new N.default("0"))]:[]}))}get2faDisableKeyConversionActions(){return P(this,void 0,void 0,(function*(){const{accountId:v}=this,S=(yield this.getAccessKeys()).filter((({access_key:v})=>"FullAccess"!==v.permission)).filter((({access_key:S})=>{const _=S.permission.FunctionCall;return _.receiver_id===v&&4===_.method_names.length&&_.method_names.includes("add_request_and_confirm")})),_=R.PublicKey.from((yield this.postSignedJson("/2fa/getAccessKey",{accountId:v})).publicKey);return[W(_),...S.map((({public_key:v})=>W(R.PublicKey.from(v)))),...S.map((({public_key:v})=>G(R.PublicKey.from(v),X())))]}))}disable(v,S){return P(this,void 0,void 0,(function*(){const{stateStatus:_}=yield this.checkMultisigCodeAndStateStatus();if(_!==V.MultisigStateStatus.VALID_STATE&&_!==V.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new M.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let E;yield this.deleteAllRequests().catch((v=>E=v));const P=[...yield this.get2faDisableCleanupActions(S).catch((v=>{if("ContractHasExistingState"===v.type)throw E||v;throw v})),...yield this.get2faDisableKeyConversionActions(),$(v)];return console.log("disabling 2fa for",this.accountId),yield this.signAndSendTransaction({receiverId:this.accountId,actions:P})}))}sendCodeDefault(){return P(this,void 0,void 0,(function*(){const{accountId:v}=this,{requestId:S}=this.getRequest(),_=yield this.get2faMethod();return yield this.postSignedJson("/2fa/send",{accountId:v,method:_,requestId:S}),S}))}getCodeDefault(){return P(this,void 0,void 0,(function*(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')}))}promptAndVerify(){return P(this,void 0,void 0,(function*(){const v=yield this.get2faMethod(),S=yield this.getCode(v);try{return yield this.verifyCode(S)}catch(v){if(console.warn("Error validating security code:",v),v.toString().includes("invalid 2fa code provided")||v.toString().includes("2fa code not valid"))return yield this.promptAndVerify();throw v}}))}verifyCodeDefault(v){return P(this,void 0,void 0,(function*(){const{accountId:S}=this,_=this.getRequest();if(!_)throw new Error("no request pending");const{requestId:E}=_;return yield this.postSignedJson("/2fa/verify",{accountId:S,securityCode:v,requestId:E})}))}getRecoveryMethods(){return P(this,void 0,void 0,(function*(){const{accountId:v}=this;return{accountId:v,data:yield this.postSignedJson("/account/recoveryMethods",{accountId:v})}}))}get2faMethod(){return P(this,void 0,void 0,(function*(){let{data:v}=yield this.getRecoveryMethods();if(v&&v.length&&(v=v.find((v=>0===v.kind.indexOf("2fa-")))),!v)return null;const{kind:S,detail:_}=v;return{kind:S,detail:_}}))}signatureFor(){return P(this,void 0,void 0,(function*(){const{accountId:v}=this,S=(yield this.connection.provider.block({finality:"final"})).header.height.toString(),_=yield this.connection.signer.signMessage(E.from(S),v,this.connection.networkId);return{blockNumber:S,blockNumberSignature:E.from(_.signature).toString("base64")}}))}postSignedJson(v,S){return P(this,void 0,void 0,(function*(){return yield(0,O.fetchJson)(this.helperUrl+v,JSON.stringify(Object.assign(Object.assign({},S),yield this.signatureFor())))}))}}S.Account2FA=Account2FA;const toPK=v=>R.PublicKey.from(v)},525153:function(v,S,_){"use strict";var E=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:!0}),S.UrlAccountCreator=S.LocalAccountCreator=S.AccountCreator=void 0;const P=_(532885);class AccountCreator{}S.AccountCreator=AccountCreator;S.LocalAccountCreator=class LocalAccountCreator extends AccountCreator{constructor(v,S){super(),this.masterAccount=v,this.initialBalance=S}createAccount(v,S){return E(this,void 0,void 0,(function*(){yield this.masterAccount.createAccount(v,S,this.initialBalance)}))}};S.UrlAccountCreator=class UrlAccountCreator extends AccountCreator{constructor(v,S){super(),this.connection=v,this.helperUrl=S}createAccount(v,S){return E(this,void 0,void 0,(function*(){yield(0,P.fetchJson)(`${this.helperUrl}/account`,JSON.stringify({newAccountId:v,newAccountPublicKey:S.toString()}))}))}}},707547:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:!0}),S.AccountMultisig=void 0;const D=_(332564),R=_(731434),M=_(273812),O=_(836292),{deployContract:F,functionCall:N}=D.actionCreators;var L;!function(v){v[v.INVALID_CODE=0]="INVALID_CODE",v[v.VALID_CODE=1]="VALID_CODE",v[v.UNKNOWN_CODE=2]="UNKNOWN_CODE"}(L||(L={}));const U={[M.MULTISIG_STORAGE_KEY]:null};class AccountMultisig extends R.Account{constructor(v,S,_){super(v,S),this.storage=_.storage,this.onAddRequestResult=_.onAddRequestResult}signAndSendTransactionWithAccount(v,S){const _=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return P(this,void 0,void 0,(function*(){return _.signAndSendTransaction.call(this,{receiverId:v,actions:S})}))}signAndSendTransaction({receiverId:v,actions:S}){const _=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return P(this,void 0,void 0,(function*(){const{accountId:P}=this,D=E.from(JSON.stringify({request:{receiver_id:v,actions:convertActions(S,P,v)}}));let R;try{R=yield _.signAndSendTransaction.call(this,{receiverId:P,actions:[N("add_request_and_confirm",D,M.MULTISIG_GAS,M.MULTISIG_DEPOSIT)]})}catch(_){if(_.toString().includes("Account has too many active requests. Confirm or delete some"))return yield this.deleteUnconfirmedRequests(),yield this.signAndSendTransaction({receiverId:v,actions:S});throw _}if(!R.status)throw new Error("Request failed");const O=Object.assign({},R.status);if(!O.SuccessValue||"string"!=typeof O.SuccessValue)throw new Error("Request failed");return this.setRequest({accountId:P,actions:S,requestId:parseInt(E.from(O.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&(yield this.onAddRequestResult(R)),this.deleteUnconfirmedRequests(),R}))}checkMultisigCodeAndStateStatus(v){const S=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return P(this,void 0,void 0,(function*(){const _=4294967295,E=v?L.UNKNOWN_CODE:L.VALID_CODE;try{return v?yield S.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[F(v),N("delete_request",{request_id:_},M.MULTISIG_GAS,M.MULTISIG_DEPOSIT)]}):yield this.deleteRequest(_),{codeStatus:L.VALID_CODE,stateStatus:O.MultisigStateStatus.VALID_STATE}}catch(v){if(new RegExp(O.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(v&&v.kind&&v.kind.ExecutionError))return{codeStatus:E,stateStatus:O.MultisigStateStatus.INVALID_STATE};if(new RegExp(O.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(v&&v.kind&&v.kind.ExecutionError))return{codeStatus:E,stateStatus:O.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(O.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(v&&v.kind&&v.kind.ExecutionError))return{codeStatus:E,stateStatus:O.MultisigStateStatus.VALID_STATE};if(new RegExp(O.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(v&&v.message))return{codeStatus:L.INVALID_CODE,stateStatus:O.MultisigStateStatus.UNKNOWN_STATE};throw v}}))}deleteRequest(v){return super.signAndSendTransaction({receiverId:this.accountId,actions:[N("delete_request",{request_id:v},M.MULTISIG_GAS,M.MULTISIG_DEPOSIT)]})}deleteAllRequests(){return P(this,void 0,void 0,(function*(){const v=yield this.getRequestIds();v.length&&(yield Promise.all(v.map((v=>this.deleteRequest(v)))))}))}deleteUnconfirmedRequests(){const v=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return P(this,void 0,void 0,(function*(){const S=yield this.getRequestIds(),{requestId:_}=this.getRequest();for(const E of S)if(E!=_)try{yield v.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[N("delete_request",{request_id:E},M.MULTISIG_GAS,M.MULTISIG_DEPOSIT)]})}catch(v){console.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}}))}getRequestIds(){return P(this,void 0,void 0,(function*(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})}))}getRequest(){return this.storage?JSON.parse(this.storage.getItem(M.MULTISIG_STORAGE_KEY)||"{}"):U[M.MULTISIG_STORAGE_KEY]}setRequest(v){if(this.storage)return this.storage.setItem(M.MULTISIG_STORAGE_KEY,JSON.stringify(v));U[M.MULTISIG_STORAGE_KEY]=v}}S.AccountMultisig=AccountMultisig;const convertActions=(v,S,_)=>v.map((v=>{const P=v.enum,{gas:D,publicKey:R,methodName:O,args:F,deposit:N,accessKey:L,code:U}=v[P],V={type:P[0].toUpperCase()+P.substr(1),gas:D&&D.toString()||void 0,public_key:R&&(G=R,G.toString().replace("ed25519:",""))||void 0,method_name:O,args:F&&E.from(F).toString("base64")||void 0,code:U&&E.from(U).toString("base64")||void 0,amount:N&&N.toString()||void 0,deposit:N&&N.toString()||"0",permission:void 0};var G;if(L&&(_===S&&"fullAccess"!==L.permission.enum&&(V.permission={receiver_id:S,allowance:M.MULTISIG_ALLOWANCE.toString(),method_names:M.MULTISIG_CHANGE_METHODS}),"functionCall"===L.permission.enum)){const{receiverId:v,methodNames:S,allowance:_}=L.permission.functionCall;V.permission={receiver_id:v,allowance:_&&_.toString()||void 0,method_names:S}}return V}))},495821:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Connection=void 0;const E=_(86796),P=_(532885);class Connection{constructor(v,S,_,E){this.networkId=v,this.provider=S,this.signer=_,this.jsvmAccountId=E}static fromConfig(v){const S=function getProvider(v){switch(v.type){case void 0:return v;case"JsonRpcProvider":return new P.JsonRpcProvider(Object.assign({},v.args));default:throw new Error(`Unknown provider type ${v.type}`)}}(v.provider),_=function getSigner(v){switch(v.type){case void 0:return v;case"InMemorySigner":return new E.InMemorySigner(v.keyStore);default:throw new Error(`Unknown signer type ${v.type}`)}}(v.signer);return new Connection(v.networkId,S,_,v.jsvmAccountId)}}S.Connection=Connection},273812:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.MULTISIG_CONFIRM_METHODS=S.MULTISIG_CHANGE_METHODS=S.MULTISIG_DEPOSIT=S.MULTISIG_GAS=S.MULTISIG_ALLOWANCE=S.MULTISIG_STORAGE_KEY=void 0;const P=_(387438),D=E(_(682823));S.MULTISIG_STORAGE_KEY="__multisigRequest",S.MULTISIG_ALLOWANCE=new D.default((0,P.parseNearAmount)("1")),S.MULTISIG_GAS=new D.default("100000000000000"),S.MULTISIG_DEPOSIT=new D.default("0"),S.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],S.MULTISIG_CONFIRM_METHODS=["confirm"]},628827:function(v,S,_){"use strict";var E=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))},P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.Contract=void 0;const D=_(387438),R=_(962922),M=P(_(411601)),O=P(_(274421)),F=P(_(682823)),N=P(_(757222)),L=_(664239),U=_(119346);function nameFunction(v,S){return{[v]:(...v)=>S(...v)}[v]}function validateArguments(v,S,_,E){var P;if(!isObject(v))return;if(S.params&&S.params.serialization_type!==L.AbiSerializationType.Json)throw new U.UnsupportedSerializationError(S.name,S.params.serialization_type);if(S.result&&S.result.serialization_type!==L.AbiSerializationType.Json)throw new U.UnsupportedSerializationError(S.name,S.result.serialization_type);const D=(null===(P=S.params)||void 0===P?void 0:P.args)||[];for(const S of D){const P=v[S.name],D=S.type_schema;D.definitions=E.body.root_schema.definitions;const R=_.compile(D);if(!R(P))throw new U.ArgumentSchemaError(S.name,R.errors)}for(const S of Object.keys(v)){if(!D.find((v=>v.name===S)))throw new U.UnknownArgumentError(S,D.map((v=>v.name)))}}const isUint8Array=v=>v&&void 0!==v.byteLength&&v.byteLength===v.length,isObject=v=>"[object Object]"===Object.prototype.toString.call(v);S.Contract=class Contract{constructor(v,S,_){this.account=v,this.contractId=S;const{viewMethods:P=[],changeMethods:D=[],abi:F}=_;let V=P.map((v=>({name:v,abi:null}))),G=D.map((v=>({name:v,abi:null})));if(F){if(V.length>0||G.length>0)throw new U.ConflictingOptions;V=F.body.functions.filter((v=>v.kind===L.AbiFunctionKind.View)).map((v=>({name:v.name,abi:v}))),G=F.body.functions.filter((v=>v.kind===L.AbiFunctionKind.Call)).map((v=>({name:v.name,abi:v})))}const W=function createAjv(){const v=new M.default({strictSchema:!1,formats:{uint32:!0,uint64:!0}});return(0,O.default)(v),v}();V.forEach((({name:v,abi:S})=>{Object.defineProperty(this,v,{writable:!1,enumerable:!0,value:nameFunction(v,((_={},P={},...D)=>E(this,void 0,void 0,(function*(){if(D.length||!isObject(_)&&!isUint8Array(_)||!isObject(P))throw new R.PositionalArgsError;return S&&validateArguments(_,S,W,F),this.account.viewFunction(Object.assign({contractId:this.contractId,methodName:v,args:_},P))}))))})})),G.forEach((({name:v,abi:S})=>{Object.defineProperty(this,v,{writable:!1,enumerable:!0,value:nameFunction(v,((..._)=>E(this,void 0,void 0,(function*(){if(_.length&&(_.length>3||!isObject(_[0])&&!isUint8Array(_[0])))throw new R.PositionalArgsError;if(_.length>1||!_[0]||!_[0].args){(0,N.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead"),_[0]={args:_[0],gas:_[1],amount:_[2]}}return S&&validateArguments(_[0].args,S,W,F),this._changeMethod(Object.assign({methodName:v},_[0]))}))))})}))}_changeMethod({args:v,methodName:S,gas:_,amount:P,meta:M,callbackUrl:O}){return E(this,void 0,void 0,(function*(){!function validateBNLike(v){const S="number, decimal string or BN";for(const _ of Object.keys(v)){const E=v[_];if(E&&!F.default.isBN(E)&&isNaN(E))throw new R.ArgumentTypeError(_,S,E)}}({gas:_,amount:P});const E=yield this.account.functionCall({contractId:this.contractId,methodName:S,args:v,gas:_,attachedDeposit:P,walletMeta:M,walletCallbackUrl:O});return(0,D.getTransactionLastResult)(E)}))}}},119346:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ConflictingOptions=S.ArgumentSchemaError=S.UnknownArgumentError=S.UnsupportedSerializationError=void 0;class UnsupportedSerializationError extends Error{constructor(v,S){super(`Contract method '${v}' is using an unsupported serialization type ${S}`)}}S.UnsupportedSerializationError=UnsupportedSerializationError;class UnknownArgumentError extends Error{constructor(v,S){super(`Unrecognized argument '${v}', expected '${JSON.stringify(S)}'`)}}S.UnknownArgumentError=UnknownArgumentError;class ArgumentSchemaError extends Error{constructor(v,S){super(`Argument '${v}' does not conform to the specified ABI schema: '${JSON.stringify(S)}'`)}}S.ArgumentSchemaError=ArgumentSchemaError;class ConflictingOptions extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}S.ConflictingOptions=ConflictingOptions},720989:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MultisigStateStatus=S.MultisigDeleteRequestRejectionError=S.UnsupportedSerializationError=S.UnknownArgumentError=S.ConflictingOptions=S.ArgumentSchemaError=S.Contract=S.MULTISIG_CONFIRM_METHODS=S.MULTISIG_CHANGE_METHODS=S.MULTISIG_DEPOSIT=S.MULTISIG_GAS=S.MULTISIG_ALLOWANCE=S.MULTISIG_STORAGE_KEY=S.Connection=S.AccountMultisig=S.UrlAccountCreator=S.LocalAccountCreator=S.AccountCreator=S.Account2FA=S.Account=void 0;var E=_(731434);Object.defineProperty(S,"Account",{enumerable:!0,get:function(){return E.Account}});var P=_(94826);Object.defineProperty(S,"Account2FA",{enumerable:!0,get:function(){return P.Account2FA}});var D=_(525153);Object.defineProperty(S,"AccountCreator",{enumerable:!0,get:function(){return D.AccountCreator}}),Object.defineProperty(S,"LocalAccountCreator",{enumerable:!0,get:function(){return D.LocalAccountCreator}}),Object.defineProperty(S,"UrlAccountCreator",{enumerable:!0,get:function(){return D.UrlAccountCreator}});var R=_(707547);Object.defineProperty(S,"AccountMultisig",{enumerable:!0,get:function(){return R.AccountMultisig}});var M=_(495821);Object.defineProperty(S,"Connection",{enumerable:!0,get:function(){return M.Connection}});var O=_(273812);Object.defineProperty(S,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return O.MULTISIG_STORAGE_KEY}}),Object.defineProperty(S,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return O.MULTISIG_ALLOWANCE}}),Object.defineProperty(S,"MULTISIG_GAS",{enumerable:!0,get:function(){return O.MULTISIG_GAS}}),Object.defineProperty(S,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return O.MULTISIG_DEPOSIT}}),Object.defineProperty(S,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return O.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(S,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return O.MULTISIG_CONFIRM_METHODS}});var F=_(628827);Object.defineProperty(S,"Contract",{enumerable:!0,get:function(){return F.Contract}});var N=_(119346);Object.defineProperty(S,"ArgumentSchemaError",{enumerable:!0,get:function(){return N.ArgumentSchemaError}}),Object.defineProperty(S,"ConflictingOptions",{enumerable:!0,get:function(){return N.ConflictingOptions}}),Object.defineProperty(S,"UnknownArgumentError",{enumerable:!0,get:function(){return N.UnknownArgumentError}}),Object.defineProperty(S,"UnsupportedSerializationError",{enumerable:!0,get:function(){return N.UnsupportedSerializationError}});var L=_(836292);Object.defineProperty(S,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return L.MultisigDeleteRequestRejectionError}}),Object.defineProperty(S,"MultisigStateStatus",{enumerable:!0,get:function(){return L.MultisigStateStatus}})},836292:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MultisigStateStatus=S.MultisigDeleteRequestRejectionError=void 0,function(v){v.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",v.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",v.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",v.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",v.METHOD_NOT_FOUND="Contract method is not found"}(S.MultisigDeleteRequestRejectionError||(S.MultisigDeleteRequestRejectionError={})),function(v){v[v.INVALID_STATE=0]="INVALID_STATE",v[v.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",v[v.VALID_STATE=2]="VALID_STATE",v[v.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(S.MultisigStateStatus||(S.MultisigStateStatus={}))},685745:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyType=void 0,function(v){v[v.ED25519=0]="ED25519"}(S.KeyType||(S.KeyType={}))},368524:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PublicKey=S.KeyPairEd25519=S.KeyPair=S.KeyType=void 0;var E=_(685745);Object.defineProperty(S,"KeyType",{enumerable:!0,get:function(){return E.KeyType}});var P=_(868962);Object.defineProperty(S,"KeyPair",{enumerable:!0,get:function(){return P.KeyPair}});var D=_(68420);Object.defineProperty(S,"KeyPairEd25519",{enumerable:!0,get:function(){return D.KeyPairEd25519}});var R=_(447767);Object.defineProperty(S,"PublicKey",{enumerable:!0,get:function(){return R.PublicKey}})},868962:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyPair=void 0;const E=_(238980),P=_(68420);class KeyPair extends E.KeyPairBase{static fromRandom(v){if("ED25519"===v.toUpperCase())return P.KeyPairEd25519.fromRandom();throw new Error(`Unknown curve ${v}`)}static fromString(v){const S=v.split(":");if(1===S.length)return new P.KeyPairEd25519(S[0]);if(2===S.length){if("ED25519"===S[0].toUpperCase())return new P.KeyPairEd25519(S[1]);throw new Error(`Unknown curve: ${S[0]}`)}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}S.KeyPair=KeyPair},238980:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyPairBase=void 0;S.KeyPairBase=class KeyPairBase{}},68420:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.KeyPairEd25519=void 0;const P=_(881818),D=E(_(882926)),R=_(685745),M=_(238980),O=_(447767);class KeyPairEd25519 extends M.KeyPairBase{constructor(v){super();const S=D.default.sign.keyPair.fromSecretKey((0,P.baseDecode)(v));this.publicKey=new O.PublicKey({keyType:R.KeyType.ED25519,data:S.publicKey}),this.secretKey=v}static fromRandom(){const v=D.default.sign.keyPair();return new KeyPairEd25519((0,P.baseEncode)(v.secretKey))}sign(v){return{signature:D.default.sign.detached(v,(0,P.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(v,S){return this.publicKey.verify(v,S)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}S.KeyPairEd25519=KeyPairEd25519},447767:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.PublicKey=void 0;const P=_(962922),D=_(881818),R=E(_(882926)),M=_(685745);class PublicKey extends P.Assignable{static from(v){return"string"==typeof v?PublicKey.fromString(v):v}static fromString(v){const S=v.split(":");let _,E=M.KeyType.ED25519;if(1===S.length)_=S[0];else{if(2!==S.length)throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");_=S[1],E=function str_to_key_type(v){if("ed25519"===v.toLowerCase())return M.KeyType.ED25519;throw new Error(`Unknown key type ${v}`)}(S[0])}const P=(0,D.baseDecode)(_);if(P.length!==R.default.box.publicKeyLength)throw new Error(`Invalid public key size (${P.length}), must be ${R.default.box.publicKeyLength}`);return new PublicKey({keyType:E,data:P})}toString(){return`${function key_type_to_str(v){if(v===M.KeyType.ED25519)return"ed25519";throw new Error(`Unknown key type ${v}`)}(this.keyType)}:${(0,D.baseEncode)(this.data)}`}verify(v,S){if(this.keyType===M.KeyType.ED25519)return R.default.sign.detached.verify(v,S,this.data);throw new Error(`Unknown key type ${this.keyType}`)}}S.PublicKey=PublicKey},799367:function(v,S,_){"use strict";var E=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:!0}),S.BrowserLocalStorageKeyStore=void 0;const P=_(368524),D=_(520490);class BrowserLocalStorageKeyStore extends D.KeyStore{constructor(v=window.localStorage,S="near-api-js:keystore:"){super(),this.localStorage=v,this.prefix=S}setKey(v,S,_){return E(this,void 0,void 0,(function*(){this.localStorage.setItem(this.storageKeyForSecretKey(v,S),_.toString())}))}getKey(v,S){return E(this,void 0,void 0,(function*(){const _=this.localStorage.getItem(this.storageKeyForSecretKey(v,S));return _?P.KeyPair.fromString(_):null}))}removeKey(v,S){return E(this,void 0,void 0,(function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(v,S))}))}clear(){return E(this,void 0,void 0,(function*(){for(const v of this.storageKeys())v.startsWith(this.prefix)&&this.localStorage.removeItem(v)}))}getNetworks(){return E(this,void 0,void 0,(function*(){const v=new Set;for(const S of this.storageKeys())if(S.startsWith(this.prefix)){const _=S.substring(this.prefix.length).split(":");v.add(_[1])}return Array.from(v.values())}))}getAccounts(v){return E(this,void 0,void 0,(function*(){const S=new Array;for(const _ of this.storageKeys())if(_.startsWith(this.prefix)){const E=_.substring(this.prefix.length).split(":");E[1]===v&&S.push(E[0])}return S}))}storageKeyForSecretKey(v,S){return`${this.prefix}${S}:${v}`}*storageKeys(){for(let v=0;v<this.localStorage.length;v++)yield this.localStorage.key(v)}}S.BrowserLocalStorageKeyStore=BrowserLocalStorageKeyStore},928083:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.BrowserLocalStorageKeyStore=void 0;var E=_(799367);Object.defineProperty(S,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return E.BrowserLocalStorageKeyStore}})},30735:function(v,S,_){"use strict";var E=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:!0}),S.InMemoryKeyStore=void 0;const P=_(368524),D=_(636840);class InMemoryKeyStore extends D.KeyStore{constructor(){super(),this.keys={}}setKey(v,S,_){return E(this,void 0,void 0,(function*(){this.keys[`${S}:${v}`]=_.toString()}))}getKey(v,S){return E(this,void 0,void 0,(function*(){const _=this.keys[`${S}:${v}`];return _?P.KeyPair.fromString(_):null}))}removeKey(v,S){return E(this,void 0,void 0,(function*(){delete this.keys[`${S}:${v}`]}))}clear(){return E(this,void 0,void 0,(function*(){this.keys={}}))}getNetworks(){return E(this,void 0,void 0,(function*(){const v=new Set;return Object.keys(this.keys).forEach((S=>{const _=S.split(":");v.add(_[1])})),Array.from(v.values())}))}getAccounts(v){return E(this,void 0,void 0,(function*(){const S=new Array;return Object.keys(this.keys).forEach((_=>{const E=_.split(":");E[E.length-1]===v&&S.push(E.slice(0,E.length-1).join(":"))})),S}))}toString(){return"InMemoryKeyStore"}}S.InMemoryKeyStore=InMemoryKeyStore},520490:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MergeKeyStore=S.KeyStore=S.InMemoryKeyStore=void 0;var E=_(30735);Object.defineProperty(S,"InMemoryKeyStore",{enumerable:!0,get:function(){return E.InMemoryKeyStore}});var P=_(636840);Object.defineProperty(S,"KeyStore",{enumerable:!0,get:function(){return P.KeyStore}});var D=_(567248);Object.defineProperty(S,"MergeKeyStore",{enumerable:!0,get:function(){return D.MergeKeyStore}})},636840:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyStore=void 0;S.KeyStore=class KeyStore{}},567248:function(v,S,_){"use strict";var E=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:!0}),S.MergeKeyStore=void 0;const P=_(636840);class MergeKeyStore extends P.KeyStore{constructor(v,S={writeKeyStoreIndex:0}){super(),this.options=S,this.keyStores=v}setKey(v,S,_){return E(this,void 0,void 0,(function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(v,S,_)}))}getKey(v,S){return E(this,void 0,void 0,(function*(){for(const _ of this.keyStores){const E=yield _.getKey(v,S);if(E)return E}return null}))}removeKey(v,S){return E(this,void 0,void 0,(function*(){for(const _ of this.keyStores)yield _.removeKey(v,S)}))}clear(){return E(this,void 0,void 0,(function*(){for(const v of this.keyStores)yield v.clear()}))}getNetworks(){return E(this,void 0,void 0,(function*(){const v=new Set;for(const S of this.keyStores)for(const _ of yield S.getNetworks())v.add(_);return Array.from(v)}))}getAccounts(v){return E(this,void 0,void 0,(function*(){const S=new Set;for(const _ of this.keyStores)for(const E of yield _.getAccounts(v))S.add(E);return Array.from(S)}))}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}S.MergeKeyStore=MergeKeyStore},305829:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0});const P=E(_(698203)),D=E(_(465391)),R=E(_(617334)),M=new D.default.Agent({keepAlive:!0}),O=new R.default.Agent({keepAlive:!0});S.default=function default_1(v,S){return(0,P.default)(v,Object.assign({agent:(_=new URL(v.toString()),"http:"===_.protocol?M:O)},S));var _}},674550:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}:function(v,S){v.default=S}),D=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(null!=v)for(var _ in v)"default"!==_&&Object.prototype.hasOwnProperty.call(v,_)&&E(S,v,_);return P(S,v),S},R=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))},M=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.fetchJson=void 0;const O=_(962922),F=M(_(964011)),N=_(394151),logWarning=(...v)=>!{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}.NEAR_NO_LOGS&&console.warn(...v);S.fetchJson=function fetchJson(v,S){return R(this,void 0,void 0,(function*(){let E={url:null};"string"==typeof v?E.url=v:E=v;const P=yield(0,N.exponentialBackoff)(1e3,10,1.5,(()=>R(this,void 0,void 0,(function*(){try{_.g.fetch||(_.g.fetch=(yield Promise.resolve().then((()=>D(_(305829))))).default);const v=yield _.g.fetch(E.url,{method:S?"POST":"GET",body:S||void 0,headers:Object.assign(Object.assign({},E.headers),{"Content-Type":"application/json"})});if(!v.ok){if(503===v.status)return logWarning(`Retrying HTTP request for ${E.url} as it's not available now`),null;throw(0,F.default)(v.status,yield v.text())}return v}catch(v){if(v.toString().includes("FetchError")||v.toString().includes("Failed to fetch"))return logWarning(`Retrying HTTP request for ${E.url} because of error: ${v}`),null;throw v}}))));if(!P)throw new O.TypedError(`Exceeded 10 attempts for ${E.url}.`,"RetriesExceeded");return yield P.json()}))}},532885:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.fetchJson=S.Provider=S.JsonRpcProvider=S.exponentialBackoff=void 0;var E=_(394151);Object.defineProperty(S,"exponentialBackoff",{enumerable:!0,get:function(){return E.exponentialBackoff}});var P=_(651571);Object.defineProperty(S,"JsonRpcProvider",{enumerable:!0,get:function(){return P.JsonRpcProvider}});var D=_(960560);Object.defineProperty(S,"Provider",{enumerable:!0,get:function(){return D.Provider}});var R=_(674550);Object.defineProperty(S,"fetchJson",{enumerable:!0,get:function(){return R.fetchJson}})},651571:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))},D=this&&this.__rest||function(v,S){var _={};for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&S.indexOf(E)<0&&(_[E]=v[E]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var P=0;for(E=Object.getOwnPropertySymbols(v);P<E.length;P++)S.indexOf(E[P])<0&&Object.prototype.propertyIsEnumerable.call(v,E[P])&&(_[E[P]]=v[E[P]])}return _};Object.defineProperty(S,"__esModule",{value:!0}),S.JsonRpcProvider=void 0;const R=_(387438),M=_(962922),O=_(332564),F=_(881818),N=_(394151),L=_(960560),U=_(674550);let V=123;class JsonRpcProvider extends L.Provider{constructor(v){super(),this.connection=v||{url:""}}status(){return P(this,void 0,void 0,(function*(){return this.sendJsonRpc("status",[])}))}sendTransaction(v){return P(this,void 0,void 0,(function*(){const S=(0,O.encodeTransaction)(v);return this.sendJsonRpc("broadcast_tx_commit",[E.from(S).toString("base64")])}))}sendTransactionAsync(v){return P(this,void 0,void 0,(function*(){const S=(0,O.encodeTransaction)(v);return this.sendJsonRpc("broadcast_tx_async",[E.from(S).toString("base64")])}))}txStatus(v,S){return P(this,void 0,void 0,(function*(){return"string"==typeof v?this.txStatusString(v,S):this.txStatusUint8Array(v,S)}))}txStatusUint8Array(v,S){return P(this,void 0,void 0,(function*(){return this.sendJsonRpc("tx",[(0,F.baseEncode)(v),S])}))}txStatusString(v,S){return P(this,void 0,void 0,(function*(){return this.sendJsonRpc("tx",[v,S])}))}txStatusReceipts(v,S){return P(this,void 0,void 0,(function*(){return"string"==typeof v?this.sendJsonRpc("EXPERIMENTAL_tx_status",[v,S]):this.sendJsonRpc("EXPERIMENTAL_tx_status",[(0,F.baseEncode)(v),S])}))}query(...v){return P(this,void 0,void 0,(function*(){let S;if(1===v.length){const _=v[0],{block_id:E,blockId:P}=_,R=D(_,["block_id","blockId"]);S=yield this.sendJsonRpc("query",Object.assign(Object.assign({},R),{block_id:E||P}))}else{const[_,E]=v;S=yield this.sendJsonRpc("query",[_,E])}if(S&&S.error)throw new M.TypedError(`Querying failed: ${S.error}.\n${JSON.stringify(S,null,2)}`,(0,R.getErrorTypeFromErrorMessage)(S.error,S.error.name));return S}))}block(v){return P(this,void 0,void 0,(function*(){const{finality:S}=v,{blockId:_}=v;return this.sendJsonRpc("block",{block_id:_,finality:S})}))}blockChanges(v){return P(this,void 0,void 0,(function*(){const{finality:S}=v,{blockId:_}=v;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:_,finality:S})}))}chunk(v){return P(this,void 0,void 0,(function*(){return this.sendJsonRpc("chunk",[v])}))}validators(v){return P(this,void 0,void 0,(function*(){return this.sendJsonRpc("validators",[v])}))}experimental_protocolConfig(v){return P(this,void 0,void 0,(function*(){const S=v,{blockId:_}=S,E=D(S,["blockId"]);return yield this.sendJsonRpc("EXPERIMENTAL_protocol_config",Object.assign(Object.assign({},E),{block_id:_}))}))}lightClientProof(v){return P(this,void 0,void 0,(function*(){return yield this.sendJsonRpc("EXPERIMENTAL_light_client_proof",v)}))}nextLightClientBlock(v){return P(this,void 0,void 0,(function*(){return yield this.sendJsonRpc("next_light_client_block",v)}))}accessKeyChanges(v,S){return P(this,void 0,void 0,(function*(){const{finality:_}=S,{blockId:E}=S;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:v,block_id:E,finality:_})}))}singleAccessKeyChanges(v,S){return P(this,void 0,void 0,(function*(){const{finality:_}=S,{blockId:E}=S;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:v,block_id:E,finality:_})}))}accountChanges(v,S){return P(this,void 0,void 0,(function*(){const{finality:_}=S,{blockId:E}=S;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:v,block_id:E,finality:_})}))}contractStateChanges(v,S,_=""){return P(this,void 0,void 0,(function*(){const{finality:E}=S,{blockId:P}=S;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:v,key_prefix_base64:_,block_id:P,finality:E})}))}contractCodeChanges(v,S){return P(this,void 0,void 0,(function*(){const{finality:_}=S,{blockId:E}=S;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:v,block_id:E,finality:_})}))}gasPrice(v){return P(this,void 0,void 0,(function*(){return yield this.sendJsonRpc("gas_price",[v])}))}sendJsonRpc(v,S){return P(this,void 0,void 0,(function*(){const _=yield(0,N.exponentialBackoff)(500,12,1.5,(()=>P(this,void 0,void 0,(function*(){try{const _={method:v,params:S,id:V++,jsonrpc:"2.0"},E=yield(0,U.fetchJson)(this.connection,JSON.stringify(_));if(E.error){if("object"==typeof E.error.data){if("string"==typeof E.error.data.error_message&&"string"==typeof E.error.data.error_type)throw new M.TypedError(E.error.data.error_message,E.error.data.error_type);throw(0,R.parseRpcError)(E.error.data)}{const v=`[${E.error.code}] ${E.error.message}: ${E.error.data}`;if("Timeout"===E.error.data||v.includes("Timeout error")||v.includes("query has timed out"))throw new M.TypedError(v,"TimeoutError");throw new M.TypedError(v,(0,R.getErrorTypeFromErrorMessage)(E.error.data,E.error.name))}}return E}catch(_){if("TimeoutError"===_.type)return{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}.NEAR_NO_LOGS||console.warn(`Retrying request to ${v} as it has timed out`,S),null;throw _}})))),{result:E}=_;if(void 0===E)throw new M.TypedError(`Exceeded 12 attempts for request to ${v}.`,"RetriesExceeded");return E}))}}S.JsonRpcProvider=JsonRpcProvider},960560:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Provider=void 0;S.Provider=class Provider{}},56901:v=>{"use strict";function wrapfunction(v,S){if("function"!=typeof v)throw new TypeError("argument fn must be a function");return v}function wrapproperty(v,S,_){if(!v||"object"!=typeof v&&"function"!=typeof v)throw new TypeError("argument obj must be object");var E=Object.getOwnPropertyDescriptor(v,S);if(!E)throw new TypeError("must call property on owner object");if(!E.configurable)throw new TypeError("property must be configurable")}v.exports=function depd(v){if(!v)throw new TypeError("argument namespace is required");function deprecate(v){}return deprecate._file=void 0,deprecate._ignored=!0,deprecate._namespace=v,deprecate._traced=!1,deprecate._warned=Object.create(null),deprecate.function=wrapfunction,deprecate.property=wrapproperty,deprecate}},964011:(v,S,_)=>{"use strict";var E=_(56901)("http-errors"),P=_(339365),D=_(223611),R=_(435615),M=_(783976);function codeClass(v){return Number(String(v).charAt(0)+"00")}function nameFunc(v,S){var _=Object.getOwnPropertyDescriptor(v,"name");_&&_.configurable&&(_.value=S,Object.defineProperty(v,"name",_))}function toClassName(v){return"Error"!==v.substr(-5)?v+"Error":v}v.exports=function createError(){for(var v,S,_=500,P={},R=0;R<arguments.length;R++){var M=arguments[R];if(M instanceof Error)_=(v=M).status||v.statusCode||_;else switch(typeof M){case"string":S=M;break;case"number":_=M,0!==R&&E("non-first-argument status code; replace with createError("+M+", ...)");break;case"object":P=M}}"number"==typeof _&&(_<400||_>=600)&&E("non-error status code; use only 4xx or 5xx status codes");("number"!=typeof _||!D[_]&&(_<400||_>=600))&&(_=500);var O=createError[_]||createError[codeClass(_)];v||(v=O?new O(S):new Error(S||D[_]),Error.captureStackTrace(v,createError));O&&v instanceof O&&v.status===_||(v.expose=_<500,v.status=v.statusCode=_);for(var F in P)"status"!==F&&"statusCode"!==F&&(v[F]=P[F]);return v},v.exports.HttpError=function createHttpErrorConstructor(){function HttpError(){throw new TypeError("cannot construct abstract class")}return R(HttpError,Error),HttpError}(),v.exports.isHttpError=function createIsHttpErrorFunction(v){return function isHttpError(S){return!(!S||"object"!=typeof S)&&(S instanceof v||S instanceof Error&&"boolean"==typeof S.expose&&"number"==typeof S.statusCode&&S.status===S.statusCode)}}(v.exports.HttpError),function populateConstructorExports(v,S,_){S.forEach((function forEachCode(S){var E,O=M(D[S]);switch(codeClass(S)){case 400:E=function createClientErrorConstructor(v,S,_){var E=toClassName(S);function ClientError(v){var S=null!=v?v:D[_],R=new Error(S);return Error.captureStackTrace(R,ClientError),P(R,ClientError.prototype),Object.defineProperty(R,"message",{enumerable:!0,configurable:!0,value:S,writable:!0}),Object.defineProperty(R,"name",{enumerable:!1,configurable:!0,value:E,writable:!0}),R}return R(ClientError,v),nameFunc(ClientError,E),ClientError.prototype.status=_,ClientError.prototype.statusCode=_,ClientError.prototype.expose=!0,ClientError}(_,O,S);break;case 500:E=function createServerErrorConstructor(v,S,_){var E=toClassName(S);function ServerError(v){var S=null!=v?v:D[_],R=new Error(S);return Error.captureStackTrace(R,ServerError),P(R,ServerError.prototype),Object.defineProperty(R,"message",{enumerable:!0,configurable:!0,value:S,writable:!0}),Object.defineProperty(R,"name",{enumerable:!1,configurable:!0,value:E,writable:!0}),R}return R(ServerError,v),nameFunc(ServerError,E),ServerError.prototype.status=_,ServerError.prototype.statusCode=_,ServerError.prototype.expose=!1,ServerError}(_,O,S)}E&&(v[S]=E,v[O]=E)})),v["I'mateapot"]=E.function(v.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}(v.exports,D.codes,v.exports.HttpError)},223611:(v,S,_)=>{"use strict";var E=_(427046);function status(v){if("number"==typeof v){if(!status[v])throw new Error("invalid status code: "+v);return v}if("string"!=typeof v)throw new TypeError("code must be a number or string");var S=parseInt(v,10);if(!isNaN(S)){if(!status[S])throw new Error("invalid status code: "+S);return S}if(!(S=status[v.toLowerCase()]))throw new Error('invalid status message: "'+v+'"');return S}v.exports=status,status.STATUS_CODES=E,status.codes=function populateStatusesMap(v,S){var _=[];return Object.keys(S).forEach((function forEachCode(E){var P=S[E],D=Number(E);v[D]=P,v[P]=D,v[P.toLowerCase()]=D,_.push(D)})),_}(status,E),status.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},status.empty={204:!0,205:!0,304:!0},status.retry={502:!0,503:!0,504:!0}},606744:function(v,S,_){"use strict";var E=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))},P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.InMemorySigner=void 0;const D=_(368524),R=_(520490),M=P(_(180235)),O=_(541268);class InMemorySigner extends O.Signer{constructor(v){super(),this.keyStore=v}static fromKeyPair(v,S,_){return E(this,void 0,void 0,(function*(){const E=new R.InMemoryKeyStore;return yield E.setKey(v,S,_),new InMemorySigner(E)}))}createKey(v,S){return E(this,void 0,void 0,(function*(){const _=D.KeyPair.fromRandom("ed25519");return yield this.keyStore.setKey(S,v,_),_.getPublicKey()}))}getPublicKey(v,S){return E(this,void 0,void 0,(function*(){const _=yield this.keyStore.getKey(S,v);return null===_?null:_.getPublicKey()}))}signMessage(v,S,_){return E(this,void 0,void 0,(function*(){const E=new Uint8Array(M.default.sha256.array(v));if(!S)throw new Error("InMemorySigner requires provided account id");const P=yield this.keyStore.getKey(_,S);if(null===P)throw new Error(`Key for ${S} not found in ${_}`);return P.sign(E)}))}toString(){return`InMemorySigner(${this.keyStore})`}}S.InMemorySigner=InMemorySigner},86796:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Signer=S.InMemorySigner=void 0;var E=_(606744);Object.defineProperty(S,"InMemorySigner",{enumerable:!0,get:function(){return E.InMemorySigner}});var P=_(541268);Object.defineProperty(S,"Signer",{enumerable:!0,get:function(){return P.Signer}})},541268:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Signer=void 0;S.Signer=class Signer{}},544630:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.actionCreators=S.stringifyJsonOrBytes=void 0;const P=_(210303);function stringifyJsonOrBytes(v){return void 0!==v.byteLength&&v.byteLength===v.length?v:E.from(JSON.stringify(v))}S.stringifyJsonOrBytes=stringifyJsonOrBytes,S.actionCreators={addKey:function addKey(v,S){return new P.Action({addKey:new P.AddKey({publicKey:v,accessKey:S})})},createAccount:function createAccount(){return new P.Action({createAccount:new P.CreateAccount({})})},deleteAccount:function deleteAccount(v){return new P.Action({deleteAccount:new P.DeleteAccount({beneficiaryId:v})})},deleteKey:function deleteKey(v){return new P.Action({deleteKey:new P.DeleteKey({publicKey:v})})},deployContract:function deployContract(v){return new P.Action({deployContract:new P.DeployContract({code:v})})},fullAccessKey:function fullAccessKey(){return new P.AccessKey({permission:new P.AccessKeyPermission({fullAccess:new P.FullAccessPermission({})})})},functionCall:function functionCall(v,S,_,E,D=stringifyJsonOrBytes,R=!1){return R?new P.Action({functionCall:new P.FunctionCall({methodName:v,args:S,gas:_,deposit:E})}):new P.Action({functionCall:new P.FunctionCall({methodName:v,args:D(S),gas:_,deposit:E})})},functionCallAccessKey:function functionCallAccessKey(v,S,_){return new P.AccessKey({permission:new P.AccessKeyPermission({functionCall:new P.FunctionCallPermission({receiverId:v,allowance:_,methodNames:S})})})},signedDelegate:function signedDelegate({delegateAction:v,signature:S}){return new P.Action({signedDelegate:new P.SignedDelegate({delegateAction:v,signature:S})})},stake:function stake(v,S){return new P.Action({stake:new P.Stake({stake:v,publicKey:S})})},transfer:function transfer(v){return new P.Action({transfer:new P.Transfer({deposit:v})})}}},210303:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Action=S.SignedDelegate=S.DeleteAccount=S.DeleteKey=S.AddKey=S.Stake=S.Transfer=S.FunctionCall=S.DeployContract=S.CreateAccount=S.IAction=S.AccessKey=S.AccessKeyPermission=S.FullAccessPermission=S.FunctionCallPermission=void 0;const E=_(962922);class Enum{constructor(v){if(1!==Object.keys(v).length)throw new Error("Enum can only take single value");Object.keys(v).map((S=>{this[S]=v[S],this.enum=S}))}}class FunctionCallPermission extends E.Assignable{}S.FunctionCallPermission=FunctionCallPermission;class FullAccessPermission extends E.Assignable{}S.FullAccessPermission=FullAccessPermission;S.AccessKeyPermission=class AccessKeyPermission extends Enum{};class AccessKey extends E.Assignable{}S.AccessKey=AccessKey;class IAction extends E.Assignable{}S.IAction=IAction;S.CreateAccount=class CreateAccount extends IAction{};S.DeployContract=class DeployContract extends IAction{};S.FunctionCall=class FunctionCall extends IAction{};S.Transfer=class Transfer extends IAction{};S.Stake=class Stake extends IAction{};S.AddKey=class AddKey extends IAction{};S.DeleteKey=class DeleteKey extends IAction{};S.DeleteAccount=class DeleteAccount extends IAction{};S.SignedDelegate=class SignedDelegate extends IAction{};S.Action=class Action extends Enum{}},297929:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createTransaction=void 0;const E=_(489205);S.createTransaction=function createTransaction(v,S,_,P,D,R){return new E.Transaction({signerId:v,publicKey:S,nonce:P,receiverId:_,actions:D,blockHash:R})}},798609:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.buildDelegateAction=S.DelegateAction=void 0;const E=_(962922),P=_(544630),{addKey:D,createAccount:R,deleteAccount:M,deleteKey:O,deployContract:F,functionCall:N,stake:L,transfer:U}=P.actionCreators;class DelegateAction extends E.Assignable{}S.DelegateAction=DelegateAction,S.buildDelegateAction=function buildDelegateAction({actions:v,maxBlockHeight:S,nonce:_,publicKey:E,receiverId:P,senderId:V}){return new DelegateAction({senderId:V,receiverId:P,actions:v.map((v=>{if(!v.type&&!v.params)return v;switch(v.type){case"AddKey":{const{publicKey:S,accessKey:_}=v.params;return D(S,_)}case"CreateAccount":return R(v.params.createAccount);case"DeleteAccount":return M(v.params.deleteAccount);case"DeleteKey":return O(v.params.publicKey);case"DeployContract":return F(v.params.code);case"FunctionCall":{const{methodName:S,args:_,gas:E,deposit:P}=v.params;return N(S,_,E,P)}case"Stake":return L(v.params.stake,v.params.publicKey);case"Transfer":{const{deposit:S}=v.params;return U(S)}}throw new Error("Unrecognized action")})),nonce:_,maxBlockHeight:S,publicKey:E})}},332564:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),P(_(544630),S),P(_(210303),S),P(_(297929),S),P(_(798609),S),P(_(489205),S),P(_(825727),S),P(_(840658),S)},428662:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DelegateActionPrefix=void 0;const E=_(962922),P=Math.pow(2,30),D=366;class NEPPrefix extends E.Assignable{}class ActionableMessagePrefix extends NEPPrefix{constructor(v){super({prefix:P+v})}}S.DelegateActionPrefix=class DelegateActionPrefix extends ActionableMessagePrefix{constructor(){super(D)}}},489205:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SCHEMA=S.SignedTransaction=S.Transaction=S.decodeSignedTransaction=S.decodeTransaction=S.encodeTransaction=S.encodeSignedDelegate=S.encodeDelegateAction=void 0;const E=_(368524),P=_(962922),D=_(881818),R=_(210303),M=_(798609),O=_(428662),F=_(840658);function encodeTransaction(v){return(0,D.serialize)(S.SCHEMA,v)}function decodeTransaction(v){return(0,D.deserialize)(S.SCHEMA,Transaction,v)}function decodeSignedTransaction(v){return(0,D.deserialize)(S.SCHEMA,SignedTransaction,v)}S.encodeDelegateAction=function encodeDelegateAction(v){return new Uint8Array([...(0,D.serialize)(S.SCHEMA,new O.DelegateActionPrefix),...(0,D.serialize)(S.SCHEMA,v)])},S.encodeSignedDelegate=function encodeSignedDelegate(v){return(0,D.serialize)(S.SCHEMA,v)},S.encodeTransaction=encodeTransaction,S.decodeTransaction=decodeTransaction,S.decodeSignedTransaction=decodeSignedTransaction;class Transaction extends P.Assignable{encode(){return encodeTransaction(this)}static decode(v){return decodeTransaction(v)}}S.Transaction=Transaction;class SignedTransaction extends P.Assignable{encode(){return encodeTransaction(this)}static decode(v){return decodeSignedTransaction(v)}}S.SignedTransaction=SignedTransaction,S.SCHEMA=new Map([[F.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[SignedTransaction,{kind:"struct",fields:[["transaction",Transaction],["signature",F.Signature]]}],[Transaction,{kind:"struct",fields:[["signerId","string"],["publicKey",E.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[R.Action]]]}],[E.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[R.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",R.AccessKeyPermission]]}],[R.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",R.FunctionCallPermission],["fullAccess",R.FullAccessPermission]]}],[R.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[R.FullAccessPermission,{kind:"struct",fields:[]}],[R.Action,{kind:"enum",field:"enum",values:[["createAccount",R.CreateAccount],["deployContract",R.DeployContract],["functionCall",R.FunctionCall],["transfer",R.Transfer],["stake",R.Stake],["addKey",R.AddKey],["deleteKey",R.DeleteKey],["deleteAccount",R.DeleteAccount],["signedDelegate",R.SignedDelegate]]}],[R.CreateAccount,{kind:"struct",fields:[]}],[R.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[R.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[R.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[R.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",E.PublicKey]]}],[R.AddKey,{kind:"struct",fields:[["publicKey",E.PublicKey],["accessKey",R.AccessKey]]}],[R.DeleteKey,{kind:"struct",fields:[["publicKey",E.PublicKey]]}],[R.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[M.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[R.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",E.PublicKey]]}],[O.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[R.SignedDelegate,{kind:"struct",fields:[["delegateAction",M.DelegateAction],["signature",F.Signature]]}]])},825727:function(v,S,_){"use strict";var E=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))},P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.signDelegateAction=S.signTransaction=void 0;const D=P(_(180235)),R=_(210303),M=_(297929),O=_(489205),F=_(840658);function signTransactionObject(v,S,_,P){return E(this,void 0,void 0,(function*(){const E=(0,O.encodeTransaction)(v),R=new Uint8Array(D.default.sha256.array(E)),M=yield S.signMessage(E,_,P);return[R,new O.SignedTransaction({transaction:v,signature:new F.Signature({keyType:v.publicKey.keyType,data:M.signature})})]}))}S.signTransaction=function signTransaction(...v){return E(this,void 0,void 0,(function*(){if(v[0].constructor===O.Transaction){const[S,_,E,P]=v;return signTransactionObject(S,_,E,P)}{const[S,_,E,P,D,R,O]=v,F=yield D.getPublicKey(R,O);return signTransactionObject((0,M.createTransaction)(R,F,S,_,E,P),D,R,O)}}))},S.signDelegateAction=function signDelegateAction({delegateAction:v,signer:S}){return E(this,void 0,void 0,(function*(){const _=(0,O.encodeDelegateAction)(v),E=yield S.sign(_),P=new R.SignedDelegate({delegateAction:v,signature:new F.Signature({keyType:v.publicKey.keyType,data:E})});return{hash:new Uint8Array(D.default.sha256.array(_)),signedDelegateAction:P}}))}},840658:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Signature=void 0;const E=_(962922);class Signature extends E.Assignable{}S.Signature=Signature},251185:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Assignable=void 0;S.Assignable=class Assignable{constructor(v){Object.keys(v).map((S=>{this[S]=v[S]}))}}},417903:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ErrorContext=S.TypedError=S.ArgumentTypeError=S.PositionalArgsError=void 0;class PositionalArgsError extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}S.PositionalArgsError=PositionalArgsError;class ArgumentTypeError extends Error{constructor(v,S,_){super(`Expected ${S} for '${v}' argument, but got '${JSON.stringify(_)}'`)}}S.ArgumentTypeError=ArgumentTypeError;class TypedError extends Error{constructor(v,S,_){super(v),this.type=S||"UntypedError",this.context=_}}S.TypedError=TypedError;S.ErrorContext=class ErrorContext{constructor(v){this.transactionHash=v}}},962922:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),P(_(251185),S),P(_(417903),S),P(_(315462),S)},315462:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.FinalExecutionStatusBasic=S.ExecutionStatusBasic=S.IdType=void 0;var E=_(112106);Object.defineProperty(S,"IdType",{enumerable:!0,get:function(){return E.IdType}});var P=_(433235);Object.defineProperty(S,"ExecutionStatusBasic",{enumerable:!0,get:function(){return P.ExecutionStatusBasic}}),Object.defineProperty(S,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return P.FinalExecutionStatusBasic}})},112106:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.IdType=void 0,function(v){v.Transaction="transaction",v.Receipt="receipt"}(S.IdType||(S.IdType={}))},433235:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.FinalExecutionStatusBasic=S.ExecutionStatusBasic=void 0,function(v){v.Unknown="Unknown",v.Pending="Pending",v.Failure="Failure"}(S.ExecutionStatusBasic||(S.ExecutionStatusBasic={})),function(v){v.NotStarted="NotStarted",v.Started="Started",v.Failure="Failure"}(S.FinalExecutionStatusBasic||(S.FinalExecutionStatusBasic={}))},78239:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.DEFAULT_FUNCTION_CALL_GAS=void 0;const P=E(_(682823));S.DEFAULT_FUNCTION_CALL_GAS=new P.default("30000000000000")},891501:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.logWarning=void 0,S.logWarning=function logWarning(...v){({ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}).NEAR_NO_LOGS||console.warn(...v)}},104380:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRpcError=S.parseResultError=S.getErrorTypeFromErrorMessage=S.formatError=S.ServerError=S.logWarning=void 0;var E=_(891501);Object.defineProperty(S,"logWarning",{enumerable:!0,get:function(){return E.logWarning}});var P=_(272913);Object.defineProperty(S,"ServerError",{enumerable:!0,get:function(){return P.ServerError}}),Object.defineProperty(S,"formatError",{enumerable:!0,get:function(){return P.formatError}}),Object.defineProperty(S,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return P.getErrorTypeFromErrorMessage}}),Object.defineProperty(S,"parseResultError",{enumerable:!0,get:function(){return P.parseResultError}}),Object.defineProperty(S,"parseRpcError",{enumerable:!0,get:function(){return P.parseRpcError}})},272913:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.getErrorTypeFromErrorMessage=S.formatError=S.parseResultError=S.parseRpcError=S.ServerError=void 0;const P=_(962922),D=E(_(850764)),R=_(655791),M=E(_(999494)),O=E(_(530785)),F={formatNear:()=>(v,S)=>(0,R.formatNearAmount)(S(v))};class ServerError extends P.TypedError{}S.ServerError=ServerError;class ServerTransactionError extends ServerError{}function parseRpcError(v){const S={},_=walkSubtype(v,O.default.schema,S,""),E=new ServerError(formatError(_,S),_);return Object.assign(E,S),E}function formatError(v,S){return"string"==typeof M.default[v]?D.default.render(M.default[v],Object.assign(Object.assign({},S),F)):JSON.stringify(S)}function walkSubtype(v,S,_,E){let P,D,R;for(const _ in S){if(M=v[_],"[object String]"===Object.prototype.toString.call(M))return v[_];if(isObject(v[_]))P=v[_],D=S[_],R=_;else{if(!isObject(v.kind)||!isObject(v.kind[_]))continue;P=v.kind[_],D=S[_],R=_}}var M;if(P&&D){for(const v of Object.keys(D.props))_[v]=P[v];return walkSubtype(P,S,_,R)}return _.kind=v,E}function isObject(v){return"[object Object]"===Object.prototype.toString.call(v)}S.parseRpcError=parseRpcError,S.parseResultError=function parseResultError(v){const S=parseRpcError(v.status.Failure),_=new ServerTransactionError;return Object.assign(_,S),_.type=S.type,_.message=S.message,_.transaction_outcome=v.transaction_outcome,_},S.formatError=formatError,S.getErrorTypeFromErrorMessage=function getErrorTypeFromErrorMessage(v,S){switch(!0){case/^account .*? does not exist while viewing$/.test(v):case/^Account .*? doesn't exist$/.test(v):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(v):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(v):return"CodeDoesNotExist";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(v):return"InvalidNonce";default:return S}}},655791:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.parseNearAmount=S.formatNearAmount=S.NEAR_NOMINATION=S.NEAR_NOMINATION_EXP=void 0;const P=E(_(682823));S.NEAR_NOMINATION_EXP=24,S.NEAR_NOMINATION=new P.default("10",10).pow(new P.default(S.NEAR_NOMINATION_EXP,10));const D=[],R=new P.default(10);for(let v=0,_=new P.default(5);v<S.NEAR_NOMINATION_EXP;v++,_=_.mul(R))D[v]=_;S.formatNearAmount=function formatNearAmount(v,_=S.NEAR_NOMINATION_EXP){const E=new P.default(v,10);if(_!==S.NEAR_NOMINATION_EXP){const v=S.NEAR_NOMINATION_EXP-_-1;v>0&&E.iadd(D[v])}const R=(v=E.toString()).substring(0,v.length-S.NEAR_NOMINATION_EXP)||"0",M=v.substring(v.length-S.NEAR_NOMINATION_EXP).padStart(S.NEAR_NOMINATION_EXP,"0").substring(0,_);return function trimTrailingZeroes(v){return v.replace(/\.?0*$/,"")}(`${function formatWithCommas(v){const S=/(-?\d+)(\d{3})/;for(;S.test(v);)v=v.replace(S,"$1,$2");return v}(R)}.${M}`)},S.parseNearAmount=function parseNearAmount(v){if(!v)return null;const _=(v=function cleanupAmount(v){return v.replace(/,/g,"").trim()}(v)).split("."),E=_[0],P=_[1]||"";if(_.length>2||P.length>S.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${v}' as NEAR amount`);return function trimLeadingZeroes(v){if(""===(v=v.replace(/^0+/,"")))return"0";return v}(E+P.padEnd(S.NEAR_NOMINATION_EXP,"0"))}},387438:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),P(_(78239),S),P(_(104380),S),P(_(655791),S),P(_(547279),S),P(_(540625),S),P(_(601775),S)},547279:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.printTxOutcomeLogs=S.printTxOutcomeLogsAndFailures=void 0;const E=_(104380),P=!!{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}.NEAR_NO_LOGS;function printTxOutcomeLogs({contractId:v,logs:S,prefix:_=""}){if(!P)for(const E of S)console.log(`${_}Log [${v}]: ${E}`)}S.printTxOutcomeLogsAndFailures=function printTxOutcomeLogsAndFailures({contractId:v,outcome:S}){if(P)return;const _=[S.transaction_outcome,...S.receipts_outcome].reduce(((v,S)=>{const _="object"==typeof S.outcome.status&&"object"==typeof S.outcome.status.Failure;return S.outcome.logs.length||_?v.concat({receiptIds:S.outcome.receipt_ids,logs:S.outcome.logs,failure:"object"==typeof S.outcome.status&&void 0!==S.outcome.status.Failure?(0,E.parseRpcError)(S.outcome.status.Failure):null}):v}),[]);for(const S of _)console.log(`Receipt${S.receiptIds.length>1?"s":""}: ${S.receiptIds.join(", ")}`),printTxOutcomeLogs({contractId:v,logs:S.logs,prefix:"\t"}),S.failure&&console.warn(`\tFailure [${v}]: ${S.failure}`)},S.printTxOutcomeLogs=printTxOutcomeLogs},540625:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.getTransactionLastResult=void 0,S.getTransactionLastResult=function getTransactionLastResult(v){if("object"==typeof v.status&&"string"==typeof v.status.SuccessValue){const S=E.from(v.status.SuccessValue,"base64").toString();try{return JSON.parse(S)}catch(v){return S}}return null}},601775:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.diffEpochValidators=S.findSeatPrice=void 0;const P=E(_(682823)),D=E(_(757222));S.findSeatPrice=function findSeatPrice(v,S,_,E){if(E&&E<49)return function findSeatPriceForProtocolBefore49(v,S){const _=v.map((v=>new P.default(v.stake,10))).sort(((v,S)=>v.cmp(S))),E=new P.default(S),D=_.reduce(((v,S)=>v.add(S)));if(D.lt(E))throw new Error("Stakes are below seats");let R=new P.default(1),M=D.add(new P.default(1));for(;!R.eq(M.sub(new P.default(1)));){const v=R.add(M).div(new P.default(2));let S=!1,D=new P.default(0);for(let P=0;P<_.length;++P)if(D=D.add(_[P].div(v)),D.gte(E)){R=v,S=!0;break}S||(M=v)}return R}(v,S);if(!_){(0,D.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),_=[1,6250]}return function findSeatPriceForProtocolAfter49(v,S,_){if(2!=_.length)throw Error("minimumStakeRatio should have 2 elements");const E=v.map((v=>new P.default(v.stake,10))).sort(((v,S)=>v.cmp(S))),D=E.reduce(((v,S)=>v.add(S)));return v.length<S?D.mul(new P.default(_[0])).div(new P.default(_[1])):E[0].add(new P.default(1))}(v,S,_)},S.diffEpochValidators=function diffEpochValidators(v,S){const _=new Map;v.forEach((v=>_.set(v.account_id,v)));const E=new Set(S.map((v=>v.account_id)));return{newValidators:S.filter((v=>!_.has(v.account_id))),removedValidators:v.filter((v=>!E.has(v.account_id))),changedValidators:S.filter((v=>_.has(v.account_id)&&_.get(v.account_id).stake!=v.stake)).map((v=>({current:_.get(v.account_id),next:v})))}}},742278:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.WalletConnection=S.ConnectedWalletAccount=S.Near=void 0;var E=_(949418);Object.defineProperty(S,"Near",{enumerable:!0,get:function(){return E.Near}});var P=_(372493);Object.defineProperty(S,"ConnectedWalletAccount",{enumerable:!0,get:function(){return P.ConnectedWalletAccount}}),Object.defineProperty(S,"WalletConnection",{enumerable:!0,get:function(){return P.WalletConnection}})},949418:function(v,S,_){"use strict";var E=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))},P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.Near=void 0;const D=_(720989),R=P(_(682823));S.Near=class Near{constructor(v){var S;if(this.config=v,this.connection=D.Connection.fromConfig({networkId:v.networkId,provider:{type:"JsonRpcProvider",args:{url:v.nodeUrl,headers:v.headers}},signer:v.signer||{type:"InMemorySigner",keyStore:v.keyStore||(null===(S=v.deps)||void 0===S?void 0:S.keyStore)},jsvmAccountId:v.jsvmAccountId||`jsvm.${v.networkId}`}),v.masterAccount){const S=v.initialBalance?new R.default(v.initialBalance):new R.default("500000000000000000000000000");this.accountCreator=new D.LocalAccountCreator(new D.Account(this.connection,v.masterAccount),S)}else v.helperUrl?this.accountCreator=new D.UrlAccountCreator(this.connection,v.helperUrl):this.accountCreator=null}account(v){return E(this,void 0,void 0,(function*(){return new D.Account(this.connection,v)}))}createAccount(v,S){return E(this,void 0,void 0,(function*(){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return yield this.accountCreator.createAccount(v,S),new D.Account(this.connection,v)}))}}},372493:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))},D=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.ConnectedWalletAccount=S.WalletConnection=void 0;const R=_(720989),M=_(368524),O=_(332564),F=D(_(682823)),N=_(881818),L="pending_key";S.WalletConnection=class WalletConnection{constructor(v,S){if("string"!=typeof S)throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if("undefined"==typeof window)return new Proxy(this,{get:(v,S)=>"isSignedIn"===S?()=>!1:"getAccountId"===S?()=>"":v[S]&&"function"==typeof v[S]?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:v[S]});this._near=v;const _=S+"_wallet_auth_key",E=JSON.parse(window.localStorage.getItem(_));this._networkId=v.config.networkId,this._walletBaseUrl=v.config.walletUrl,S=S||v.config.contractName||"default",this._keyStore=v.connection.signer.keyStore,this._authData=E||{allKeys:[]},this._authDataKey=_,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}isSignedInAsync(){return P(this,void 0,void 0,(function*(){return this._completeSignInPromise?(yield this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()}))}getAccountId(){return this._authData.accountId||""}requestSignIn({contractId:v,methodNames:S,successUrl:_,failureUrl:E}){return P(this,void 0,void 0,(function*(){const P=new URL(window.location.href),D=new URL(this._walletBaseUrl+"/login/");if(D.searchParams.set("success_url",_||P.href),D.searchParams.set("failure_url",E||P.href),v){const S=yield this._near.account(v);yield S.state(),D.searchParams.set("contract_id",v);const _=M.KeyPair.fromRandom("ed25519");D.searchParams.set("public_key",_.getPublicKey().toString()),yield this._keyStore.setKey(this._networkId,L+_.getPublicKey(),_)}S&&S.forEach((v=>{D.searchParams.append("methodNames",v)})),window.location.assign(D.toString())}))}requestSignTransactions({transactions:v,meta:S,callbackUrl:_}){return P(this,void 0,void 0,(function*(){const P=new URL(window.location.href),D=new URL("sign",this._walletBaseUrl);D.searchParams.set("transactions",v.map((v=>(0,N.serialize)(O.SCHEMA,v))).map((v=>E.from(v).toString("base64"))).join(",")),D.searchParams.set("callbackUrl",_||P.href),S&&D.searchParams.set("meta",S),window.location.assign(D.toString())}))}_completeSignInWithAccessKey(){return P(this,void 0,void 0,(function*(){const v=new URL(window.location.href),S=v.searchParams.get("public_key")||"",_=(v.searchParams.get("all_keys")||"").split(","),E=v.searchParams.get("account_id")||"";if(E){const v={accountId:E,allKeys:_};window.localStorage.setItem(this._authDataKey,JSON.stringify(v)),S&&(yield this._moveKeyFromTempToPermanent(E,S)),this._authData=v}v.searchParams.delete("public_key"),v.searchParams.delete("all_keys"),v.searchParams.delete("account_id"),v.searchParams.delete("meta"),v.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,v.toString())}))}_moveKeyFromTempToPermanent(v,S){return P(this,void 0,void 0,(function*(){const _=yield this._keyStore.getKey(this._networkId,L+S);yield this._keyStore.setKey(this._networkId,v,_),yield this._keyStore.removeKey(this._networkId,L+S)}))}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new ConnectedWalletAccount(this,this._near.connection,this._authData.accountId)),this._connectedAccount}};class ConnectedWalletAccount extends R.Account{constructor(v,S,_){super(S,_),this.walletConnection=v}signAndSendTransaction({receiverId:v,actions:S,walletMeta:_,walletCallbackUrl:E=window.location.href}){const D=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return P(this,void 0,void 0,(function*(){const P=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let R=yield this.accessKeyForTransaction(v,S,P);if(!R)throw new Error(`Cannot find matching key for transaction sent to ${v}`);if(P&&P.toString()===R.public_key)try{return yield D.signAndSendTransaction.call(this,{receiverId:v,actions:S})}catch(_){if("NotEnoughAllowance"!==_.type)throw _;R=yield this.accessKeyForTransaction(v,S)}const L=yield this.connection.provider.block({finality:"final"}),U=(0,N.baseDecode)(L.header.hash),V=M.PublicKey.from(R.public_key),G=R.access_key.nonce.add(new F.default(1)),W=(0,O.createTransaction)(this.accountId,V,v,G,S,U);return yield this.walletConnection.requestSignTransactions({transactions:[W],meta:_,callbackUrl:E}),new Promise(((v,S)=>{setTimeout((()=>{S(new Error("Failed to redirect to sign transaction"))}),1e3)}))}))}accessKeyMatchesTransaction(v,S,_){return P(this,void 0,void 0,(function*(){const{access_key:{permission:E}}=v;if("FullAccess"===E)return!0;if(E.FunctionCall){const{receiver_id:v,method_names:P}=E.FunctionCall;if(v===this.accountId&&P.includes("add_request_and_confirm"))return!0;if(v===S){if(1!==_.length)return!1;const[{functionCall:v}]=_;return v&&(!v.deposit||"0"===v.deposit.toString())&&(0===P.length||P.includes(v.methodName))}}return!1}))}accessKeyForTransaction(v,S,_){return P(this,void 0,void 0,(function*(){const E=yield this.getAccessKeys();if(_){const P=E.find((v=>v.public_key.toString()===_.toString()));if(P&&(yield this.accessKeyMatchesTransaction(P,v,S)))return P}const P=this.walletConnection._authData.allKeys;for(const _ of E)if(-1!==P.indexOf(_.public_key)&&(yield this.accessKeyMatchesTransaction(_,v,S)))return _;return null}))}}S.ConnectedWalletAccount=ConnectedWalletAccount},670507:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0});const D=P(_(626093)),R=_(622069);let M=[];var O;!function(v){v.STANDARD="standard",v.URI="uri",v.MINIMAL="minimal"}(O||(O={}));const getWord=v=>"ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom".slice(4*v,4*v+4),addCRC=v=>`${v}${R.getCRCHex(E.from(v,"hex"))}`,encodeWithSeparator=(v,S)=>{const _=addCRC(v);return E.from(_,"hex").reduce(((v,S)=>[...v,getWord(S)]),[]).join(S)},encodeMinimal=v=>{const S=addCRC(v);return E.from(S,"hex").reduce(((v,S)=>v+(v=>{const S=getWord(v);return`${S[0]}${S[3]}`})(S)),"")},_decode=(v,S,_)=>{const P=(4==_?v.split(S):R.partition(v,2)).map((v=>((v,S)=>{D.default(v.length===S,"Invalid Bytewords: word.length does not match wordLength provided");const _=26;if(0===M.length){M=[...new Array(676)].map((()=>-1));for(let v=0;v<256;v++){const S=getWord(v);let E=S[0].charCodeAt(0)-"a".charCodeAt(0),P=S[3].charCodeAt(0)-"a".charCodeAt(0);M[P*_+E]=v}}let P=v[0].toLowerCase().charCodeAt(0)-"a".charCodeAt(0),R=v[4==S?3:1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);D.default(0<=P&&P<_&&0<=R&&R<_,"Invalid Bytewords: invalid word");let O=M[R*_+P];if(D.default(-1!==O,"Invalid Bytewords: value not in lookup table"),4==S){const S=getWord(O);let _=v[1].toLowerCase(),E=v[2].toLowerCase();D.default(_===S[1]&&E===S[2],"Invalid Bytewords: invalid middle letters of word")}return E.from([O]).toString("hex")})(v,_))).join("");D.default(P.length>=5,"Invalid Bytewords: invalid decoded string length");const[O,F]=R.split(E.from(P,"hex"),4),N=R.getCRCHex(O);return D.default(N===F.toString("hex"),"Invalid Checksum"),O.toString("hex")};S.default={decode:(v,S=O.MINIMAL)=>{switch(S){case O.STANDARD:return _decode(v," ",4);case O.URI:return _decode(v,"-",4);case O.MINIMAL:return _decode(v,"",2);default:throw new Error(`Invalid style ${S}`)}},encode:(v,S=O.MINIMAL)=>{switch(S){case O.STANDARD:return encodeWithSeparator(v," ");case O.URI:return encodeWithSeparator(v,"-");case O.MINIMAL:return encodeMinimal(v);default:throw new Error(`Invalid style ${S}`)}},STYLES:O}},559786:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.cborDecode=S.cborEncode=void 0;const P=_(387037);S.cborEncode=v=>P.encode(v);S.cborDecode=v=>P.decode(E.isBuffer(v)?v:E.from(v,"hex"))},608397:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.InvalidChecksumError=S.InvalidSequenceComponentError=S.InvalidTypeError=S.InvalidPathLengthError=S.InvalidSchemeError=void 0;class InvalidSchemeError extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}}S.InvalidSchemeError=InvalidSchemeError;class InvalidPathLengthError extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}}S.InvalidPathLengthError=InvalidPathLengthError;class InvalidTypeError extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}}S.InvalidTypeError=InvalidTypeError;class InvalidSequenceComponentError extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}}S.InvalidSequenceComponentError=InvalidSequenceComponentError;class InvalidChecksumError extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}}S.InvalidChecksumError=InvalidChecksumError},420944:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.FountainDecoderPart=void 0;const P=_(622069),D=_(620677),R=_(608397);class FountainDecoderPart{constructor(v,S){this._indexes=v,this._fragment=S}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(v){const S=D.chooseFragments(v.seqNum,v.seqLength,v.checksum),_=v.fragment;return new FountainDecoderPart(S,_)}isSimple(){return 1===this.indexes.length}}S.FountainDecoderPart=FountainDecoderPart;class FountainDecoder{constructor(){this.result=void 0,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(v){if(0===this.expectedPartIndexes.length)[...new Array(v.seqLength)].forEach(((v,S)=>this.expectedPartIndexes.push(S))),this.expectedMessageLength=v.messageLength,this.expectedChecksum=v.checksum,this.expectedFragmentLength=v.fragment.length;else{if(this.expectedPartIndexes.length!==v.seqLength)return!1;if(this.expectedMessageLength!==v.messageLength)return!1;if(this.expectedChecksum!==v.checksum)return!1;if(this.expectedFragmentLength!==v.fragment.length)return!1}return!0}reducePartByPart(v,S){if(P.arrayContains(v.indexes,S.indexes)){const _=P.setDifference(v.indexes,S.indexes),E=P.bufferXOR(v.fragment,S.fragment);return new FountainDecoderPart(_,E)}return v}reduceMixedBy(v){const S=[];this.mixedParts.map((({value:S})=>this.reducePartByPart(S,v))).forEach((v=>{v.isSimple()?this.queuedParts.push(v):S.push({key:v.indexes,value:v})})),this.mixedParts=S}processSimplePart(v){const S=v.indexes[0];if(!this.receivedPartIndexes.includes(S))if(this.simpleParts.push({key:v.indexes,value:v}),this.receivedPartIndexes.push(S),P.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){const v=this.simpleParts.map((({value:v})=>v)).sort(((v,S)=>v.indexes[0]-S.indexes[0])),S=FountainDecoder.joinFragments(v.map((v=>v.fragment)),this.expectedMessageLength);P.getCRC(S)===this.expectedChecksum?this.result=S:this.error=new R.InvalidChecksumError}else this.reduceMixedBy(v)}processMixedPart(v){if(this.mixedParts.some((({key:S})=>P.arraysEqual(S,v.indexes))))return;let S=this.simpleParts.reduce(((v,{value:S})=>this.reducePartByPart(v,S)),v);S=this.mixedParts.reduce(((v,{value:S})=>this.reducePartByPart(v,S)),S),S.isSimple()?this.queuedParts.push(S):(this.reduceMixedBy(S),this.mixedParts.push({key:S.indexes,value:S}))}processQueuedItem(){if(0===this.queuedParts.length)return;const v=this.queuedParts.shift();v.isSimple()?this.processSimplePart(v):this.processMixedPart(v)}receivePart(v){if(this.isComplete())return!1;if(!this.validatePart(v))return!1;const S=FountainDecoderPart.fromEncoderPart(v);for(this.lastPartIndexes=S.indexes,this.queuedParts.push(S);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return Boolean(void 0!==this.result&&this.result.length>0)}isSuccess(){return Boolean(void 0===this.error&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:E.from([])}isFailure(){return void 0!==this.error}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;const v=this.expectedPartCount();return 0===v?0:Math.min(.99,this.processedPartsCount/(1.75*v))}getProgress(){if(this.isComplete())return 1;const v=this.expectedPartCount();return 0===v?0:this.receivedPartIndexes.length/v}}S.default=FountainDecoder,FountainDecoder.joinFragments=(v,S)=>E.concat(v).slice(0,S)},834168:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.FountainEncoderPart=void 0;const D=P(_(626093)),R=_(622069),M=_(620677),O=_(559786);class FountainEncoderPart{constructor(v,S,_,E,P){this._seqNum=v,this._seqLength=S,this._messageLength=_,this._checksum=E,this._fragment=P}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){const v=O.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return E.from(v)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(v){const[S,_,P,R,M]=O.cborDecode(v);return D.default("number"==typeof S),D.default("number"==typeof _),D.default("number"==typeof P),D.default("number"==typeof R),D.default(E.isBuffer(M)&&M.length>0),new FountainEncoderPart(S,_,P,R,E.from(M))}}S.FountainEncoderPart=FountainEncoderPart;class FountainEncoder{constructor(v,S=100,_=0,E=10){const P=FountainEncoder.findNominalFragmentLength(v.length,E,S);this._messageLength=v.length,this._fragments=FountainEncoder.partitionMessage(v,P),this.fragmentLength=P,this.seqNum=R.toUint32(_),this.checksum=R.getCRC(v)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return 1===this._fragments.length}seqLength(){return this._fragments.length}mix(v){return v.reduce(((v,S)=>R.bufferXOR(this._fragments[S],v)),E.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=R.toUint32(this.seqNum+1);const v=M.chooseFragments(this.seqNum,this._fragments.length,this.checksum),S=this.mix(v);return new FountainEncoderPart(this.seqNum,this._fragments.length,this._messageLength,this.checksum,S)}static findNominalFragmentLength(v,S,_){D.default(v>0),D.default(S>0),D.default(_>=S);const E=Math.ceil(v/S);let P=0;for(let S=1;S<=E&&(P=Math.ceil(v/S),!(P<=_));S++);return P}static partitionMessage(v,S){let _,P=E.from(v),D=[];for(;P.length>0;)[_,P]=R.split(P,-S),_=E.alloc(S,0).fill(_,0,_.length),D.push(_);return D}}S.default=FountainEncoder},620677:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.chooseFragments=S.shuffle=S.chooseDegree=void 0;const D=_(622069),R=P(_(442446)),M=P(_(45833));S.chooseDegree=(v,S)=>{const _=[...new Array(v)].map(((v,S)=>1/(S+1)));return M.default(_,void 0,S.nextDouble).next()+1};S.shuffle=(v,S)=>{let _=[...v],E=[];for(;_.length>0;){let v=S.nextInt(0,_.length-1),P=_[v];_.splice(v,1),E.push(P)}return E};S.chooseFragments=(v,_,P)=>{if(v<=_)return[v-1];{const M=E.concat([D.intToBytes(v),D.intToBytes(P)]),O=new R.default(M),F=S.chooseDegree(_,O),N=[...new Array(_)].map(((v,S)=>S));return S.shuffle(N,O).slice(0,F)}}},653980:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.URDecoder=S.UREncoder=S.UR=void 0;const P=E(_(800909));S.UR=P.default;const D=E(_(320193));S.UREncoder=D.default;const R=E(_(201805));S.URDecoder=R.default},800909:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0});const P=_(608397),D=_(622069),R=_(559786);class UR{constructor(v,S="bytes"){if(this._cborPayload=v,this._type=S,!D.isURType(this._type))throw new P.InvalidTypeError}static fromBuffer(v){return new UR(R.cborEncode(v))}static from(v,S){return UR.fromBuffer(E.from(v,S))}decodeCBOR(){return R.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(v){return this.type===v.type&&this.cbor.equals(v.cbor)}}S.default=UR},201805:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0});const D=P(_(420944)),R=P(_(670507)),M=P(_(626093)),O=_(622069),F=_(608397),N=P(_(800909)),L=_(834168);class URDecoder{constructor(v=new D.default,S="bytes"){this.fountainDecoder=v,this.type=S,M.default(O.isURType(S),"Invalid UR type"),this.expected_type=""}static decodeBody(v,S){const _=R.default.decode(S,R.default.STYLES.MINIMAL);return new N.default(E.from(_,"hex"),v)}validatePart(v){return this.expected_type?this.expected_type===v:!!O.isURType(v)&&(this.expected_type=v,!0)}static decode(v){const[S,_]=this.parse(v);if(0===_.length)throw new F.InvalidPathLengthError;const E=_[0];return URDecoder.decodeBody(S,E)}static parse(v){const S=v.toLowerCase();if("ur:"!==S.slice(0,3))throw new F.InvalidSchemeError;const _=S.slice(3).split("/"),E=_[0];if(_.length<2)throw new F.InvalidPathLengthError;if(!O.isURType(E))throw new F.InvalidTypeError;return[E,_.slice(1)]}static parseSequenceComponent(v){const S=v.split("-");if(2!==S.length)throw new F.InvalidSequenceComponentError;const _=O.toUint32(Number(S[0])),E=Number(S[1]);if(_<1||E<1)throw new F.InvalidSequenceComponentError;return[_,E]}receivePart(v){if(void 0!==this.result)return!1;const[S,_]=URDecoder.parse(v);if(!this.validatePart(S))return!1;if(1===_.length)return this.result=URDecoder.decodeBody(S,_[0]),!0;if(2!==_.length)throw new F.InvalidPathLengthError;const[E,P]=_,[D,M]=URDecoder.parseSequenceComponent(E),O=R.default.decode(P,R.default.STYLES.MINIMAL),U=L.FountainEncoderPart.fromCBOR(O);return D===U.seqNum&&M===U.seqLength&&(!!this.fountainDecoder.receivePart(U)&&(this.fountainDecoder.isSuccess()?this.result=new N.default(this.fountainDecoder.resultMessage(),S):this.fountainDecoder.isFailure()&&(this.error=new F.InvalidSchemeError),!0))}resultUR(){return this.result?this.result:new N.default(E.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return void 0!==this.error}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}}S.default=URDecoder},320193:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0});const P=E(_(834168)),D=E(_(670507));class UREncoder{constructor(v,S,_,E){this.ur=v,this.fountainEncoder=new P.default(v.cbor,S,_,E)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map((()=>this.nextPart()))}nextPart(){const v=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?UREncoder.encodeSinglePart(this.ur):UREncoder.encodePart(this.ur.type,v)}static encodeUri(v,S){return[v,S.join("/")].join(":")}static encodeUR(v){return UREncoder.encodeUri("ur",v)}static encodePart(v,S){const _=`${S.seqNum}-${S.seqLength}`,E=D.default.encode(S.cbor().toString("hex"),D.default.STYLES.MINIMAL);return UREncoder.encodeUR([v,_,E])}static encodeSinglePart(v){const S=D.default.encode(v.cbor.toString("hex"),D.default.STYLES.MINIMAL);return UREncoder.encodeUR([v.type,S])}}S.default=UREncoder},622069:function(v,S,_){"use strict";var E=_(901048).Buffer,P=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0}),S.bufferXOR=S.setDifference=S.arrayContains=S.arraysEqual=S.hasPrefix=S.isURType=S.intToBytes=S.toUint32=S.getCRCHex=S.getCRC=S.split=S.partition=S.sha256Hash=void 0;const D=P(_(313229)),R=_(868812);S.sha256Hash=v=>D.default("sha256").update(v).digest();S.partition=(v,S)=>v.match(new RegExp(".{1,"+S+"}","g"))||[v];S.split=(v,S)=>[v.slice(0,-S),v.slice(-S)];S.getCRC=v=>R.crc32(v);S.getCRCHex=v=>R.crc32(v).toString(16).padStart(8,"0");S.toUint32=v=>v>>>0;S.intToBytes=v=>{const S=new ArrayBuffer(4);return new DataView(S).setUint32(0,v,!1),E.from(S)};S.isURType=v=>v.split("").every(((S,_)=>{let E=v.charCodeAt(_);return"a".charCodeAt(0)<=E&&E<="z".charCodeAt(0)||("0".charCodeAt(0)<=E&&E<="9".charCodeAt(0)||E==="-".charCodeAt(0))}));S.hasPrefix=(v,S)=>0===v.indexOf(S);S.arraysEqual=(v,S)=>v.length===S.length&&v.every((v=>S.includes(v)));S.arrayContains=(v,S)=>S.every((S=>v.includes(S)));S.setDifference=(v,S)=>v.filter((v=>S.indexOf(v)<0));S.bufferXOR=(v,S)=>{const _=Math.max(v.length,S.length),P=E.allocUnsafe(_);for(let E=0;E<_;++E)P[E]=v[E]^S[E];return P}},442446:function(v,S,_){"use strict";var E=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(S,"__esModule",{value:!0});const P=_(622069),D=E(_(755553)),R=E(_(21328)),rotl=(v,S)=>R.default.bitwiseXor(R.default.asUintN(64,R.default.leftShift(v,R.default.BigInt(S))),R.default.BigInt(R.default.asUintN(64,R.default.signedRightShift(v,R.default.subtract(R.default.BigInt(64),R.default.BigInt(S))))));S.default=class Xoshiro{constructor(v){this.next=()=>new D.default(this.roll().toString()),this.nextDouble=()=>new D.default(this.roll().toString()).div(0x10000000000000000),this.nextInt=(v,S)=>Math.floor(this.nextDouble().toNumber()*(S-v+1)+v),this.nextByte=()=>this.nextInt(0,255),this.nextData=v=>[...new Array(v)].map((()=>this.nextByte()));const S=P.sha256Hash(v);this.s=[R.default.BigInt(0),R.default.BigInt(0),R.default.BigInt(0),R.default.BigInt(0)],this.setS(S)}setS(v){for(let S=0;S<4;S++){let _=8*S,E=R.default.BigInt(0);for(let S=0;S<8;S++)E=R.default.asUintN(64,R.default.leftShift(E,R.default.BigInt(8))),E=R.default.asUintN(64,R.default.bitwiseOr(E,R.default.BigInt(v[_+S])));this.s[S]=R.default.asUintN(64,E)}}roll(){const v=R.default.asUintN(64,R.default.multiply(rotl(R.default.asUintN(64,R.default.multiply(this.s[1],R.default.BigInt(5))),7),R.default.BigInt(9))),S=R.default.asUintN(64,R.default.leftShift(this.s[1],R.default.BigInt(17)));return this.s[2]=R.default.asUintN(64,R.default.bitwiseXor(this.s[2],R.default.BigInt(this.s[0]))),this.s[3]=R.default.asUintN(64,R.default.bitwiseXor(this.s[3],R.default.BigInt(this.s[1]))),this.s[1]=R.default.asUintN(64,R.default.bitwiseXor(this.s[1],R.default.BigInt(this.s[2]))),this.s[0]=R.default.asUintN(64,R.default.bitwiseXor(this.s[0],R.default.BigInt(this.s[3]))),this.s[2]=R.default.asUintN(64,R.default.bitwiseXor(this.s[2],R.default.BigInt(S))),this.s[3]=R.default.asUintN(64,rotl(this.s[3],45)),v}}},798460:(v,S)=>{"use strict";function number(v){if(!Number.isSafeInteger(v)||v<0)throw new Error(`Wrong positive integer: ${v}`)}function bool(v){if("boolean"!=typeof v)throw new Error(`Expected boolean, not ${v}`)}function bytes(v,...S){if(!function isBytes(v){return v instanceof Uint8Array||null!=v&&"object"==typeof v&&"Uint8Array"===v.constructor.name}(v))throw new Error("Expected Uint8Array");if(S.length>0&&!S.includes(v.length))throw new Error(`Expected Uint8Array of length ${S}, not of length=${v.length}`)}function hash(v){if("function"!=typeof v||"function"!=typeof v.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number(v.outputLen),number(v.blockLen)}function exists(v,S=!0){if(v.destroyed)throw new Error("Hash instance has been destroyed");if(S&&v.finished)throw new Error("Hash#digest() has already been called")}function output(v,S){bytes(v);const _=S.outputLen;if(v.length<_)throw new Error(`digestInto() expects output buffer of length at least ${_}`)}Object.defineProperty(S,"__esModule",{value:!0}),S.output=S.exists=S.hash=S.bytes=S.bool=S.number=void 0,S.number=number,S.bool=bool,S.bytes=bytes,S.hash=hash,S.exists=exists,S.output=output;const _={number,bool,bytes,hash,exists,output};S.default=_},211546:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SHA2=void 0;const E=_(798460),P=_(849074);class SHA2 extends P.Hash{constructor(v,S,_,E){super(),this.blockLen=v,this.outputLen=S,this.padOffset=_,this.isLE=E,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(v),this.view=(0,P.createView)(this.buffer)}update(v){(0,E.exists)(this);const{view:S,buffer:_,blockLen:D}=this,R=(v=(0,P.toBytes)(v)).length;for(let E=0;E<R;){const M=Math.min(D-this.pos,R-E);if(M!==D)_.set(v.subarray(E,E+M),this.pos),this.pos+=M,E+=M,this.pos===D&&(this.process(S,0),this.pos=0);else{const S=(0,P.createView)(v);for(;D<=R-E;E+=D)this.process(S,E)}}return this.length+=v.length,this.roundClean(),this}digestInto(v){(0,E.exists)(this),(0,E.output)(v,this),this.finished=!0;const{buffer:S,view:_,blockLen:D,isLE:R}=this;let{pos:M}=this;S[M++]=128,this.buffer.subarray(M).fill(0),this.padOffset>D-M&&(this.process(_,0),M=0);for(let v=M;v<D;v++)S[v]=0;!function setBigUint64(v,S,_,E){if("function"==typeof v.setBigUint64)return v.setBigUint64(S,_,E);const P=BigInt(32),D=BigInt(4294967295),R=Number(_>>P&D),M=Number(_&D),O=E?4:0,F=E?0:4;v.setUint32(S+O,R,E),v.setUint32(S+F,M,E)}(_,D-8,BigInt(8*this.length),R),this.process(_,0);const O=(0,P.createView)(v),F=this.outputLen;if(F%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const N=F/4,L=this.get();if(N>L.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<N;v++)O.setUint32(4*v,L[v],R)}digest(){const{buffer:v,outputLen:S}=this;this.digestInto(v);const _=v.slice(0,S);return this.destroy(),_}_cloneInto(v){v||(v=new this.constructor),v.set(...this.get());const{blockLen:S,buffer:_,length:E,finished:P,destroyed:D,pos:R}=this;return v.length=E,v.pos=R,v.finished=P,v.destroyed=D,E%S&&v.buffer.set(_),v}}S.SHA2=SHA2},398081:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.add5L=S.add5H=S.add4H=S.add4L=S.add3H=S.add3L=S.add=S.rotlBL=S.rotlBH=S.rotlSL=S.rotlSH=S.rotr32L=S.rotr32H=S.rotrBL=S.rotrBH=S.rotrSL=S.rotrSH=S.shrSL=S.shrSH=S.toBig=S.split=S.fromBig=void 0;const _=BigInt(2**32-1),E=BigInt(32);function fromBig(v,S=!1){return S?{h:Number(v&_),l:Number(v>>E&_)}:{h:0|Number(v>>E&_),l:0|Number(v&_)}}function split(v,S=!1){let _=new Uint32Array(v.length),E=new Uint32Array(v.length);for(let P=0;P<v.length;P++){const{h:D,l:R}=fromBig(v[P],S);[_[P],E[P]]=[D,R]}return[_,E]}S.fromBig=fromBig,S.split=split;const toBig=(v,S)=>BigInt(v>>>0)<<E|BigInt(S>>>0);S.toBig=toBig;const shrSH=(v,S,_)=>v>>>_;S.shrSH=shrSH;const shrSL=(v,S,_)=>v<<32-_|S>>>_;S.shrSL=shrSL;const rotrSH=(v,S,_)=>v>>>_|S<<32-_;S.rotrSH=rotrSH;const rotrSL=(v,S,_)=>v<<32-_|S>>>_;S.rotrSL=rotrSL;const rotrBH=(v,S,_)=>v<<64-_|S>>>_-32;S.rotrBH=rotrBH;const rotrBL=(v,S,_)=>v>>>_-32|S<<64-_;S.rotrBL=rotrBL;const rotr32H=(v,S)=>S;S.rotr32H=rotr32H;const rotr32L=(v,S)=>v;S.rotr32L=rotr32L;const rotlSH=(v,S,_)=>v<<_|S>>>32-_;S.rotlSH=rotlSH;const rotlSL=(v,S,_)=>S<<_|v>>>32-_;S.rotlSL=rotlSL;const rotlBH=(v,S,_)=>S<<_-32|v>>>64-_;S.rotlBH=rotlBH;const rotlBL=(v,S,_)=>v<<_-32|S>>>64-_;function add(v,S,_,E){const P=(S>>>0)+(E>>>0);return{h:v+_+(P/2**32|0)|0,l:0|P}}S.rotlBL=rotlBL,S.add=add;const add3L=(v,S,_)=>(v>>>0)+(S>>>0)+(_>>>0);S.add3L=add3L;const add3H=(v,S,_,E)=>S+_+E+(v/2**32|0)|0;S.add3H=add3H;const add4L=(v,S,_,E)=>(v>>>0)+(S>>>0)+(_>>>0)+(E>>>0);S.add4L=add4L;const add4H=(v,S,_,E,P)=>S+_+E+P+(v/2**32|0)|0;S.add4H=add4H;const add5L=(v,S,_,E,P)=>(v>>>0)+(S>>>0)+(_>>>0)+(E>>>0)+(P>>>0);S.add5L=add5L;const add5H=(v,S,_,E,P,D)=>S+_+E+P+D+(v/2**32|0)|0;S.add5H=add5H;const P={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};S.default=P},876910:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.crypto=void 0,S.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},574500:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.hmac=S.HMAC=void 0;const E=_(798460),P=_(849074);class HMAC extends P.Hash{constructor(v,S){super(),this.finished=!1,this.destroyed=!1,(0,E.hash)(v);const _=(0,P.toBytes)(S);if(this.iHash=v.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const D=this.blockLen,R=new Uint8Array(D);R.set(_.length>D?v.create().update(_).digest():_);for(let v=0;v<R.length;v++)R[v]^=54;this.iHash.update(R),this.oHash=v.create();for(let v=0;v<R.length;v++)R[v]^=106;this.oHash.update(R),R.fill(0)}update(v){return(0,E.exists)(this),this.iHash.update(v),this}digestInto(v){(0,E.exists)(this),(0,E.bytes)(v,this.outputLen),this.finished=!0,this.iHash.digestInto(v),this.oHash.update(v),this.oHash.digestInto(v),this.destroy()}digest(){const v=new Uint8Array(this.oHash.outputLen);return this.digestInto(v),v}_cloneInto(v){v||(v=Object.create(Object.getPrototypeOf(this),{}));const{oHash:S,iHash:_,finished:E,destroyed:P,blockLen:D,outputLen:R}=this;return v.finished=E,v.destroyed=P,v.blockLen=D,v.outputLen=R,v.oHash=S._cloneInto(v.oHash),v.iHash=_._cloneInto(v.iHash),v}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}S.HMAC=HMAC;S.hmac=(v,S,_)=>new HMAC(v,S).update(_).digest(),S.hmac.create=(v,S)=>new HMAC(v,S)},857154:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.pbkdf2Async=S.pbkdf2=void 0;const E=_(798460),P=_(574500),D=_(849074);function pbkdf2Init(v,S,_,R){(0,E.hash)(v);const M=(0,D.checkOpts)({dkLen:32,asyncTick:10},R),{c:O,dkLen:F,asyncTick:N}=M;if((0,E.number)(O),(0,E.number)(F),(0,E.number)(N),O<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const L=(0,D.toBytes)(S),U=(0,D.toBytes)(_),V=new Uint8Array(F),G=P.hmac.create(v,L),W=G._cloneInto().update(U);return{c:O,dkLen:F,asyncTick:N,DK:V,PRF:G,PRFSalt:W}}function pbkdf2Output(v,S,_,E,P){return v.destroy(),S.destroy(),E&&E.destroy(),P.fill(0),_}S.pbkdf2=function pbkdf2(v,S,_,E){const{c:P,dkLen:R,DK:M,PRF:O,PRFSalt:F}=pbkdf2Init(v,S,_,E);let N;const L=new Uint8Array(4),U=(0,D.createView)(L),V=new Uint8Array(O.outputLen);for(let v=1,S=0;S<R;v++,S+=O.outputLen){const _=M.subarray(S,S+O.outputLen);U.setInt32(0,v,!1),(N=F._cloneInto(N)).update(L).digestInto(V),_.set(V.subarray(0,_.length));for(let v=1;v<P;v++){O._cloneInto(N).update(V).digestInto(V);for(let v=0;v<_.length;v++)_[v]^=V[v]}}return pbkdf2Output(O,F,M,N,V)},S.pbkdf2Async=async function pbkdf2Async(v,S,_,E){const{c:P,dkLen:R,asyncTick:M,DK:O,PRF:F,PRFSalt:N}=pbkdf2Init(v,S,_,E);let L;const U=new Uint8Array(4),V=(0,D.createView)(U),G=new Uint8Array(F.outputLen);for(let v=1,S=0;S<R;v++,S+=F.outputLen){const _=O.subarray(S,S+F.outputLen);V.setInt32(0,v,!1),(L=N._cloneInto(L)).update(U).digestInto(G),_.set(G.subarray(0,_.length)),await(0,D.asyncLoop)(P-1,M,(()=>{F._cloneInto(L).update(G).digestInto(G);for(let v=0;v<_.length;v++)_[v]^=G[v]}))}return pbkdf2Output(F,N,O,L,G)}},810071:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ripemd160=S.RIPEMD160=void 0;const E=_(211546),P=_(849074),D=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),R=Uint8Array.from({length:16},((v,S)=>S));let M=[R],O=[R.map((v=>(9*v+5)%16))];for(let v=0;v<4;v++)for(let S of[M,O])S.push(S[v].map((v=>D[v])));const F=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((v=>new Uint8Array(v))),N=M.map(((v,S)=>v.map((v=>F[S][v])))),L=O.map(((v,S)=>v.map((v=>F[S][v])))),U=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),V=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),rotl=(v,S)=>v<<S|v>>>32-S;function f(v,S,_,E){return 0===v?S^_^E:1===v?S&_|~S&E:2===v?(S|~_)^E:3===v?S&E|_&~E:S^(_|~E)}const G=new Uint32Array(16);class RIPEMD160 extends E.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:v,h1:S,h2:_,h3:E,h4:P}=this;return[v,S,_,E,P]}set(v,S,_,E,P){this.h0=0|v,this.h1=0|S,this.h2=0|_,this.h3=0|E,this.h4=0|P}process(v,S){for(let _=0;_<16;_++,S+=4)G[_]=v.getUint32(S,!0);let _=0|this.h0,E=_,P=0|this.h1,D=P,R=0|this.h2,F=R,W=0|this.h3,$=W,X=0|this.h4,Y=X;for(let v=0;v<5;v++){const S=4-v,J=U[v],Z=V[v],Q=M[v],tt=O[v],et=N[v],rt=L[v];for(let S=0;S<16;S++){const E=rotl(_+f(v,P,R,W)+G[Q[S]]+J,et[S])+X|0;_=X,X=W,W=0|rotl(R,10),R=P,P=E}for(let v=0;v<16;v++){const _=rotl(E+f(S,D,F,$)+G[tt[v]]+Z,rt[v])+Y|0;E=Y,Y=$,$=0|rotl(F,10),F=D,D=_}}this.set(this.h1+R+$|0,this.h2+W+Y|0,this.h3+X+E|0,this.h4+_+D|0,this.h0+P+F|0)}roundClean(){G.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}S.RIPEMD160=RIPEMD160,S.ripemd160=(0,P.wrapConstructor)((()=>new RIPEMD160))},90874:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sha1=void 0;const E=_(211546),P=_(849074),rotl=(v,S)=>v<<S|v>>>32-S>>>0,Maj=(v,S,_)=>v&S^v&_^S&_,D=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),R=new Uint32Array(80);class SHA1 extends E.SHA2{constructor(){super(64,20,8,!1),this.A=0|D[0],this.B=0|D[1],this.C=0|D[2],this.D=0|D[3],this.E=0|D[4]}get(){const{A:v,B:S,C:_,D:E,E:P}=this;return[v,S,_,E,P]}set(v,S,_,E,P){this.A=0|v,this.B=0|S,this.C=0|_,this.D=0|E,this.E=0|P}process(v,S){for(let _=0;_<16;_++,S+=4)R[_]=v.getUint32(S,!1);for(let v=16;v<80;v++)R[v]=rotl(R[v-3]^R[v-8]^R[v-14]^R[v-16],1);let{A:_,B:E,C:P,D,E:M}=this;for(let v=0;v<80;v++){let S,F;v<20?(S=(O=E)&P^~O&D,F=1518500249):v<40?(S=E^P^D,F=1859775393):v<60?(S=Maj(E,P,D),F=2400959708):(S=E^P^D,F=3395469782);const N=rotl(_,5)+S+M+F+R[v]|0;M=D,D=P,P=rotl(E,30),E=_,_=N}var O;_=_+this.A|0,E=E+this.B|0,P=P+this.C|0,D=D+this.D|0,M=M+this.E|0,this.set(_,E,P,D,M)}roundClean(){R.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}S.sha1=(0,P.wrapConstructor)((()=>new SHA1))},879688:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sha224=S.sha256=void 0;const E=_(211546),P=_(849074),Maj=(v,S,_)=>v&S^v&_^S&_,D=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),M=new Uint32Array(64);class SHA256 extends E.SHA2{constructor(){super(64,32,8,!1),this.A=0|R[0],this.B=0|R[1],this.C=0|R[2],this.D=0|R[3],this.E=0|R[4],this.F=0|R[5],this.G=0|R[6],this.H=0|R[7]}get(){const{A:v,B:S,C:_,D:E,E:P,F:D,G:R,H:M}=this;return[v,S,_,E,P,D,R,M]}set(v,S,_,E,P,D,R,M){this.A=0|v,this.B=0|S,this.C=0|_,this.D=0|E,this.E=0|P,this.F=0|D,this.G=0|R,this.H=0|M}process(v,S){for(let _=0;_<16;_++,S+=4)M[_]=v.getUint32(S,!1);for(let v=16;v<64;v++){const S=M[v-15],_=M[v-2],E=(0,P.rotr)(S,7)^(0,P.rotr)(S,18)^S>>>3,D=(0,P.rotr)(_,17)^(0,P.rotr)(_,19)^_>>>10;M[v]=D+M[v-7]+E+M[v-16]|0}let{A:_,B:E,C:R,D:O,E:F,F:N,G:L,H:U}=this;for(let v=0;v<64;v++){const S=U+((0,P.rotr)(F,6)^(0,P.rotr)(F,11)^(0,P.rotr)(F,25))+((V=F)&N^~V&L)+D[v]+M[v]|0,G=((0,P.rotr)(_,2)^(0,P.rotr)(_,13)^(0,P.rotr)(_,22))+Maj(_,E,R)|0;U=L,L=N,N=F,F=O+S|0,O=R,R=E,E=_,_=S+G|0}var V;_=_+this.A|0,E=E+this.B|0,R=R+this.C|0,O=O+this.D|0,F=F+this.E|0,N=N+this.F|0,L=L+this.G|0,U=U+this.H|0,this.set(_,E,R,O,F,N,L,U)}roundClean(){M.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}S.sha256=(0,P.wrapConstructor)((()=>new SHA256)),S.sha224=(0,P.wrapConstructor)((()=>new SHA224))},164989:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sha384=S.sha512_256=S.sha512_224=S.sha512=S.SHA512=void 0;const E=_(211546),P=_(398081),D=_(849074),[R,M]=(()=>P.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((v=>BigInt(v)))))(),O=new Uint32Array(80),F=new Uint32Array(80);class SHA512 extends E.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:v,Al:S,Bh:_,Bl:E,Ch:P,Cl:D,Dh:R,Dl:M,Eh:O,El:F,Fh:N,Fl:L,Gh:U,Gl:V,Hh:G,Hl:W}=this;return[v,S,_,E,P,D,R,M,O,F,N,L,U,V,G,W]}set(v,S,_,E,P,D,R,M,O,F,N,L,U,V,G,W){this.Ah=0|v,this.Al=0|S,this.Bh=0|_,this.Bl=0|E,this.Ch=0|P,this.Cl=0|D,this.Dh=0|R,this.Dl=0|M,this.Eh=0|O,this.El=0|F,this.Fh=0|N,this.Fl=0|L,this.Gh=0|U,this.Gl=0|V,this.Hh=0|G,this.Hl=0|W}process(v,S){for(let _=0;_<16;_++,S+=4)O[_]=v.getUint32(S),F[_]=v.getUint32(S+=4);for(let v=16;v<80;v++){const S=0|O[v-15],_=0|F[v-15],E=P.default.rotrSH(S,_,1)^P.default.rotrSH(S,_,8)^P.default.shrSH(S,_,7),D=P.default.rotrSL(S,_,1)^P.default.rotrSL(S,_,8)^P.default.shrSL(S,_,7),R=0|O[v-2],M=0|F[v-2],N=P.default.rotrSH(R,M,19)^P.default.rotrBH(R,M,61)^P.default.shrSH(R,M,6),L=P.default.rotrSL(R,M,19)^P.default.rotrBL(R,M,61)^P.default.shrSL(R,M,6),U=P.default.add4L(D,L,F[v-7],F[v-16]),V=P.default.add4H(U,E,N,O[v-7],O[v-16]);O[v]=0|V,F[v]=0|U}let{Ah:_,Al:E,Bh:D,Bl:N,Ch:L,Cl:U,Dh:V,Dl:G,Eh:W,El:$,Fh:X,Fl:Y,Gh:J,Gl:Z,Hh:Q,Hl:tt}=this;for(let v=0;v<80;v++){const S=P.default.rotrSH(W,$,14)^P.default.rotrSH(W,$,18)^P.default.rotrBH(W,$,41),et=P.default.rotrSL(W,$,14)^P.default.rotrSL(W,$,18)^P.default.rotrBL(W,$,41),rt=W&X^~W&J,nt=$&Y^~$&Z,it=P.default.add5L(tt,et,nt,M[v],F[v]),st=P.default.add5H(it,Q,S,rt,R[v],O[v]),ot=0|it,at=P.default.rotrSH(_,E,28)^P.default.rotrBH(_,E,34)^P.default.rotrBH(_,E,39),ct=P.default.rotrSL(_,E,28)^P.default.rotrBL(_,E,34)^P.default.rotrBL(_,E,39),ut=_&D^_&L^D&L,ht=E&N^E&U^N&U;Q=0|J,tt=0|Z,J=0|X,Z=0|Y,X=0|W,Y=0|$,({h:W,l:$}=P.default.add(0|V,0|G,0|st,0|ot)),V=0|L,G=0|U,L=0|D,U=0|N,D=0|_,N=0|E;const dt=P.default.add3L(ot,ct,ht);_=P.default.add3H(dt,st,at,ut),E=0|dt}({h:_,l:E}=P.default.add(0|this.Ah,0|this.Al,0|_,0|E)),({h:D,l:N}=P.default.add(0|this.Bh,0|this.Bl,0|D,0|N)),({h:L,l:U}=P.default.add(0|this.Ch,0|this.Cl,0|L,0|U)),({h:V,l:G}=P.default.add(0|this.Dh,0|this.Dl,0|V,0|G)),({h:W,l:$}=P.default.add(0|this.Eh,0|this.El,0|W,0|$)),({h:X,l:Y}=P.default.add(0|this.Fh,0|this.Fl,0|X,0|Y)),({h:J,l:Z}=P.default.add(0|this.Gh,0|this.Gl,0|J,0|Z)),({h:Q,l:tt}=P.default.add(0|this.Hh,0|this.Hl,0|Q,0|tt)),this.set(_,E,D,N,L,U,V,G,W,$,X,Y,J,Z,Q,tt)}roundClean(){O.fill(0),F.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}S.SHA512=SHA512;class SHA512_224 extends SHA512{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}S.sha512=(0,D.wrapConstructor)((()=>new SHA512)),S.sha512_224=(0,D.wrapConstructor)((()=>new SHA512_224)),S.sha512_256=(0,D.wrapConstructor)((()=>new SHA512_256)),S.sha384=(0,D.wrapConstructor)((()=>new SHA384))},849074:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.randomBytes=S.wrapXOFConstructorWithOpts=S.wrapConstructorWithOpts=S.wrapConstructor=S.checkOpts=S.Hash=S.concatBytes=S.toBytes=S.utf8ToBytes=S.asyncLoop=S.nextTick=S.hexToBytes=S.bytesToHex=S.isLE=S.rotr=S.createView=S.u32=S.u8=void 0;const E=_(876910);S.u8=v=>new Uint8Array(v.buffer,v.byteOffset,v.byteLength);function isBytes(v){return v instanceof Uint8Array||null!=v&&"object"==typeof v&&"Uint8Array"===v.constructor.name}S.u32=v=>new Uint32Array(v.buffer,v.byteOffset,Math.floor(v.byteLength/4));S.createView=v=>new DataView(v.buffer,v.byteOffset,v.byteLength);if(S.rotr=(v,S)=>v<<32-S|v>>>S,S.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!S.isLE)throw new Error("Non little-endian hardware is not supported");const P=Array.from({length:256},((v,S)=>S.toString(16).padStart(2,"0")));S.bytesToHex=function bytesToHex(v){if(!isBytes(v))throw new Error("Uint8Array expected");let S="";for(let _=0;_<v.length;_++)S+=P[v[_]];return S};const D={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(v){return v>=D._0&&v<=D._9?v-D._0:v>=D._A&&v<=D._F?v-(D._A-10):v>=D._a&&v<=D._f?v-(D._a-10):void 0}S.hexToBytes=function hexToBytes(v){if("string"!=typeof v)throw new Error("hex string expected, got "+typeof v);const S=v.length,_=S/2;if(S%2)throw new Error("padded hex string expected, got unpadded hex of length "+S);const E=new Uint8Array(_);for(let S=0,P=0;S<_;S++,P+=2){const _=asciiToBase16(v.charCodeAt(P)),D=asciiToBase16(v.charCodeAt(P+1));if(void 0===_||void 0===D){const S=v[P]+v[P+1];throw new Error('hex string expected, got non-hex character "'+S+'" at index '+P)}E[S]=16*_+D}return E};function utf8ToBytes(v){if("string"!=typeof v)throw new Error("utf8ToBytes expected string, got "+typeof v);return new Uint8Array((new TextEncoder).encode(v))}function toBytes(v){if("string"==typeof v&&(v=utf8ToBytes(v)),!isBytes(v))throw new Error("expected Uint8Array, got "+typeof v);return v}S.nextTick=async()=>{},S.asyncLoop=async function asyncLoop(v,_,E){let P=Date.now();for(let D=0;D<v;D++){E(D);const v=Date.now()-P;v>=0&&v<_||(await(0,S.nextTick)(),P+=v)}},S.utf8ToBytes=utf8ToBytes,S.toBytes=toBytes,S.concatBytes=function concatBytes(...v){let S=0;for(let _=0;_<v.length;_++){const E=v[_];if(!isBytes(E))throw new Error("Uint8Array expected");S+=E.length}const _=new Uint8Array(S);for(let S=0,E=0;S<v.length;S++){const P=v[S];_.set(P,E),E+=P.length}return _};S.Hash=class Hash{clone(){return this._cloneInto()}};const R={}.toString;S.checkOpts=function checkOpts(v,S){if(void 0!==S&&"[object Object]"!==R.call(S))throw new Error("Options should be object or undefined");return Object.assign(v,S)},S.wrapConstructor=function wrapConstructor(v){const hashC=S=>v().update(toBytes(S)).digest(),S=v();return hashC.outputLen=S.outputLen,hashC.blockLen=S.blockLen,hashC.create=()=>v(),hashC},S.wrapConstructorWithOpts=function wrapConstructorWithOpts(v){const hashC=(S,_)=>v(_).update(toBytes(S)).digest(),S=v({});return hashC.outputLen=S.outputLen,hashC.blockLen=S.blockLen,hashC.create=S=>v(S),hashC},S.wrapXOFConstructorWithOpts=function wrapXOFConstructorWithOpts(v){const hashC=(S,_)=>v(_).update(toBytes(S)).digest(),S=v({});return hashC.outputLen=S.outputLen,hashC.blockLen=S.blockLen,hashC.create=S=>v(S),hashC},S.randomBytes=function randomBytes(v=32){if(E.crypto&&"function"==typeof E.crypto.getRandomValues)return E.crypto.getRandomValues(new Uint8Array(v));throw new Error("crypto.getRandomValues must be defined")}},374261:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.utils=S.schnorr=S.verify=S.signSync=S.sign=S.getSharedSecret=S.recoverPublicKey=S.getPublicKey=S.Signature=S.Point=S.CURVE=void 0;const E=_(422028),P=BigInt(0),D=BigInt(1),R=BigInt(2),M=BigInt(3),O=BigInt(8),F=Object.freeze({a:P,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:D,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});S.CURVE=F;const divNearest=(v,S)=>(v+S/R)/S,N={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(v){const{n:S}=F,_=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),E=-D*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),P=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),R=_,M=BigInt("0x100000000000000000000000000000000"),O=divNearest(R*v,S),N=divNearest(-E*v,S);let L=mod(v-O*_-N*P,S),U=mod(-O*E-N*R,S);const V=L>M,G=U>M;if(V&&(L=S-L),G&&(U=S-U),L>M||U>M)throw new Error("splitScalarEndo: Endomorphism failed, k="+v);return{k1neg:V,k1:L,k2neg:G,k2:U}}},L=32,U=32,V=L+1,G=2*L+1;function weierstrass(v){const{a:S,b:_}=F,E=mod(v*v),P=mod(E*v);return mod(P+S*v+_)}const W=F.a===P;class ShaError extends Error{constructor(v){super(v)}}function assertJacPoint(v){if(!(v instanceof JacobianPoint))throw new TypeError("JacobianPoint expected")}class JacobianPoint{constructor(v,S,_){this.x=v,this.y=S,this.z=_}static fromAffine(v){if(!(v instanceof Point))throw new TypeError("JacobianPoint#fromAffine: expected Point");return v.equals(Point.ZERO)?JacobianPoint.ZERO:new JacobianPoint(v.x,v.y,D)}static toAffineBatch(v){const S=function invertBatch(v,S=F.P){const _=new Array(v.length),E=invert(v.reduce(((v,E,D)=>E===P?v:(_[D]=v,mod(v*E,S))),D),S);return v.reduceRight(((v,E,D)=>E===P?v:(_[D]=mod(v*_[D],S),mod(v*E,S))),E),_}(v.map((v=>v.z)));return v.map(((v,_)=>v.toAffine(S[_])))}static normalizeZ(v){return JacobianPoint.toAffineBatch(v).map(JacobianPoint.fromAffine)}equals(v){assertJacPoint(v);const{x:S,y:_,z:E}=this,{x:P,y:D,z:R}=v,M=mod(E*E),O=mod(R*R),F=mod(S*O),N=mod(P*M),L=mod(mod(_*R)*O),U=mod(mod(D*E)*M);return F===N&&L===U}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){const{x:v,y:S,z:_}=this,E=mod(v*v),P=mod(S*S),D=mod(P*P),F=v+P,N=mod(R*(mod(F*F)-E-D)),L=mod(M*E),U=mod(L*L),V=mod(U-R*N),G=mod(L*(N-V)-O*D),W=mod(R*S*_);return new JacobianPoint(V,G,W)}add(v){assertJacPoint(v);const{x:S,y:_,z:E}=this,{x:D,y:M,z:O}=v;if(D===P||M===P)return this;if(S===P||_===P)return v;const F=mod(E*E),N=mod(O*O),L=mod(S*N),U=mod(D*F),V=mod(mod(_*O)*N),G=mod(mod(M*E)*F),W=mod(U-L),$=mod(G-V);if(W===P)return $===P?this.double():JacobianPoint.ZERO;const X=mod(W*W),Y=mod(W*X),J=mod(L*X),Z=mod($*$-Y-R*J),Q=mod($*(J-Z)-V*Y),tt=mod(E*O*W);return new JacobianPoint(Z,Q,tt)}subtract(v){return this.add(v.negate())}multiplyUnsafe(v){const S=JacobianPoint.ZERO;if("bigint"==typeof v&&v===P)return S;let _=normalizeScalar(v);if(_===D)return this;if(!W){let v=S,E=this;for(;_>P;)_&D&&(v=v.add(E)),E=E.double(),_>>=D;return v}let{k1neg:E,k1:R,k2neg:M,k2:O}=N.splitScalar(_),F=S,L=S,U=this;for(;R>P||O>P;)R&D&&(F=F.add(U)),O&D&&(L=L.add(U)),U=U.double(),R>>=D,O>>=D;return E&&(F=F.negate()),M&&(L=L.negate()),L=new JacobianPoint(mod(L.x*N.beta),L.y,L.z),F.add(L)}precomputeWindow(v){const S=W?128/v+1:256/v+1,_=[];let E=this,P=E;for(let D=0;D<S;D++){P=E,_.push(P);for(let S=1;S<2**(v-1);S++)P=P.add(E),_.push(P);E=P.double()}return _}wNAF(v,S){!S&&this.equals(JacobianPoint.BASE)&&(S=Point.BASE);const _=S&&S._WINDOW_SIZE||1;if(256%_)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let E=S&&$.get(S);E||(E=this.precomputeWindow(_),S&&1!==_&&(E=JacobianPoint.normalizeZ(E),$.set(S,E)));let P=JacobianPoint.ZERO,R=JacobianPoint.BASE;const M=1+(W?128/_:256/_),O=2**(_-1),F=BigInt(2**_-1),N=2**_,L=BigInt(_);for(let S=0;S<M;S++){const _=S*O;let M=Number(v&F);v>>=L,M>O&&(M-=N,v+=D);const U=_,V=_+Math.abs(M)-1,G=S%2!=0,W=M<0;0===M?R=R.add(constTimeNegate(G,E[U])):P=P.add(constTimeNegate(W,E[V]))}return{p:P,f:R}}multiply(v,S){let _,E,P=normalizeScalar(v);if(W){const{k1neg:v,k1:D,k2neg:R,k2:M}=N.splitScalar(P);let{p:O,f:F}=this.wNAF(D,S),{p:L,f:U}=this.wNAF(M,S);O=constTimeNegate(v,O),L=constTimeNegate(R,L),L=new JacobianPoint(mod(L.x*N.beta),L.y,L.z),_=O.add(L),E=F.add(U)}else{const{p:v,f:D}=this.wNAF(P,S);_=v,E=D}return JacobianPoint.normalizeZ([_,E])[0]}toAffine(v){const{x:S,y:_,z:E}=this,P=this.equals(JacobianPoint.ZERO);null==v&&(v=P?O:invert(E));const R=v,M=mod(R*R),F=mod(M*R),N=mod(S*M),L=mod(_*F),U=mod(E*R);if(P)return Point.ZERO;if(U!==D)throw new Error("invZ was invalid");return new Point(N,L)}}function constTimeNegate(v,S){const _=S.negate();return v?_:S}JacobianPoint.BASE=new JacobianPoint(F.Gx,F.Gy,D),JacobianPoint.ZERO=new JacobianPoint(P,D,P);const $=new WeakMap;class Point{constructor(v,S){this.x=v,this.y=S}_setWindowSize(v){this._WINDOW_SIZE=v,$.delete(this)}hasEvenY(){return this.y%R===P}static fromCompressedHex(v){const S=32===v.length,_=bytesToNumber(S?v:v.subarray(1));if(!isValidFieldElement(_))throw new Error("Point is not on curve");let E=function sqrtMod(v){const{P:S}=F,_=BigInt(6),E=BigInt(11),P=BigInt(22),D=BigInt(23),O=BigInt(44),N=BigInt(88),L=v*v*v%S,U=L*L*v%S,V=pow2(U,M)*U%S,G=pow2(V,M)*U%S,W=pow2(G,R)*L%S,$=pow2(W,E)*W%S,X=pow2($,P)*$%S,Y=pow2(X,O)*X%S,J=pow2(Y,N)*Y%S,Z=pow2(J,O)*X%S,Q=pow2(Z,M)*U%S,tt=pow2(Q,D)*$%S,et=pow2(tt,_)*L%S,rt=pow2(et,R);if(rt*rt%S!==v)throw new Error("Cannot find square root");return rt}(weierstrass(_));const P=(E&D)===D;if(S)P&&(E=mod(-E));else{!(1&~v[0])!==P&&(E=mod(-E))}const O=new Point(_,E);return O.assertValidity(),O}static fromUncompressedHex(v){const S=bytesToNumber(v.subarray(1,L+1)),_=bytesToNumber(v.subarray(L+1,2*L+1)),E=new Point(S,_);return E.assertValidity(),E}static fromHex(v){const S=ensureBytes(v),_=S.length,E=S[0];if(_===L)return this.fromCompressedHex(S);if(_===V&&(2===E||3===E))return this.fromCompressedHex(S);if(_===G&&4===E)return this.fromUncompressedHex(S);throw new Error(`Point.fromHex: received invalid point. Expected 32-${V} compressed bytes or ${G} uncompressed bytes, not ${_}`)}static fromPrivateKey(v){return Point.BASE.multiply(normalizePrivateKey(v))}static fromSignature(v,S,_){const{r:E,s:P}=normalizeSignature(S);if(![0,1,2,3].includes(_))throw new Error("Cannot recover: invalid recovery bit");const D=truncateHash(ensureBytes(v)),{n:R}=F,M=2===_||3===_?E+R:E,O=invert(M,R),N=mod(-D*O,R),L=mod(P*O,R),U=1&_?"03":"02",V=Point.fromHex(U+numTo32bStr(M)),G=Point.BASE.multiplyAndAddUnsafe(V,N,L);if(!G)throw new Error("Cannot recover signature: point at infinify");return G.assertValidity(),G}toRawBytes(v=!1){return hexToBytes(this.toHex(v))}toHex(v=!1){const S=numTo32bStr(this.x);if(v){return`${this.hasEvenY()?"02":"03"}${S}`}return`04${S}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const v="Point is not on elliptic curve",{x:S,y:_}=this;if(!isValidFieldElement(S)||!isValidFieldElement(_))throw new Error(v);const E=mod(_*_);if(mod(E-weierstrass(S))!==P)throw new Error(v)}equals(v){return this.x===v.x&&this.y===v.y}negate(){return new Point(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(v){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(v)).toAffine()}subtract(v){return this.add(v.negate())}multiply(v){return JacobianPoint.fromAffine(this).multiply(v,this).toAffine()}multiplyAndAddUnsafe(v,S,_){const E=JacobianPoint.fromAffine(this),R=S===P||S===D||this!==Point.BASE?E.multiplyUnsafe(S):E.multiply(S),M=JacobianPoint.fromAffine(v).multiplyUnsafe(_),O=R.add(M);return O.equals(JacobianPoint.ZERO)?void 0:O.toAffine()}}function sliceDER(v){return Number.parseInt(v[0],16)>=8?"00"+v:v}function parseDERInt(v){if(v.length<2||2!==v[0])throw new Error(`Invalid signature integer tag: ${bytesToHex(v)}`);const S=v[1],_=v.subarray(2,S+2);if(!S||_.length!==S)throw new Error("Invalid signature integer: wrong length");if(0===_[0]&&_[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(_),left:v.subarray(S+2)}}S.Point=Point,Point.BASE=new Point(F.Gx,F.Gy),Point.ZERO=new Point(P,P);class Signature{constructor(v,S){this.r=v,this.s=S,this.assertValidity()}static fromCompact(v){const S=v instanceof Uint8Array,_="Signature.fromCompact";if("string"!=typeof v&&!S)throw new TypeError(`${_}: Expected string or Uint8Array`);const E=S?bytesToHex(v):v;if(128!==E.length)throw new Error(`${_}: Expected 64-byte hex`);return new Signature(hexToNumber(E.slice(0,64)),hexToNumber(E.slice(64,128)))}static fromDER(v){const S=v instanceof Uint8Array;if("string"!=typeof v&&!S)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:_,s:E}=function parseDERSignature(v){if(v.length<2||48!=v[0])throw new Error(`Invalid signature tag: ${bytesToHex(v)}`);if(v[1]!==v.length-2)throw new Error("Invalid signature: incorrect length");const{data:S,left:_}=parseDERInt(v.subarray(2)),{data:E,left:P}=parseDERInt(_);if(P.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(P)}`);return{r:S,s:E}}(S?v:hexToBytes(v));return new Signature(_,E)}static fromHex(v){return this.fromDER(v)}assertValidity(){const{r:v,s:S}=this;if(!isWithinCurveOrder(v))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(S))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const v=F.n>>D;return this.s>v}normalizeS(){return this.hasHighS()?new Signature(this.r,mod(-this.s,F.n)):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){const v=sliceDER(numberToHexUnpadded(this.s)),S=sliceDER(numberToHexUnpadded(this.r)),_=v.length/2,E=S.length/2,P=numberToHexUnpadded(_),D=numberToHexUnpadded(E);return`30${numberToHexUnpadded(E+_+4)}02${D}${S}02${P}${v}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function concatBytes(...v){if(!v.every((v=>v instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===v.length)return v[0];const S=v.reduce(((v,S)=>v+S.length),0),_=new Uint8Array(S);for(let S=0,E=0;S<v.length;S++){const P=v[S];_.set(P,E),E+=P.length}return _}S.Signature=Signature;const X=Array.from({length:256},((v,S)=>S.toString(16).padStart(2,"0")));function bytesToHex(v){if(!(v instanceof Uint8Array))throw new Error("Expected Uint8Array");let S="";for(let _=0;_<v.length;_++)S+=X[v[_]];return S}const Y=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(v){if("bigint"!=typeof v)throw new Error("Expected bigint");if(!(P<=v&&v<Y))throw new Error("Expected number 0 <= n < 2^256");return v.toString(16).padStart(64,"0")}function numTo32b(v){const S=hexToBytes(numTo32bStr(v));if(32!==S.length)throw new Error("Error: expected 32 bytes");return S}function numberToHexUnpadded(v){const S=v.toString(16);return 1&S.length?`0${S}`:S}function hexToNumber(v){if("string"!=typeof v)throw new TypeError("hexToNumber: expected string, got "+typeof v);return BigInt(`0x${v}`)}function hexToBytes(v){if("string"!=typeof v)throw new TypeError("hexToBytes: expected string, got "+typeof v);if(v.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+v.length);const S=new Uint8Array(v.length/2);for(let _=0;_<S.length;_++){const E=2*_,P=v.slice(E,E+2),D=Number.parseInt(P,16);if(Number.isNaN(D)||D<0)throw new Error("Invalid byte sequence");S[_]=D}return S}function bytesToNumber(v){return hexToNumber(bytesToHex(v))}function ensureBytes(v){return v instanceof Uint8Array?Uint8Array.from(v):hexToBytes(v)}function normalizeScalar(v){if("number"==typeof v&&Number.isSafeInteger(v)&&v>0)return BigInt(v);if("bigint"==typeof v&&isWithinCurveOrder(v))return v;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(v,S=F.P){const _=v%S;return _>=P?_:S+_}function pow2(v,S){const{P:_}=F;let E=v;for(;S-- >P;)E*=E,E%=_;return E}function invert(v,S=F.P){if(v===P||S<=P)throw new Error(`invert: expected positive integers, got n=${v} mod=${S}`);let _=mod(v,S),E=S,R=P,M=D,O=D,N=P;for(;_!==P;){const v=E/_,S=E%_,P=R-O*v,D=M-N*v;E=_,_=S,R=O,M=N,O=P,N=D}if(E!==D)throw new Error("invert: does not exist");return mod(R,S)}function truncateHash(v,S=!1){const _=function bits2int_2(v){const S=8*v.length-8*U,_=bytesToNumber(v);return S>0?_>>BigInt(S):_}(v);if(S)return _;const{n:E}=F;return _>=E?_-E:_}let J,Z;class HmacDrbg{constructor(v,S){if(this.hashLen=v,this.qByteLen=S,"number"!=typeof v||v<2)throw new Error("hashLen must be a number");if("number"!=typeof S||S<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(v).fill(1),this.k=new Uint8Array(v).fill(0),this.counter=0}hmac(...v){return S.utils.hmacSha256(this.k,...v)}hmacSync(...v){return Z(this.k,...v)}checkSync(){if("function"!=typeof Z)throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(v=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),v),this.v=await this.hmac(this.v),0!==v.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),v),this.v=await this.hmac(this.v))}reseedSync(v=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),v),this.v=this.hmacSync(this.v),0!==v.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),v),this.v=this.hmacSync(this.v))}async generate(){this.incr();let v=0;const S=[];for(;v<this.qByteLen;){this.v=await this.hmac(this.v);const _=this.v.slice();S.push(_),v+=this.v.length}return concatBytes(...S)}generateSync(){this.checkSync(),this.incr();let v=0;const S=[];for(;v<this.qByteLen;){this.v=this.hmacSync(this.v);const _=this.v.slice();S.push(_),v+=this.v.length}return concatBytes(...S)}}function isWithinCurveOrder(v){return P<v&&v<F.n}function isValidFieldElement(v){return P<v&&v<F.P}function kmdToSig(v,S,_,E=!0){const{n:R}=F,M=truncateHash(v,!0);if(!isWithinCurveOrder(M))return;const O=invert(M,R),N=Point.BASE.multiply(M),L=mod(N.x,R);if(L===P)return;const U=mod(O*mod(S+_*L,R),R);if(U===P)return;let V=new Signature(L,U),G=(N.x===V.r?0:2)|Number(N.y&D);return E&&V.hasHighS()&&(V=V.normalizeS(),G^=1),{sig:V,recovery:G}}function normalizePrivateKey(v){let S;if("bigint"==typeof v)S=v;else if("number"==typeof v&&Number.isSafeInteger(v)&&v>0)S=BigInt(v);else if("string"==typeof v){if(v.length!==2*U)throw new Error("Expected 32 bytes of private key");S=hexToNumber(v)}else{if(!(v instanceof Uint8Array))throw new TypeError("Expected valid private key");if(v.length!==U)throw new Error("Expected 32 bytes of private key");S=bytesToNumber(v)}if(!isWithinCurveOrder(S))throw new Error("Expected private key: 0 < key < n");return S}function normalizePublicKey(v){return v instanceof Point?(v.assertValidity(),v):Point.fromHex(v)}function normalizeSignature(v){if(v instanceof Signature)return v.assertValidity(),v;try{return Signature.fromDER(v)}catch(S){return Signature.fromCompact(v)}}function isProbPub(v){const S=v instanceof Uint8Array,_="string"==typeof v,E=(S||_)&&v.length;return S?E===V||E===G:_?E===2*V||E===2*G:v instanceof Point}function bits2int(v){return bytesToNumber(v.length>L?v.slice(0,L):v)}function bits2octets(v){const S=bits2int(v),_=mod(S,F.n);return int2octets(_<P?S:_)}function int2octets(v){return numTo32b(v)}function initSigArgs(v,_,E){if(null==v)throw new Error(`sign: expected valid message hash, not "${v}"`);const P=ensureBytes(v),D=normalizePrivateKey(_),R=[int2octets(D),bits2octets(P)];if(null!=E){!0===E&&(E=S.utils.randomBytes(L));const v=ensureBytes(E);if(v.length!==L)throw new Error(`sign: Expected ${L} bytes of extra data`);R.push(v)}return{seed:concatBytes(...R),m:bits2int(P),d:D}}function finalizeSig(v,S){const{sig:_,recovery:E}=v,{der:P,recovered:D}=Object.assign({canonical:!0,der:!0},S),R=P?_.toDERRawBytes():_.toCompactRawBytes();return D?[R,E]:R}S.getPublicKey=function getPublicKey(v,S=!1){return Point.fromPrivateKey(v).toRawBytes(S)},S.recoverPublicKey=function recoverPublicKey(v,S,_,E=!1){return Point.fromSignature(v,S,_).toRawBytes(E)},S.getSharedSecret=function getSharedSecret(v,S,_=!1){if(isProbPub(v))throw new TypeError("getSharedSecret: first arg must be private key");if(!isProbPub(S))throw new TypeError("getSharedSecret: second arg must be public key");const E=normalizePublicKey(S);return E.assertValidity(),E.multiply(normalizePrivateKey(v)).toRawBytes(_)},S.sign=async function sign(v,S,_={}){const{seed:E,m:P,d:D}=initSigArgs(v,S,_.extraEntropy),R=new HmacDrbg(32,U);let M;for(await R.reseed(E);!(M=kmdToSig(await R.generate(),P,D,_.canonical));)await R.reseed();return finalizeSig(M,_)},S.signSync=function signSync(v,S,_={}){const{seed:E,m:P,d:D}=initSigArgs(v,S,_.extraEntropy),R=new HmacDrbg(32,U);let M;for(R.reseedSync(E);!(M=kmdToSig(R.generateSync(),P,D,_.canonical));)R.reseedSync();return finalizeSig(M,_)};const Q={strict:!0};function schnorrChallengeFinalize(v){return mod(bytesToNumber(v),F.n)}S.verify=function verify(v,S,_,E=Q){let P;try{P=normalizeSignature(v),S=ensureBytes(S)}catch(v){return!1}const{r:D,s:R}=P;if(E.strict&&P.hasHighS())return!1;const M=truncateHash(S);let O;try{O=normalizePublicKey(_)}catch(v){return!1}const{n:N}=F,L=invert(R,N),U=mod(M*L,N),V=mod(D*L,N),G=Point.BASE.multiplyAndAddUnsafe(O,U,V);return!!G&&mod(G.x,N)===D};class SchnorrSignature{constructor(v,S){this.r=v,this.s=S,this.assertValidity()}static fromHex(v){const S=ensureBytes(v);if(64!==S.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${S.length}`);const _=bytesToNumber(S.subarray(0,32)),E=bytesToNumber(S.subarray(32,64));return new SchnorrSignature(_,E)}assertValidity(){const{r:v,s:S}=this;if(!isValidFieldElement(v)||!isWithinCurveOrder(S))throw new Error("Invalid signature")}toHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}toRawBytes(){return hexToBytes(this.toHex())}}class InternalSchnorrSignature{constructor(v,_,E=S.utils.randomBytes()){if(null==v)throw new TypeError(`sign: Expected valid message, not "${v}"`);this.m=ensureBytes(v);const{x:P,scalar:D}=this.getScalar(normalizePrivateKey(_));if(this.px=P,this.d=D,this.rand=ensureBytes(E),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(v){const S=Point.fromPrivateKey(v),_=S.hasEvenY()?v:F.n-v;return{point:S,scalar:_,x:S.toRawX()}}initNonce(v,S){return numTo32b(v^bytesToNumber(S))}finalizeNonce(v){const S=mod(bytesToNumber(v),F.n);if(S===P)throw new Error("sign: Creation of signature failed. k is zero");const{point:_,x:E,scalar:D}=this.getScalar(S);return{R:_,rx:E,k:D}}finalizeSig(v,S,_,E){return new SchnorrSignature(v.x,mod(S+_*E,F.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:v,d:_,px:E,rand:P}=this,D=S.utils.taggedHash,R=this.initNonce(_,await D(et.aux,P)),{R:M,rx:O,k:F}=this.finalizeNonce(await D(et.nonce,R,E,v)),N=schnorrChallengeFinalize(await D(et.challenge,O,E,v)),L=this.finalizeSig(M,F,N,_);return await schnorrVerify(L,v,E)||this.error(),L}calcSync(){const{m:v,d:_,px:E,rand:P}=this,D=S.utils.taggedHashSync,R=this.initNonce(_,D(et.aux,P)),{R:M,rx:O,k:F}=this.finalizeNonce(D(et.nonce,R,E,v)),N=schnorrChallengeFinalize(D(et.challenge,O,E,v)),L=this.finalizeSig(M,F,N,_);return schnorrVerifySync(L,v,E)||this.error(),L}}function initSchnorrVerify(v,S,_){const E=v instanceof SchnorrSignature,P=E?v:SchnorrSignature.fromHex(v);return E&&P.assertValidity(),{...P,m:ensureBytes(S),P:normalizePublicKey(_)}}function finalizeSchnorrVerify(v,S,_,E){const P=Point.BASE.multiplyAndAddUnsafe(S,normalizePrivateKey(_),mod(-E,F.n));return!(!P||!P.hasEvenY()||P.x!==v)}async function schnorrVerify(v,_,E){try{const{r:P,s:D,m:R,P:M}=initSchnorrVerify(v,_,E),O=schnorrChallengeFinalize(await S.utils.taggedHash(et.challenge,numTo32b(P),M.toRawX(),R));return finalizeSchnorrVerify(P,M,D,O)}catch(v){return!1}}function schnorrVerifySync(v,_,E){try{const{r:P,s:D,m:R,P:M}=initSchnorrVerify(v,_,E),O=schnorrChallengeFinalize(S.utils.taggedHashSync(et.challenge,numTo32b(P),M.toRawX(),R));return finalizeSchnorrVerify(P,M,D,O)}catch(v){if(v instanceof ShaError)throw v;return!1}}S.schnorr={Signature:SchnorrSignature,getPublicKey:function schnorrGetPublicKey(v){return Point.fromPrivateKey(v).toRawX()},sign:async function schnorrSign(v,S,_){return new InternalSchnorrSignature(v,S,_).calc()},verify:schnorrVerify,signSync:function schnorrSignSync(v,S,_){return new InternalSchnorrSignature(v,S,_).calcSync()},verifySync:schnorrVerifySync},Point.BASE._setWindowSize(8);const tt={node:E,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},et={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},rt={};S.utils={bytesToHex,hexToBytes,concatBytes,mod,invert,isValidPrivateKey(v){try{return normalizePrivateKey(v),!0}catch(v){return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:v=>{v=ensureBytes(v);const S=U+8;if(v.length<S||v.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return numTo32b(mod(bytesToNumber(v),F.n-D)+D)},randomBytes:(v=32)=>{if(tt.web)return tt.web.getRandomValues(new Uint8Array(v));if(tt.node){const{randomBytes:S}=tt.node;return Uint8Array.from(S(v))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>S.utils.hashToPrivateKey(S.utils.randomBytes(U+8)),precompute(v=8,S=Point.BASE){const _=S===Point.BASE?S:new Point(S.x,S.y);return _._setWindowSize(v),_.multiply(M),_},sha256:async(...v)=>{if(tt.web){const S=await tt.web.subtle.digest("SHA-256",concatBytes(...v));return new Uint8Array(S)}if(tt.node){const{createHash:S}=tt.node,_=S("sha256");return v.forEach((v=>_.update(v))),Uint8Array.from(_.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(v,...S)=>{if(tt.web){const _=await tt.web.subtle.importKey("raw",v,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),E=concatBytes(...S),P=await tt.web.subtle.sign("HMAC",_,E);return new Uint8Array(P)}if(tt.node){const{createHmac:_}=tt.node,E=_("sha256",v);return S.forEach((v=>E.update(v))),Uint8Array.from(E.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(v,..._)=>{let E=rt[v];if(void 0===E){const _=await S.utils.sha256(Uint8Array.from(v,(v=>v.charCodeAt(0))));E=concatBytes(_,_),rt[v]=E}return S.utils.sha256(E,..._)},taggedHashSync:(v,...S)=>{if("function"!=typeof J)throw new ShaError("sha256Sync is undefined, you need to set it");let _=rt[v];if(void 0===_){const S=J(Uint8Array.from(v,(v=>v.charCodeAt(0))));_=concatBytes(S,S),rt[v]=_}return J(_,...S)},_JacobianPoint:JacobianPoint},Object.defineProperties(S.utils,{sha256Sync:{configurable:!1,get:()=>J,set(v){J||(J=v)}},hmacSha256Sync:{configurable:!1,get:()=>Z,set(v){Z||(Z=v)}}})},394151:function(v,S){"use strict";var _=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))};function sleep(v){return new Promise((function(S){return setTimeout(S,v)}))}Object.defineProperty(S,"__esModule",{value:!0}),S.exponentialBackoff=void 0,S.exponentialBackoff=function exponentialBackoff(v,S,E,P){return _(this,void 0,void 0,(function*(){for(var _=v,D=0;D<S;D++){var R=yield P();if(R)return R;yield sleep(_),_*=E}return null}))}},721134:(v,S,_)=>{"use strict";_.d(S,{A:()=>SkeletonExpo});var E=_(831085),P=_(965126),D=_(514041),R=_(230690),M=_(17617),O=_(758984),F=_(43240),N=_(351762),L=_(8904);const U=32,V={dark:{primary:"rgb(17, 17, 17)",secondary:"rgb(51, 51, 51)"},light:{primary:"rgb(250, 250, 250)",secondary:"rgb(205, 205, 205)"}},makeColors=v=>[V[v].primary,V[v].secondary,V[v].secondary,V[v].primary,V[v].secondary,V[v].primary];let G=makeColors("dark"),W=makeColors("light");for(let v=0;v++;v<3)G=[...G,...G],W=[...W,...W];function Skeleton(v){const S=(0,D.useContext)(X),{radius:_=8,children:P,show:M=S??!P,width:F,height:N=(P?void 0:U),boxHeight:L,colorMode:Y="dark",colors:J=("dark"===Y?G:W),backgroundColor:Z=J[0]??J[1]??V[Y]?.secondary,backgroundSize:Q=6,disableExitAnimation:tt,transition:et}=v,rt=(0,O.U)(0),nt="square"===_?0:"round"===_?99999:_,it=null!=L?L:M&&!P?N:void 0;return(0,E.jsxs)(R.A,Object.assign({style:{height:it,minHeight:N,minWidth:F??(P?void 0:U)}},{children:[P,(0,E.jsx)(R.A,Object.assign({style:{position:"absolute",top:0,left:0,borderRadius:nt,width:F??(P?"100%":U),height:N??"100%",overflow:"hidden",backgroundColor:M?Z:void 0},onLayout:({nativeEvent:v})=>{rt.value!==v.layout.width&&(rt.value=v.layout.width)},pointerEvents:"none"},{children:tt&&!M?null:(0,E.jsx)($,{colors:J,backgroundSize:Q,transition:et,show:M,measuredWidthSv:rt,Gradient:v.Gradient},J.join(","))}),void 0)]}),void 0)}const $=D.memo((function AnimatedGradient({colors:v,backgroundSize:S,transition:_={},show:P,measuredWidthSv:D,Gradient:R}){return(0,E.jsx)(L.S,Object.assign({style:[M.A.absoluteFillObject,(0,F.m)((()=>({width:D.value*S})),[S,D])],from:{opacity:0,translateX:0},animate:(0,N.W)((()=>({opacity:P?1:0,translateX:-D.value*(S-1)})),[D,P]),transition:{loop:P,delay:200,type:"timing",duration:3e3,..._}},{children:(0,E.jsx)(R,{colors:v,start:{x:.1,y:1},end:{x:1,y:1},style:M.A.absoluteFillObject},void 0)}),void 0)}),(function propsAreEqual(v,S){if(v.backgroundSize!==S.backgroundSize)return!1;if(v.show!==S.show)return!1;return!v.colors.some(((v,_)=>v!==S.colors[_]))})),X=(0,D.createContext)(void 0);function SkeletonExpo(v){return(0,E.jsx)(Skeleton,Object.assign({},v,{Gradient:P.W}),void 0)}Skeleton.Group=function SkeletonGroup({children:v,show:S}){return(0,E.jsx)(X.Provider,Object.assign({value:S},{children:v}),void 0)},SkeletonExpo.Group=Skeleton.Group},617239:(v,S,_)=>{"use strict";var E=_(500528)("%Object.defineProperty%",!0),P=function hasPropertyDescriptors(){if(E)try{return E({},"a",{value:1}),!0}catch(v){return!1}return!1};P.hasArrayLengthDefineBug=function hasArrayLengthDefineBug(){if(!P())return null;try{return 1!==E([],"length",{value:1}).length}catch(v){return!0}},v.exports=P},566869:v=>{"use strict";var S={foo:{}},_=Object;v.exports=function hasProto(){return{__proto__:S}.foo===S.foo&&!({__proto__:null}instanceof _)}},953558:(v,S,_)=>{"use strict";var E="undefined"!=typeof Symbol&&Symbol,P=_(262908);v.exports=function hasNativeSymbols(){return"function"==typeof E&&("function"==typeof Symbol&&("symbol"==typeof E("foo")&&("symbol"==typeof Symbol("bar")&&P())))}},262908:v=>{"use strict";v.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var v={},S=Symbol("test"),_=Object(S);if("string"==typeof S)return!1;if("[object Symbol]"!==Object.prototype.toString.call(S))return!1;if("[object Symbol]"!==Object.prototype.toString.call(_))return!1;for(S in v[S]=42,v)return!1;if("function"==typeof Object.keys&&0!==Object.keys(v).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(v).length)return!1;var E=Object.getOwnPropertySymbols(v);if(1!==E.length||E[0]!==S)return!1;if(!Object.prototype.propertyIsEnumerable.call(v,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var P=Object.getOwnPropertyDescriptor(v,S);if(42!==P.value||!0!==P.enumerable)return!1}return!0}},451913:(v,S,_)=>{"use strict";var E=_(262908);v.exports=function hasToStringTagShams(){return E()&&!!Symbol.toStringTag}},121848:(v,S,_)=>{"use strict";var E=_(825636).Buffer,P=_(734156).Transform;function HashBase(v){P.call(this),this._block=E.allocUnsafe(v),this._blockSize=v,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}_(435615)(HashBase,P),HashBase.prototype._transform=function(v,S,_){var E=null;try{this.update(v,S)}catch(v){E=v}_(E)},HashBase.prototype._flush=function(v){var S=null;try{this.push(this.digest())}catch(v){S=v}v(S)},HashBase.prototype.update=function(v,S){if(function throwIfNotStringOrBuffer(v,S){if(!E.isBuffer(v)&&"string"!=typeof v)throw new TypeError(S+" must be a string or a buffer")}(v,"Data"),this._finalized)throw new Error("Digest already called");E.isBuffer(v)||(v=E.from(v,S));for(var _=this._block,P=0;this._blockOffset+v.length-P>=this._blockSize;){for(var D=this._blockOffset;D<this._blockSize;)_[D++]=v[P++];this._update(),this._blockOffset=0}for(;P<v.length;)_[this._blockOffset++]=v[P++];for(var R=0,M=8*v.length;M>0;++R)this._length[R]+=M,(M=this._length[R]/4294967296|0)>0&&(this._length[R]-=4294967296*M);return this},HashBase.prototype._update=function(){throw new Error("_update is not implemented")},HashBase.prototype.digest=function(v){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var S=this._digest();void 0!==v&&(S=S.toString(v)),this._block.fill(0),this._blockOffset=0;for(var _=0;_<4;++_)this._length[_]=0;return S},HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")},v.exports=HashBase},499499:(v,S,_)=>{var E=S;E.utils=_(70461),E.common=_(632191),E.sha=_(675746),E.ripemd=_(574169),E.hmac=_(411825),E.sha1=E.sha.sha1,E.sha256=E.sha.sha256,E.sha224=E.sha.sha224,E.sha384=E.sha.sha384,E.sha512=E.sha.sha512,E.ripemd160=E.ripemd.ripemd160},632191:(v,S,_)=>{"use strict";var E=_(70461),P=_(807784);function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}S.BlockHash=BlockHash,BlockHash.prototype.update=function update(v,S){if(v=E.toArray(v,S),this.pending?this.pending=this.pending.concat(v):this.pending=v,this.pendingTotal+=v.length,this.pending.length>=this._delta8){var _=(v=this.pending).length%this._delta8;this.pending=v.slice(v.length-_,v.length),0===this.pending.length&&(this.pending=null),v=E.join32(v,0,v.length-_,this.endian);for(var P=0;P<v.length;P+=this._delta32)this._update(v,P,P+this._delta32)}return this},BlockHash.prototype.digest=function digest(v){return this.update(this._pad()),P(null===this.pending),this._digest(v)},BlockHash.prototype._pad=function pad(){var v=this.pendingTotal,S=this._delta8,_=S-(v+this.padLength)%S,E=new Array(_+this.padLength);E[0]=128;for(var P=1;P<_;P++)E[P]=0;if(v<<=3,"big"===this.endian){for(var D=8;D<this.padLength;D++)E[P++]=0;E[P++]=0,E[P++]=0,E[P++]=0,E[P++]=0,E[P++]=v>>>24&255,E[P++]=v>>>16&255,E[P++]=v>>>8&255,E[P++]=255&v}else for(E[P++]=255&v,E[P++]=v>>>8&255,E[P++]=v>>>16&255,E[P++]=v>>>24&255,E[P++]=0,E[P++]=0,E[P++]=0,E[P++]=0,D=8;D<this.padLength;D++)E[P++]=0;return E}},411825:(v,S,_)=>{"use strict";var E=_(70461),P=_(807784);function Hmac(v,S,_){if(!(this instanceof Hmac))return new Hmac(v,S,_);this.Hash=v,this.blockSize=v.blockSize/8,this.outSize=v.outSize/8,this.inner=null,this.outer=null,this._init(E.toArray(S,_))}v.exports=Hmac,Hmac.prototype._init=function init(v){v.length>this.blockSize&&(v=(new this.Hash).update(v).digest()),P(v.length<=this.blockSize);for(var S=v.length;S<this.blockSize;S++)v.push(0);for(S=0;S<v.length;S++)v[S]^=54;for(this.inner=(new this.Hash).update(v),S=0;S<v.length;S++)v[S]^=106;this.outer=(new this.Hash).update(v)},Hmac.prototype.update=function update(v,S){return this.inner.update(v,S),this},Hmac.prototype.digest=function digest(v){return this.outer.update(this.inner.digest()),this.outer.digest(v)}},574169:(v,S,_)=>{"use strict";var E=_(70461),P=_(632191),D=E.rotl32,R=E.sum32,M=E.sum32_3,O=E.sum32_4,F=P.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;F.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(v,S,_,E){return v<=15?S^_^E:v<=31?S&_|~S&E:v<=47?(S|~_)^E:v<=63?S&E|_&~E:S^(_|~E)}function K(v){return v<=15?0:v<=31?1518500249:v<=47?1859775393:v<=63?2400959708:2840853838}function Kh(v){return v<=15?1352829926:v<=31?1548603684:v<=47?1836072691:v<=63?2053994217:0}E.inherits(RIPEMD160,F),S.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function update(v,S){for(var _=this.h[0],E=this.h[1],P=this.h[2],F=this.h[3],G=this.h[4],W=_,$=E,X=P,Y=F,J=G,Z=0;Z<80;Z++){var Q=R(D(O(_,f(Z,E,P,F),v[N[Z]+S],K(Z)),U[Z]),G);_=G,G=F,F=D(P,10),P=E,E=Q,Q=R(D(O(W,f(79-Z,$,X,Y),v[L[Z]+S],Kh(Z)),V[Z]),J),W=J,J=Y,Y=D(X,10),X=$,$=Q}Q=M(this.h[1],P,Y),this.h[1]=M(this.h[2],F,J),this.h[2]=M(this.h[3],G,W),this.h[3]=M(this.h[4],_,$),this.h[4]=M(this.h[0],E,X),this.h[0]=Q},RIPEMD160.prototype._digest=function digest(v){return"hex"===v?E.toHex32(this.h,"little"):E.split32(this.h,"little")};var N=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],L=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],U=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],V=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},675746:(v,S,_)=>{"use strict";S.sha1=_(712986),S.sha224=_(275393),S.sha256=_(250536),S.sha384=_(652348),S.sha512=_(792157)},712986:(v,S,_)=>{"use strict";var E=_(70461),P=_(632191),D=_(200600),R=E.rotl32,M=E.sum32,O=E.sum32_5,F=D.ft_1,N=P.BlockHash,L=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;N.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}E.inherits(SHA1,N),v.exports=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function _update(v,S){for(var _=this.W,E=0;E<16;E++)_[E]=v[S+E];for(;E<_.length;E++)_[E]=R(_[E-3]^_[E-8]^_[E-14]^_[E-16],1);var P=this.h[0],D=this.h[1],N=this.h[2],U=this.h[3],V=this.h[4];for(E=0;E<_.length;E++){var G=~~(E/20),W=O(R(P,5),F(G,D,N,U),V,_[E],L[G]);V=U,U=N,N=R(D,30),D=P,P=W}this.h[0]=M(this.h[0],P),this.h[1]=M(this.h[1],D),this.h[2]=M(this.h[2],N),this.h[3]=M(this.h[3],U),this.h[4]=M(this.h[4],V)},SHA1.prototype._digest=function digest(v){return"hex"===v?E.toHex32(this.h,"big"):E.split32(this.h,"big")}},275393:(v,S,_)=>{"use strict";var E=_(70461),P=_(250536);function SHA224(){if(!(this instanceof SHA224))return new SHA224;P.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}E.inherits(SHA224,P),v.exports=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function digest(v){return"hex"===v?E.toHex32(this.h.slice(0,7),"big"):E.split32(this.h.slice(0,7),"big")}},250536:(v,S,_)=>{"use strict";var E=_(70461),P=_(632191),D=_(200600),R=_(807784),M=E.sum32,O=E.sum32_4,F=E.sum32_5,N=D.ch32,L=D.maj32,U=D.s0_256,V=D.s1_256,G=D.g0_256,W=D.g1_256,$=P.BlockHash,X=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;$.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=X,this.W=new Array(64)}E.inherits(SHA256,$),v.exports=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function _update(v,S){for(var _=this.W,E=0;E<16;E++)_[E]=v[S+E];for(;E<_.length;E++)_[E]=O(W(_[E-2]),_[E-7],G(_[E-15]),_[E-16]);var P=this.h[0],D=this.h[1],$=this.h[2],X=this.h[3],Y=this.h[4],J=this.h[5],Z=this.h[6],Q=this.h[7];for(R(this.k.length===_.length),E=0;E<_.length;E++){var tt=F(Q,V(Y),N(Y,J,Z),this.k[E],_[E]),et=M(U(P),L(P,D,$));Q=Z,Z=J,J=Y,Y=M(X,tt),X=$,$=D,D=P,P=M(tt,et)}this.h[0]=M(this.h[0],P),this.h[1]=M(this.h[1],D),this.h[2]=M(this.h[2],$),this.h[3]=M(this.h[3],X),this.h[4]=M(this.h[4],Y),this.h[5]=M(this.h[5],J),this.h[6]=M(this.h[6],Z),this.h[7]=M(this.h[7],Q)},SHA256.prototype._digest=function digest(v){return"hex"===v?E.toHex32(this.h,"big"):E.split32(this.h,"big")}},652348:(v,S,_)=>{"use strict";var E=_(70461),P=_(792157);function SHA384(){if(!(this instanceof SHA384))return new SHA384;P.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}E.inherits(SHA384,P),v.exports=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function digest(v){return"hex"===v?E.toHex32(this.h.slice(0,12),"big"):E.split32(this.h.slice(0,12),"big")}},792157:(v,S,_)=>{"use strict";var E=_(70461),P=_(632191),D=_(807784),R=E.rotr64_hi,M=E.rotr64_lo,O=E.shr64_hi,F=E.shr64_lo,N=E.sum64,L=E.sum64_hi,U=E.sum64_lo,V=E.sum64_4_hi,G=E.sum64_4_lo,W=E.sum64_5_hi,$=E.sum64_5_lo,X=P.BlockHash,Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;X.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Y,this.W=new Array(160)}function ch64_hi(v,S,_,E,P){var D=v&_^~v&P;return D<0&&(D+=4294967296),D}function ch64_lo(v,S,_,E,P,D){var R=S&E^~S&D;return R<0&&(R+=4294967296),R}function maj64_hi(v,S,_,E,P){var D=v&_^v&P^_&P;return D<0&&(D+=4294967296),D}function maj64_lo(v,S,_,E,P,D){var R=S&E^S&D^E&D;return R<0&&(R+=4294967296),R}function s0_512_hi(v,S){var _=R(v,S,28)^R(S,v,2)^R(S,v,7);return _<0&&(_+=4294967296),_}function s0_512_lo(v,S){var _=M(v,S,28)^M(S,v,2)^M(S,v,7);return _<0&&(_+=4294967296),_}function s1_512_hi(v,S){var _=R(v,S,14)^R(v,S,18)^R(S,v,9);return _<0&&(_+=4294967296),_}function s1_512_lo(v,S){var _=M(v,S,14)^M(v,S,18)^M(S,v,9);return _<0&&(_+=4294967296),_}function g0_512_hi(v,S){var _=R(v,S,1)^R(v,S,8)^O(v,S,7);return _<0&&(_+=4294967296),_}function g0_512_lo(v,S){var _=M(v,S,1)^M(v,S,8)^F(v,S,7);return _<0&&(_+=4294967296),_}function g1_512_hi(v,S){var _=R(v,S,19)^R(S,v,29)^O(v,S,6);return _<0&&(_+=4294967296),_}function g1_512_lo(v,S){var _=M(v,S,19)^M(S,v,29)^F(v,S,6);return _<0&&(_+=4294967296),_}E.inherits(SHA512,X),v.exports=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function _prepareBlock(v,S){for(var _=this.W,E=0;E<32;E++)_[E]=v[S+E];for(;E<_.length;E+=2){var P=g1_512_hi(_[E-4],_[E-3]),D=g1_512_lo(_[E-4],_[E-3]),R=_[E-14],M=_[E-13],O=g0_512_hi(_[E-30],_[E-29]),F=g0_512_lo(_[E-30],_[E-29]),N=_[E-32],L=_[E-31];_[E]=V(P,D,R,M,O,F,N,L),_[E+1]=G(P,D,R,M,O,F,N,L)}},SHA512.prototype._update=function _update(v,S){this._prepareBlock(v,S);var _=this.W,E=this.h[0],P=this.h[1],R=this.h[2],M=this.h[3],O=this.h[4],F=this.h[5],V=this.h[6],G=this.h[7],X=this.h[8],Y=this.h[9],J=this.h[10],Z=this.h[11],Q=this.h[12],tt=this.h[13],et=this.h[14],rt=this.h[15];D(this.k.length===_.length);for(var nt=0;nt<_.length;nt+=2){var it=et,st=rt,ot=s1_512_hi(X,Y),at=s1_512_lo(X,Y),ct=ch64_hi(X,Y,J,Z,Q),ut=ch64_lo(X,Y,J,Z,Q,tt),ht=this.k[nt],dt=this.k[nt+1],ft=_[nt],pt=_[nt+1],mt=W(it,st,ot,at,ct,ut,ht,dt,ft,pt),yt=$(it,st,ot,at,ct,ut,ht,dt,ft,pt);it=s0_512_hi(E,P),st=s0_512_lo(E,P),ot=maj64_hi(E,P,R,M,O),at=maj64_lo(E,P,R,M,O,F);var vt=L(it,st,ot,at),bt=U(it,st,ot,at);et=Q,rt=tt,Q=J,tt=Z,J=X,Z=Y,X=L(V,G,mt,yt),Y=U(G,G,mt,yt),V=O,G=F,O=R,F=M,R=E,M=P,E=L(mt,yt,vt,bt),P=U(mt,yt,vt,bt)}N(this.h,0,E,P),N(this.h,2,R,M),N(this.h,4,O,F),N(this.h,6,V,G),N(this.h,8,X,Y),N(this.h,10,J,Z),N(this.h,12,Q,tt),N(this.h,14,et,rt)},SHA512.prototype._digest=function digest(v){return"hex"===v?E.toHex32(this.h,"big"):E.split32(this.h,"big")}},200600:(v,S,_)=>{"use strict";var E=_(70461).rotr32;function ch32(v,S,_){return v&S^~v&_}function maj32(v,S,_){return v&S^v&_^S&_}function p32(v,S,_){return v^S^_}S.ft_1=function ft_1(v,S,_,E){return 0===v?ch32(S,_,E):1===v||3===v?p32(S,_,E):2===v?maj32(S,_,E):void 0},S.ch32=ch32,S.maj32=maj32,S.p32=p32,S.s0_256=function s0_256(v){return E(v,2)^E(v,13)^E(v,22)},S.s1_256=function s1_256(v){return E(v,6)^E(v,11)^E(v,25)},S.g0_256=function g0_256(v){return E(v,7)^E(v,18)^v>>>3},S.g1_256=function g1_256(v){return E(v,17)^E(v,19)^v>>>10}},70461:(v,S,_)=>{"use strict";var E=_(807784),P=_(435615);function isSurrogatePair(v,S){return 55296==(64512&v.charCodeAt(S))&&(!(S<0||S+1>=v.length)&&56320==(64512&v.charCodeAt(S+1)))}function htonl(v){return(v>>>24|v>>>8&65280|v<<8&16711680|(255&v)<<24)>>>0}function zero2(v){return 1===v.length?"0"+v:v}function zero8(v){return 7===v.length?"0"+v:6===v.length?"00"+v:5===v.length?"000"+v:4===v.length?"0000"+v:3===v.length?"00000"+v:2===v.length?"000000"+v:1===v.length?"0000000"+v:v}S.inherits=P,S.toArray=function toArray(v,S){if(Array.isArray(v))return v.slice();if(!v)return[];var _=[];if("string"==typeof v)if(S){if("hex"===S)for((v=v.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(v="0"+v),P=0;P<v.length;P+=2)_.push(parseInt(v[P]+v[P+1],16))}else for(var E=0,P=0;P<v.length;P++){var D=v.charCodeAt(P);D<128?_[E++]=D:D<2048?(_[E++]=D>>6|192,_[E++]=63&D|128):isSurrogatePair(v,P)?(D=65536+((1023&D)<<10)+(1023&v.charCodeAt(++P)),_[E++]=D>>18|240,_[E++]=D>>12&63|128,_[E++]=D>>6&63|128,_[E++]=63&D|128):(_[E++]=D>>12|224,_[E++]=D>>6&63|128,_[E++]=63&D|128)}else for(P=0;P<v.length;P++)_[P]=0|v[P];return _},S.toHex=function toHex(v){for(var S="",_=0;_<v.length;_++)S+=zero2(v[_].toString(16));return S},S.htonl=htonl,S.toHex32=function toHex32(v,S){for(var _="",E=0;E<v.length;E++){var P=v[E];"little"===S&&(P=htonl(P)),_+=zero8(P.toString(16))}return _},S.zero2=zero2,S.zero8=zero8,S.join32=function join32(v,S,_,P){var D=_-S;E(D%4==0);for(var R=new Array(D/4),M=0,O=S;M<R.length;M++,O+=4){var F;F="big"===P?v[O]<<24|v[O+1]<<16|v[O+2]<<8|v[O+3]:v[O+3]<<24|v[O+2]<<16|v[O+1]<<8|v[O],R[M]=F>>>0}return R},S.split32=function split32(v,S){for(var _=new Array(4*v.length),E=0,P=0;E<v.length;E++,P+=4){var D=v[E];"big"===S?(_[P]=D>>>24,_[P+1]=D>>>16&255,_[P+2]=D>>>8&255,_[P+3]=255&D):(_[P+3]=D>>>24,_[P+2]=D>>>16&255,_[P+1]=D>>>8&255,_[P]=255&D)}return _},S.rotr32=function rotr32(v,S){return v>>>S|v<<32-S},S.rotl32=function rotl32(v,S){return v<<S|v>>>32-S},S.sum32=function sum32(v,S){return v+S>>>0},S.sum32_3=function sum32_3(v,S,_){return v+S+_>>>0},S.sum32_4=function sum32_4(v,S,_,E){return v+S+_+E>>>0},S.sum32_5=function sum32_5(v,S,_,E,P){return v+S+_+E+P>>>0},S.sum64=function sum64(v,S,_,E){var P=v[S],D=E+v[S+1]>>>0,R=(D<E?1:0)+_+P;v[S]=R>>>0,v[S+1]=D},S.sum64_hi=function sum64_hi(v,S,_,E){return(S+E>>>0<S?1:0)+v+_>>>0},S.sum64_lo=function sum64_lo(v,S,_,E){return S+E>>>0},S.sum64_4_hi=function sum64_4_hi(v,S,_,E,P,D,R,M){var O=0,F=S;return O+=(F=F+E>>>0)<S?1:0,O+=(F=F+D>>>0)<D?1:0,v+_+P+R+(O+=(F=F+M>>>0)<M?1:0)>>>0},S.sum64_4_lo=function sum64_4_lo(v,S,_,E,P,D,R,M){return S+E+D+M>>>0},S.sum64_5_hi=function sum64_5_hi(v,S,_,E,P,D,R,M,O,F){var N=0,L=S;return N+=(L=L+E>>>0)<S?1:0,N+=(L=L+D>>>0)<D?1:0,N+=(L=L+M>>>0)<M?1:0,v+_+P+R+O+(N+=(L=L+F>>>0)<F?1:0)>>>0},S.sum64_5_lo=function sum64_5_lo(v,S,_,E,P,D,R,M,O,F){return S+E+D+M+F>>>0},S.rotr64_hi=function rotr64_hi(v,S,_){return(S<<32-_|v>>>_)>>>0},S.rotr64_lo=function rotr64_lo(v,S,_){return(v<<32-_|S>>>_)>>>0},S.shr64_hi=function shr64_hi(v,S,_){return v>>>_},S.shr64_lo=function shr64_lo(v,S,_){return(v<<32-_|S>>>_)>>>0}},878554:(v,S,_)=>{"use strict";var E=Function.prototype.call,P=Object.prototype.hasOwnProperty,D=_(179138);v.exports=D.call(E,P)},81318:(v,S,_)=>{var E=_(626093),P=_(825636).Buffer,D=_(483040),R=_(765005),M=_(825586),O=_(739942),F=P.from("Bitcoin seed","utf8"),N=2147483648,L={private:76066276,public:76067358};function HDKey(v){this.versions=v||L,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}function setPublicKey(v,S){v._publicKey=P.from(S),v._identifier=hash160(S),v._fingerprint=v._identifier.slice(0,4).readUInt32BE(0),v._privateKey=null}function serialize(v,S,_){var E=P.allocUnsafe(78);E.writeUInt32BE(S,0),E.writeUInt8(v.depth,4);var D=v.depth?v.parentFingerprint:0;return E.writeUInt32BE(D,5),E.writeUInt32BE(v.index,9),v.chainCode.copy(E,13),_.copy(E,45),E}function hash160(v){var S=D.createHash("sha256").update(v).digest();return(new M).update(S).digest()}Object.defineProperty(HDKey.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(HDKey.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(HDKey.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(HDKey.prototype,"privateKey",{get:function(){return this._privateKey},set:function(v){E.equal(v.length,32,"Private key must be 32 bytes."),E(!0===O.privateKeyVerify(v),"Invalid private key"),this._privateKey=v,this._publicKey=P.from(O.publicKeyCreate(v,!0)),this._identifier=hash160(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}}),Object.defineProperty(HDKey.prototype,"publicKey",{get:function(){return this._publicKey},set:function(v){E(33===v.length||65===v.length,"Public key must be 33 or 65 bytes."),E(!0===O.publicKeyVerify(v),"Invalid public key");setPublicKey(this,65===v.length?O.publicKeyConvert(v,!0):v)}}),Object.defineProperty(HDKey.prototype,"privateExtendedKey",{get:function(){return this._privateKey?R.encode(serialize(this,this.versions.private,P.concat([P.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(HDKey.prototype,"publicExtendedKey",{get:function(){return R.encode(serialize(this,this.versions.public,this.publicKey))}}),HDKey.prototype.derive=function(v){if("m"===v||"M"===v||"m'"===v||"M'"===v)return this;var S=v.split("/"),_=this;return S.forEach((function(v,S){if(0!==S){var P=v.length>1&&"'"===v[v.length-1],D=parseInt(v,10);E(D<N,"Invalid index"),P&&(D+=N),_=_.deriveChild(D)}else E(/^[mM]{1}/.test(v),'Path must start with "m" or "M"')})),_},HDKey.prototype.deriveChild=function(v){var S,_=v>=N,R=P.allocUnsafe(4);if(R.writeUInt32BE(v,0),_){E(this.privateKey,"Could not derive hardened child key");var M=this.privateKey,F=P.alloc(1,0);M=P.concat([F,M]),S=P.concat([M,R])}else S=P.concat([this.publicKey,R]);var L=D.createHmac("sha512",this.chainCode).update(S).digest(),U=L.slice(0,32),V=L.slice(32),G=new HDKey(this.versions);if(this.privateKey)try{G.privateKey=P.from(O.privateKeyTweakAdd(P.from(this.privateKey),U))}catch(S){return this.deriveChild(v+1)}else try{G.publicKey=P.from(O.publicKeyTweakAdd(P.from(this.publicKey),U,!0))}catch(S){return this.deriveChild(v+1)}return G.chainCode=V,G.depth=this.depth+1,G.parentFingerprint=this.fingerprint,G.index=v,G},HDKey.prototype.sign=function(v){return P.from(O.ecdsaSign(Uint8Array.from(v),Uint8Array.from(this.privateKey)).signature)},HDKey.prototype.verify=function(v,S){return O.ecdsaVerify(Uint8Array.from(S),Uint8Array.from(v),Uint8Array.from(this.publicKey))},HDKey.prototype.wipePrivateData=function(){return this._privateKey&&D.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this},HDKey.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},HDKey.fromMasterSeed=function(v,S){var _=D.createHmac("sha512",F).update(v).digest(),E=_.slice(0,32),P=_.slice(32),R=new HDKey(S);return R.chainCode=P,R.privateKey=E,R},HDKey.fromExtendedKey=function(v,S,_){_=_||!1;var P=new HDKey(S=S||L),D=R.decode(v),M=D.readUInt32BE(0);E(M===S.private||M===S.public,"Version mismatch: does not match private or public"),P.depth=D.readUInt8(4),P.parentFingerprint=D.readUInt32BE(5),P.index=D.readUInt32BE(9),P.chainCode=D.slice(13,45);var O=D.slice(45);return 0===O.readUInt8(0)?(E(M===S.private,"Version mismatch: version does not match private"),P.privateKey=O.slice(1)):(E(M===S.public,"Version mismatch: version does not match public"),_?setPublicKey(P,O):P.publicKey=O),P},HDKey.fromJSON=function(v){return HDKey.fromExtendedKey(v.xpriv)},HDKey.HARDENED_OFFSET=N,v.exports=HDKey},870536:(v,S,_)=>{"use strict";var E=_(939216),P=_(825636).Buffer;v.exports=function(v){function decodeRaw(S){var _=S.slice(0,-4),E=S.slice(-4),P=v(_);if(!(E[0]^P[0]|E[1]^P[1]|E[2]^P[2]|E[3]^P[3]))return _}return{encode:function encode(S){var _=v(S);return E.encode(P.concat([S,_],S.length+4))},decode:function decode(v){var S=decodeRaw(E.decode(v));if(!S)throw new Error("Invalid checksum");return S},decodeUnsafe:function decodeUnsafe(v){var S=E.decodeUnsafe(v);if(S)return decodeRaw(S)}}}},765005:(v,S,_)=>{"use strict";var E=_(213257),P=_(870536);v.exports=P((function sha256x2(v){var S=E("sha256").update(v).digest();return E("sha256").update(S).digest()}))},684742:(v,S,_)=>{"use strict";var E=_(499499),P=_(589042),D=_(807784);function HmacDRBG(v){if(!(this instanceof HmacDRBG))return new HmacDRBG(v);this.hash=v.hash,this.predResist=!!v.predResist,this.outLen=this.hash.outSize,this.minEntropy=v.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var S=P.toArray(v.entropy,v.entropyEnc||"hex"),_=P.toArray(v.nonce,v.nonceEnc||"hex"),E=P.toArray(v.pers,v.persEnc||"hex");D(S.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(S,_,E)}v.exports=HmacDRBG,HmacDRBG.prototype._init=function init(v,S,_){var E=v.concat(S).concat(_);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var P=0;P<this.V.length;P++)this.K[P]=0,this.V[P]=1;this._update(E),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function hmac(){return new E.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function update(v){var S=this._hmac().update(this.V).update([0]);v&&(S=S.update(v)),this.K=S.digest(),this.V=this._hmac().update(this.V).digest(),v&&(this.K=this._hmac().update(this.V).update([1]).update(v).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function reseed(v,S,_,E){"string"!=typeof S&&(E=_,_=S,S=null),v=P.toArray(v,S),_=P.toArray(_,E),D(v.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(v.concat(_||[])),this._reseed=1},HmacDRBG.prototype.generate=function generate(v,S,_,E){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof S&&(E=_,_=S,S=null),_&&(_=P.toArray(_,E||"hex"),this._update(_));for(var D=[];D.length<v;)this.V=this._hmac().update(this.V).digest(),D=D.concat(this.V);var R=D.slice(0,v);return this._update(_),this._reseed++,P.encode(R,S)}},775985:(v,S,_)=>{"use strict";var E=_(265521),P={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},D={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},R={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M={};function getStatics(v){return E.isMemo(v)?R:M[v.$$typeof]||P}M[E.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},M[E.Memo]=R;var O=Object.defineProperty,F=Object.getOwnPropertyNames,N=Object.getOwnPropertySymbols,L=Object.getOwnPropertyDescriptor,U=Object.getPrototypeOf,V=Object.prototype;v.exports=function hoistNonReactStatics(v,S,_){if("string"!=typeof S){if(V){var E=U(S);E&&E!==V&&hoistNonReactStatics(v,E,_)}var P=F(S);N&&(P=P.concat(N(S)));for(var R=getStatics(v),M=getStatics(S),G=0;G<P.length;++G){var W=P[G];if(!(D[W]||_&&_[W]||M&&M[W]||R&&R[W])){var $=L(S,W);try{O(v,W,$)}catch(v){}}}}return v}},726685:(v,S)=>{"use strict";var _="function"==typeof Symbol&&Symbol.for,E=_?Symbol.for("react.element"):60103,P=_?Symbol.for("react.portal"):60106,D=_?Symbol.for("react.fragment"):60107,R=_?Symbol.for("react.strict_mode"):60108,M=_?Symbol.for("react.profiler"):60114,O=_?Symbol.for("react.provider"):60109,F=_?Symbol.for("react.context"):60110,N=_?Symbol.for("react.async_mode"):60111,L=_?Symbol.for("react.concurrent_mode"):60111,U=_?Symbol.for("react.forward_ref"):60112,V=_?Symbol.for("react.suspense"):60113,G=_?Symbol.for("react.suspense_list"):60120,W=_?Symbol.for("react.memo"):60115,$=_?Symbol.for("react.lazy"):60116,X=_?Symbol.for("react.block"):60121,Y=_?Symbol.for("react.fundamental"):60117,J=_?Symbol.for("react.responder"):60118,Z=_?Symbol.for("react.scope"):60119;function z(v){if("object"==typeof v&&null!==v){var S=v.$$typeof;switch(S){case E:switch(v=v.type){case N:case L:case D:case M:case R:case V:return v;default:switch(v=v&&v.$$typeof){case F:case U:case $:case W:case O:return v;default:return S}}case P:return S}}}function A(v){return z(v)===L}S.AsyncMode=N,S.ConcurrentMode=L,S.ContextConsumer=F,S.ContextProvider=O,S.Element=E,S.ForwardRef=U,S.Fragment=D,S.Lazy=$,S.Memo=W,S.Portal=P,S.Profiler=M,S.StrictMode=R,S.Suspense=V,S.isAsyncMode=function(v){return A(v)||z(v)===N},S.isConcurrentMode=A,S.isContextConsumer=function(v){return z(v)===F},S.isContextProvider=function(v){return z(v)===O},S.isElement=function(v){return"object"==typeof v&&null!==v&&v.$$typeof===E},S.isForwardRef=function(v){return z(v)===U},S.isFragment=function(v){return z(v)===D},S.isLazy=function(v){return z(v)===$},S.isMemo=function(v){return z(v)===W},S.isPortal=function(v){return z(v)===P},S.isProfiler=function(v){return z(v)===M},S.isStrictMode=function(v){return z(v)===R},S.isSuspense=function(v){return z(v)===V},S.isValidElementType=function(v){return"string"==typeof v||"function"==typeof v||v===D||v===L||v===M||v===R||v===V||v===G||"object"==typeof v&&null!==v&&(v.$$typeof===$||v.$$typeof===W||v.$$typeof===O||v.$$typeof===F||v.$$typeof===U||v.$$typeof===Y||v.$$typeof===J||v.$$typeof===Z||v.$$typeof===X)},S.typeOf=z},265521:(v,S,_)=>{"use strict";v.exports=_(726685)},793254:(v,S,_)=>{"use strict";_.r(S),_.d(S,{default:()=>R});var E=/[A-Z]/g,P=/^ms-/,D={};function toHyphenLower(v){return"-"+v.toLowerCase()}const R=function hyphenateStyleName(v){if(D.hasOwnProperty(v))return D[v];var S=v.replace(E,toHyphenLower);return D[v]=P.test(S)?"-"+S:S}},439318:(v,S)=>{S.read=function(v,S,_,E,P){var D,R,M=8*P-E-1,O=(1<<M)-1,F=O>>1,N=-7,L=_?P-1:0,U=_?-1:1,V=v[S+L];for(L+=U,D=V&(1<<-N)-1,V>>=-N,N+=M;N>0;D=256*D+v[S+L],L+=U,N-=8);for(R=D&(1<<-N)-1,D>>=-N,N+=E;N>0;R=256*R+v[S+L],L+=U,N-=8);if(0===D)D=1-F;else{if(D===O)return R?NaN:1/0*(V?-1:1);R+=Math.pow(2,E),D-=F}return(V?-1:1)*R*Math.pow(2,D-E)},S.write=function(v,S,_,E,P,D){var R,M,O,F=8*D-P-1,N=(1<<F)-1,L=N>>1,U=23===P?Math.pow(2,-24)-Math.pow(2,-77):0,V=E?0:D-1,G=E?1:-1,W=S<0||0===S&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(M=isNaN(S)?1:0,R=N):(R=Math.floor(Math.log(S)/Math.LN2),S*(O=Math.pow(2,-R))<1&&(R--,O*=2),(S+=R+L>=1?U/O:U*Math.pow(2,1-L))*O>=2&&(R++,O/=2),R+L>=N?(M=0,R=N):R+L>=1?(M=(S*O-1)*Math.pow(2,P),R+=L):(M=S*Math.pow(2,L-1)*Math.pow(2,P),R=0));P>=8;v[_+V]=255&M,V+=G,M/=256,P-=8);for(R=R<<P|M,F+=P;F>0;v[_+V]=255&R,V+=G,R/=256,F-=8);v[_+V-G]|=128*W}},435615:v=>{"function"==typeof Object.create?v.exports=function inherits(v,S){S&&(v.super_=S,v.prototype=Object.create(S.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}))}:v.exports=function inherits(v,S){if(S){v.super_=S;var TempCtor=function(){};TempCtor.prototype=S.prototype,v.prototype=new TempCtor,v.prototype.constructor=v}}},456768:v=>{v.exports=function(v){return(S,..._)=>function(v,...S){return new Promise(((_,E)=>{v(...S,((v,S)=>{v?E(v):_(S)}))}))}(S.bind(v),..._)}},121210:(v,S,_)=>{"use strict";S.A=function createPrefixer(v){var S=v.prefixMap,_=v.plugins;return function prefix(v){for(var M in v){var O=v[M];if((0,R.default)(O))v[M]=prefix(O);else if(Array.isArray(O)){for(var F=[],N=0,L=O.length;N<L;++N){var U=(0,P.default)(_,M,O[N],v,S);(0,D.default)(F,U||O[N])}F.length>0&&(v[M]=F)}else{var V=(0,P.default)(_,M,O,v,S);V&&(v[M]=V),v=(0,E.default)(S,M,v)}}return v}};var E=_interopRequireDefault(_(665162)),P=_interopRequireDefault(_(210)),D=_interopRequireDefault(_(469412)),R=_interopRequireDefault(_(660504));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}},794802:(v,S)=>{"use strict";S.A=function backgroundClip(){return null}},346844:(v,S,_)=>{"use strict";S.A=function crossFade(v,S){if("string"==typeof S&&!(0,E.isPrefixedValue)(S)&&-1!==S.indexOf("cross-fade("))return D.map((function(v){return S.replace(P,v+"cross-fade(")}))};var E=_(782303),P=/cross-fade\(/g,D=["-webkit-",""]},599866:(v,S)=>{"use strict";S.A=function cursor(v,S){if("cursor"===v&&E.hasOwnProperty(S))return _.map((function(v){return v+S}))};var _=["-webkit-","-moz-",""],E={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},623790:(v,S,_)=>{"use strict";S.A=function filter(v,S){if("string"==typeof S&&!(0,E.isPrefixedValue)(S)&&-1!==S.indexOf("filter("))return D.map((function(v){return S.replace(P,v+"filter(")}))};var E=_(782303),P=/filter\(/g,D=["-webkit-",""]},538767:(v,S,_)=>{"use strict";S.A=function imageSet(v,S){if("string"==typeof S&&!(0,E.default)(S)&&S.indexOf("image-set(")>-1)return P.map((function(v){return S.replace(/image-set\(/g,v+"image-set(")}))};var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(142651));var P=["-webkit-",""]},122053:(v,S)=>{"use strict";S.A=function logical(v,S,E){if(Object.prototype.hasOwnProperty.call(_,v))for(var P=_[v],D=0,R=P.length;D<R;++D)E[P[D]]=S};var _={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},794623:(v,S)=>{"use strict";S.A=function position(v,S){if("position"===v&&"sticky"===S)return["-webkit-sticky","sticky"]}},774742:(v,S)=>{"use strict";S.A=function sizing(v,S){if(E.hasOwnProperty(v)&&P.hasOwnProperty(S))return _.map((function(v){return v+S}))};var _=["-webkit-","-moz-",""],E={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},P={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},329179:(v,S,_)=>{"use strict";S.A=function transition(v,S,_,O){if("string"==typeof S&&R.hasOwnProperty(v)){var F=function prefixValue(v,S){if((0,P.default)(v))return v;for(var _=v.split(/,(?![^()]*(?:\([^()]*\))?\))/g),D=0,R=_.length;D<R;++D){var O=_[D],F=[O];for(var N in S){var L=(0,E.default)(N);if(O.indexOf(L)>-1&&"order"!==L)for(var U=S[N],V=0,G=U.length;V<G;++V)F.unshift(O.replace(L,M[U[V]]+L))}_[D]=F.join(",")}return _.join(",")}(S,O),N=F.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(v){return!/-moz-|-ms-/.test(v)})).join(",");if(v.indexOf("Webkit")>-1)return N;var L=F.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(v){return!/-webkit-|-ms-/.test(v)})).join(",");return v.indexOf("Moz")>-1?L:(_["Webkit"+(0,D.default)(v)]=N,_["Moz"+(0,D.default)(v)]=L,F)}};var E=_interopRequireDefault(_(971572)),P=_interopRequireDefault(_(142651)),D=_interopRequireDefault(_(923804));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var R={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},M={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},469412:(v,S)=>{"use strict";function addIfNew(v,S){-1===v.indexOf(S)&&v.push(S)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=function addNewValuesOnly(v,S){if(Array.isArray(S))for(var _=0,E=S.length;_<E;++_)addIfNew(v,S[_]);else addIfNew(v,S)}},923804:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function capitalizeString(v){return v.charAt(0).toUpperCase()+v.slice(1)}},660504:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function isObject(v){return v instanceof Object&&!Array.isArray(v)}},665162:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function prefixProperty(v,S,_){var P=v[S];if(P&&_.hasOwnProperty(S))for(var D=(0,E.default)(S),R=0;R<P.length;++R){var M=P[R]+D;_[M]||(_[M]=_[S])}return _};var E=function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}(_(923804))},210:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function prefixValue(v,S,_,E,P){for(var D=0,R=v.length;D<R;++D){var M=v[D](S,_,E,P);if(M)return M}}},806502:(v,S,_)=>{"use strict";_.d(S,{S:()=>M});var E=_(434117),P=_(20803),D=_(514912),R=_(891478);function mergeConfigs(v,S){return S?Object.keys(v).reduce((function(_,P){return _[P]=function mergeConfig(v,S){return S?(0,E.__assign)((0,E.__assign)((0,E.__assign)({},v||{}),S||{}),Object.keys(v).reduce((function(_,P){return _[P]=(0,E.__assign)((0,E.__assign)({},v[P]),S[P]||{}),_}),{})):v}(v[P],S[P]),_}),(0,E.__assign)({},v)):v}function createFastMemoizeCache(v){return{create:function(){return{get:function(S){return v[S]},set:function(S,_){v[S]=_}}}}}var M=function(){function IntlMessageFormat(v,S,_,P){var M=this;if(void 0===S&&(S=IntlMessageFormat.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(v){var S=M.formatToParts(v);if(1===S.length)return S[0].value;var _=S.reduce((function(v,S){return v.length&&S.type===R.TT.literal&&"string"==typeof v[v.length-1]?v[v.length-1]+=S.value:v.push(S.value),v}),[]);return _.length<=1?_[0]||"":_},this.formatToParts=function(v){return(0,R.hN)(M.ast,M.locales,M.formatters,M.formats,v,void 0,M.message)},this.resolvedOptions=function(){return{locale:M.resolvedLocale.toString()}},this.getAst=function(){return M.ast},this.locales=S,this.resolvedLocale=IntlMessageFormat.resolveLocale(S),"string"==typeof v){if(this.message=v,!IntlMessageFormat.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=IntlMessageFormat.__parse(v,{ignoreTag:null==P?void 0:P.ignoreTag,locale:this.resolvedLocale})}else this.ast=v;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=mergeConfigs(IntlMessageFormat.formats,_),this.formatters=P&&P.formatters||function createDefaultFormatters(v){return void 0===v&&(v={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,D.A)((function(){for(var v,S=[],_=0;_<arguments.length;_++)S[_]=arguments[_];return new((v=Intl.NumberFormat).bind.apply(v,(0,E.__spreadArray)([void 0],S,!1)))}),{cache:createFastMemoizeCache(v.number),strategy:D.W.variadic}),getDateTimeFormat:(0,D.A)((function(){for(var v,S=[],_=0;_<arguments.length;_++)S[_]=arguments[_];return new((v=Intl.DateTimeFormat).bind.apply(v,(0,E.__spreadArray)([void 0],S,!1)))}),{cache:createFastMemoizeCache(v.dateTime),strategy:D.W.variadic}),getPluralRules:(0,D.A)((function(){for(var v,S=[],_=0;_<arguments.length;_++)S[_]=arguments[_];return new((v=Intl.PluralRules).bind.apply(v,(0,E.__spreadArray)([void 0],S,!1)))}),{cache:createFastMemoizeCache(v.pluralRules),strategy:D.W.variadic})}}(this.formatterCache)}return Object.defineProperty(IntlMessageFormat,"defaultLocale",{get:function(){return IntlMessageFormat.memoizedDefaultLocale||(IntlMessageFormat.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),IntlMessageFormat.memoizedDefaultLocale},enumerable:!1,configurable:!0}),IntlMessageFormat.memoizedDefaultLocale=null,IntlMessageFormat.resolveLocale=function(v){var S=Intl.NumberFormat.supportedLocalesOf(v);return S.length>0?new Intl.Locale(S[0]):new Intl.Locale("string"==typeof v?v:v[0])},IntlMessageFormat.__parse=P.qg,IntlMessageFormat.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},IntlMessageFormat}()},254179:(v,S,_)=>{"use strict";_.d(S,{$x:()=>R,Ei:()=>O,IF:()=>D,O4:()=>E,Zo:()=>M});var E,P=_(434117);!function(v){v.MISSING_VALUE="MISSING_VALUE",v.INVALID_VALUE="INVALID_VALUE",v.MISSING_INTL_API="MISSING_INTL_API"}(E||(E={}));var D=function(v){function FormatError(S,_,E){var P=v.call(this,S)||this;return P.code=_,P.originalMessage=E,P}return(0,P.__extends)(FormatError,v),FormatError.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},FormatError}(Error),R=function(v){function InvalidValueError(S,_,P,D){return v.call(this,'Invalid values for "'.concat(S,'": "').concat(_,'". Options are "').concat(Object.keys(P).join('", "'),'"'),E.INVALID_VALUE,D)||this}return(0,P.__extends)(InvalidValueError,v),InvalidValueError}(D),M=function(v){function InvalidValueTypeError(S,_,P){return v.call(this,'Value for "'.concat(S,'" must be of type ').concat(_),E.INVALID_VALUE,P)||this}return(0,P.__extends)(InvalidValueTypeError,v),InvalidValueTypeError}(D),O=function(v){function MissingValueError(S,_){return v.call(this,'The intl string context variable "'.concat(S,'" was not provided to the string "').concat(_,'"'),E.MISSING_VALUE,_)||this}return(0,P.__extends)(MissingValueError,v),MissingValueError}(D)},891478:(v,S,_)=>{"use strict";_.d(S,{RK:()=>isFormatXMLElementFn,TT:()=>E,hN:()=>formatToParts});var E,P=_(20803),D=_(254179);function isFormatXMLElementFn(v){return"function"==typeof v}function formatToParts(v,S,_,R,M,O,F){if(1===v.length&&(0,P.eW)(v[0]))return[{type:E.literal,value:v[0].value}];for(var N=[],L=0,U=v;L<U.length;L++){var V=U[L];if((0,P.eW)(V))N.push({type:E.literal,value:V.value});else if((0,P.jA)(V))"number"==typeof O&&N.push({type:E.literal,value:_.getNumberFormat(S).format(O)});else{var G=V.value;if(!M||!(G in M))throw new D.Ei(G,F);var W=M[G];if((0,P.Im)(V))W&&"string"!=typeof W&&"number"!=typeof W||(W="string"==typeof W||"number"==typeof W?String(W):""),N.push({type:"string"==typeof W?E.literal:E.object,value:W});else if((0,P.tv)(V)){var $="string"==typeof V.style?R.date[V.style]:(0,P.Tu)(V.style)?V.style.parsedOptions:void 0;N.push({type:E.literal,value:_.getDateTimeFormat(S,$).format(W)})}else if((0,P.Qh)(V)){$="string"==typeof V.style?R.time[V.style]:(0,P.Tu)(V.style)?V.style.parsedOptions:R.time.medium;N.push({type:E.literal,value:_.getDateTimeFormat(S,$).format(W)})}else if((0,P.oF)(V)){($="string"==typeof V.style?R.number[V.style]:(0,P.N1)(V.style)?V.style.parsedOptions:void 0)&&$.scale&&(W*=$.scale||1),N.push({type:E.literal,value:_.getNumberFormat(S,$).format(W)})}else{if((0,P.xm)(V)){var X=V.children,Y=V.value,J=M[Y];if(!isFormatXMLElementFn(J))throw new D.Zo(Y,"function",F);var Z=J(formatToParts(X,S,_,R,M,O).map((function(v){return v.value})));Array.isArray(Z)||(Z=[Z]),N.push.apply(N,Z.map((function(v){return{type:"string"==typeof v?E.literal:E.object,value:v}})))}if((0,P.Jp)(V)){if(!(Q=V.options[W]||V.options.other))throw new D.$x(V.value,W,Object.keys(V.options),F);N.push.apply(N,formatToParts(Q.value,S,_,R,M))}else if((0,P.N6)(V)){var Q;if(!(Q=V.options["=".concat(W)])){if(!Intl.PluralRules)throw new D.IF('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',D.O4.MISSING_INTL_API,F);var tt=_.getPluralRules(S,{type:V.pluralType}).select(W-(V.offset||0));Q=V.options[tt]||V.options.other}if(!Q)throw new D.$x(V.value,W,Object.keys(V.options),F);N.push.apply(N,formatToParts(Q.value,S,_,R,M,W-(V.offset||0)))}else;}}}return function mergeLiteral(v){return v.length<2?v:v.reduce((function(v,S){var _=v[v.length-1];return _&&_.type===E.literal&&S.type===E.literal?_.value+=S.value:v.push(S),v}),[])}(N)}!function(v){v[v.literal=0]="literal",v[v.object=1]="object"}(E||(E={}))},78958:v=>{"use strict";v.exports=function(v,S,_,E,P,D,R,M){if(!v){var O;if(void 0===S)O=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var F=[_,E,P,D,R,M],N=0;(O=new Error(S.replace(/%s/g,(function(){return F[N++]})))).name="Invariant Violation"}throw O.framesToPop=1,O}}},655387:(v,S,_)=>{"use strict";var E=_(451913)(),P=_(579818)("Object.prototype.toString"),D=function isArguments(v){return!(E&&v&&"object"==typeof v&&Symbol.toStringTag in v)&&"[object Arguments]"===P(v)},R=function isArguments(v){return!!D(v)||null!==v&&"object"==typeof v&&"number"==typeof v.length&&v.length>=0&&"[object Array]"!==P(v)&&"[object Function]"===P(v.callee)},M=function(){return D(arguments)}();D.isLegacyArguments=R,v.exports=M?D:R},589617:v=>{"use strict";var S,_,E=Function.prototype.toString,P="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof P&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw _}}),_={},P((function(){throw 42}),null,S)}catch(v){v!==_&&(P=null)}else P=null;var D=/^\s*class\b/,R=function isES6ClassFunction(v){try{var S=E.call(v);return D.test(S)}catch(v){return!1}},M=function tryFunctionToStr(v){try{return!R(v)&&(E.call(v),!0)}catch(v){return!1}},O=Object.prototype.toString,F="function"==typeof Symbol&&!!Symbol.toStringTag,N=!(0 in[,]),L=function isDocumentDotAll(){return!1};if("object"==typeof document){var U=document.all;O.call(U)===O.call(document.all)&&(L=function isDocumentDotAll(v){if((N||!v)&&(void 0===v||"object"==typeof v))try{var S=O.call(v);return("[object HTMLAllCollection]"===S||"[object HTML document.all class]"===S||"[object HTMLCollection]"===S||"[object Object]"===S)&&null==v("")}catch(v){}return!1})}v.exports=P?function isCallable(v){if(L(v))return!0;if(!v)return!1;if("function"!=typeof v&&"object"!=typeof v)return!1;try{P(v,null,S)}catch(v){if(v!==_)return!1}return!R(v)&&M(v)}:function isCallable(v){if(L(v))return!0;if(!v)return!1;if("function"!=typeof v&&"object"!=typeof v)return!1;if(F)return M(v);if(R(v))return!1;var S=O.call(v);return!("[object Function]"!==S&&"[object GeneratorFunction]"!==S&&!/^\[object HTML/.test(S))&&M(v)}},802625:(v,S,_)=>{"use strict";var E,P=Object.prototype.toString,D=Function.prototype.toString,R=/^\s*(?:function)?\*/,M=_(451913)(),O=Object.getPrototypeOf;v.exports=function isGeneratorFunction(v){if("function"!=typeof v)return!1;if(R.test(D.call(v)))return!0;if(!M)return"[object GeneratorFunction]"===P.call(v);if(!O)return!1;if(void 0===E){var S=function(){if(!M)return!1;try{return Function("return function*() {}")()}catch(v){}}();E=!!S&&O(S)}return O(v)===E}},7057:v=>{v.exports=function isHexPrefixed(v){if("string"!=typeof v)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof v+", while checking isHexPrefixed.");return"0x"===v.slice(0,2)}},198006:v=>{"use strict";v.exports=function isNaN(v){return v!=v}},707838:(v,S,_)=>{"use strict";var E=_(828498),P=_(841857),D=_(198006),R=_(641591),M=_(61641),O=E(R(),Number);P(O,{getPolyfill:R,implementation:D,shim:M}),v.exports=O},641591:(v,S,_)=>{"use strict";var E=_(198006);v.exports=function getPolyfill(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:E}},61641:(v,S,_)=>{"use strict";var E=_(841857),P=_(641591);v.exports=function shimNumberIsNaN(){var v=P();return E(Number,{isNaN:v},{isNaN:function testIsNaN(){return Number.isNaN!==v}}),v}},120878:v=>{function isPromise(v){return!!v&&("object"==typeof v||"function"==typeof v)&&"function"==typeof v.then}v.exports=isPromise,v.exports.default=isPromise},495943:(v,S,_)=>{"use strict";var E=_(252730);v.exports=function isTypedArray(v){return!!E(v)}},114535:(v,S,_)=>{"use strict";_.d(S,{A:()=>ISO6391});const E={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:" "},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:""},an:{name:"Aragonese",nativeName:"aragons"},ar:{name:"Arabic",nativeName:""},as:{name:"Assamese",nativeName:""},av:{name:"Avaric",nativeName:" "},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azrbaycan dili"},ba:{name:"Bashkir",nativeName:" "},be:{name:"Belarusian",nativeName:" "},bg:{name:"Bulgarian",nativeName:" "},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:""},bo:{name:"Tibetan",nativeName:""},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"Catal"},ce:{name:"Chechen",nativeName:" "},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:""},cs:{name:"Czech",nativeName:"etina"},cu:{name:"Old Church Slavonic",nativeName:" "},cv:{name:"Chuvash",nativeName:" "},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:""},dz:{name:"Dzongkha",nativeName:""},ee:{name:"Ewe",nativeName:"Eegbe"},el:{name:"Greek",nativeName:""},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"Espaol"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:""},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fo:{name:"Faroese",nativeName:"froyskt"},fr:{name:"French",nativeName:"Franais"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"Gidhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaran",nativeName:"Avae'"},gu:{name:"Gujarati",nativeName:""},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:""},he:{name:"Hebrew",nativeName:""},hi:{name:"Hindi",nativeName:""},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"Hrvatski"},ht:{name:"Haitian",nativeName:"Kreyl ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:""},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"Ass Igbo"},ii:{name:"Nuosu",nativeName:" Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"Iupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"slenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:""},ja:{name:"Japanese",nativeName:""},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:""},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"Gky"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:" "},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:""},kn:{name:"Kannada",nativeName:""},ko:{name:"Korean",nativeName:""},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:""},ku:{name:"Kurdish",nativeName:"Kurd"},kv:{name:"Komi",nativeName:" "},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:""},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"Ltzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingla"},lo:{name:"Lao",nativeName:""},lt:{name:"Lithuanian",nativeName:"lietuvi kalba"},lu:{name:"Luba-Katanga",nativeName:"Kiluba"},lv:{name:"Latvian",nativeName:"latvieu valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin Maje"},mi:{name:"Mori",nativeName:"te reo Mori"},mk:{name:"Macedonian",nativeName:" "},ml:{name:"Malayalam",nativeName:""},mn:{name:"Mongolian",nativeName:" "},mr:{name:"Marathi",nativeName:""},ms:{name:"Malay",nativeName:"Bahasa Melayu"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:""},na:{name:"Nauru",nativeName:"Dorerin Naoero"},nb:{name:"Norwegian Bokml",nativeName:"Norsk bokml"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:""},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Din bizaad"},ny:{name:"Chichewa",nativeName:"chiChea"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:""},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:""},os:{name:"Ossetian",nativeName:" "},pa:{name:"Panjabi",nativeName:""},pi:{name:"Pli",nativeName:""},pl:{name:"Polish",nativeName:"Polski"},ps:{name:"Pashto",nativeName:""},pt:{name:"Portuguese",nativeName:"Portugus"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"Romn"},ru:{name:"Russian",nativeName:""},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:""},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:""},se:{name:"Northern Sami",nativeName:"Davvismegiella"},sg:{name:"Sango",nativeName:"yng t sng"},si:{name:"Sinhala",nativeName:""},sk:{name:"Slovak",nativeName:"slovenina"},sl:{name:"Slovenian",nativeName:"slovenina"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:" "},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"Svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:""},te:{name:"Telugu",nativeName:""},tg:{name:"Tajik",nativeName:""},th:{name:"Thai",nativeName:""},ti:{name:"Tigrinya",nativeName:""},tk:{name:"Turkmen",nativeName:"Trkmene"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Trke"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:" "},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:""},uk:{name:"Ukrainian",nativeName:""},ur:{name:"Urdu",nativeName:""},uz:{name:"Uzbek",nativeName:""},ve:{name:"Venda",nativeName:"Tshivena"},vi:{name:"Vietnamese",nativeName:"Ting Vit"},vo:{name:"Volapk",nativeName:"Volapk"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:""},yo:{name:"Yoruba",nativeName:"Yorb"},za:{name:"Zhuang",nativeName:"Sa cue"},zh:{name:"Chinese",nativeName:""},zu:{name:"Zulu",nativeName:"isiZulu"}};class ISO6391{static getLanguages(v=[]){return v.map((v=>({code:v,name:ISO6391.getName(v),nativeName:ISO6391.getNativeName(v)})))}static getName(v){return ISO6391.validate(v)?E[v].name:""}static getAllNames(){return Object.values(E).map((v=>v.name))}static getNativeName(v){return ISO6391.validate(v)?E[v].nativeName:""}static getAllNativeNames(){return Object.values(E).map((v=>v.nativeName))}static getCode(v){return Object.keys(E).find((S=>{const _=E[S];return _.name.toLowerCase()===v.toLowerCase()||_.nativeName.toLowerCase()===v.toLowerCase()}))||""}static getAllCodes(){return Object.keys(E)}static validate(v){return E.hasOwnProperty(v)}}},960923:(v,S,_)=>{v.exports=self.fetch||(self.fetch=_(795883).default||_(795883))},759499:(v,S,_)=>{"use strict";const E=_(354994).v4,P=_(393514),ClientBrowser=function(v,S){if(!(this instanceof ClientBrowser))return new ClientBrowser(v,S);S||(S={}),this.options={reviver:void 0!==S.reviver?S.reviver:null,replacer:void 0!==S.replacer?S.replacer:null,generator:void 0!==S.generator?S.generator:function(){return E()},version:void 0!==S.version?S.version:2,notificationIdNull:"boolean"==typeof S.notificationIdNull&&S.notificationIdNull},this.callServer=v};v.exports=ClientBrowser,ClientBrowser.prototype.request=function(v,S,_,E){const D=this;let R=null;const M=Array.isArray(v)&&"function"==typeof S;if(1===this.options.version&&M)throw new TypeError("JSON-RPC 1.0 does not support batching");if(M||!M&&v&&"object"==typeof v&&"function"==typeof S)E=S,R=v;else{"function"==typeof _&&(E=_,_=void 0);const D="function"==typeof E;try{R=P(v,S,_,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(v){if(D)return E(v);throw v}if(!D)return R}let O;try{O=JSON.stringify(R,this.options.replacer)}catch(v){return E(v)}return this.callServer(O,(function(v,S){D._parseResponse(v,S,E)})),R},ClientBrowser.prototype._parseResponse=function(v,S,_){if(v)return void _(v);if(!S)return _();let E;try{E=JSON.parse(S,this.options.reviver)}catch(v){return _(v)}if(3===_.length){if(Array.isArray(E)){const isError=function(v){return void 0!==v.error},isNotError=function(v){return!isError(v)};return _(null,E.filter(isError),E.filter(isNotError))}return _(null,E.error,E.result)}_(null,E)}},393514:(v,S,_)=>{"use strict";const E=_(354994).v4;v.exports=function(v,S,_,P){if("string"!=typeof v)throw new TypeError(v+" must be a string");const D="number"==typeof(P=P||{}).version?P.version:2;if(1!==D&&2!==D)throw new TypeError(D+" must be 1 or 2");const R={method:v};if(2===D&&(R.jsonrpc="2.0"),S){if("object"!=typeof S&&!Array.isArray(S))throw new TypeError(S+" must be an object, array or omitted");R.params=S}if(void 0===_){const v="function"==typeof P.generator?P.generator:function(){return E()};R.id=v(R,P)}else 2===D&&null===_?P.notificationIdNull&&(R.id=null):R.id=_;return R}},354994:(v,S,_)=>{"use strict";var E;_.d(S,{v4:()=>N});var P=new Uint8Array(16);function rng(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(P)}const D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const R=function validate(v){return"string"==typeof v&&D.test(v)};for(var M=[],O=0;O<256;++O)M.push((O+256).toString(16).substr(1));const F=function stringify(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=(M[v[S+0]]+M[v[S+1]]+M[v[S+2]]+M[v[S+3]]+"-"+M[v[S+4]]+M[v[S+5]]+"-"+M[v[S+6]]+M[v[S+7]]+"-"+M[v[S+8]]+M[v[S+9]]+"-"+M[v[S+10]]+M[v[S+11]]+M[v[S+12]]+M[v[S+13]]+M[v[S+14]]+M[v[S+15]]).toLowerCase();if(!R(_))throw TypeError("Stringified UUID is invalid");return _};const N=function v4(v,S,_){var E=(v=v||{}).random||(v.rng||rng)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,S){_=_||0;for(var P=0;P<16;++P)S[_+P]=E[P];return S}return F(E)}},636537:(v,S,_)=>{"use strict";_.d(S,{fp:()=>useAtom});var E=_(514041),P=_(368641);const D=(0,E.createContext)(void 0),useStore=v=>{const S=(0,E.useContext)(D);return(null==v?void 0:v.store)||S||(0,P.zp)()},isPromiseLike=v=>"function"==typeof(null==v?void 0:v.then),R=E.use||(v=>{if("pending"===v.status)throw v;if("fulfilled"===v.status)return v.value;throw"rejected"===v.status?v.reason:(v.status="pending",v.then((S=>{v.status="fulfilled",v.value=S}),(S=>{v.status="rejected",v.reason=S})),v)});function useAtomValue(v,S){const _=useStore(S),[[P,D,M],O]=(0,E.useReducer)((S=>{const E=_.get(v);return Object.is(S[0],E)&&S[1]===_&&S[2]===v?S:[E,_,v]}),void 0,(()=>[_.get(v),_,v]));let F=P;D===_&&M===v||(O(),F=_.get(v));const N=null==S?void 0:S.delay;return(0,E.useEffect)((()=>{const S=_.sub(v,(()=>{"number"!=typeof N?O():setTimeout(O,N)}));return O(),S}),[_,v,N]),(0,E.useDebugValue)(F),isPromiseLike(F)?R(F):F}function useSetAtom(v,S){const _=useStore(S);return(0,E.useCallback)(((...S)=>{if(!("write"in v))throw new Error("not writable atom");return _.set(v,...S)}),[_,v])}function useAtom(v,S){return[useAtomValue(v,S),useSetAtom(v,S)]}},368641:(v,S,_)=>{"use strict";_.d(S,{eU:()=>atom,y$:()=>createStore,zp:()=>getDefaultStore});let E=0;function atom(v,S){const _="atom"+ ++E,P={toString:()=>_};return"function"==typeof v?P.read=v:(P.init=v,P.read=function(v){return v(this)},P.write=function(v,S,_){return S(this,"function"==typeof _?_(v(this)):_)}),S&&(P.write=S),P}const hasInitialValue=v=>"init"in v,isActuallyWritableAtom=v=>!!v.write,P=new WeakMap,cancelPromise=(v,S)=>{const _=P.get(v);_&&(P.delete(v),_(S))},resolvePromise=(v,S)=>{v.status="fulfilled",v.value=S},rejectPromise=(v,S)=>{v.status="rejected",v.reason=S},isEqualAtomValue=(v,S)=>!!v&&"v"in v&&"v"in S&&Object.is(v.v,S.v),isEqualAtomError=(v,S)=>!!v&&"e"in v&&"e"in S&&Object.is(v.e,S.e),hasPromiseAtomValue=v=>!!v&&"v"in v&&v.v instanceof Promise,returnAtomValue=v=>{if("e"in v)throw v.e;return v.v},createStore=()=>{const v=new WeakMap,S=new WeakMap,_=new Map;let E,D;E=new Set,D=new Set;const getAtomState=S=>v.get(S),setAtomState=(S,E)=>{Object.freeze(E);const P=v.get(S);if(v.set(S,E),_.has(S)||_.set(S,P),hasPromiseAtomValue(P)){const v="v"in E?E.v instanceof Promise?E.v:Promise.resolve(E.v):Promise.reject(E.e);P.v!==v&&cancelPromise(P.v,v)}},updateDependencies=(v,S,_)=>{const E=new Map;let P=!1;_.forEach(((_,D)=>{_||D!==v||(_=S),_?(E.set(D,_),S.d.get(D)!==_&&(P=!0)):console.warn("[Bug] atom state not found")})),(P||S.d.size!==E.size)&&(S.d=E)},setAtomValue=(v,S,_)=>{const E=getAtomState(v),P={d:(null==E?void 0:E.d)||new Map,v:S};if(_&&updateDependencies(v,P,_),isEqualAtomValue(E,P)&&E.d===P.d)return E;if(hasPromiseAtomValue(E)&&hasPromiseAtomValue(P)&&(R=P,"v"in(D=E)&&"v"in R&&D.v.orig&&D.v.orig===R.v.orig)){if(E.d===P.d)return E;P.v=E.v}var D,R;return setAtomState(v,P),P},setAtomValueOrPromise=(v,_,E,D)=>{if("function"==typeof(null==(R=_)?void 0:R.then)){let R;const updatePromiseDependencies=()=>{const _=getAtomState(v);if(!hasPromiseAtomValue(_)||_.v!==M)return;const P=setAtomValue(v,M,E);S.has(v)&&_.d!==P.d&&mountDependencies(v,P,_.d)},M=new Promise(((v,S)=>{let E=!1;_.then((S=>{E||(E=!0,resolvePromise(M,S),v(S),updatePromiseDependencies())}),(v=>{E||(E=!0,rejectPromise(M,v),S(v),updatePromiseDependencies())})),R=S=>{E||(E=!0,S.then((v=>resolvePromise(M,v)),(v=>rejectPromise(M,v))),v(S))}}));return M.orig=_,M.status="pending",((v,S)=>{P.set(v,S),v.catch((()=>{})).finally((()=>P.delete(v)))})(M,(v=>{v&&R(v),null==D||D()})),setAtomValue(v,M,E)}var R;return setAtomValue(v,_,E)},readAtomState=(v,_)=>{const E=getAtomState(v);if(!_&&E){if(S.has(v))return E;if(Array.from(E.d).every((([S,_])=>{if(S===v)return!0;const E=readAtomState(S);return E===_||isEqualAtomValue(E,_)})))return E}const P=new Map;let D=!0;const getter=S=>{if(S===v){const v=getAtomState(S);if(v)return P.set(S,v),returnAtomValue(v);if(hasInitialValue(S))return P.set(S,void 0),S.init;throw new Error("no atom init")}const _=readAtomState(S);return P.set(S,_),returnAtomValue(_)};let R,M;const O={get signal(){return R||(R=new AbortController),R.signal},get setSelf(){return isActuallyWritableAtom(v)||console.warn("setSelf function cannot be used with read-only atom"),!M&&isActuallyWritableAtom(v)&&(M=(...S)=>{if(D&&console.warn("setSelf function cannot be called in sync"),!D)return writeAtom(v,...S)}),M}};try{const S=v.read(getter,O);return setAtomValueOrPromise(v,S,P,(()=>null==R?void 0:R.abort()))}catch(S){return((v,S,_)=>{const E=getAtomState(v),P={d:(null==E?void 0:E.d)||new Map,e:S};return _&&updateDependencies(v,P,_),isEqualAtomError(E,P)&&E.d===P.d?E:(setAtomState(v,P),P)})(v,S,P)}finally{D=!1}},readAtom=v=>returnAtomValue(readAtomState(v)),canUnmountAtom=(v,S)=>!S.l.size&&(!S.t.size||1===S.t.size&&S.t.has(v)),recomputeDependents=v=>{const E=new Map,P=new WeakMap,getDependents=v=>{var E;const P=new Set(null==(E=S.get(v))?void 0:E.t);return _.forEach(((S,_)=>{var E;(null==(E=getAtomState(_))?void 0:E.d.has(v))&&P.add(_)})),P},loop1=v=>{getDependents(v).forEach((S=>{S!==v&&(E.set(S,(E.get(S)||new Set).add(v)),P.set(S,(P.get(S)||0)+1),loop1(S))}))};loop1(v);const loop2=v=>{getDependents(v).forEach((S=>{var _;if(S!==v){let v=P.get(S);if(v&&P.set(S,--v),!v){let v=!!(null==(_=E.get(S))?void 0:_.size);if(v){const _=getAtomState(S),E=readAtomState(S,!0);v=!isEqualAtomValue(_,E)}v||E.forEach((v=>v.delete(S)))}loop2(S)}}))};loop2(v)},writeAtomState=(v,...S)=>{let _=!0;const P=v.write((v=>returnAtomValue(readAtomState(v))),((S,...P)=>{let D;if(S===v){if(!hasInitialValue(S))throw new Error("atom not writable");const v=getAtomState(S),_=setAtomValueOrPromise(S,P[0]);isEqualAtomValue(v,_)||recomputeDependents(S)}else D=writeAtomState(S,...P);if(!_){const v=flushPending();E.forEach((S=>S({type:"async-write",flushed:v})))}return D}),...S);return _=!1,P},writeAtom=(v,...S)=>{const _=writeAtomState(v,...S),P=flushPending();return E.forEach((v=>v({type:"write",flushed:P}))),_},mountAtom=(v,_,E)=>{var P;const R=E||[];null==(P=getAtomState(v))||P.d.forEach(((_,E)=>{const P=S.get(E);P?P.t.add(v):E!==v&&mountAtom(E,v,R)})),readAtomState(v);const M={t:new Set(_&&[_]),l:new Set};if(S.set(v,M),D.add(v),isActuallyWritableAtom(v)&&v.onMount){const{onMount:S}=v;R.push((()=>{const _=S(((...S)=>writeAtom(v,...S)));_&&(M.u=_)}))}return E||R.forEach((v=>v())),M},unmountAtom=v=>{var _;const E=null==(_=S.get(v))?void 0:_.u;E&&E(),S.delete(v),D.delete(v);const P=getAtomState(v);P?(hasPromiseAtomValue(P)&&cancelPromise(P.v),P.d.forEach(((_,E)=>{if(E!==v){const _=S.get(E);_&&(_.t.delete(v),canUnmountAtom(E,_)&&unmountAtom(E))}}))):console.warn("[Bug] could not find atom state to unmount",v)},mountDependencies=(v,_,E)=>{const P=new Set(_.d.keys());null==E||E.forEach(((_,E)=>{if(P.has(E))return void P.delete(E);const D=S.get(E);D&&(D.t.delete(v),canUnmountAtom(E,D)&&unmountAtom(E))})),P.forEach((_=>{const E=S.get(_);E?E.t.add(v):S.has(v)&&mountAtom(_,v)}))},flushPending=()=>{let v;for(v=new Set;_.size;){const E=Array.from(_);_.clear(),E.forEach((([_,E])=>{const P=getAtomState(_);if(P){const D=S.get(_);D&&P.d!==(null==E?void 0:E.d)&&mountDependencies(_,P,null==E?void 0:E.d),D&&(hasPromiseAtomValue(E)||!isEqualAtomValue(E,P)&&!isEqualAtomError(E,P))&&(D.l.forEach((v=>v())),v.add(_))}else console.warn("[Bug] no atom state to flush")}))}return v},subscribeAtom=(v,_)=>{const P=(v=>{let _=S.get(v);return _||(_=mountAtom(v)),_})(v),D=flushPending(),R=P.l;return R.add(_),E.forEach((v=>v({type:"sub",flushed:D}))),()=>{R.delete(_),(v=>{const _=S.get(v);_&&canUnmountAtom(v,_)&&unmountAtom(v)})(v),E.forEach((v=>v({type:"unsub"})))}};return{get:readAtom,set:writeAtom,sub:subscribeAtom,dev_subscribe_store:(v,S)=>{if(2!==S)throw new Error("The current StoreListener revision is 2.");return E.add(v),()=>{E.delete(v)}},dev_get_mounted_atoms:()=>D.values(),dev_get_atom_state:S=>v.get(S),dev_get_mounted:v=>S.get(v),dev_restore_atoms:v=>{for(const[S,_]of v)hasInitialValue(S)&&(setAtomValueOrPromise(S,_),recomputeDependents(S));const S=flushPending();E.forEach((v=>v({type:"restore",flushed:S})))}}};let D;"number"==typeof globalThis.__NUMBER_OF_JOTAI_INSTANCES__?++globalThis.__NUMBER_OF_JOTAI_INSTANCES__:globalThis.__NUMBER_OF_JOTAI_INSTANCES__=1;const getDefaultStore=()=>(D||(1!==globalThis.__NUMBER_OF_JOTAI_INSTANCES__&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"),D=createStore()),D)},496895:(v,S,_)=>{"use strict";_.d(S,{Ut:()=>E});const E=Symbol();(function createJSONStorage(v){let S,_;const E={getItem:(E,P)=>{var D,R;const parse=v=>{if(S!==(v=v||"")){try{_=JSON.parse(v)}catch{return P}S=v}return _},M=null!=(R=null==(D=v())?void 0:D.getItem(E))?R:null;return"function"==typeof(null==(O=M)?void 0:O.then)?M.then(parse):parse(M);var O},setItem:(S,_)=>{var E;return null==(E=v())?void 0:E.setItem(S,JSON.stringify(_))},removeItem:S=>{var _;return null==(_=v())?void 0:_.removeItem(S)}};return"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&(E.subscribe=(S,_,E)=>{if(!(v()instanceof window.Storage))return()=>{};const storageEventCallback=P=>{if(P.storageArea===v()&&P.key===S){let v;try{v=JSON.parse(P.newValue||"")}catch{v=E}_(v)}};return window.addEventListener("storage",storageEventCallback),()=>{window.removeEventListener("storage",storageEventCallback)}}),E})((()=>"undefined"!=typeof window?window.localStorage:void 0))},812695:(v,S,_)=>{"use strict";_.d(S,{o4:()=>rt});var E=_(901048).Buffer;const P="3.7.5",D=P,R="function"==typeof atob,M="function"==typeof btoa,O="function"==typeof E,F="function"==typeof TextDecoder?new TextDecoder:void 0,N="function"==typeof TextEncoder?new TextEncoder:void 0,L=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),U=(v=>{let S={};return v.forEach(((v,_)=>S[v]=_)),S})(L),V=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,G=String.fromCharCode.bind(String),W="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):v=>new Uint8Array(Array.prototype.slice.call(v,0)),_mkUriSafe=v=>v.replace(/=/g,"").replace(/[+\/]/g,(v=>"+"==v?"-":"_")),_tidyB64=v=>v.replace(/[^A-Za-z0-9\+\/]/g,""),btoaPolyfill=v=>{let S,_,E,P,D="";const R=v.length%3;for(let R=0;R<v.length;){if((_=v.charCodeAt(R++))>255||(E=v.charCodeAt(R++))>255||(P=v.charCodeAt(R++))>255)throw new TypeError("invalid character found");S=_<<16|E<<8|P,D+=L[S>>18&63]+L[S>>12&63]+L[S>>6&63]+L[63&S]}return R?D.slice(0,R-3)+"===".substring(R):D},$=M?v=>btoa(v):O?v=>E.from(v,"binary").toString("base64"):btoaPolyfill,X=O?v=>E.from(v).toString("base64"):v=>{let S=[];for(let _=0,E=v.length;_<E;_+=4096)S.push(G.apply(null,v.subarray(_,_+4096)));return $(S.join(""))},fromUint8Array=(v,S=!1)=>S?_mkUriSafe(X(v)):X(v),cb_utob=v=>{if(v.length<2)return(S=v.charCodeAt(0))<128?v:S<2048?G(192|S>>>6)+G(128|63&S):G(224|S>>>12&15)+G(128|S>>>6&63)+G(128|63&S);var S=65536+1024*(v.charCodeAt(0)-55296)+(v.charCodeAt(1)-56320);return G(240|S>>>18&7)+G(128|S>>>12&63)+G(128|S>>>6&63)+G(128|63&S)},Y=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=v=>v.replace(Y,cb_utob),J=O?v=>E.from(v,"utf8").toString("base64"):N?v=>X(N.encode(v)):v=>$(utob(v)),encode=(v,S=!1)=>S?_mkUriSafe(J(v)):J(v),encodeURI=v=>encode(v,!0),Z=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=v=>{switch(v.length){case 4:var S=((7&v.charCodeAt(0))<<18|(63&v.charCodeAt(1))<<12|(63&v.charCodeAt(2))<<6|63&v.charCodeAt(3))-65536;return G(55296+(S>>>10))+G(56320+(1023&S));case 3:return G((15&v.charCodeAt(0))<<12|(63&v.charCodeAt(1))<<6|63&v.charCodeAt(2));default:return G((31&v.charCodeAt(0))<<6|63&v.charCodeAt(1))}},btou=v=>v.replace(Z,cb_btou),atobPolyfill=v=>{if(v=v.replace(/\s+/g,""),!V.test(v))throw new TypeError("malformed base64.");v+="==".slice(2-(3&v.length));let S,_,E,P="";for(let D=0;D<v.length;)S=U[v.charAt(D++)]<<18|U[v.charAt(D++)]<<12|(_=U[v.charAt(D++)])<<6|(E=U[v.charAt(D++)]),P+=64===_?G(S>>16&255):64===E?G(S>>16&255,S>>8&255):G(S>>16&255,S>>8&255,255&S);return P},Q=R?v=>atob(_tidyB64(v)):O?v=>E.from(v,"base64").toString("binary"):atobPolyfill,tt=O?v=>W(E.from(v,"base64")):v=>W(Q(v).split("").map((v=>v.charCodeAt(0)))),toUint8Array=v=>tt(_unURI(v)),et=O?v=>E.from(v,"base64").toString("utf8"):F?v=>F.decode(tt(v)):v=>btou(Q(v)),_unURI=v=>_tidyB64(v.replace(/[-_]/g,(v=>"-"==v?"+":"/"))),decode=v=>et(_unURI(v)),_noEnum=v=>({value:v,enumerable:!1,writable:!0,configurable:!0}),extendString=function(){const _add=(v,S)=>Object.defineProperty(String.prototype,v,_noEnum(S));_add("fromBase64",(function(){return decode(this)})),_add("toBase64",(function(v){return encode(this,v)})),_add("toBase64URI",(function(){return encode(this,!0)})),_add("toBase64URL",(function(){return encode(this,!0)})),_add("toUint8Array",(function(){return toUint8Array(this)}))},extendUint8Array=function(){const _add=(v,S)=>Object.defineProperty(Uint8Array.prototype,v,_noEnum(S));_add("toBase64",(function(v){return fromUint8Array(this,v)})),_add("toBase64URI",(function(){return fromUint8Array(this,!0)})),_add("toBase64URL",(function(){return fromUint8Array(this,!0)}))},rt={version:P,VERSION:D,atob:Q,atobPolyfill,btoa:$,btoaPolyfill,fromBase64:decode,toBase64:encode,encode,encodeURI,encodeURL:encodeURI,utob,btou,decode,isValid:v=>{if("string"!=typeof v)return!1;const S=v.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(S)||!/[^\s0-9a-zA-Z\-_]/.test(S)},fromUint8Array,toUint8Array,extendString,extendUint8Array,extendBuiltins:()=>{extendString(),extendUint8Array()}}},180235:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(v){return"[object Array]"===Object.prototype.toString.call(v)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(v){return"object"==typeof v&&v.buffer&&v.buffer.constructor===ArrayBuffer});var createOutputMethod=function(v,S){return function(_){return new Sha256(S,!0).update(_)[v]()}},createMethod=function(v){var S=createOutputMethod("hex",v);NODE_JS&&(S=nodeWrap(S,v)),S.create=function(){return new Sha256(v)},S.update=function(v){return S.create().update(v)};for(var _=0;_<OUTPUT_TYPES.length;++_){var E=OUTPUT_TYPES[_];S[E]=createOutputMethod(E,v)}return S},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(v){if("string"==typeof v)return crypto.createHash(algorithm).update(v,"utf8").digest("hex");if(null==v)throw new Error(ERROR);return v.constructor===ArrayBuffer&&(v=new Uint8Array(v)),Array.isArray(v)||ArrayBuffer.isView(v)||v.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(v)).digest("hex"):method(v)};return nodeMethod},createHmacOutputMethod=function(v,S){return function(_,E){return new HmacSha256(_,S,!0).update(E)[v]()}},createHmacMethod=function(v){var S=createHmacOutputMethod("hex",v);S.create=function(S){return new HmacSha256(S,v)},S.update=function(v,_){return S.create(v).update(_)};for(var _=0;_<OUTPUT_TYPES.length;++_){var E=OUTPUT_TYPES[_];S[E]=createHmacOutputMethod(E,v)}return S};function Sha256(v,S){S?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=v}function HmacSha256(v,S,_){var E,P=typeof v;if("string"===P){var D,R=[],M=v.length,O=0;for(E=0;E<M;++E)(D=v.charCodeAt(E))<128?R[O++]=D:D<2048?(R[O++]=192|D>>6,R[O++]=128|63&D):D<55296||D>=57344?(R[O++]=224|D>>12,R[O++]=128|D>>6&63,R[O++]=128|63&D):(D=65536+((1023&D)<<10|1023&v.charCodeAt(++E)),R[O++]=240|D>>18,R[O++]=128|D>>12&63,R[O++]=128|D>>6&63,R[O++]=128|63&D);v=R}else{if("object"!==P)throw new Error(ERROR);if(null===v)throw new Error(ERROR);if(ARRAY_BUFFER&&v.constructor===ArrayBuffer)v=new Uint8Array(v);else if(!(Array.isArray(v)||ARRAY_BUFFER&&ArrayBuffer.isView(v)))throw new Error(ERROR)}v.length>64&&(v=new Sha256(S,!0).update(v).array());var F=[],N=[];for(E=0;E<64;++E){var L=v[E]||0;F[E]=92^L,N[E]=54^L}Sha256.call(this,S,_),this.update(N),this.oKeyPad=F,this.inner=!0,this.sharedMemory=_}Sha256.prototype.update=function(v){if(!this.finalized){var S,_=typeof v;if("string"!==_){if("object"!==_)throw new Error(ERROR);if(null===v)throw new Error(ERROR);if(ARRAY_BUFFER&&v.constructor===ArrayBuffer)v=new Uint8Array(v);else if(!(Array.isArray(v)||ARRAY_BUFFER&&ArrayBuffer.isView(v)))throw new Error(ERROR);S=!0}for(var E,P,D=0,R=v.length,M=this.blocks;D<R;){if(this.hashed&&(this.hashed=!1,M[0]=this.block,M[16]=M[1]=M[2]=M[3]=M[4]=M[5]=M[6]=M[7]=M[8]=M[9]=M[10]=M[11]=M[12]=M[13]=M[14]=M[15]=0),S)for(P=this.start;D<R&&P<64;++D)M[P>>2]|=v[D]<<SHIFT[3&P++];else for(P=this.start;D<R&&P<64;++D)(E=v.charCodeAt(D))<128?M[P>>2]|=E<<SHIFT[3&P++]:E<2048?(M[P>>2]|=(192|E>>6)<<SHIFT[3&P++],M[P>>2]|=(128|63&E)<<SHIFT[3&P++]):E<55296||E>=57344?(M[P>>2]|=(224|E>>12)<<SHIFT[3&P++],M[P>>2]|=(128|E>>6&63)<<SHIFT[3&P++],M[P>>2]|=(128|63&E)<<SHIFT[3&P++]):(E=65536+((1023&E)<<10|1023&v.charCodeAt(++D)),M[P>>2]|=(240|E>>18)<<SHIFT[3&P++],M[P>>2]|=(128|E>>12&63)<<SHIFT[3&P++],M[P>>2]|=(128|E>>6&63)<<SHIFT[3&P++],M[P>>2]|=(128|63&E)<<SHIFT[3&P++]);this.lastByteIndex=P,this.bytes+=P-this.start,P>=64?(this.block=M[16],this.start=P-64,this.hash(),this.hashed=!0):this.start=P}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var v=this.blocks,S=this.lastByteIndex;v[16]=this.block,v[S>>2]|=EXTRA[3&S],this.block=v[16],S>=56&&(this.hashed||this.hash(),v[0]=this.block,v[16]=v[1]=v[2]=v[3]=v[4]=v[5]=v[6]=v[7]=v[8]=v[9]=v[10]=v[11]=v[12]=v[13]=v[14]=v[15]=0),v[14]=this.hBytes<<3|this.bytes>>>29,v[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var v,S,_,E,P,D,R,M,O,F=this.h0,N=this.h1,L=this.h2,U=this.h3,V=this.h4,G=this.h5,W=this.h6,$=this.h7,X=this.blocks;for(v=16;v<64;++v)S=((P=X[v-15])>>>7|P<<25)^(P>>>18|P<<14)^P>>>3,_=((P=X[v-2])>>>17|P<<15)^(P>>>19|P<<13)^P>>>10,X[v]=X[v-16]+S+X[v-7]+_|0;for(O=N&L,v=0;v<64;v+=4)this.first?(this.is224?(D=300032,$=(P=X[0]-1413257819)-150054599|0,U=P+24177077|0):(D=704751109,$=(P=X[0]-210244248)-1521486534|0,U=P+143694565|0),this.first=!1):(S=(F>>>2|F<<30)^(F>>>13|F<<19)^(F>>>22|F<<10),E=(D=F&N)^F&L^O,$=U+(P=$+(_=(V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7))+(V&G^~V&W)+K[v]+X[v])|0,U=P+(S+E)|0),S=(U>>>2|U<<30)^(U>>>13|U<<19)^(U>>>22|U<<10),E=(R=U&F)^U&N^D,W=L+(P=W+(_=($>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7))+($&V^~$&G)+K[v+1]+X[v+1])|0,S=((L=P+(S+E)|0)>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10),E=(M=L&U)^L&F^R,G=N+(P=G+(_=(W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))+(W&$^~W&V)+K[v+2]+X[v+2])|0,S=((N=P+(S+E)|0)>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10),E=(O=N&L)^N&U^M,V=F+(P=V+(_=(G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))+(G&W^~G&$)+K[v+3]+X[v+3])|0,F=P+(S+E)|0;this.h0=this.h0+F|0,this.h1=this.h1+N|0,this.h2=this.h2+L|0,this.h3=this.h3+U|0,this.h4=this.h4+V|0,this.h5=this.h5+G|0,this.h6=this.h6+W|0,this.h7=this.h7+$|0},Sha256.prototype.hex=function(){this.finalize();var v=this.h0,S=this.h1,_=this.h2,E=this.h3,P=this.h4,D=this.h5,R=this.h6,M=this.h7,O=HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[15&v]+HEX_CHARS[S>>28&15]+HEX_CHARS[S>>24&15]+HEX_CHARS[S>>20&15]+HEX_CHARS[S>>16&15]+HEX_CHARS[S>>12&15]+HEX_CHARS[S>>8&15]+HEX_CHARS[S>>4&15]+HEX_CHARS[15&S]+HEX_CHARS[_>>28&15]+HEX_CHARS[_>>24&15]+HEX_CHARS[_>>20&15]+HEX_CHARS[_>>16&15]+HEX_CHARS[_>>12&15]+HEX_CHARS[_>>8&15]+HEX_CHARS[_>>4&15]+HEX_CHARS[15&_]+HEX_CHARS[E>>28&15]+HEX_CHARS[E>>24&15]+HEX_CHARS[E>>20&15]+HEX_CHARS[E>>16&15]+HEX_CHARS[E>>12&15]+HEX_CHARS[E>>8&15]+HEX_CHARS[E>>4&15]+HEX_CHARS[15&E]+HEX_CHARS[P>>28&15]+HEX_CHARS[P>>24&15]+HEX_CHARS[P>>20&15]+HEX_CHARS[P>>16&15]+HEX_CHARS[P>>12&15]+HEX_CHARS[P>>8&15]+HEX_CHARS[P>>4&15]+HEX_CHARS[15&P]+HEX_CHARS[D>>28&15]+HEX_CHARS[D>>24&15]+HEX_CHARS[D>>20&15]+HEX_CHARS[D>>16&15]+HEX_CHARS[D>>12&15]+HEX_CHARS[D>>8&15]+HEX_CHARS[D>>4&15]+HEX_CHARS[15&D]+HEX_CHARS[R>>28&15]+HEX_CHARS[R>>24&15]+HEX_CHARS[R>>20&15]+HEX_CHARS[R>>16&15]+HEX_CHARS[R>>12&15]+HEX_CHARS[R>>8&15]+HEX_CHARS[R>>4&15]+HEX_CHARS[15&R];return this.is224||(O+=HEX_CHARS[M>>28&15]+HEX_CHARS[M>>24&15]+HEX_CHARS[M>>20&15]+HEX_CHARS[M>>16&15]+HEX_CHARS[M>>12&15]+HEX_CHARS[M>>8&15]+HEX_CHARS[M>>4&15]+HEX_CHARS[15&M]),O},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var v=this.h0,S=this.h1,_=this.h2,E=this.h3,P=this.h4,D=this.h5,R=this.h6,M=this.h7,O=[v>>24&255,v>>16&255,v>>8&255,255&v,S>>24&255,S>>16&255,S>>8&255,255&S,_>>24&255,_>>16&255,_>>8&255,255&_,E>>24&255,E>>16&255,E>>8&255,255&E,P>>24&255,P>>16&255,P>>8&255,255&P,D>>24&255,D>>16&255,D>>8&255,255&D,R>>24&255,R>>16&255,R>>8&255,255&R];return this.is224||O.push(M>>24&255,M>>16&255,M>>8&255,255&M),O},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var v=new ArrayBuffer(this.is224?28:32),S=new DataView(v);return S.setUint32(0,this.h0),S.setUint32(4,this.h1),S.setUint32(8,this.h2),S.setUint32(12,this.h3),S.setUint32(16,this.h4),S.setUint32(20,this.h5),S.setUint32(24,this.h6),this.is224||S.setUint32(28,this.h7),v},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var v=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(v),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},930671:(v,S,_)=>{var E;!function(){"use strict";var P="input is invalid type",D="object"==typeof window,R=D?window:{};R.JS_SHA3_NO_WINDOW&&(D=!1);var M=!D&&"object"==typeof self;!R.JS_SHA3_NO_NODE_JS&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions.node?R=_.g:M&&(R=self);var O=!R.JS_SHA3_NO_COMMON_JS&&v.exports,F=_.amdO,N=!R.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,L="0123456789abcdef".split(""),U=[4,1024,262144,67108864],V=[0,8,16,24],G=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],W=[224,256,384,512],$=[128,256],X=["hex","buffer","arrayBuffer","array","digest"],Y={128:168,256:136};!R.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(v){return"[object Array]"===Object.prototype.toString.call(v)}),!N||!R.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(v){return"object"==typeof v&&v.buffer&&v.buffer.constructor===ArrayBuffer});for(var createOutputMethod=function(v,S,_){return function(E){return new Keccak(v,S,v).update(E)[_]()}},createShakeOutputMethod=function(v,S,_){return function(E,P){return new Keccak(v,S,P).update(E)[_]()}},createCshakeOutputMethod=function(v,S,_){return function(S,E,P,D){return Z["cshake"+v].update(S,E,P,D)[_]()}},createKmacOutputMethod=function(v,S,_){return function(S,E,P,D){return Z["kmac"+v].update(S,E,P,D)[_]()}},createOutputMethods=function(v,S,_,E){for(var P=0;P<X.length;++P){var D=X[P];v[D]=S(_,E,D)}return v},createMethod=function(v,S){var _=createOutputMethod(v,S,"hex");return _.create=function(){return new Keccak(v,S,v)},_.update=function(v){return _.create().update(v)},createOutputMethods(_,createOutputMethod,v,S)},J=[{name:"keccak",padding:[1,256,65536,16777216],bits:W,createMethod},{name:"sha3",padding:[6,1536,393216,100663296],bits:W,createMethod},{name:"shake",padding:[31,7936,2031616,520093696],bits:$,createMethod:function(v,S){var _=createShakeOutputMethod(v,S,"hex");return _.create=function(_){return new Keccak(v,S,_)},_.update=function(v,S){return _.create(S).update(v)},createOutputMethods(_,createShakeOutputMethod,v,S)}},{name:"cshake",padding:U,bits:$,createMethod:function(v,S){var _=Y[v],E=createCshakeOutputMethod(v,0,"hex");return E.create=function(E,P,D){return P||D?new Keccak(v,S,E).bytepad([P,D],_):Z["shake"+v].create(E)},E.update=function(v,S,_,P){return E.create(S,_,P).update(v)},createOutputMethods(E,createCshakeOutputMethod,v,S)}},{name:"kmac",padding:U,bits:$,createMethod:function(v,S){var _=Y[v],E=createKmacOutputMethod(v,0,"hex");return E.create=function(E,P,D){return new Kmac(v,S,P).bytepad(["KMAC",D],_).bytepad([E],_)},E.update=function(v,S,_,P){return E.create(v,_,P).update(S)},createOutputMethods(E,createKmacOutputMethod,v,S)}}],Z={},Q=[],tt=0;tt<J.length;++tt)for(var et=J[tt],rt=et.bits,nt=0;nt<rt.length;++nt){var it=et.name+"_"+rt[nt];if(Q.push(it),Z[it]=et.createMethod(rt[nt],et.padding),"sha3"!==et.name){var st=et.name+rt[nt];Q.push(st),Z[st]=Z[it]}}function Keccak(v,S,_){this.blocks=[],this.s=[],this.padding=S,this.outputBits=_,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(v<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=_>>5,this.extraBytes=(31&_)>>3;for(var E=0;E<50;++E)this.s[E]=0}function Kmac(v,S,_){Keccak.call(this,v,S,_)}Keccak.prototype.update=function(v){if(this.finalized)throw new Error("finalize already called");var S,_=typeof v;if("string"!==_){if("object"!==_)throw new Error(P);if(null===v)throw new Error(P);if(N&&v.constructor===ArrayBuffer)v=new Uint8Array(v);else if(!(Array.isArray(v)||N&&ArrayBuffer.isView(v)))throw new Error(P);S=!0}for(var E,D,R=this.blocks,M=this.byteCount,O=v.length,F=this.blockCount,L=0,U=this.s;L<O;){if(this.reset)for(this.reset=!1,R[0]=this.block,E=1;E<F+1;++E)R[E]=0;if(S)for(E=this.start;L<O&&E<M;++L)R[E>>2]|=v[L]<<V[3&E++];else for(E=this.start;L<O&&E<M;++L)(D=v.charCodeAt(L))<128?R[E>>2]|=D<<V[3&E++]:D<2048?(R[E>>2]|=(192|D>>6)<<V[3&E++],R[E>>2]|=(128|63&D)<<V[3&E++]):D<55296||D>=57344?(R[E>>2]|=(224|D>>12)<<V[3&E++],R[E>>2]|=(128|D>>6&63)<<V[3&E++],R[E>>2]|=(128|63&D)<<V[3&E++]):(D=65536+((1023&D)<<10|1023&v.charCodeAt(++L)),R[E>>2]|=(240|D>>18)<<V[3&E++],R[E>>2]|=(128|D>>12&63)<<V[3&E++],R[E>>2]|=(128|D>>6&63)<<V[3&E++],R[E>>2]|=(128|63&D)<<V[3&E++]);if(this.lastByteIndex=E,E>=M){for(this.start=E-M,this.block=R[F],E=0;E<F;++E)U[E]^=R[E];f(U),this.reset=!0}else this.start=E}return this},Keccak.prototype.encode=function(v,S){var _=255&v,E=1,P=[_];for(_=255&(v>>=8);_>0;)P.unshift(_),_=255&(v>>=8),++E;return S?P.push(E):P.unshift(E),this.update(P),P.length},Keccak.prototype.encodeString=function(v){var S,_=typeof v;if("string"!==_){if("object"!==_)throw new Error(P);if(null===v)throw new Error(P);if(N&&v.constructor===ArrayBuffer)v=new Uint8Array(v);else if(!(Array.isArray(v)||N&&ArrayBuffer.isView(v)))throw new Error(P);S=!0}var E=0,D=v.length;if(S)E=D;else for(var R=0;R<v.length;++R){var M=v.charCodeAt(R);M<128?E+=1:M<2048?E+=2:M<55296||M>=57344?E+=3:(M=65536+((1023&M)<<10|1023&v.charCodeAt(++R)),E+=4)}return E+=this.encode(8*E),this.update(v),E},Keccak.prototype.bytepad=function(v,S){for(var _=this.encode(S),E=0;E<v.length;++E)_+=this.encodeString(v[E]);var P=S-_%S,D=[];return D.length=P,this.update(D),this},Keccak.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var v=this.blocks,S=this.lastByteIndex,_=this.blockCount,E=this.s;if(v[S>>2]|=this.padding[3&S],this.lastByteIndex===this.byteCount)for(v[0]=v[_],S=1;S<_+1;++S)v[S]=0;for(v[_-1]|=2147483648,S=0;S<_;++S)E[S]^=v[S];f(E)}},Keccak.prototype.toString=Keccak.prototype.hex=function(){this.finalize();for(var v,S=this.blockCount,_=this.s,E=this.outputBlocks,P=this.extraBytes,D=0,R=0,M="";R<E;){for(D=0;D<S&&R<E;++D,++R)v=_[D],M+=L[v>>4&15]+L[15&v]+L[v>>12&15]+L[v>>8&15]+L[v>>20&15]+L[v>>16&15]+L[v>>28&15]+L[v>>24&15];R%S==0&&(f(_),D=0)}return P&&(v=_[D],M+=L[v>>4&15]+L[15&v],P>1&&(M+=L[v>>12&15]+L[v>>8&15]),P>2&&(M+=L[v>>20&15]+L[v>>16&15])),M},Keccak.prototype.arrayBuffer=function(){this.finalize();var v,S=this.blockCount,_=this.s,E=this.outputBlocks,P=this.extraBytes,D=0,R=0,M=this.outputBits>>3;v=P?new ArrayBuffer(E+1<<2):new ArrayBuffer(M);for(var O=new Uint32Array(v);R<E;){for(D=0;D<S&&R<E;++D,++R)O[R]=_[D];R%S==0&&f(_)}return P&&(O[D]=_[D],v=v.slice(0,M)),v},Keccak.prototype.buffer=Keccak.prototype.arrayBuffer,Keccak.prototype.digest=Keccak.prototype.array=function(){this.finalize();for(var v,S,_=this.blockCount,E=this.s,P=this.outputBlocks,D=this.extraBytes,R=0,M=0,O=[];M<P;){for(R=0;R<_&&M<P;++R,++M)v=M<<2,S=E[R],O[v]=255&S,O[v+1]=S>>8&255,O[v+2]=S>>16&255,O[v+3]=S>>24&255;M%_==0&&f(E)}return D&&(v=M<<2,S=E[R],O[v]=255&S,D>1&&(O[v+1]=S>>8&255),D>2&&(O[v+2]=S>>16&255)),O},Kmac.prototype=new Keccak,Kmac.prototype.finalize=function(){return this.encode(this.outputBits,!0),Keccak.prototype.finalize.call(this)};var f=function(v){var S,_,E,P,D,R,M,O,F,N,L,U,V,W,$,X,Y,J,Z,Q,tt,et,rt,nt,it,st,ot,at,ct,ut,ht,dt,ft,pt,mt,yt,vt,bt,St,wt,Tt,xt,_t,Et,Ct,At,It,Pt,Dt,Bt,Rt,Mt,Ot,kt,Ft,Nt,Ht,Lt,jt,Kt,Ut,Vt,qt;for(E=0;E<48;E+=2)P=v[0]^v[10]^v[20]^v[30]^v[40],D=v[1]^v[11]^v[21]^v[31]^v[41],R=v[2]^v[12]^v[22]^v[32]^v[42],M=v[3]^v[13]^v[23]^v[33]^v[43],O=v[4]^v[14]^v[24]^v[34]^v[44],F=v[5]^v[15]^v[25]^v[35]^v[45],N=v[6]^v[16]^v[26]^v[36]^v[46],L=v[7]^v[17]^v[27]^v[37]^v[47],S=(U=v[8]^v[18]^v[28]^v[38]^v[48])^(R<<1|M>>>31),_=(V=v[9]^v[19]^v[29]^v[39]^v[49])^(M<<1|R>>>31),v[0]^=S,v[1]^=_,v[10]^=S,v[11]^=_,v[20]^=S,v[21]^=_,v[30]^=S,v[31]^=_,v[40]^=S,v[41]^=_,S=P^(O<<1|F>>>31),_=D^(F<<1|O>>>31),v[2]^=S,v[3]^=_,v[12]^=S,v[13]^=_,v[22]^=S,v[23]^=_,v[32]^=S,v[33]^=_,v[42]^=S,v[43]^=_,S=R^(N<<1|L>>>31),_=M^(L<<1|N>>>31),v[4]^=S,v[5]^=_,v[14]^=S,v[15]^=_,v[24]^=S,v[25]^=_,v[34]^=S,v[35]^=_,v[44]^=S,v[45]^=_,S=O^(U<<1|V>>>31),_=F^(V<<1|U>>>31),v[6]^=S,v[7]^=_,v[16]^=S,v[17]^=_,v[26]^=S,v[27]^=_,v[36]^=S,v[37]^=_,v[46]^=S,v[47]^=_,S=N^(P<<1|D>>>31),_=L^(D<<1|P>>>31),v[8]^=S,v[9]^=_,v[18]^=S,v[19]^=_,v[28]^=S,v[29]^=_,v[38]^=S,v[39]^=_,v[48]^=S,v[49]^=_,W=v[0],$=v[1],At=v[11]<<4|v[10]>>>28,It=v[10]<<4|v[11]>>>28,at=v[20]<<3|v[21]>>>29,ct=v[21]<<3|v[20]>>>29,Kt=v[31]<<9|v[30]>>>23,Ut=v[30]<<9|v[31]>>>23,xt=v[40]<<18|v[41]>>>14,_t=v[41]<<18|v[40]>>>14,pt=v[2]<<1|v[3]>>>31,mt=v[3]<<1|v[2]>>>31,X=v[13]<<12|v[12]>>>20,Y=v[12]<<12|v[13]>>>20,Pt=v[22]<<10|v[23]>>>22,Dt=v[23]<<10|v[22]>>>22,ut=v[33]<<13|v[32]>>>19,ht=v[32]<<13|v[33]>>>19,Vt=v[42]<<2|v[43]>>>30,qt=v[43]<<2|v[42]>>>30,kt=v[5]<<30|v[4]>>>2,Ft=v[4]<<30|v[5]>>>2,yt=v[14]<<6|v[15]>>>26,vt=v[15]<<6|v[14]>>>26,J=v[25]<<11|v[24]>>>21,Z=v[24]<<11|v[25]>>>21,Bt=v[34]<<15|v[35]>>>17,Rt=v[35]<<15|v[34]>>>17,dt=v[45]<<29|v[44]>>>3,ft=v[44]<<29|v[45]>>>3,nt=v[6]<<28|v[7]>>>4,it=v[7]<<28|v[6]>>>4,Nt=v[17]<<23|v[16]>>>9,Ht=v[16]<<23|v[17]>>>9,bt=v[26]<<25|v[27]>>>7,St=v[27]<<25|v[26]>>>7,Q=v[36]<<21|v[37]>>>11,tt=v[37]<<21|v[36]>>>11,Mt=v[47]<<24|v[46]>>>8,Ot=v[46]<<24|v[47]>>>8,Et=v[8]<<27|v[9]>>>5,Ct=v[9]<<27|v[8]>>>5,st=v[18]<<20|v[19]>>>12,ot=v[19]<<20|v[18]>>>12,Lt=v[29]<<7|v[28]>>>25,jt=v[28]<<7|v[29]>>>25,wt=v[38]<<8|v[39]>>>24,Tt=v[39]<<8|v[38]>>>24,et=v[48]<<14|v[49]>>>18,rt=v[49]<<14|v[48]>>>18,v[0]=W^~X&J,v[1]=$^~Y&Z,v[10]=nt^~st&at,v[11]=it^~ot&ct,v[20]=pt^~yt&bt,v[21]=mt^~vt&St,v[30]=Et^~At&Pt,v[31]=Ct^~It&Dt,v[40]=kt^~Nt&Lt,v[41]=Ft^~Ht&jt,v[2]=X^~J&Q,v[3]=Y^~Z&tt,v[12]=st^~at&ut,v[13]=ot^~ct&ht,v[22]=yt^~bt&wt,v[23]=vt^~St&Tt,v[32]=At^~Pt&Bt,v[33]=It^~Dt&Rt,v[42]=Nt^~Lt&Kt,v[43]=Ht^~jt&Ut,v[4]=J^~Q&et,v[5]=Z^~tt&rt,v[14]=at^~ut&dt,v[15]=ct^~ht&ft,v[24]=bt^~wt&xt,v[25]=St^~Tt&_t,v[34]=Pt^~Bt&Mt,v[35]=Dt^~Rt&Ot,v[44]=Lt^~Kt&Vt,v[45]=jt^~Ut&qt,v[6]=Q^~et&W,v[7]=tt^~rt&$,v[16]=ut^~dt&nt,v[17]=ht^~ft&it,v[26]=wt^~xt&pt,v[27]=Tt^~_t&mt,v[36]=Bt^~Mt&Et,v[37]=Rt^~Ot&Ct,v[46]=Kt^~Vt&kt,v[47]=Ut^~qt&Ft,v[8]=et^~W&X,v[9]=rt^~$&Y,v[18]=dt^~nt&st,v[19]=ft^~it&ot,v[28]=xt^~pt&yt,v[29]=_t^~mt&vt,v[38]=Mt^~Et&At,v[39]=Ot^~Ct&It,v[48]=Vt^~kt&Nt,v[49]=qt^~Ft&Ht,v[0]^=G[E],v[1]^=G[E+1]};if(O)v.exports=Z;else{for(tt=0;tt<Q.length;++tt)R[Q[tt]]=Z[Q[tt]];F&&(void 0===(E=function(){return Z}.call(S,_,S,v))||(v.exports=E))}}()},21328:function(v){v.exports=function(){"use strict";var v=Math.imul,S=Math.clz32,_=Math.abs,E=Math.max,P=Math.floor;class o extends Array{constructor(v,S){if(super(v),this.sign=S,v>o.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(v){var S=Number.isFinite;if("number"==typeof v){if(0===v)return o.__zero();if(o.__isOneDigitInt(v))return 0>v?o.__oneDigit(-v,!0):o.__oneDigit(v,!1);if(!S(v)||P(v)!==v)throw new RangeError("The number "+v+" cannot be converted to BigInt because it is not an integer");return o.__fromDouble(v)}if("string"==typeof v){const S=o.__fromString(v);if(null===S)throw new SyntaxError("Cannot convert "+v+" to a BigInt");return S}if("boolean"==typeof v)return!0===v?o.__oneDigit(1,!1):o.__zero();if("object"==typeof v){if(v.constructor===o)return v;const S=o.__toPrimitive(v);return o.BigInt(S)}throw new TypeError("Cannot convert "+v+" to a BigInt")}toDebugString(){const v=["BigInt["];for(const S of this)v.push((S?(S>>>0).toString(16):S)+", ");return v.push("]"),v.join("")}toString(v=10){if(2>v||36<v)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":v&v-1?o.__toStringGeneric(this,v,!1):o.__toStringBasePowerOfTwo(this,v)}static toNumber(v){const S=v.length;if(0===S)return 0;if(1===S){const S=v.__unsignedDigit(0);return v.sign?-S:S}const _=v.__digit(S-1),E=o.__clz30(_),P=30*S-E;if(1024<P)return v.sign?-1/0:1/0;let D=P-1,R=_,M=S-1;const O=E+3;let F=32===O?0:R<<O;F>>>=12;const N=O-12;let L=12<=O?0:R<<20+O,U=20+O;for(0<N&&0<M&&(M--,R=v.__digit(M),F|=R>>>30-N,L=R<<N+2,U=N+2);0<U&&0<M;)M--,R=v.__digit(M),L|=30<=U?R<<U-30:R>>>30-U,U-=30;const V=o.__decideRounding(v,U,M,R);if((1===V||0===V&&!(1&~L))&&(L=L+1>>>0,0===L&&(F++,0!=F>>>20&&(F=0,D++,1023<D))))return v.sign?-1/0:1/0;const G=v.sign?-2147483648:0;return D=D+1023<<20,o.__kBitConversionInts[1]=G|D|F,o.__kBitConversionInts[0]=L,o.__kBitConversionDouble[0]}static unaryMinus(v){if(0===v.length)return v;const S=v.__copy();return S.sign=!v.sign,S}static bitwiseNot(v){return v.sign?o.__absoluteSubOne(v).__trim():o.__absoluteAddOne(v,!0)}static exponentiate(v,S){if(S.sign)throw new RangeError("Exponent must be positive");if(0===S.length)return o.__oneDigit(1,!1);if(0===v.length)return v;if(1===v.length&&1===v.__digit(0))return!v.sign||1&S.__digit(0)?v:o.unaryMinus(v);if(1<S.length)throw new RangeError("BigInt too big");let _=S.__unsignedDigit(0);if(1===_)return v;if(_>=o.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===v.length&&2===v.__digit(0)){const S=1+(0|_/30),E=v.sign&&!!(1&_),P=new o(S,E);P.__initializeDigits();const D=1<<_%30;return P.__setDigit(S-1,D),P}let E=null,P=v;for(!!(1&_)&&(E=v),_>>=1;0!==_;_>>=1)P=o.multiply(P,P),1&_&&(E=null===E?P:o.multiply(E,P));return E}static multiply(v,S){if(0===v.length)return v;if(0===S.length)return S;let _=v.length+S.length;30<=v.__clzmsd()+S.__clzmsd()&&_--;const E=new o(_,v.sign!==S.sign);E.__initializeDigits();for(let _=0;_<v.length;_++)o.__multiplyAccumulate(S,v.__digit(_),E,_);return E.__trim()}static divide(v,S){if(0===S.length)throw new RangeError("Division by zero");if(0>o.__absoluteCompare(v,S))return o.__zero();const _=v.sign!==S.sign,E=S.__unsignedDigit(0);let P;if(1===S.length&&32767>=E){if(1===E)return _===v.sign?v:o.unaryMinus(v);P=o.__absoluteDivSmall(v,E,null)}else P=o.__absoluteDivLarge(v,S,!0,!1);return P.sign=_,P.__trim()}static remainder(v,S){if(0===S.length)throw new RangeError("Division by zero");if(0>o.__absoluteCompare(v,S))return v;const _=S.__unsignedDigit(0);if(1===S.length&&32767>=_){if(1===_)return o.__zero();const S=o.__absoluteModSmall(v,_);return 0===S?o.__zero():o.__oneDigit(S,v.sign)}const E=o.__absoluteDivLarge(v,S,!1,!0);return E.sign=v.sign,E.__trim()}static add(v,S){const _=v.sign;return _===S.sign?o.__absoluteAdd(v,S,_):0<=o.__absoluteCompare(v,S)?o.__absoluteSub(v,S,_):o.__absoluteSub(S,v,!_)}static subtract(v,S){const _=v.sign;return _===S.sign?0<=o.__absoluteCompare(v,S)?o.__absoluteSub(v,S,_):o.__absoluteSub(S,v,!_):o.__absoluteAdd(v,S,_)}static leftShift(v,S){return 0===S.length||0===v.length?v:S.sign?o.__rightShiftByAbsolute(v,S):o.__leftShiftByAbsolute(v,S)}static signedRightShift(v,S){return 0===S.length||0===v.length?v:S.sign?o.__leftShiftByAbsolute(v,S):o.__rightShiftByAbsolute(v,S)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(v,S){return 0>o.__compareToBigInt(v,S)}static lessThanOrEqual(v,S){return 0>=o.__compareToBigInt(v,S)}static greaterThan(v,S){return 0<o.__compareToBigInt(v,S)}static greaterThanOrEqual(v,S){return 0<=o.__compareToBigInt(v,S)}static equal(v,S){if(v.sign!==S.sign)return!1;if(v.length!==S.length)return!1;for(let _=0;_<v.length;_++)if(v.__digit(_)!==S.__digit(_))return!1;return!0}static notEqual(v,S){return!o.equal(v,S)}static bitwiseAnd(v,S){if(!v.sign&&!S.sign)return o.__absoluteAnd(v,S).__trim();if(v.sign&&S.sign){const _=E(v.length,S.length)+1;let P=o.__absoluteSubOne(v,_);const D=o.__absoluteSubOne(S);return P=o.__absoluteOr(P,D,P),o.__absoluteAddOne(P,!0,P).__trim()}return v.sign&&([v,S]=[S,v]),o.__absoluteAndNot(v,o.__absoluteSubOne(S)).__trim()}static bitwiseXor(v,S){if(!v.sign&&!S.sign)return o.__absoluteXor(v,S).__trim();if(v.sign&&S.sign){const _=E(v.length,S.length),P=o.__absoluteSubOne(v,_),D=o.__absoluteSubOne(S);return o.__absoluteXor(P,D,P).__trim()}const _=E(v.length,S.length)+1;v.sign&&([v,S]=[S,v]);let P=o.__absoluteSubOne(S,_);return P=o.__absoluteXor(P,v,P),o.__absoluteAddOne(P,!0,P).__trim()}static bitwiseOr(v,S){const _=E(v.length,S.length);if(!v.sign&&!S.sign)return o.__absoluteOr(v,S).__trim();if(v.sign&&S.sign){let E=o.__absoluteSubOne(v,_);const P=o.__absoluteSubOne(S);return E=o.__absoluteAnd(E,P,E),o.__absoluteAddOne(E,!0,E).__trim()}v.sign&&([v,S]=[S,v]);let P=o.__absoluteSubOne(S,_);return P=o.__absoluteAndNot(P,v,P),o.__absoluteAddOne(P,!0,P).__trim()}static asIntN(v,S){if(0===S.length)return S;if(0>(v=P(v)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===v)return o.__zero();if(v>=o.__kMaxLengthBits)return S;const _=0|(v+29)/30;if(S.length<_)return S;const E=S.__unsignedDigit(_-1),D=1<<(v-1)%30;if(S.length===_&&E<D)return S;if((E&D)!==D)return o.__truncateToNBits(v,S);if(!S.sign)return o.__truncateAndSubFromPowerOfTwo(v,S,!0);if(!(E&D-1)){for(let E=_-2;0<=E;E--)if(0!==S.__digit(E))return o.__truncateAndSubFromPowerOfTwo(v,S,!1);return S.length===_&&E===D?S:o.__truncateToNBits(v,S)}return o.__truncateAndSubFromPowerOfTwo(v,S,!1)}static asUintN(v,S){if(0===S.length)return S;if(0>(v=P(v)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===v)return o.__zero();if(S.sign){if(v>o.__kMaxLengthBits)throw new RangeError("BigInt too big");return o.__truncateAndSubFromPowerOfTwo(v,S,!1)}if(v>=o.__kMaxLengthBits)return S;const _=0|(v+29)/30;if(S.length<_)return S;const E=v%30;if(S.length==_){if(0===E)return S;if(0==S.__digit(_-1)>>>E)return S}return o.__truncateToNBits(v,S)}static ADD(v,S){if(v=o.__toPrimitive(v),S=o.__toPrimitive(S),"string"==typeof v)return"string"!=typeof S&&(S=S.toString()),v+S;if("string"==typeof S)return v.toString()+S;if(v=o.__toNumeric(v),S=o.__toNumeric(S),o.__isBigInt(v)&&o.__isBigInt(S))return o.add(v,S);if("number"==typeof v&&"number"==typeof S)return v+S;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(v,S){return o.__compare(v,S,0)}static LE(v,S){return o.__compare(v,S,1)}static GT(v,S){return o.__compare(v,S,2)}static GE(v,S){return o.__compare(v,S,3)}static EQ(v,S){for(;;){if(o.__isBigInt(v))return o.__isBigInt(S)?o.equal(v,S):o.EQ(S,v);if("number"==typeof v){if(o.__isBigInt(S))return o.__equalToNumber(S,v);if("object"!=typeof S)return v==S;S=o.__toPrimitive(S)}else if("string"==typeof v){if(o.__isBigInt(S))return null!==(v=o.__fromString(v))&&o.equal(v,S);if("object"!=typeof S)return v==S;S=o.__toPrimitive(S)}else if("boolean"==typeof v){if(o.__isBigInt(S))return o.__equalToNumber(S,+v);if("object"!=typeof S)return v==S;S=o.__toPrimitive(S)}else if("symbol"==typeof v){if(o.__isBigInt(S))return!1;if("object"!=typeof S)return v==S;S=o.__toPrimitive(S)}else{if("object"!=typeof v)return v==S;if("object"==typeof S&&S.constructor!==o)return v==S;v=o.__toPrimitive(v)}}}static NE(v,S){return!o.EQ(v,S)}static __zero(){return new o(0,!1)}static __oneDigit(v,S){const _=new o(1,S);return _.__setDigit(0,v),_}__copy(){const v=new o(this.length,this.sign);for(let S=0;S<this.length;S++)v[S]=this[S];return v}__trim(){let v=this.length,S=this[v-1];for(;0===S;)v--,S=this[v-1],this.pop();return 0===v&&(this.sign=!1),this}__initializeDigits(){for(let v=0;v<this.length;v++)this[v]=0}static __decideRounding(v,S,_,E){if(0<S)return-1;let P;if(0>S)P=-S-1;else{if(0===_)return-1;_--,E=v.__digit(_),P=29}let D=1<<P;if(!(E&D))return-1;if(D-=1,E&D)return 1;for(;0<_;)if(_--,0!==v.__digit(_))return 1;return 0}static __fromDouble(v){o.__kBitConversionDouble[0]=v;const S=(2047&o.__kBitConversionInts[1]>>>20)-1023,_=1+(0|S/30),E=new o(_,0>v);let P=1048575&o.__kBitConversionInts[1]|1048576,D=o.__kBitConversionInts[0];const R=20,M=S%30;let O,F=0;if(20>M){const v=R-M;F=v+32,O=P>>>v,P=P<<32-v|D>>>v,D<<=32-v}else if(20===M)F=32,O=P,P=D,D=0;else{const v=M-R;F=32-v,O=P<<v|D>>>32-v,P=D<<v,D=0}E.__setDigit(_-1,O);for(let v=_-2;0<=v;v--)0<F?(F-=30,O=P>>>2,P=P<<30|D>>>2,D<<=30):O=0,E.__setDigit(v,O);return E.__trim()}static __isWhitespace(v){return!!(13>=v&&9<=v)||(159>=v?32==v:131071>=v?160==v||5760==v:196607>=v?10>=(v&=131071)||40==v||41==v||47==v||95==v||4096==v:65279==v)}static __fromString(v,S=0){let _=0;const E=v.length;let P=0;if(P===E)return o.__zero();let D=v.charCodeAt(P);for(;o.__isWhitespace(D);){if(++P===E)return o.__zero();D=v.charCodeAt(P)}if(43===D){if(++P===E)return null;D=v.charCodeAt(P),_=1}else if(45===D){if(++P===E)return null;D=v.charCodeAt(P),_=-1}if(0===S){if(S=10,48===D){if(++P===E)return o.__zero();if(D=v.charCodeAt(P),88===D||120===D){if(S=16,++P===E)return null;D=v.charCodeAt(P)}else if(79===D||111===D){if(S=8,++P===E)return null;D=v.charCodeAt(P)}else if(66===D||98===D){if(S=2,++P===E)return null;D=v.charCodeAt(P)}}}else if(16===S&&48===D){if(++P===E)return o.__zero();if(D=v.charCodeAt(P),88===D||120===D){if(++P===E)return null;D=v.charCodeAt(P)}}if(0!=_&&10!==S)return null;for(;48===D;){if(++P===E)return o.__zero();D=v.charCodeAt(P)}const R=E-P;let M=o.__kMaxBitsPerChar[S],O=o.__kBitsPerCharTableMultiplier-1;if(R>1073741824/M)return null;const F=M*R+O>>>o.__kBitsPerCharTableShift,N=new o(0|(F+29)/30,!1),L=10>S?S:10,U=10<S?S-10:0;if(S&S-1){N.__initializeDigits();let _=!1,R=0;do{let F=0,V=1;for(;;){let M;if(D-48>>>0<L)M=D-48;else{if(!((32|D)-97>>>0<U)){_=!0;break}M=(32|D)-87}const O=V*S;if(1073741823<O)break;if(V=O,F=F*S+M,R++,++P===E){_=!0;break}D=v.charCodeAt(P)}O=30*o.__kBitsPerCharTableMultiplier-1;const G=0|(M*R+O>>>o.__kBitsPerCharTableShift)/30;N.__inplaceMultiplyAdd(V,F,G)}while(!_)}else{M>>=o.__kBitsPerCharTableShift;const S=[],_=[];let R=!1;do{let O=0,F=0;for(;;){let S;if(D-48>>>0<L)S=D-48;else{if(!((32|D)-97>>>0<U)){R=!0;break}S=(32|D)-87}if(F+=M,O=O<<M|S,++P===E){R=!0;break}if(D=v.charCodeAt(P),30<F+M)break}S.push(O),_.push(F)}while(!R);o.__fillFromParts(N,S,_)}if(P!==E){if(!o.__isWhitespace(D))return null;for(P++;P<E;P++)if(D=v.charCodeAt(P),!o.__isWhitespace(D))return null}return N.sign=-1==_,N.__trim()}static __fillFromParts(v,S,_){let E=0,P=0,D=0;for(let R=S.length-1;0<=R;R--){const M=S[R],O=_[R];P|=M<<D,D+=O,30===D?(v.__setDigit(E++,P),D=0,P=0):30<D&&(v.__setDigit(E++,1073741823&P),D-=30,P=M>>>O-D)}if(0!==P){if(E>=v.length)throw new Error("implementation bug");v.__setDigit(E++,P)}for(;E<v.length;E++)v.__setDigit(E,0)}static __toStringBasePowerOfTwo(v,S){const _=v.length;let E=S-1;E=(85&E>>>1)+(85&E),E=(51&E>>>2)+(51&E),E=(15&E>>>4)+(15&E);const P=E,D=S-1,R=v.__digit(_-1);let M=0|(30*_-o.__clz30(R)+P-1)/P;if(v.sign&&M++,268435456<M)throw new Error("string too long");const O=Array(M);let F=M-1,N=0,L=0;for(let S=0;S<_-1;S++){const _=v.__digit(S),E=(N|_<<L)&D;O[F--]=o.__kConversionChars[E];const R=P-L;for(N=_>>>R,L=30-R;L>=P;)O[F--]=o.__kConversionChars[N&D],N>>>=P,L-=P}const U=(N|R<<L)&D;for(O[F--]=o.__kConversionChars[U],N=R>>>P-L;0!==N;)O[F--]=o.__kConversionChars[N&D],N>>>=P;if(v.sign&&(O[F--]="-"),-1!=F)throw new Error("implementation bug");return O.join("")}static __toStringGeneric(v,S,_){const E=v.length;if(0===E)return"";if(1===E){let E=v.__unsignedDigit(0).toString(S);return!1===_&&v.sign&&(E="-"+E),E}const P=30*E-o.__clz30(v.__digit(E-1)),D=o.__kMaxBitsPerChar[S]-1;let R=P*o.__kBitsPerCharTableMultiplier;R+=D-1,R=0|R/D;const M=R+1>>1,O=o.exponentiate(o.__oneDigit(S,!1),o.__oneDigit(M,!1));let F,N;const L=O.__unsignedDigit(0);if(1===O.length&&32767>=L){F=new o(v.length,!1),F.__initializeDigits();let _=0;for(let S=2*v.length-1;0<=S;S--){const E=_<<15|v.__halfDigit(S);F.__setHalfDigit(S,0|E/L),_=0|E%L}N=_.toString(S)}else{const _=o.__absoluteDivLarge(v,O,!0,!0);F=_.quotient;const E=_.remainder.__trim();N=o.__toStringGeneric(E,S,!0)}F.__trim();let U=o.__toStringGeneric(F,S,!0);for(;N.length<M;)N="0"+N;return!1===_&&v.sign&&(U="-"+U),U+N}static __unequalSign(v){return v?-1:1}static __absoluteGreater(v){return v?-1:1}static __absoluteLess(v){return v?1:-1}static __compareToBigInt(v,S){const _=v.sign;if(_!==S.sign)return o.__unequalSign(_);const E=o.__absoluteCompare(v,S);return 0<E?o.__absoluteGreater(_):0>E?o.__absoluteLess(_):0}static __compareToNumber(v,S){if(o.__isOneDigitInt(S)){const E=v.sign,P=0>S;if(E!==P)return o.__unequalSign(E);if(0===v.length){if(P)throw new Error("implementation bug");return 0===S?0:-1}if(1<v.length)return o.__absoluteGreater(E);const D=_(S),R=v.__unsignedDigit(0);return R>D?o.__absoluteGreater(E):R<D?o.__absoluteLess(E):0}return o.__compareToDouble(v,S)}static __compareToDouble(v,S){if(S!=S)return S;if(S===1/0)return-1;if(S===-1/0)return 1;const _=v.sign;if(_!==0>S)return o.__unequalSign(_);if(0===S)throw new Error("implementation bug: should be handled elsewhere");if(0===v.length)return-1;o.__kBitConversionDouble[0]=S;const E=2047&o.__kBitConversionInts[1]>>>20;if(2047==E)throw new Error("implementation bug: handled elsewhere");const P=E-1023;if(0>P)return o.__absoluteGreater(_);const D=v.length;let R=v.__digit(D-1);const M=o.__clz30(R),O=30*D-M,F=P+1;if(O<F)return o.__absoluteLess(_);if(O>F)return o.__absoluteGreater(_);let N=1048576|1048575&o.__kBitConversionInts[1],L=o.__kBitConversionInts[0];const U=20,V=29-M;if(V!==(0|(O-1)%30))throw new Error("implementation bug");let G,W=0;if(20>V){const v=U-V;W=v+32,G=N>>>v,N=N<<32-v|L>>>v,L<<=32-v}else if(20===V)W=32,G=N,N=L,L=0;else{const v=V-U;W=32-v,G=N<<v|L>>>32-v,N=L<<v,L=0}if(R>>>=0,G>>>=0,R>G)return o.__absoluteGreater(_);if(R<G)return o.__absoluteLess(_);for(let S=D-2;0<=S;S--){0<W?(W-=30,G=N>>>2,N=N<<30|L>>>2,L<<=30):G=0;const E=v.__unsignedDigit(S);if(E>G)return o.__absoluteGreater(_);if(E<G)return o.__absoluteLess(_)}if(0!==N||0!==L){if(0===W)throw new Error("implementation bug");return o.__absoluteLess(_)}return 0}static __equalToNumber(v,S){return o.__isOneDigitInt(S)?0===S?0===v.length:1===v.length&&v.sign===0>S&&v.__unsignedDigit(0)===_(S):0===o.__compareToDouble(v,S)}static __comparisonResultToBool(v,S){return 0===S?0>v:1===S?0>=v:2===S?0<v:3===S?0<=v:void 0}static __compare(v,S,_){if(v=o.__toPrimitive(v),S=o.__toPrimitive(S),"string"==typeof v&&"string"==typeof S)switch(_){case 0:return v<S;case 1:return v<=S;case 2:return v>S;case 3:return v>=S}if(o.__isBigInt(v)&&"string"==typeof S)return null!==(S=o.__fromString(S))&&o.__comparisonResultToBool(o.__compareToBigInt(v,S),_);if("string"==typeof v&&o.__isBigInt(S))return null!==(v=o.__fromString(v))&&o.__comparisonResultToBool(o.__compareToBigInt(v,S),_);if(v=o.__toNumeric(v),S=o.__toNumeric(S),o.__isBigInt(v)){if(o.__isBigInt(S))return o.__comparisonResultToBool(o.__compareToBigInt(v,S),_);if("number"!=typeof S)throw new Error("implementation bug");return o.__comparisonResultToBool(o.__compareToNumber(v,S),_)}if("number"!=typeof v)throw new Error("implementation bug");if(o.__isBigInt(S))return o.__comparisonResultToBool(o.__compareToNumber(S,v),2^_);if("number"!=typeof S)throw new Error("implementation bug");return 0===_?v<S:1===_?v<=S:2===_?v>S:3===_?v>=S:void 0}__clzmsd(){return o.__clz30(this.__digit(this.length-1))}static __absoluteAdd(v,S,_){if(v.length<S.length)return o.__absoluteAdd(S,v,_);if(0===v.length)return v;if(0===S.length)return v.sign===_?v:o.unaryMinus(v);let E=v.length;(0===v.__clzmsd()||S.length===v.length&&0===S.__clzmsd())&&E++;const P=new o(E,_);let D=0,R=0;for(;R<S.length;R++){const _=v.__digit(R)+S.__digit(R)+D;D=_>>>30,P.__setDigit(R,1073741823&_)}for(;R<v.length;R++){const S=v.__digit(R)+D;D=S>>>30,P.__setDigit(R,1073741823&S)}return R<P.length&&P.__setDigit(R,D),P.__trim()}static __absoluteSub(v,S,_){if(0===v.length)return v;if(0===S.length)return v.sign===_?v:o.unaryMinus(v);const E=new o(v.length,_);let P=0,D=0;for(;D<S.length;D++){const _=v.__digit(D)-S.__digit(D)-P;P=1&_>>>30,E.__setDigit(D,1073741823&_)}for(;D<v.length;D++){const S=v.__digit(D)-P;P=1&S>>>30,E.__setDigit(D,1073741823&S)}return E.__trim()}static __absoluteAddOne(v,S,_=null){const E=v.length;null===_?_=new o(E,S):_.sign=S;let P=1;for(let S=0;S<E;S++){const E=v.__digit(S)+P;P=E>>>30,_.__setDigit(S,1073741823&E)}return 0!=P&&_.__setDigitGrow(E,1),_}static __absoluteSubOne(v,S){const _=v.length,E=new o(S=S||_,!1);let P=1;for(let S=0;S<_;S++){const _=v.__digit(S)-P;P=1&_>>>30,E.__setDigit(S,1073741823&_)}if(0!=P)throw new Error("implementation bug");for(let v=_;v<S;v++)E.__setDigit(v,0);return E}static __absoluteAnd(v,S,_=null){let E=v.length,P=S.length,D=P;if(E<P){D=E;const _=v,R=E;v=S,E=P,S=_,P=R}let R=D;null===_?_=new o(R,!1):R=_.length;let M=0;for(;M<D;M++)_.__setDigit(M,v.__digit(M)&S.__digit(M));for(;M<R;M++)_.__setDigit(M,0);return _}static __absoluteAndNot(v,S,_=null){const E=v.length,P=S.length;let D=P;E<P&&(D=E);let R=E;null===_?_=new o(R,!1):R=_.length;let M=0;for(;M<D;M++)_.__setDigit(M,v.__digit(M)&~S.__digit(M));for(;M<E;M++)_.__setDigit(M,v.__digit(M));for(;M<R;M++)_.__setDigit(M,0);return _}static __absoluteOr(v,S,_=null){let E=v.length,P=S.length,D=P;if(E<P){D=E;const _=v,R=E;v=S,E=P,S=_,P=R}let R=E;null===_?_=new o(R,!1):R=_.length;let M=0;for(;M<D;M++)_.__setDigit(M,v.__digit(M)|S.__digit(M));for(;M<E;M++)_.__setDigit(M,v.__digit(M));for(;M<R;M++)_.__setDigit(M,0);return _}static __absoluteXor(v,S,_=null){let E=v.length,P=S.length,D=P;if(E<P){D=E;const _=v,R=E;v=S,E=P,S=_,P=R}let R=E;null===_?_=new o(R,!1):R=_.length;let M=0;for(;M<D;M++)_.__setDigit(M,v.__digit(M)^S.__digit(M));for(;M<E;M++)_.__setDigit(M,v.__digit(M));for(;M<R;M++)_.__setDigit(M,0);return _}static __absoluteCompare(v,S){const _=v.length-S.length;if(0!=_)return _;let E=v.length-1;for(;0<=E&&v.__digit(E)===S.__digit(E);)E--;return 0>E?0:v.__unsignedDigit(E)>S.__unsignedDigit(E)?1:-1}static __multiplyAccumulate(v,S,_,E){if(0===S)return;const P=32767&S,D=S>>>15;let R=0,M=0;for(let S,O=0;O<v.length;O++,E++){S=_.__digit(E);const F=v.__digit(O),N=32767&F,L=F>>>15,U=o.__imul(N,P),V=o.__imul(N,D),G=o.__imul(L,P);S+=M+U+R,R=S>>>30,S&=1073741823,S+=((32767&V)<<15)+((32767&G)<<15),R+=S>>>30,M=o.__imul(L,D)+(V>>>15)+(G>>>15),_.__setDigit(E,1073741823&S)}for(;0!=R||0!==M;E++){let v=_.__digit(E);v+=R+M,M=0,R=v>>>30,_.__setDigit(E,1073741823&v)}}static __internalMultiplyAdd(v,S,_,E,P){let D=_,R=0;for(let _=0;_<E;_++){const E=v.__digit(_),M=o.__imul(32767&E,S),O=o.__imul(E>>>15,S),F=M+((32767&O)<<15)+R+D;D=F>>>30,R=O>>>15,P.__setDigit(_,1073741823&F)}if(P.length>E)for(P.__setDigit(E++,D+R);E<P.length;)P.__setDigit(E++,0);else if(0!==D+R)throw new Error("implementation bug")}__inplaceMultiplyAdd(v,S,_){_>this.length&&(_=this.length);const E=32767&v,P=v>>>15;let D=0,R=S;for(let v=0;v<_;v++){const S=this.__digit(v),_=32767&S,M=S>>>15,O=o.__imul(_,E),F=o.__imul(_,P),N=o.__imul(M,E);let L=R+O+D;D=L>>>30,L&=1073741823,L+=((32767&F)<<15)+((32767&N)<<15),D+=L>>>30,R=o.__imul(M,P)+(F>>>15)+(N>>>15),this.__setDigit(v,1073741823&L)}if(0!=D||0!==R)throw new Error("implementation bug")}static __absoluteDivSmall(v,S,_=null){null===_&&(_=new o(v.length,!1));let E=0;for(let P,D=2*v.length-1;0<=D;D-=2){P=(E<<15|v.__halfDigit(D))>>>0;const R=0|P/S;E=0|P%S,P=(E<<15|v.__halfDigit(D-1))>>>0;const M=0|P/S;E=0|P%S,_.__setDigit(D>>>1,R<<15|M)}return _}static __absoluteModSmall(v,S){let _=0;for(let E=2*v.length-1;0<=E;E--)_=0|((_<<15|v.__halfDigit(E))>>>0)%S;return _}static __absoluteDivLarge(v,S,_,E){const P=S.__halfDigitLength(),D=S.length,R=v.__halfDigitLength()-P;let M=null;_&&(M=new o(R+2>>>1,!1),M.__initializeDigits());const O=new o(P+2>>>1,!1);O.__initializeDigits();const F=o.__clz15(S.__halfDigit(P-1));0<F&&(S=o.__specialLeftShift(S,F,0));const N=o.__specialLeftShift(v,F,1),L=S.__halfDigit(P-1);let U=0;for(let v,E=R;0<=E;E--){v=32767;const R=N.__halfDigit(E+P);if(R!==L){const _=(R<<15|N.__halfDigit(E+P-1))>>>0;v=0|_/L;let D=0|_%L;const M=S.__halfDigit(P-2),O=N.__halfDigit(E+P-2);for(;o.__imul(v,M)>>>0>(D<<16|O)>>>0&&(v--,D+=L,!(32767<D)););}o.__internalMultiplyAdd(S,v,0,D,O);let F=N.__inplaceSub(O,E,P+1);0!==F&&(F=N.__inplaceAdd(S,E,P),N.__setHalfDigit(E+P,32767&N.__halfDigit(E+P)+F),v--),_&&(1&E?U=v<<15:M.__setDigit(E>>>1,U|v))}if(E)return N.__inplaceRightShift(F),_?{quotient:M,remainder:N}:N;if(_)return M;throw new Error("unreachable")}static __clz15(v){return o.__clz30(v)-15}__inplaceAdd(v,S,_){let E=0;for(let P=0;P<_;P++){const _=this.__halfDigit(S+P)+v.__halfDigit(P)+E;E=_>>>15,this.__setHalfDigit(S+P,32767&_)}return E}__inplaceSub(v,S,_){let E=0;if(1&S){S>>=1;let P=this.__digit(S),D=32767&P,R=0;for(;R<_-1>>>1;R++){const _=v.__digit(R),M=(P>>>15)-(32767&_)-E;E=1&M>>>15,this.__setDigit(S+R,(32767&M)<<15|32767&D),P=this.__digit(S+R+1),D=(32767&P)-(_>>>15)-E,E=1&D>>>15}const M=v.__digit(R),O=(P>>>15)-(32767&M)-E;if(E=1&O>>>15,this.__setDigit(S+R,(32767&O)<<15|32767&D),S+R+1>=this.length)throw new RangeError("out of bounds");!(1&_)&&(P=this.__digit(S+R+1),D=(32767&P)-(M>>>15)-E,E=1&D>>>15,this.__setDigit(S+v.length,1073709056&P|32767&D))}else{S>>=1;let P=0;for(;P<v.length-1;P++){const _=this.__digit(S+P),D=v.__digit(P),R=(32767&_)-(32767&D)-E;E=1&R>>>15;const M=(_>>>15)-(D>>>15)-E;E=1&M>>>15,this.__setDigit(S+P,(32767&M)<<15|32767&R)}const D=this.__digit(S+P),R=v.__digit(P),M=(32767&D)-(32767&R)-E;E=1&M>>>15;let O=0;!(1&_)&&(O=(D>>>15)-(R>>>15)-E,E=1&O>>>15),this.__setDigit(S+P,(32767&O)<<15|32767&M)}return E}__inplaceRightShift(v){if(0===v)return;let S=this.__digit(0)>>>v;const _=this.length-1;for(let E=0;E<_;E++){const _=this.__digit(E+1);this.__setDigit(E,1073741823&_<<30-v|S),S=_>>>v}this.__setDigit(_,S)}static __specialLeftShift(v,S,_){const E=v.length,P=new o(E+_,!1);if(0===S){for(let S=0;S<E;S++)P.__setDigit(S,v.__digit(S));return 0<_&&P.__setDigit(E,0),P}let D=0;for(let _=0;_<E;_++){const E=v.__digit(_);P.__setDigit(_,1073741823&E<<S|D),D=E>>>30-S}return 0<_&&P.__setDigit(E,D),P}static __leftShiftByAbsolute(v,S){const _=o.__toShiftAmount(S);if(0>_)throw new RangeError("BigInt too big");const E=0|_/30,P=_%30,D=v.length,R=0!==P&&0!=v.__digit(D-1)>>>30-P,M=D+E+(R?1:0),O=new o(M,v.sign);if(0===P){let S=0;for(;S<E;S++)O.__setDigit(S,0);for(;S<M;S++)O.__setDigit(S,v.__digit(S-E))}else{let S=0;for(let v=0;v<E;v++)O.__setDigit(v,0);for(let _=0;_<D;_++){const D=v.__digit(_);O.__setDigit(_+E,1073741823&D<<P|S),S=D>>>30-P}if(R)O.__setDigit(D+E,S);else if(0!==S)throw new Error("implementation bug")}return O.__trim()}static __rightShiftByAbsolute(v,S){const _=v.length,E=v.sign,P=o.__toShiftAmount(S);if(0>P)return o.__rightShiftByMaximum(E);const D=0|P/30,R=P%30;let M=_-D;if(0>=M)return o.__rightShiftByMaximum(E);let O=!1;if(E)if(v.__digit(D)&(1<<R)-1)O=!0;else for(let S=0;S<D;S++)if(0!==v.__digit(S)){O=!0;break}O&&0===R&&0==~v.__digit(_-1)&&M++;let F=new o(M,E);if(0===R){F.__setDigit(M-1,0);for(let S=D;S<_;S++)F.__setDigit(S-D,v.__digit(S))}else{let S=v.__digit(D)>>>R;const E=_-D-1;for(let _=0;_<E;_++){const E=v.__digit(_+D+1);F.__setDigit(_,1073741823&E<<30-R|S),S=E>>>R}F.__setDigit(E,S)}return O&&(F=o.__absoluteAddOne(F,!0,F)),F.__trim()}static __rightShiftByMaximum(v){return v?o.__oneDigit(1,!0):o.__zero()}static __toShiftAmount(v){if(1<v.length)return-1;const S=v.__unsignedDigit(0);return S>o.__kMaxLengthBits?-1:S}static __toPrimitive(v,S="default"){if("object"!=typeof v)return v;if(v.constructor===o)return v;if("undefined"!=typeof Symbol&&"symbol"==typeof Symbol.toPrimitive){const _=v[Symbol.toPrimitive];if(_){const v=_(S);if("object"!=typeof v)return v;throw new TypeError("Cannot convert object to primitive value")}}const _=v.valueOf;if(_){const S=_.call(v);if("object"!=typeof S)return S}const E=v.toString;if(E){const S=E.call(v);if("object"!=typeof S)return S}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(v){return o.__isBigInt(v)?v:+v}static __isBigInt(v){return"object"==typeof v&&null!==v&&v.constructor===o}static __truncateToNBits(v,S){const _=0|(v+29)/30,E=new o(_,S.sign),P=_-1;for(let v=0;v<P;v++)E.__setDigit(v,S.__digit(v));let D=S.__digit(P);if(0!=v%30){const S=32-v%30;D=D<<S>>>S}return E.__setDigit(P,D),E.__trim()}static __truncateAndSubFromPowerOfTwo(v,S,_){var E=Math.min;const P=0|(v+29)/30,D=new o(P,_);let R=0;const M=P-1;let O=0;for(const v=E(M,S.length);R<v;R++){const v=0-S.__digit(R)-O;O=1&v>>>30,D.__setDigit(R,1073741823&v)}for(;R<M;R++)D.__setDigit(R,1073741823&-O);let F=M<S.length?S.__digit(M):0;const N=v%30;let L;if(0==N)L=0-F-O,L&=1073741823;else{const v=32-N;F=F<<v>>>v;const S=1<<32-v;L=S-F-O,L&=S-1}return D.__setDigit(M,L),D.__trim()}__digit(v){return this[v]}__unsignedDigit(v){return this[v]>>>0}__setDigit(v,S){this[v]=0|S}__setDigitGrow(v,S){this[v]=0|S}__halfDigitLength(){const v=this.length;return 32767>=this.__unsignedDigit(v-1)?2*v-1:2*v}__halfDigit(v){return 32767&this[v>>>1]>>>15*(1&v)}__setHalfDigit(v,S){const _=v>>>1,E=this.__digit(_),P=1&v?32767&E|S<<15:1073709056&E|32767&S;this.__setDigit(_,P)}static __digitPow(v,S){let _=1;for(;0<S;)1&S&&(_*=v),S>>>=1,v*=v;return _}static __isOneDigitInt(v){return(1073741823&v)===v}}return o.__kMaxLength=33554432,o.__kMaxLengthBits=o.__kMaxLength<<5,o.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],o.__kBitsPerCharTableShift=5,o.__kBitsPerCharTableMultiplier=1<<o.__kBitsPerCharTableShift,o.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],o.__kBitConversionBuffer=new ArrayBuffer(8),o.__kBitConversionDouble=new Float64Array(o.__kBitConversionBuffer),o.__kBitConversionInts=new Int32Array(o.__kBitConversionBuffer),o.__clz30=S?function(v){return S(v)-2}:function(v){var S=Math.LN2,_=Math.log;return 0===v?30:0|29-(0|_(v>>>0)/S)},o.__imul=v||function(v,S){return 0|v*S},o}()},39198:(v,S,_)=>{var E,P,D,R,M,O,F,N,L,U,V,G=_(901048).Buffer,W={userAgent:!1},$={},X=X||(E=Math,D=(P={}).lib={},R=D.Base=function(){function n(){}return{extend:function(v){n.prototype=this;var S=new n;return v&&S.mixIn(v),S.hasOwnProperty("init")||(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var S in v)v.hasOwnProperty(S)&&(this[S]=v[S]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),M=D.WordArray=R.extend({init:function(v,S){v=this.words=v||[],this.sigBytes=null!=S?S:4*v.length},toString:function(v){return(v||F).stringify(this)},concat:function(v){var S=this.words,_=v.words,E=this.sigBytes,P=v.sigBytes;if(this.clamp(),E%4)for(var D=0;D<P;D++){var R=_[D>>>2]>>>24-D%4*8&255;S[E+D>>>2]|=R<<24-(E+D)%4*8}else for(D=0;D<P;D+=4)S[E+D>>>2]=_[D>>>2];return this.sigBytes+=P,this},clamp:function(){var v=this.words,S=this.sigBytes;v[S>>>2]&=4294967295<<32-S%4*8,v.length=E.ceil(S/4)},clone:function(){var v=R.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var S=[],_=0;_<v;_+=4)S.push(4294967296*E.random()|0);return new M.init(S,v)}}),O=P.enc={},F=O.Hex={stringify:function(v){for(var S=v.words,_=v.sigBytes,E=[],P=0;P<_;P++){var D=S[P>>>2]>>>24-P%4*8&255;E.push((D>>>4).toString(16)),E.push((15&D).toString(16))}return E.join("")},parse:function(v){for(var S=v.length,_=[],E=0;E<S;E+=2)_[E>>>3]|=parseInt(v.substr(E,2),16)<<24-E%8*4;return new M.init(_,S/2)}},N=O.Latin1={stringify:function(v){for(var S=v.words,_=v.sigBytes,E=[],P=0;P<_;P++){var D=S[P>>>2]>>>24-P%4*8&255;E.push(String.fromCharCode(D))}return E.join("")},parse:function(v){for(var S=v.length,_=[],E=0;E<S;E++)_[E>>>2]|=(255&v.charCodeAt(E))<<24-E%4*8;return new M.init(_,S)}},L=O.Utf8={stringify:function(v){try{return decodeURIComponent(escape(N.stringify(v)))}catch(v){throw new Error("Malformed UTF-8 data")}},parse:function(v){return N.parse(unescape(encodeURIComponent(v)))}},U=D.BufferedBlockAlgorithm=R.extend({reset:function(){this._data=new M.init,this._nDataBytes=0},_append:function(v){"string"==typeof v&&(v=L.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var S=this._data,_=S.words,P=S.sigBytes,D=this.blockSize,R=P/(4*D),O=(R=v?E.ceil(R):E.max((0|R)-this._minBufferSize,0))*D,F=E.min(4*O,P);if(O){for(var N=0;N<O;N+=D)this._doProcessBlock(_,N);var L=_.splice(0,O);S.sigBytes-=F}return new M.init(L,F)},clone:function(){var v=R.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0}),D.Hasher=U.extend({cfg:R.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){U.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){return v&&this._append(v),this._doFinalize()},blockSize:16,_createHelper:function(v){return function(S,_){return new v.init(_).finalize(S)}},_createHmacHelper:function(v){return function(S,_){return new V.HMAC.init(v,_).finalize(S)}}}),V=P.algo={},P);!function(v){var S,_=(S=X).lib,E=_.Base,P=_.WordArray;(S=S.x64={}).Word=E.extend({init:function(v,S){this.high=v,this.low=S}}),S.WordArray=E.extend({init:function(v,S){v=this.words=v||[],this.sigBytes=null!=S?S:8*v.length},toX32:function(){for(var v=this.words,S=v.length,_=[],E=0;E<S;E++){var D=v[E];_.push(D.high),_.push(D.low)}return P.create(_,this.sigBytes)},clone:function(){for(var v=E.clone.call(this),S=v.words=this.words.slice(0),_=S.length,P=0;P<_;P++)S[P]=S[P].clone();return v}})}(),X.lib.Cipher||function(v){var S=(U=X).lib,_=S.Base,E=S.WordArray,P=S.BufferedBlockAlgorithm,D=U.enc.Base64,R=U.algo.EvpKDF,M=S.Cipher=P.extend({cfg:_.extend(),createEncryptor:function(v,S){return this.create(this._ENC_XFORM_MODE,v,S)},createDecryptor:function(v,S){return this.create(this._DEC_XFORM_MODE,v,S)},init:function(v,S,_){this.cfg=this.cfg.extend(_),this._xformMode=v,this._key=S,this.reset()},reset:function(){P.reset.call(this),this._doReset()},process:function(v){return this._append(v),this._process()},finalize:function(v){return v&&this._append(v),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(v){return{encrypt:function(S,_,E){return("string"==typeof _?V:L).encrypt(v,S,_,E)},decrypt:function(S,_,E){return("string"==typeof _?V:L).decrypt(v,S,_,E)}}}});S.StreamCipher=M.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var O=U.mode={},t=function(v,S,_){var E=this._iv;E?this._iv=undefined:E=this._prevBlock;for(var P=0;P<_;P++)v[S+P]^=E[P]},F=(S.BlockCipherMode=_.extend({createEncryptor:function(v,S){return this.Encryptor.create(v,S)},createDecryptor:function(v,S){return this.Decryptor.create(v,S)},init:function(v,S){this._cipher=v,this._iv=S}})).extend();F.Encryptor=F.extend({processBlock:function(v,S){var _=this._cipher,E=_.blockSize;t.call(this,v,S,E),_.encryptBlock(v,S),this._prevBlock=v.slice(S,S+E)}}),F.Decryptor=F.extend({processBlock:function(v,S){var _=this._cipher,E=_.blockSize,P=v.slice(S,S+E);_.decryptBlock(v,S),t.call(this,v,S,E),this._prevBlock=P}}),O=O.CBC=F,F=(U.pad={}).Pkcs7={pad:function(v,S){for(var _,P=(_=(_=4*S)-v.sigBytes%_)<<24|_<<16|_<<8|_,D=[],R=0;R<_;R+=4)D.push(P);_=E.create(D,_),v.concat(_)},unpad:function(v){v.sigBytes-=255&v.words[v.sigBytes-1>>>2]}},S.BlockCipher=M.extend({cfg:M.cfg.extend({mode:O,padding:F}),reset:function(){M.reset.call(this);var v=(S=this.cfg).iv,S=S.mode;if(this._xformMode==this._ENC_XFORM_MODE)var _=S.createEncryptor;else _=S.createDecryptor,this._minBufferSize=1;this._mode=_.call(S,this,v&&v.words)},_doProcessBlock:function(v,S){this._mode.processBlock(v,S)},_doFinalize:function(){var v=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){v.pad(this._data,this.blockSize);var S=this._process(!0)}else S=this._process(!0),v.unpad(S);return S},blockSize:4});var N=S.CipherParams=_.extend({init:function(v){this.mixIn(v)},toString:function(v){return(v||this.formatter).stringify(this)}}),L=(O=(U.format={}).OpenSSL={stringify:function(v){var S=v.ciphertext;return((v=v.salt)?E.create([1398893684,1701076831]).concat(v).concat(S):S).toString(D)},parse:function(v){var S=(v=D.parse(v)).words;if(1398893684==S[0]&&1701076831==S[1]){var _=E.create(S.slice(2,4));S.splice(0,4),v.sigBytes-=16}return N.create({ciphertext:v,salt:_})}},S.SerializableCipher=_.extend({cfg:_.extend({format:O}),encrypt:function(v,S,_,E){E=this.cfg.extend(E);var P=v.createEncryptor(_,E);return S=P.finalize(S),P=P.cfg,N.create({ciphertext:S,key:_,iv:P.iv,algorithm:v,mode:P.mode,padding:P.padding,blockSize:v.blockSize,formatter:E.format})},decrypt:function(v,S,_,E){return E=this.cfg.extend(E),S=this._parse(S,E.format),v.createDecryptor(_,E).finalize(S.ciphertext)},_parse:function(v,S){return"string"==typeof v?S.parse(v,this):v}})),U=(U.kdf={}).OpenSSL={execute:function(v,S,_,P){return P||(P=E.random(8)),v=R.create({keySize:S+_}).compute(v,P),_=E.create(v.words.slice(S),4*_),v.sigBytes=4*S,N.create({key:v,iv:_,salt:P})}},V=S.PasswordBasedCipher=L.extend({cfg:L.cfg.extend({kdf:U}),encrypt:function(v,S,_,E){return _=(E=this.cfg.extend(E)).kdf.execute(_,v.keySize,v.ivSize),E.iv=_.iv,(v=L.encrypt.call(this,v,S,_.key,E)).mixIn(_),v},decrypt:function(v,S,_,E){return E=this.cfg.extend(E),S=this._parse(S,E.format),_=E.kdf.execute(_,v.keySize,v.ivSize,S.salt),E.iv=_.iv,L.decrypt.call(this,v,S,_.key,E)}})}(),function(){for(var v=X,S=v.lib.BlockCipher,_=v.algo,E=[],P=[],D=[],R=[],M=[],O=[],F=[],N=[],L=[],U=[],V=[],G=0;256>G;G++)V[G]=128>G?G<<1:G<<1^283;var W=0,$=0;for(G=0;256>G;G++){var Y=(Y=$^$<<1^$<<2^$<<3^$<<4)>>>8^255&Y^99;E[W]=Y,P[Y]=W;var J=V[W],Z=V[J],Q=V[Z],tt=257*V[Y]^16843008*Y;D[W]=tt<<24|tt>>>8,R[W]=tt<<16|tt>>>16,M[W]=tt<<8|tt>>>24,O[W]=tt,tt=16843009*Q^65537*Z^257*J^16843008*W,F[Y]=tt<<24|tt>>>8,N[Y]=tt<<16|tt>>>16,L[Y]=tt<<8|tt>>>24,U[Y]=tt,W?(W=J^V[V[V[Q^J]]],$^=V[V[$]]):W=$=1}var et=[0,1,2,4,8,16,32,64,128,27,54];_=_.AES=S.extend({_doReset:function(){for(var v=(_=this._key).words,S=_.sigBytes/4,_=4*((this._nRounds=S+6)+1),P=this._keySchedule=[],D=0;D<_;D++)if(D<S)P[D]=v[D];else{var R=P[D-1];D%S?6<S&&4==D%S&&(R=E[R>>>24]<<24|E[R>>>16&255]<<16|E[R>>>8&255]<<8|E[255&R]):(R=E[(R=R<<8|R>>>24)>>>24]<<24|E[R>>>16&255]<<16|E[R>>>8&255]<<8|E[255&R],R^=et[D/S|0]<<24),P[D]=P[D-S]^R}for(v=this._invKeySchedule=[],S=0;S<_;S++)D=_-S,R=S%4?P[D]:P[D-4],v[S]=4>S||4>=D?R:F[E[R>>>24]]^N[E[R>>>16&255]]^L[E[R>>>8&255]]^U[E[255&R]]},encryptBlock:function(v,S){this._doCryptBlock(v,S,this._keySchedule,D,R,M,O,E)},decryptBlock:function(v,S){var _=v[S+1];v[S+1]=v[S+3],v[S+3]=_,this._doCryptBlock(v,S,this._invKeySchedule,F,N,L,U,P),_=v[S+1],v[S+1]=v[S+3],v[S+3]=_},_doCryptBlock:function(v,S,_,E,P,D,R,M){for(var O=this._nRounds,F=v[S]^_[0],N=v[S+1]^_[1],L=v[S+2]^_[2],U=v[S+3]^_[3],V=4,G=1;G<O;G++){var W=E[F>>>24]^P[N>>>16&255]^D[L>>>8&255]^R[255&U]^_[V++],$=E[N>>>24]^P[L>>>16&255]^D[U>>>8&255]^R[255&F]^_[V++],X=E[L>>>24]^P[U>>>16&255]^D[F>>>8&255]^R[255&N]^_[V++];U=E[U>>>24]^P[F>>>16&255]^D[N>>>8&255]^R[255&L]^_[V++],F=W,N=$,L=X}W=(M[F>>>24]<<24|M[N>>>16&255]<<16|M[L>>>8&255]<<8|M[255&U])^_[V++],$=(M[N>>>24]<<24|M[L>>>16&255]<<16|M[U>>>8&255]<<8|M[255&F])^_[V++],X=(M[L>>>24]<<24|M[U>>>16&255]<<16|M[F>>>8&255]<<8|M[255&N])^_[V++],U=(M[U>>>24]<<24|M[F>>>16&255]<<16|M[N>>>8&255]<<8|M[255&L])^_[V++],v[S]=W,v[S+1]=$,v[S+2]=X,v[S+3]=U},keySize:8});v.AES=S._createHelper(_)}(),function(){function j(v,S){var _=(this._lBlock>>>v^this._rBlock)&S;this._rBlock^=_,this._lBlock^=_<<v}function l(v,S){var _=(this._rBlock>>>v^this._lBlock)&S;this._lBlock^=_,this._rBlock^=_<<v}var v=X,S=(_=v.lib).WordArray,_=_.BlockCipher,E=v.algo,P=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],D=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],R=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],M=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],O=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],F=E.DES=_.extend({_doReset:function(){for(var v=this._key.words,S=[],_=0;56>_;_++){var E=P[_]-1;S[_]=v[E>>>5]>>>31-E%32&1}for(v=this._subKeys=[],E=0;16>E;E++){var M=v[E]=[],O=R[E];for(_=0;24>_;_++)M[_/6|0]|=S[(D[_]-1+O)%28]<<31-_%6,M[4+(_/6|0)]|=S[28+(D[_+24]-1+O)%28]<<31-_%6;for(M[0]=M[0]<<1|M[0]>>>31,_=1;7>_;_++)M[_]>>>=4*(_-1)+3;M[7]=M[7]<<5|M[7]>>>27}for(S=this._invSubKeys=[],_=0;16>_;_++)S[_]=v[15-_]},encryptBlock:function(v,S){this._doCryptBlock(v,S,this._subKeys)},decryptBlock:function(v,S){this._doCryptBlock(v,S,this._invSubKeys)},_doCryptBlock:function(v,S,_){this._lBlock=v[S],this._rBlock=v[S+1],j.call(this,4,252645135),j.call(this,16,65535),l.call(this,2,858993459),l.call(this,8,16711935),j.call(this,1,1431655765);for(var E=0;16>E;E++){for(var P=_[E],D=this._lBlock,R=this._rBlock,F=0,N=0;8>N;N++)F|=M[N][((R^P[N])&O[N])>>>0];this._lBlock=R,this._rBlock=D^F}_=this._lBlock,this._lBlock=this._rBlock,this._rBlock=_,j.call(this,1,1431655765),l.call(this,8,16711935),l.call(this,2,858993459),j.call(this,16,65535),j.call(this,4,252645135),v[S]=this._lBlock,v[S+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});v.DES=_._createHelper(F),E=E.TripleDES=_.extend({_doReset:function(){var v=this._key.words;this._des1=F.createEncryptor(S.create(v.slice(0,2))),this._des2=F.createEncryptor(S.create(v.slice(2,4))),this._des3=F.createEncryptor(S.create(v.slice(4,6)))},encryptBlock:function(v,S){this._des1.encryptBlock(v,S),this._des2.decryptBlock(v,S),this._des3.encryptBlock(v,S)},decryptBlock:function(v,S){this._des3.decryptBlock(v,S),this._des2.encryptBlock(v,S),this._des1.decryptBlock(v,S)},keySize:6,ivSize:2,blockSize:2}),v.TripleDES=_._createHelper(E)}(),function(){var v=X,S=v.lib.WordArray;v.enc.Base64={stringify:function(v){var S=v.words,_=v.sigBytes,E=this._map;v.clamp(),v=[];for(var P=0;P<_;P+=3)for(var D=(S[P>>>2]>>>24-P%4*8&255)<<16|(S[P+1>>>2]>>>24-(P+1)%4*8&255)<<8|S[P+2>>>2]>>>24-(P+2)%4*8&255,R=0;4>R&&P+.75*R<_;R++)v.push(E.charAt(D>>>6*(3-R)&63));if(S=E.charAt(64))for(;v.length%4;)v.push(S);return v.join("")},parse:function(v){var _=v.length,E=this._map;(P=E.charAt(64))&&(-1!=(P=v.indexOf(P))&&(_=P));for(var P=[],D=0,R=0;R<_;R++)if(R%4){var M=E.indexOf(v.charAt(R-1))<<R%4*2,O=E.indexOf(v.charAt(R))>>>6-R%4*2;P[D>>>2]|=(M|O)<<24-D%4*8,D++}return S.create(P,D)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(v){function h(v,S,_,E,P,D,R){return((v=v+(S&_|~S&E)+P+R)<<D|v>>>32-D)+S}function k(v,S,_,E,P,D,R){return((v=v+(S&E|_&~E)+P+R)<<D|v>>>32-D)+S}function l(v,S,_,E,P,D,R){return((v=v+(S^_^E)+P+R)<<D|v>>>32-D)+S}function n(v,S,_,E,P,D,R){return((v=v+(_^(S|~E))+P+R)<<D|v>>>32-D)+S}for(var S=X,_=(P=S.lib).WordArray,E=P.Hasher,P=S.algo,D=[],R=0;64>R;R++)D[R]=4294967296*v.abs(v.sin(R+1))|0;P=P.MD5=E.extend({_doReset:function(){this._hash=new _.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,S){for(var _=0;16>_;_++){var E=v[P=S+_];v[P]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8)}_=this._hash.words;var P=v[S+0],R=(E=v[S+1],v[S+2]),M=v[S+3],O=v[S+4],F=v[S+5],N=v[S+6],L=v[S+7],U=v[S+8],V=v[S+9],G=v[S+10],W=v[S+11],$=v[S+12],X=v[S+13],Y=v[S+14],J=v[S+15],Z=h(Z=_[0],et=_[1],tt=_[2],Q=_[3],P,7,D[0]),Q=h(Q,Z,et,tt,E,12,D[1]),tt=h(tt,Q,Z,et,R,17,D[2]),et=h(et,tt,Q,Z,M,22,D[3]);Z=h(Z,et,tt,Q,O,7,D[4]),Q=h(Q,Z,et,tt,F,12,D[5]),tt=h(tt,Q,Z,et,N,17,D[6]),et=h(et,tt,Q,Z,L,22,D[7]),Z=h(Z,et,tt,Q,U,7,D[8]),Q=h(Q,Z,et,tt,V,12,D[9]),tt=h(tt,Q,Z,et,G,17,D[10]),et=h(et,tt,Q,Z,W,22,D[11]),Z=h(Z,et,tt,Q,$,7,D[12]),Q=h(Q,Z,et,tt,X,12,D[13]),tt=h(tt,Q,Z,et,Y,17,D[14]),Z=k(Z,et=h(et,tt,Q,Z,J,22,D[15]),tt,Q,E,5,D[16]),Q=k(Q,Z,et,tt,N,9,D[17]),tt=k(tt,Q,Z,et,W,14,D[18]),et=k(et,tt,Q,Z,P,20,D[19]),Z=k(Z,et,tt,Q,F,5,D[20]),Q=k(Q,Z,et,tt,G,9,D[21]),tt=k(tt,Q,Z,et,J,14,D[22]),et=k(et,tt,Q,Z,O,20,D[23]),Z=k(Z,et,tt,Q,V,5,D[24]),Q=k(Q,Z,et,tt,Y,9,D[25]),tt=k(tt,Q,Z,et,M,14,D[26]),et=k(et,tt,Q,Z,U,20,D[27]),Z=k(Z,et,tt,Q,X,5,D[28]),Q=k(Q,Z,et,tt,R,9,D[29]),tt=k(tt,Q,Z,et,L,14,D[30]),Z=l(Z,et=k(et,tt,Q,Z,$,20,D[31]),tt,Q,F,4,D[32]),Q=l(Q,Z,et,tt,U,11,D[33]),tt=l(tt,Q,Z,et,W,16,D[34]),et=l(et,tt,Q,Z,Y,23,D[35]),Z=l(Z,et,tt,Q,E,4,D[36]),Q=l(Q,Z,et,tt,O,11,D[37]),tt=l(tt,Q,Z,et,L,16,D[38]),et=l(et,tt,Q,Z,G,23,D[39]),Z=l(Z,et,tt,Q,X,4,D[40]),Q=l(Q,Z,et,tt,P,11,D[41]),tt=l(tt,Q,Z,et,M,16,D[42]),et=l(et,tt,Q,Z,N,23,D[43]),Z=l(Z,et,tt,Q,V,4,D[44]),Q=l(Q,Z,et,tt,$,11,D[45]),tt=l(tt,Q,Z,et,J,16,D[46]),Z=n(Z,et=l(et,tt,Q,Z,R,23,D[47]),tt,Q,P,6,D[48]),Q=n(Q,Z,et,tt,L,10,D[49]),tt=n(tt,Q,Z,et,Y,15,D[50]),et=n(et,tt,Q,Z,F,21,D[51]),Z=n(Z,et,tt,Q,$,6,D[52]),Q=n(Q,Z,et,tt,M,10,D[53]),tt=n(tt,Q,Z,et,G,15,D[54]),et=n(et,tt,Q,Z,E,21,D[55]),Z=n(Z,et,tt,Q,U,6,D[56]),Q=n(Q,Z,et,tt,J,10,D[57]),tt=n(tt,Q,Z,et,N,15,D[58]),et=n(et,tt,Q,Z,X,21,D[59]),Z=n(Z,et,tt,Q,O,6,D[60]),Q=n(Q,Z,et,tt,W,10,D[61]),tt=n(tt,Q,Z,et,R,15,D[62]),et=n(et,tt,Q,Z,V,21,D[63]);_[0]=_[0]+Z|0,_[1]=_[1]+et|0,_[2]=_[2]+tt|0,_[3]=_[3]+Q|0},_doFinalize:function(){var S=this._data,_=S.words,E=8*this._nDataBytes,P=8*S.sigBytes;_[P>>>5]|=128<<24-P%32;var D=v.floor(E/4294967296);for(_[15+(P+64>>>9<<4)]=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8),_[14+(P+64>>>9<<4)]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),S.sigBytes=4*(_.length+1),this._process(),_=(S=this._hash).words,E=0;4>E;E++)P=_[E],_[E]=16711935&(P<<8|P>>>24)|4278255360&(P<<24|P>>>8);return S},clone:function(){var v=E.clone.call(this);return v._hash=this._hash.clone(),v}}),S.MD5=E._createHelper(P),S.HmacMD5=E._createHmacHelper(P)}(Math),function(){var v=X,S=(P=v.lib).WordArray,_=P.Hasher,E=[],P=v.algo.SHA1=_.extend({_doReset:function(){this._hash=new S.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(v,S){for(var _=this._hash.words,P=_[0],D=_[1],R=_[2],M=_[3],O=_[4],F=0;80>F;F++){if(16>F)E[F]=0|v[S+F];else{var N=E[F-3]^E[F-8]^E[F-14]^E[F-16];E[F]=N<<1|N>>>31}N=(P<<5|P>>>27)+O+E[F],N=20>F?N+(1518500249+(D&R|~D&M)):40>F?N+(1859775393+(D^R^M)):60>F?N+((D&R|D&M|R&M)-1894007588):N+((D^R^M)-899497514),O=M,M=R,R=D<<30|D>>>2,D=P,P=N}_[0]=_[0]+P|0,_[1]=_[1]+D|0,_[2]=_[2]+R|0,_[3]=_[3]+M|0,_[4]=_[4]+O|0},_doFinalize:function(){var v=this._data,S=v.words,_=8*this._nDataBytes,E=8*v.sigBytes;return S[E>>>5]|=128<<24-E%32,S[14+(E+64>>>9<<4)]=Math.floor(_/4294967296),S[15+(E+64>>>9<<4)]=_,v.sigBytes=4*S.length,this._process(),this._hash},clone:function(){var v=_.clone.call(this);return v._hash=this._hash.clone(),v}});v.SHA1=_._createHelper(P),v.HmacSHA1=_._createHmacHelper(P)}(),function(v){for(var S=X,_=(P=S.lib).WordArray,E=P.Hasher,P=S.algo,D=[],R=[],u=function(v){return 4294967296*(v-(0|v))|0},M=2,O=0;64>O;){var F;t:{F=M;for(var N=v.sqrt(F),L=2;L<=N;L++)if(!(F%L)){F=!1;break t}F=!0}F&&(8>O&&(D[O]=u(v.pow(M,.5))),R[O]=u(v.pow(M,1/3)),O++),M++}var U=[];P=P.SHA256=E.extend({_doReset:function(){this._hash=new _.init(D.slice(0))},_doProcessBlock:function(v,S){for(var _=this._hash.words,E=_[0],P=_[1],D=_[2],M=_[3],O=_[4],F=_[5],N=_[6],L=_[7],V=0;64>V;V++){if(16>V)U[V]=0|v[S+V];else{var G=U[V-15],W=U[V-2];U[V]=((G<<25|G>>>7)^(G<<14|G>>>18)^G>>>3)+U[V-7]+((W<<15|W>>>17)^(W<<13|W>>>19)^W>>>10)+U[V-16]}G=L+((O<<26|O>>>6)^(O<<21|O>>>11)^(O<<7|O>>>25))+(O&F^~O&N)+R[V]+U[V],W=((E<<30|E>>>2)^(E<<19|E>>>13)^(E<<10|E>>>22))+(E&P^E&D^P&D),L=N,N=F,F=O,O=M+G|0,M=D,D=P,P=E,E=G+W|0}_[0]=_[0]+E|0,_[1]=_[1]+P|0,_[2]=_[2]+D|0,_[3]=_[3]+M|0,_[4]=_[4]+O|0,_[5]=_[5]+F|0,_[6]=_[6]+N|0,_[7]=_[7]+L|0},_doFinalize:function(){var S=this._data,_=S.words,E=8*this._nDataBytes,P=8*S.sigBytes;return _[P>>>5]|=128<<24-P%32,_[14+(P+64>>>9<<4)]=v.floor(E/4294967296),_[15+(P+64>>>9<<4)]=E,S.sigBytes=4*_.length,this._process(),this._hash},clone:function(){var v=E.clone.call(this);return v._hash=this._hash.clone(),v}});S.SHA256=E._createHelper(P),S.HmacSHA256=E._createHmacHelper(P)}(Math),function(){var v=X,S=v.lib.WordArray,_=(E=v.algo).SHA256,E=E.SHA224=_.extend({_doReset:function(){this._hash=new S.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var v=_._doFinalize.call(this);return v.sigBytes-=4,v}});v.SHA224=_._createHelper(E),v.HmacSHA224=_._createHmacHelper(E)}(),function(){function a(){return _.create.apply(_,arguments)}for(var v=X,S=v.lib.Hasher,_=(P=v.x64).Word,E=P.WordArray,P=v.algo,D=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],R=[],M=0;80>M;M++)R[M]=a();P=P.SHA512=S.extend({_doReset:function(){this._hash=new E.init([new _.init(1779033703,4089235720),new _.init(3144134277,2227873595),new _.init(1013904242,4271175723),new _.init(2773480762,1595750129),new _.init(1359893119,2917565137),new _.init(2600822924,725511199),new _.init(528734635,4215389547),new _.init(1541459225,327033209)])},_doProcessBlock:function(v,S){for(var _=(L=this._hash.words)[0],E=L[1],P=L[2],M=L[3],O=L[4],F=L[5],N=L[6],L=L[7],U=_.high,V=_.low,G=E.high,W=E.low,$=P.high,X=P.low,Y=M.high,J=M.low,Z=O.high,Q=O.low,tt=F.high,et=F.low,rt=N.high,nt=N.low,it=L.high,st=L.low,ot=U,at=V,ct=G,ut=W,ht=$,dt=X,ft=Y,pt=J,mt=Z,yt=Q,vt=tt,bt=et,St=rt,wt=nt,Tt=it,xt=st,_t=0;80>_t;_t++){var Et=R[_t];if(16>_t)var Ct=Et.high=0|v[S+2*_t],At=Et.low=0|v[S+2*_t+1];else{Ct=((At=(Ct=R[_t-15]).high)>>>1|(It=Ct.low)<<31)^(At>>>8|It<<24)^At>>>7;var It=(It>>>1|At<<31)^(It>>>8|At<<24)^(It>>>7|At<<25),Pt=((At=(Pt=R[_t-2]).high)>>>19|(Dt=Pt.low)<<13)^(At<<3|Dt>>>29)^At>>>6,Dt=(Dt>>>19|At<<13)^(Dt<<3|At>>>29)^(Dt>>>6|At<<26),Bt=(At=R[_t-7]).high,Rt=(Mt=R[_t-16]).high,Mt=Mt.low;Ct=(Ct=(Ct=Ct+Bt+((At=It+At.low)>>>0<It>>>0?1:0))+Pt+((At=At+Dt)>>>0<Dt>>>0?1:0))+Rt+((At=At+Mt)>>>0<Mt>>>0?1:0);Et.high=Ct,Et.low=At}Bt=mt&vt^~mt&St,Mt=yt&bt^~yt&wt,Et=ot&ct^ot&ht^ct&ht;var Ot=at&ut^at&dt^ut&dt,kt=(It=(ot>>>28|at<<4)^(ot<<30|at>>>2)^(ot<<25|at>>>7),Pt=(at>>>28|ot<<4)^(at<<30|ot>>>2)^(at<<25|ot>>>7),(Dt=D[_t]).high),Ft=Dt.low;Rt=Tt+((mt>>>14|yt<<18)^(mt>>>18|yt<<14)^(mt<<23|yt>>>9))+((Dt=xt+((yt>>>14|mt<<18)^(yt>>>18|mt<<14)^(yt<<23|mt>>>9)))>>>0<xt>>>0?1:0),Tt=St,xt=wt,St=vt,wt=bt,vt=mt,bt=yt,mt=ft+(Rt=(Rt=(Rt=Rt+Bt+((Dt=Dt+Mt)>>>0<Mt>>>0?1:0))+kt+((Dt=Dt+Ft)>>>0<Ft>>>0?1:0))+Ct+((Dt=Dt+At)>>>0<At>>>0?1:0))+((yt=pt+Dt|0)>>>0<pt>>>0?1:0)|0,ft=ht,pt=dt,ht=ct,dt=ut,ct=ot,ut=at,ot=Rt+(Et=It+Et+((At=Pt+Ot)>>>0<Pt>>>0?1:0))+((at=Dt+At|0)>>>0<Dt>>>0?1:0)|0}V=_.low=V+at,_.high=U+ot+(V>>>0<at>>>0?1:0),W=E.low=W+ut,E.high=G+ct+(W>>>0<ut>>>0?1:0),X=P.low=X+dt,P.high=$+ht+(X>>>0<dt>>>0?1:0),J=M.low=J+pt,M.high=Y+ft+(J>>>0<pt>>>0?1:0),Q=O.low=Q+yt,O.high=Z+mt+(Q>>>0<yt>>>0?1:0),et=F.low=et+bt,F.high=tt+vt+(et>>>0<bt>>>0?1:0),nt=N.low=nt+wt,N.high=rt+St+(nt>>>0<wt>>>0?1:0),st=L.low=st+xt,L.high=it+Tt+(st>>>0<xt>>>0?1:0)},_doFinalize:function(){var v=this._data,S=v.words,_=8*this._nDataBytes,E=8*v.sigBytes;return S[E>>>5]|=128<<24-E%32,S[30+(E+128>>>10<<5)]=Math.floor(_/4294967296),S[31+(E+128>>>10<<5)]=_,v.sigBytes=4*S.length,this._process(),this._hash.toX32()},clone:function(){var v=S.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:32}),v.SHA512=S._createHelper(P),v.HmacSHA512=S._createHmacHelper(P)}(),function(){var v=X,S=(P=v.x64).Word,_=P.WordArray,E=(P=v.algo).SHA512,P=P.SHA384=E.extend({_doReset:function(){this._hash=new _.init([new S.init(3418070365,3238371032),new S.init(1654270250,914150663),new S.init(2438529370,812702999),new S.init(355462360,4144912697),new S.init(1731405415,4290775857),new S.init(2394180231,1750603025),new S.init(3675008525,1694076839),new S.init(1203062813,3204075428)])},_doFinalize:function(){var v=E._doFinalize.call(this);return v.sigBytes-=16,v}});v.SHA384=E._createHelper(P),v.HmacSHA384=E._createHmacHelper(P)}(),function(){var v=X,S=(E=v.lib).WordArray,_=E.Hasher,E=v.algo,P=S.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),D=S.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),R=S.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),M=S.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),O=S.create([0,1518500249,1859775393,2400959708,2840853838]),F=S.create([1352829926,1548603684,1836072691,2053994217,0]);E=E.RIPEMD160=_.extend({_doReset:function(){this._hash=S.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(v,S){for(var _=0;16>_;_++){var E=v[Z=S+_];v[Z]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8)}var N,L,U,V,G,W,$,X,Y,J,Z=this._hash.words,Q=(E=O.words,F.words),tt=P.words,et=D.words,rt=R.words,nt=M.words;W=N=Z[0],$=L=Z[1],X=U=Z[2],Y=V=Z[3],J=G=Z[4];var it;for(_=0;80>_;_+=1)it=N+v[S+tt[_]]|0,it=16>_?it+((L^U^V)+E[0]):32>_?it+((L&U|~L&V)+E[1]):48>_?it+(((L|~U)^V)+E[2]):64>_?it+((L&V|U&~V)+E[3]):it+((L^(U|~V))+E[4]),it=(it=(it|=0)<<rt[_]|it>>>32-rt[_])+G|0,N=G,G=V,V=U<<10|U>>>22,U=L,L=it,it=W+v[S+et[_]]|0,it=16>_?it+(($^(X|~Y))+Q[0]):32>_?it+(($&Y|X&~Y)+Q[1]):48>_?it+((($|~X)^Y)+Q[2]):64>_?it+(($&X|~$&Y)+Q[3]):it+(($^X^Y)+Q[4]),it=(it=(it|=0)<<nt[_]|it>>>32-nt[_])+J|0,W=J,J=Y,Y=X<<10|X>>>22,X=$,$=it;it=Z[1]+U+Y|0,Z[1]=Z[2]+V+J|0,Z[2]=Z[3]+G+W|0,Z[3]=Z[4]+N+$|0,Z[4]=Z[0]+L+X|0,Z[0]=it},_doFinalize:function(){var v=this._data,S=v.words,_=8*this._nDataBytes,E=8*v.sigBytes;for(S[E>>>5]|=128<<24-E%32,S[14+(E+64>>>9<<4)]=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),v.sigBytes=4*(S.length+1),this._process(),S=(v=this._hash).words,_=0;5>_;_++)E=S[_],S[_]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8);return v},clone:function(){var v=_.clone.call(this);return v._hash=this._hash.clone(),v}});v.RIPEMD160=_._createHelper(E),v.HmacRIPEMD160=_._createHmacHelper(E)}(Math),function(){var v=X,S=v.enc.Utf8;v.algo.HMAC=v.lib.Base.extend({init:function(v,_){v=this._hasher=new v.init,"string"==typeof _&&(_=S.parse(_));var E=v.blockSize,P=4*E;_.sigBytes>P&&(_=v.finalize(_)),_.clamp();for(var D=this._oKey=_.clone(),R=this._iKey=_.clone(),M=D.words,O=R.words,F=0;F<E;F++)M[F]^=1549556828,O[F]^=909522486;D.sigBytes=R.sigBytes=P,this.reset()},reset:function(){var v=this._hasher;v.reset(),v.update(this._iKey)},update:function(v){return this._hasher.update(v),this},finalize:function(v){var S=this._hasher;return v=S.finalize(v),S.reset(),S.finalize(this._oKey.clone().concat(v))}})}(),function(){var v,S=X,_=(v=S.lib).Base,E=v.WordArray,P=(v=S.algo).HMAC,D=v.PBKDF2=_.extend({cfg:_.extend({keySize:4,hasher:v.SHA1,iterations:1}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,S){var _=this.cfg,D=P.create(_.hasher,v),R=E.create(),M=E.create([1]),O=R.words,F=M.words,N=_.keySize;for(_=_.iterations;O.length<N;){var L=D.update(S).finalize(M);D.reset();for(var U=L.words,V=U.length,G=L,W=1;W<_;W++){G=D.finalize(G),D.reset();for(var $=G.words,X=0;X<V;X++)U[X]^=$[X]}R.concat(L),F[0]++}return R.sigBytes=4*N,R}});S.PBKDF2=function(v,S,_){return D.create(_).compute(v,S)}}();var Y,J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z="=";function hex2b64(v){var S,_,E="";for(S=0;S+3<=v.length;S+=3)_=parseInt(v.substring(S,S+3),16),E+=J.charAt(_>>6)+J.charAt(63&_);if(S+1==v.length?(_=parseInt(v.substring(S,S+1),16),E+=J.charAt(_<<2)):S+2==v.length&&(_=parseInt(v.substring(S,S+2),16),E+=J.charAt(_>>2)+J.charAt((3&_)<<4)),Z)for(;(3&E.length)>0;)E+=Z;return E}function b64tohex(v){var S,_,E,P="",D=0;for(S=0;S<v.length&&v.charAt(S)!=Z;++S)(E=J.indexOf(v.charAt(S)))<0||(0==D?(P+=int2char(E>>2),_=3&E,D=1):1==D?(P+=int2char(_<<2|E>>4),_=15&E,D=2):2==D?(P+=int2char(_),P+=int2char(E>>2),_=3&E,D=3):(P+=int2char(_<<2|E>>4),P+=int2char(15&E),D=0));return 1==D&&(P+=int2char(_<<2)),P}function b64toBA(v){var S,_=b64tohex(v),E=new Array;for(S=0;2*S<_.length;++S)E[S]=parseInt(_.substring(2*S,2*S+2),16);return E}function BigInteger(v,S,_){null!=v&&("number"==typeof v?this.fromNumber(v,S,_):null==S&&"string"!=typeof v?this.fromString(v,256):this.fromString(v,S))}function nbi(){return new BigInteger(null)}"Microsoft Internet Explorer"==W.appName?(BigInteger.prototype.am=function am2(v,S,_,E,P,D){for(var R=32767&S,M=S>>15;--D>=0;){var O=32767&this[v],F=this[v++]>>15,N=M*O+F*R;P=((O=R*O+((32767&N)<<15)+_[E]+(1073741823&P))>>>30)+(N>>>15)+M*F+(P>>>30),_[E++]=1073741823&O}return P},Y=30):"Netscape"!=W.appName?(BigInteger.prototype.am=function am1(v,S,_,E,P,D){for(;--D>=0;){var R=S*this[v++]+_[E]+P;P=Math.floor(R/67108864),_[E++]=67108863&R}return P},Y=26):(BigInteger.prototype.am=function am3(v,S,_,E,P,D){for(var R=16383&S,M=S>>14;--D>=0;){var O=16383&this[v],F=this[v++]>>14,N=M*O+F*R;P=((O=R*O+((16383&N)<<14)+_[E]+P)>>28)+(N>>14)+M*F,_[E++]=268435455&O}return P},Y=28),BigInteger.prototype.DB=Y,BigInteger.prototype.DM=(1<<Y)-1,BigInteger.prototype.DV=1<<Y;BigInteger.prototype.FV=Math.pow(2,52),BigInteger.prototype.F1=52-Y,BigInteger.prototype.F2=2*Y-52;var Q,tt,et="0123456789abcdefghijklmnopqrstuvwxyz",rt=new Array;for(Q="0".charCodeAt(0),tt=0;tt<=9;++tt)rt[Q++]=tt;for(Q="a".charCodeAt(0),tt=10;tt<36;++tt)rt[Q++]=tt;for(Q="A".charCodeAt(0),tt=10;tt<36;++tt)rt[Q++]=tt;function int2char(v){return et.charAt(v)}function intAt(v,S){var _=rt[v.charCodeAt(S)];return null==_?-1:_}function nbv(v){var S=nbi();return S.fromInt(v),S}function nbits(v){var S,_=1;return 0!=(S=v>>>16)&&(v=S,_+=16),0!=(S=v>>8)&&(v=S,_+=8),0!=(S=v>>4)&&(v=S,_+=4),0!=(S=v>>2)&&(v=S,_+=2),0!=(S=v>>1)&&(v=S,_+=1),_}function Classic(v){this.m=v}function Montgomery(v){this.m=v,this.mp=v.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<v.DB-15)-1,this.mt2=2*v.t}function op_and(v,S){return v&S}function op_or(v,S){return v|S}function op_xor(v,S){return v^S}function op_andnot(v,S){return v&~S}function lbit(v){if(0==v)return-1;var S=0;return 65535&v||(v>>=16,S+=16),255&v||(v>>=8,S+=8),15&v||(v>>=4,S+=4),3&v||(v>>=2,S+=2),1&v||++S,S}function cbit(v){for(var S=0;0!=v;)v&=v-1,++S;return S}function NullExp(){}function nNop(v){return v}function Barrett(v){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*v.t,this.r2),this.mu=this.r2.divide(v),this.m=v}Classic.prototype.convert=function cConvert(v){return v.s<0||v.compareTo(this.m)>=0?v.mod(this.m):v},Classic.prototype.revert=function cRevert(v){return v},Classic.prototype.reduce=function cReduce(v){v.divRemTo(this.m,null,v)},Classic.prototype.mulTo=function cMulTo(v,S,_){v.multiplyTo(S,_),this.reduce(_)},Classic.prototype.sqrTo=function cSqrTo(v,S){v.squareTo(S),this.reduce(S)},Montgomery.prototype.convert=function montConvert(v){var S=nbi();return v.abs().dlShiftTo(this.m.t,S),S.divRemTo(this.m,null,S),v.s<0&&S.compareTo(BigInteger.ZERO)>0&&this.m.subTo(S,S),S},Montgomery.prototype.revert=function montRevert(v){var S=nbi();return v.copyTo(S),this.reduce(S),S},Montgomery.prototype.reduce=function montReduce(v){for(;v.t<=this.mt2;)v[v.t++]=0;for(var S=0;S<this.m.t;++S){var _=32767&v[S],E=_*this.mpl+((_*this.mph+(v[S]>>15)*this.mpl&this.um)<<15)&v.DM;for(v[_=S+this.m.t]+=this.m.am(0,E,v,S,0,this.m.t);v[_]>=v.DV;)v[_]-=v.DV,v[++_]++}v.clamp(),v.drShiftTo(this.m.t,v),v.compareTo(this.m)>=0&&v.subTo(this.m,v)},Montgomery.prototype.mulTo=function montMulTo(v,S,_){v.multiplyTo(S,_),this.reduce(_)},Montgomery.prototype.sqrTo=function montSqrTo(v,S){v.squareTo(S),this.reduce(S)},BigInteger.prototype.copyTo=function bnpCopyTo(v){for(var S=this.t-1;S>=0;--S)v[S]=this[S];v.t=this.t,v.s=this.s},BigInteger.prototype.fromInt=function bnpFromInt(v){this.t=1,this.s=v<0?-1:0,v>0?this[0]=v:v<-1?this[0]=v+this.DV:this.t=0},BigInteger.prototype.fromString=function bnpFromString(v,S){var _;if(16==S)_=4;else if(8==S)_=3;else if(256==S)_=8;else if(2==S)_=1;else if(32==S)_=5;else{if(4!=S)return void this.fromRadix(v,S);_=2}this.t=0,this.s=0;for(var E=v.length,P=!1,D=0;--E>=0;){var R=8==_?255&v[E]:intAt(v,E);R<0?"-"==v.charAt(E)&&(P=!0):(P=!1,0==D?this[this.t++]=R:D+_>this.DB?(this[this.t-1]|=(R&(1<<this.DB-D)-1)<<D,this[this.t++]=R>>this.DB-D):this[this.t-1]|=R<<D,(D+=_)>=this.DB&&(D-=this.DB))}8==_&&128&v[0]&&(this.s=-1,D>0&&(this[this.t-1]|=(1<<this.DB-D)-1<<D)),this.clamp(),P&&BigInteger.ZERO.subTo(this,this)},BigInteger.prototype.clamp=function bnpClamp(){for(var v=this.s&this.DM;this.t>0&&this[this.t-1]==v;)--this.t},BigInteger.prototype.dlShiftTo=function bnpDLShiftTo(v,S){var _;for(_=this.t-1;_>=0;--_)S[_+v]=this[_];for(_=v-1;_>=0;--_)S[_]=0;S.t=this.t+v,S.s=this.s},BigInteger.prototype.drShiftTo=function bnpDRShiftTo(v,S){for(var _=v;_<this.t;++_)S[_-v]=this[_];S.t=Math.max(this.t-v,0),S.s=this.s},BigInteger.prototype.lShiftTo=function bnpLShiftTo(v,S){var _,E=v%this.DB,P=this.DB-E,D=(1<<P)-1,R=Math.floor(v/this.DB),M=this.s<<E&this.DM;for(_=this.t-1;_>=0;--_)S[_+R+1]=this[_]>>P|M,M=(this[_]&D)<<E;for(_=R-1;_>=0;--_)S[_]=0;S[R]=M,S.t=this.t+R+1,S.s=this.s,S.clamp()},BigInteger.prototype.rShiftTo=function bnpRShiftTo(v,S){S.s=this.s;var _=Math.floor(v/this.DB);if(_>=this.t)S.t=0;else{var E=v%this.DB,P=this.DB-E,D=(1<<E)-1;S[0]=this[_]>>E;for(var R=_+1;R<this.t;++R)S[R-_-1]|=(this[R]&D)<<P,S[R-_]=this[R]>>E;E>0&&(S[this.t-_-1]|=(this.s&D)<<P),S.t=this.t-_,S.clamp()}},BigInteger.prototype.subTo=function bnpSubTo(v,S){for(var _=0,E=0,P=Math.min(v.t,this.t);_<P;)E+=this[_]-v[_],S[_++]=E&this.DM,E>>=this.DB;if(v.t<this.t){for(E-=v.s;_<this.t;)E+=this[_],S[_++]=E&this.DM,E>>=this.DB;E+=this.s}else{for(E+=this.s;_<v.t;)E-=v[_],S[_++]=E&this.DM,E>>=this.DB;E-=v.s}S.s=E<0?-1:0,E<-1?S[_++]=this.DV+E:E>0&&(S[_++]=E),S.t=_,S.clamp()},BigInteger.prototype.multiplyTo=function bnpMultiplyTo(v,S){var _=this.abs(),E=v.abs(),P=_.t;for(S.t=P+E.t;--P>=0;)S[P]=0;for(P=0;P<E.t;++P)S[P+_.t]=_.am(0,E[P],S,P,0,_.t);S.s=0,S.clamp(),this.s!=v.s&&BigInteger.ZERO.subTo(S,S)},BigInteger.prototype.squareTo=function bnpSquareTo(v){for(var S=this.abs(),_=v.t=2*S.t;--_>=0;)v[_]=0;for(_=0;_<S.t-1;++_){var E=S.am(_,S[_],v,2*_,0,1);(v[_+S.t]+=S.am(_+1,2*S[_],v,2*_+1,E,S.t-_-1))>=S.DV&&(v[_+S.t]-=S.DV,v[_+S.t+1]=1)}v.t>0&&(v[v.t-1]+=S.am(_,S[_],v,2*_,0,1)),v.s=0,v.clamp()},BigInteger.prototype.divRemTo=function bnpDivRemTo(v,S,_){var E=v.abs();if(!(E.t<=0)){var P=this.abs();if(P.t<E.t)return null!=S&&S.fromInt(0),void(null!=_&&this.copyTo(_));null==_&&(_=nbi());var D=nbi(),R=this.s,M=v.s,O=this.DB-nbits(E[E.t-1]);O>0?(E.lShiftTo(O,D),P.lShiftTo(O,_)):(E.copyTo(D),P.copyTo(_));var F=D.t,N=D[F-1];if(0!=N){var L=N*(1<<this.F1)+(F>1?D[F-2]>>this.F2:0),U=this.FV/L,V=(1<<this.F1)/L,G=1<<this.F2,W=_.t,$=W-F,X=null==S?nbi():S;for(D.dlShiftTo($,X),_.compareTo(X)>=0&&(_[_.t++]=1,_.subTo(X,_)),BigInteger.ONE.dlShiftTo(F,X),X.subTo(D,D);D.t<F;)D[D.t++]=0;for(;--$>=0;){var Y=_[--W]==N?this.DM:Math.floor(_[W]*U+(_[W-1]+G)*V);if((_[W]+=D.am(0,Y,_,$,0,F))<Y)for(D.dlShiftTo($,X),_.subTo(X,_);_[W]<--Y;)_.subTo(X,_)}null!=S&&(_.drShiftTo(F,S),R!=M&&BigInteger.ZERO.subTo(S,S)),_.t=F,_.clamp(),O>0&&_.rShiftTo(O,_),R<0&&BigInteger.ZERO.subTo(_,_)}}},BigInteger.prototype.invDigit=function bnpInvDigit(){if(this.t<1)return 0;var v=this[0];if(!(1&v))return 0;var S=3&v;return(S=(S=(S=(S=S*(2-(15&v)*S)&15)*(2-(255&v)*S)&255)*(2-((65535&v)*S&65535))&65535)*(2-v*S%this.DV)%this.DV)>0?this.DV-S:-S},BigInteger.prototype.isEven=function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)},BigInteger.prototype.exp=function bnpExp(v,S){if(v>4294967295||v<1)return BigInteger.ONE;var _=nbi(),E=nbi(),P=S.convert(this),D=nbits(v)-1;for(P.copyTo(_);--D>=0;)if(S.sqrTo(_,E),(v&1<<D)>0)S.mulTo(E,P,_);else{var R=_;_=E,E=R}return S.revert(_)},BigInteger.prototype.toString=function bnToString(v){if(this.s<0)return"-"+this.negate().toString(v);var S;if(16==v)S=4;else if(8==v)S=3;else if(2==v)S=1;else if(32==v)S=5;else{if(4!=v)return this.toRadix(v);S=2}var _,E=(1<<S)-1,P=!1,D="",R=this.t,M=this.DB-R*this.DB%S;if(R-- >0)for(M<this.DB&&(_=this[R]>>M)>0&&(P=!0,D=int2char(_));R>=0;)M<S?(_=(this[R]&(1<<M)-1)<<S-M,_|=this[--R]>>(M+=this.DB-S)):(_=this[R]>>(M-=S)&E,M<=0&&(M+=this.DB,--R)),_>0&&(P=!0),P&&(D+=int2char(_));return P?D:"0"},BigInteger.prototype.negate=function bnNegate(){var v=nbi();return BigInteger.ZERO.subTo(this,v),v},BigInteger.prototype.abs=function bnAbs(){return this.s<0?this.negate():this},BigInteger.prototype.compareTo=function bnCompareTo(v){var S=this.s-v.s;if(0!=S)return S;var _=this.t;if(0!=(S=_-v.t))return this.s<0?-S:S;for(;--_>=0;)if(0!=(S=this[_]-v[_]))return S;return 0},BigInteger.prototype.bitLength=function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)},BigInteger.prototype.mod=function bnMod(v){var S=nbi();return this.abs().divRemTo(v,null,S),this.s<0&&S.compareTo(BigInteger.ZERO)>0&&v.subTo(S,S),S},BigInteger.prototype.modPowInt=function bnModPowInt(v,S){var _;return _=v<256||S.isEven()?new Classic(S):new Montgomery(S),this.exp(v,_)},BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=function nMulTo(v,S,_){v.multiplyTo(S,_)},NullExp.prototype.sqrTo=function nSqrTo(v,S){v.squareTo(S)},Barrett.prototype.convert=function barrettConvert(v){if(v.s<0||v.t>2*this.m.t)return v.mod(this.m);if(v.compareTo(this.m)<0)return v;var S=nbi();return v.copyTo(S),this.reduce(S),S},Barrett.prototype.revert=function barrettRevert(v){return v},Barrett.prototype.reduce=function barrettReduce(v){for(v.drShiftTo(this.m.t-1,this.r2),v.t>this.m.t+1&&(v.t=this.m.t+1,v.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);v.compareTo(this.r2)<0;)v.dAddOffset(1,this.m.t+1);for(v.subTo(this.r2,v);v.compareTo(this.m)>=0;)v.subTo(this.m,v)},Barrett.prototype.mulTo=function barrettMulTo(v,S,_){v.multiplyTo(S,_),this.reduce(_)},Barrett.prototype.sqrTo=function barrettSqrTo(v,S){v.squareTo(S),this.reduce(S)};var nt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],it=(1<<26)/nt[nt.length-1];function Arcfour(){this.i=0,this.j=0,this.S=new Array}BigInteger.prototype.chunkSize=function bnpChunkSize(v){return Math.floor(Math.LN2*this.DB/Math.log(v))},BigInteger.prototype.toRadix=function bnpToRadix(v){if(null==v&&(v=10),0==this.signum()||v<2||v>36)return"0";var S=this.chunkSize(v),_=Math.pow(v,S),E=nbv(_),P=nbi(),D=nbi(),R="";for(this.divRemTo(E,P,D);P.signum()>0;)R=(_+D.intValue()).toString(v).substr(1)+R,P.divRemTo(E,P,D);return D.intValue().toString(v)+R},BigInteger.prototype.fromRadix=function bnpFromRadix(v,S){this.fromInt(0),null==S&&(S=10);for(var _=this.chunkSize(S),E=Math.pow(S,_),P=!1,D=0,R=0,M=0;M<v.length;++M){var O=intAt(v,M);O<0?"-"==v.charAt(M)&&0==this.signum()&&(P=!0):(R=S*R+O,++D>=_&&(this.dMultiply(E),this.dAddOffset(R,0),D=0,R=0))}D>0&&(this.dMultiply(Math.pow(S,D)),this.dAddOffset(R,0)),P&&BigInteger.ZERO.subTo(this,this)},BigInteger.prototype.fromNumber=function bnpFromNumber(v,S,_){if("number"==typeof S)if(v<2)this.fromInt(1);else for(this.fromNumber(v,_),this.testBit(v-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(v-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(S);)this.dAddOffset(2,0),this.bitLength()>v&&this.subTo(BigInteger.ONE.shiftLeft(v-1),this);else{var E=new Array,P=7&v;E.length=1+(v>>3),S.nextBytes(E),P>0?E[0]&=(1<<P)-1:E[0]=0,this.fromString(E,256)}},BigInteger.prototype.bitwiseTo=function bnpBitwiseTo(v,S,_){var E,P,D=Math.min(v.t,this.t);for(E=0;E<D;++E)_[E]=S(this[E],v[E]);if(v.t<this.t){for(P=v.s&this.DM,E=D;E<this.t;++E)_[E]=S(this[E],P);_.t=this.t}else{for(P=this.s&this.DM,E=D;E<v.t;++E)_[E]=S(P,v[E]);_.t=v.t}_.s=S(this.s,v.s),_.clamp()},BigInteger.prototype.changeBit=function bnpChangeBit(v,S){var _=BigInteger.ONE.shiftLeft(v);return this.bitwiseTo(_,S,_),_},BigInteger.prototype.addTo=function bnpAddTo(v,S){for(var _=0,E=0,P=Math.min(v.t,this.t);_<P;)E+=this[_]+v[_],S[_++]=E&this.DM,E>>=this.DB;if(v.t<this.t){for(E+=v.s;_<this.t;)E+=this[_],S[_++]=E&this.DM,E>>=this.DB;E+=this.s}else{for(E+=this.s;_<v.t;)E+=v[_],S[_++]=E&this.DM,E>>=this.DB;E+=v.s}S.s=E<0?-1:0,E>0?S[_++]=E:E<-1&&(S[_++]=this.DV+E),S.t=_,S.clamp()},BigInteger.prototype.dMultiply=function bnpDMultiply(v){this[this.t]=this.am(0,v-1,this,0,0,this.t),++this.t,this.clamp()},BigInteger.prototype.dAddOffset=function bnpDAddOffset(v,S){if(0!=v){for(;this.t<=S;)this[this.t++]=0;for(this[S]+=v;this[S]>=this.DV;)this[S]-=this.DV,++S>=this.t&&(this[this.t++]=0),++this[S]}},BigInteger.prototype.multiplyLowerTo=function bnpMultiplyLowerTo(v,S,_){var E,P=Math.min(this.t+v.t,S);for(_.s=0,_.t=P;P>0;)_[--P]=0;for(E=_.t-this.t;P<E;++P)_[P+this.t]=this.am(0,v[P],_,P,0,this.t);for(E=Math.min(v.t,S);P<E;++P)this.am(0,v[P],_,P,0,S-P);_.clamp()},BigInteger.prototype.multiplyUpperTo=function bnpMultiplyUpperTo(v,S,_){--S;var E=_.t=this.t+v.t-S;for(_.s=0;--E>=0;)_[E]=0;for(E=Math.max(S-this.t,0);E<v.t;++E)_[this.t+E-S]=this.am(S-E,v[E],_,0,0,this.t+E-S);_.clamp(),_.drShiftTo(1,_)},BigInteger.prototype.modInt=function bnpModInt(v){if(v<=0)return 0;var S=this.DV%v,_=this.s<0?v-1:0;if(this.t>0)if(0==S)_=this[0]%v;else for(var E=this.t-1;E>=0;--E)_=(S*_+this[E])%v;return _},BigInteger.prototype.millerRabin=function bnpMillerRabin(v){var S=this.subtract(BigInteger.ONE),_=S.getLowestSetBit();if(_<=0)return!1;var E=S.shiftRight(_);(v=v+1>>1)>nt.length&&(v=nt.length);for(var P=nbi(),D=0;D<v;++D){P.fromInt(nt[Math.floor(Math.random()*nt.length)]);var R=P.modPow(E,this);if(0!=R.compareTo(BigInteger.ONE)&&0!=R.compareTo(S)){for(var M=1;M++<_&&0!=R.compareTo(S);)if(0==(R=R.modPowInt(2,this)).compareTo(BigInteger.ONE))return!1;if(0!=R.compareTo(S))return!1}}return!0},BigInteger.prototype.clone=function bnClone(){var v=nbi();return this.copyTo(v),v},BigInteger.prototype.intValue=function bnIntValue(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},BigInteger.prototype.byteValue=function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24},BigInteger.prototype.shortValue=function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16},BigInteger.prototype.signum=function bnSigNum(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},BigInteger.prototype.toByteArray=function bnToByteArray(){var v=this.t,S=new Array;S[0]=this.s;var _,E=this.DB-v*this.DB%8,P=0;if(v-- >0)for(E<this.DB&&(_=this[v]>>E)!=(this.s&this.DM)>>E&&(S[P++]=_|this.s<<this.DB-E);v>=0;)E<8?(_=(this[v]&(1<<E)-1)<<8-E,_|=this[--v]>>(E+=this.DB-8)):(_=this[v]>>(E-=8)&255,E<=0&&(E+=this.DB,--v)),128&_&&(_|=-256),0==P&&(128&this.s)!=(128&_)&&++P,(P>0||_!=this.s)&&(S[P++]=_);return S},BigInteger.prototype.equals=function bnEquals(v){return 0==this.compareTo(v)},BigInteger.prototype.min=function bnMin(v){return this.compareTo(v)<0?this:v},BigInteger.prototype.max=function bnMax(v){return this.compareTo(v)>0?this:v},BigInteger.prototype.and=function bnAnd(v){var S=nbi();return this.bitwiseTo(v,op_and,S),S},BigInteger.prototype.or=function bnOr(v){var S=nbi();return this.bitwiseTo(v,op_or,S),S},BigInteger.prototype.xor=function bnXor(v){var S=nbi();return this.bitwiseTo(v,op_xor,S),S},BigInteger.prototype.andNot=function bnAndNot(v){var S=nbi();return this.bitwiseTo(v,op_andnot,S),S},BigInteger.prototype.not=function bnNot(){for(var v=nbi(),S=0;S<this.t;++S)v[S]=this.DM&~this[S];return v.t=this.t,v.s=~this.s,v},BigInteger.prototype.shiftLeft=function bnShiftLeft(v){var S=nbi();return v<0?this.rShiftTo(-v,S):this.lShiftTo(v,S),S},BigInteger.prototype.shiftRight=function bnShiftRight(v){var S=nbi();return v<0?this.lShiftTo(-v,S):this.rShiftTo(v,S),S},BigInteger.prototype.getLowestSetBit=function bnGetLowestSetBit(){for(var v=0;v<this.t;++v)if(0!=this[v])return v*this.DB+lbit(this[v]);return this.s<0?this.t*this.DB:-1},BigInteger.prototype.bitCount=function bnBitCount(){for(var v=0,S=this.s&this.DM,_=0;_<this.t;++_)v+=cbit(this[_]^S);return v},BigInteger.prototype.testBit=function bnTestBit(v){var S=Math.floor(v/this.DB);return S>=this.t?0!=this.s:!!(this[S]&1<<v%this.DB)},BigInteger.prototype.setBit=function bnSetBit(v){return this.changeBit(v,op_or)},BigInteger.prototype.clearBit=function bnClearBit(v){return this.changeBit(v,op_andnot)},BigInteger.prototype.flipBit=function bnFlipBit(v){return this.changeBit(v,op_xor)},BigInteger.prototype.add=function bnAdd(v){var S=nbi();return this.addTo(v,S),S},BigInteger.prototype.subtract=function bnSubtract(v){var S=nbi();return this.subTo(v,S),S},BigInteger.prototype.multiply=function bnMultiply(v){var S=nbi();return this.multiplyTo(v,S),S},BigInteger.prototype.divide=function bnDivide(v){var S=nbi();return this.divRemTo(v,S,null),S},BigInteger.prototype.remainder=function bnRemainder(v){var S=nbi();return this.divRemTo(v,null,S),S},BigInteger.prototype.divideAndRemainder=function bnDivideAndRemainder(v){var S=nbi(),_=nbi();return this.divRemTo(v,S,_),new Array(S,_)},BigInteger.prototype.modPow=function bnModPow(v,S){var _,E,P=v.bitLength(),D=nbv(1);if(P<=0)return D;_=P<18?1:P<48?3:P<144?4:P<768?5:6,E=P<8?new Classic(S):S.isEven()?new Barrett(S):new Montgomery(S);var R=new Array,M=3,O=_-1,F=(1<<_)-1;if(R[1]=E.convert(this),_>1){var N=nbi();for(E.sqrTo(R[1],N);M<=F;)R[M]=nbi(),E.mulTo(N,R[M-2],R[M]),M+=2}var L,U,V=v.t-1,G=!0,W=nbi();for(P=nbits(v[V])-1;V>=0;){for(P>=O?L=v[V]>>P-O&F:(L=(v[V]&(1<<P+1)-1)<<O-P,V>0&&(L|=v[V-1]>>this.DB+P-O)),M=_;!(1&L);)L>>=1,--M;if((P-=M)<0&&(P+=this.DB,--V),G)R[L].copyTo(D),G=!1;else{for(;M>1;)E.sqrTo(D,W),E.sqrTo(W,D),M-=2;M>0?E.sqrTo(D,W):(U=D,D=W,W=U),E.mulTo(W,R[L],D)}for(;V>=0&&!(v[V]&1<<P);)E.sqrTo(D,W),U=D,D=W,W=U,--P<0&&(P=this.DB-1,--V)}return E.revert(D)},BigInteger.prototype.modInverse=function bnModInverse(v){var S=v.isEven();if(this.isEven()&&S||0==v.signum())return BigInteger.ZERO;for(var _=v.clone(),E=this.clone(),P=nbv(1),D=nbv(0),R=nbv(0),M=nbv(1);0!=_.signum();){for(;_.isEven();)_.rShiftTo(1,_),S?(P.isEven()&&D.isEven()||(P.addTo(this,P),D.subTo(v,D)),P.rShiftTo(1,P)):D.isEven()||D.subTo(v,D),D.rShiftTo(1,D);for(;E.isEven();)E.rShiftTo(1,E),S?(R.isEven()&&M.isEven()||(R.addTo(this,R),M.subTo(v,M)),R.rShiftTo(1,R)):M.isEven()||M.subTo(v,M),M.rShiftTo(1,M);_.compareTo(E)>=0?(_.subTo(E,_),S&&P.subTo(R,P),D.subTo(M,D)):(E.subTo(_,E),S&&R.subTo(P,R),M.subTo(D,M))}return 0!=E.compareTo(BigInteger.ONE)?BigInteger.ZERO:M.compareTo(v)>=0?M.subtract(v):M.signum()<0?(M.addTo(v,M),M.signum()<0?M.add(v):M):M},BigInteger.prototype.pow=function bnPow(v){return this.exp(v,new NullExp)},BigInteger.prototype.gcd=function bnGCD(v){var S=this.s<0?this.negate():this.clone(),_=v.s<0?v.negate():v.clone();if(S.compareTo(_)<0){var E=S;S=_,_=E}var P=S.getLowestSetBit(),D=_.getLowestSetBit();if(D<0)return S;for(P<D&&(D=P),D>0&&(S.rShiftTo(D,S),_.rShiftTo(D,_));S.signum()>0;)(P=S.getLowestSetBit())>0&&S.rShiftTo(P,S),(P=_.getLowestSetBit())>0&&_.rShiftTo(P,_),S.compareTo(_)>=0?(S.subTo(_,S),S.rShiftTo(1,S)):(_.subTo(S,_),_.rShiftTo(1,_));return D>0&&_.lShiftTo(D,_),_},BigInteger.prototype.isProbablePrime=function bnIsProbablePrime(v){var S,_=this.abs();if(1==_.t&&_[0]<=nt[nt.length-1]){for(S=0;S<nt.length;++S)if(_[0]==nt[S])return!0;return!1}if(_.isEven())return!1;for(S=1;S<nt.length;){for(var E=nt[S],P=S+1;P<nt.length&&E<it;)E*=nt[P++];for(E=_.modInt(E);S<P;)if(E%nt[S++]==0)return!1}return _.millerRabin(v)},BigInteger.prototype.square=function bnSquare(){var v=nbi();return this.squareTo(v),v},Arcfour.prototype.init=function ARC4init(v){var S,_,E;for(S=0;S<256;++S)this.S[S]=S;for(_=0,S=0;S<256;++S)_=_+this.S[S]+v[S%v.length]&255,E=this.S[S],this.S[S]=this.S[_],this.S[_]=E;this.i=0,this.j=0},Arcfour.prototype.next=function ARC4next(){var v;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,v=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=v,this.S[v+this.S[this.i]&255]};var st,ot,at,ct=256;function rng_seed_time(){!function rng_seed_int(v){ot[at++]^=255&v,ot[at++]^=v>>8&255,ot[at++]^=v>>16&255,ot[at++]^=v>>24&255,at>=ct&&(at-=ct)}((new Date).getTime())}if(null==ot){var ut;if(ot=new Array,at=0,void 0!==$&&(void 0!==$.crypto||void 0!==$.msCrypto)){var ht=$.crypto||$.msCrypto;if(ht.getRandomValues){var dt=new Uint8Array(32);for(ht.getRandomValues(dt),ut=0;ut<32;++ut)ot[at++]=dt[ut]}else if("Netscape"==W.appName&&W.appVersion<"5"){var ft=$.crypto.random(32);for(ut=0;ut<ft.length;++ut)ot[at++]=255&ft.charCodeAt(ut)}}for(;at<ct;)ut=Math.floor(65536*Math.random()),ot[at++]=ut>>>8,ot[at++]=255&ut;at=0,rng_seed_time()}function rng_get_byte(){if(null==st){for(rng_seed_time(),(st=function prng_newstate(){return new Arcfour}()).init(ot),at=0;at<ot.length;++at)ot[at]=0;at=0}return st.next()}function SecureRandom(){}function parseBigInt(v,S){return new BigInteger(v,S)}function oaep_mgf1_arr(v,S,_){for(var E="",P=0;E.length<S;)E+=_(String.fromCharCode.apply(String,v.concat([(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P]))),P+=1;return E}function RSAKey(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function oaep_mgf1_str(v,S,_){for(var E="",P=0;E.length<S;)E+=_(v+String.fromCharCode.apply(String,[(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P])),P+=1;return E}function ECFieldElementFp(v,S){this.x=S,this.q=v}function ECPointFp(v,S,_,E){this.curve=v,this.x=S,this.y=_,this.z=null==E?BigInteger.ONE:E,this.zinv=null}function ECCurveFp(v,S,_){this.q=v,this.a=this.fromBigInteger(S),this.b=this.fromBigInteger(_),this.infinity=new ECPointFp(this,null,null)}SecureRandom.prototype.nextBytes=function rng_get_bytes(v){var S;for(S=0;S<v.length;++S)v[S]=rng_get_byte()},RSAKey.prototype.doPublic=function RSADoPublic(v){return v.modPowInt(this.e,this.n)},RSAKey.prototype.setPublic=function RSASetPublic(v,S){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof v)this.n=v,this.e=S;else{if(!(null!=v&&null!=S&&v.length>0&&S.length>0))throw"Invalid RSA public key";this.n=parseBigInt(v,16),this.e=parseInt(S,16)}},RSAKey.prototype.encrypt=function RSAEncrypt(v){var S=function pkcs1pad2(v,S){if(S<v.length+11)throw"Message too long for RSA";for(var _=new Array,E=v.length-1;E>=0&&S>0;){var P=v.charCodeAt(E--);P<128?_[--S]=P:P>127&&P<2048?(_[--S]=63&P|128,_[--S]=P>>6|192):(_[--S]=63&P|128,_[--S]=P>>6&63|128,_[--S]=P>>12|224)}_[--S]=0;for(var D=new SecureRandom,R=new Array;S>2;){for(R[0]=0;0==R[0];)D.nextBytes(R);_[--S]=R[0]}return _[--S]=2,_[--S]=0,new BigInteger(_)}(v,this.n.bitLength()+7>>3);if(null==S)return null;var _=this.doPublic(S);if(null==_)return null;var E=_.toString(16);return 1&E.length?"0"+E:E},RSAKey.prototype.encryptOAEP=function RSAEncryptOAEP(v,S,_){var E=this.n.bitLength()+7>>3,P=function oaep_pad(v,S,_,E){var P=mt.crypto.MessageDigest,D=mt.crypto.Util,R=null;if(_||(_="sha1"),"string"==typeof _&&(R=P.getCanonicalAlgName(_),E=P.getHashLength(R),_=function(v){return hextorstr(D.hashHex(rstrtohex(v),R))}),v.length+2*E+2>S)throw"Message too long for RSA";var M,O="";for(M=0;M<S-v.length-2*E-2;M+=1)O+="\0";var F=_("")+O+""+v,N=new Array(E);(new SecureRandom).nextBytes(N);var L=oaep_mgf1_arr(N,F.length,_),U=[];for(M=0;M<F.length;M+=1)U[M]=F.charCodeAt(M)^L.charCodeAt(M);var V=oaep_mgf1_arr(U,N.length,_),G=[0];for(M=0;M<N.length;M+=1)G[M+1]=N[M]^V.charCodeAt(M);return new BigInteger(G.concat(U))}(v,E,S,_);if(null==P)return null;var D=this.doPublic(P);if(null==D)return null;for(var R=D.toString(16);R.length<2*E;)R="0"+R;return R},RSAKey.prototype.type="RSA",RSAKey.prototype.doPrivate=function RSADoPrivate(v){if(null==this.p||null==this.q)return v.modPow(this.d,this.n);for(var S=v.mod(this.p).modPow(this.dmp1,this.p),_=v.mod(this.q).modPow(this.dmq1,this.q);S.compareTo(_)<0;)S=S.add(this.p);return S.subtract(_).multiply(this.coeff).mod(this.p).multiply(this.q).add(_)},RSAKey.prototype.setPrivate=function RSASetPrivate(v,S,_){if(this.isPrivate=!0,"string"!=typeof v)this.n=v,this.e=S,this.d=_;else{if(!(null!=v&&null!=S&&v.length>0&&S.length>0))throw"Invalid RSA private key";this.n=parseBigInt(v,16),this.e=parseInt(S,16),this.d=parseBigInt(_,16)}},RSAKey.prototype.setPrivateEx=function RSASetPrivateEx(v,S,_,E,P,D,R,M){if(this.isPrivate=!0,this.isPublic=!1,null==v)throw"RSASetPrivateEx N == null";if(null==S)throw"RSASetPrivateEx E == null";if(0==v.length)throw"RSASetPrivateEx N.length == 0";if(0==S.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=v&&null!=S&&v.length>0&&S.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=parseBigInt(v,16),this.e=parseInt(S,16),this.d=parseBigInt(_,16),this.p=parseBigInt(E,16),this.q=parseBigInt(P,16),this.dmp1=parseBigInt(D,16),this.dmq1=parseBigInt(R,16),this.coeff=parseBigInt(M,16)},RSAKey.prototype.generate=function RSAGenerate(v,S){var _=new SecureRandom,E=v>>1;this.e=parseInt(S,16);for(var P=new BigInteger(S,16),D=v/2-100,R=BigInteger.ONE.shiftLeft(D);;){for(;this.p=new BigInteger(v-E,1,_),0!=this.p.subtract(BigInteger.ONE).gcd(P).compareTo(BigInteger.ONE)||!this.p.isProbablePrime(10););for(;this.q=new BigInteger(E,1,_),0!=this.q.subtract(BigInteger.ONE).gcd(P).compareTo(BigInteger.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var M=this.p;this.p=this.q,this.q=M}var O=this.q.subtract(this.p).abs();if(!(O.bitLength()<D||O.compareTo(R)<=0)){var F=this.p.subtract(BigInteger.ONE),N=this.q.subtract(BigInteger.ONE),L=F.multiply(N);if(0==L.gcd(P).compareTo(BigInteger.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==v)){this.d=P.modInverse(L),this.dmp1=this.d.mod(F),this.dmq1=this.d.mod(N),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},RSAKey.prototype.decrypt=function RSADecrypt(v){if(v.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var S=parseBigInt(v,16),_=this.doPrivate(S);return null==_?null:function pkcs1unpad2(v,S){for(var _=v.toByteArray(),E=0;E<_.length&&0==_[E];)++E;if(_.length-E!=S-1||2!=_[E])return null;for(++E;0!=_[E];)if(++E>=_.length)return null;for(var P="";++E<_.length;){var D=255&_[E];D<128?P+=String.fromCharCode(D):D>191&&D<224?(P+=String.fromCharCode((31&D)<<6|63&_[E+1]),++E):(P+=String.fromCharCode((15&D)<<12|(63&_[E+1])<<6|63&_[E+2]),E+=2)}return P}(_,this.n.bitLength()+7>>3)},RSAKey.prototype.decryptOAEP=function RSADecryptOAEP(v,S,_){if(v.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var E=parseBigInt(v,16),P=this.doPrivate(E);return null==P?null:function oaep_unpad(v,S,_,E){var P=mt.crypto.MessageDigest,D=mt.crypto.Util,R=null;for(_||(_="sha1"),"string"==typeof _&&(R=P.getCanonicalAlgName(_),E=P.getHashLength(R),_=function(v){return hextorstr(D.hashHex(rstrtohex(v),R))}),v=v.toByteArray(),M=0;M<v.length;M+=1)v[M]&=255;for(;v.length<S;)v.unshift(0);if((v=String.fromCharCode.apply(String,v)).length<2*E+2)throw"Cipher too short";var M,O=v.substr(1,E),F=v.substr(E+1),N=oaep_mgf1_str(F,E,_),L=[];for(M=0;M<O.length;M+=1)L[M]=O.charCodeAt(M)^N.charCodeAt(M);var U=oaep_mgf1_str(String.fromCharCode.apply(String,L),v.length-E,_),V=[];for(M=0;M<F.length;M+=1)V[M]=F.charCodeAt(M)^U.charCodeAt(M);if((V=String.fromCharCode.apply(String,V)).substr(0,E)!==_(""))throw"Hash mismatch";var G=(V=V.substr(E)).indexOf("");if((-1!=G?V.substr(0,G).lastIndexOf("\0"):-1)+1!=G)throw"Malformed data";return V.substr(G+1)}(P,this.n.bitLength()+7>>3,S,_)},ECFieldElementFp.prototype.equals=function feFpEquals(v){return v==this||this.q.equals(v.q)&&this.x.equals(v.x)},ECFieldElementFp.prototype.toBigInteger=function feFpToBigInteger(){return this.x},ECFieldElementFp.prototype.negate=function feFpNegate(){return new ECFieldElementFp(this.q,this.x.negate().mod(this.q))},ECFieldElementFp.prototype.add=function feFpAdd(v){return new ECFieldElementFp(this.q,this.x.add(v.toBigInteger()).mod(this.q))},ECFieldElementFp.prototype.subtract=function feFpSubtract(v){return new ECFieldElementFp(this.q,this.x.subtract(v.toBigInteger()).mod(this.q))},ECFieldElementFp.prototype.multiply=function feFpMultiply(v){return new ECFieldElementFp(this.q,this.x.multiply(v.toBigInteger()).mod(this.q))},ECFieldElementFp.prototype.square=function feFpSquare(){return new ECFieldElementFp(this.q,this.x.square().mod(this.q))},ECFieldElementFp.prototype.divide=function feFpDivide(v){return new ECFieldElementFp(this.q,this.x.multiply(v.toBigInteger().modInverse(this.q)).mod(this.q))},ECFieldElementFp.prototype.sqrt=function(){return new ECFieldElementFp(this.q,this.x.sqrt().mod(this.q))},ECPointFp.prototype.getX=function pointFpGetX(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ECPointFp.prototype.getY=function pointFpGetY(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ECPointFp.prototype.equals=function pointFpEquals(v){return v==this||(this.isInfinity()?v.isInfinity():v.isInfinity()?this.isInfinity():!!v.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(v.z)).mod(this.curve.q).equals(BigInteger.ZERO)&&v.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(v.z)).mod(this.curve.q).equals(BigInteger.ZERO))},ECPointFp.prototype.isInfinity=function pointFpIsInfinity(){return null==this.x&&null==this.y||this.z.equals(BigInteger.ZERO)&&!this.y.toBigInteger().equals(BigInteger.ZERO)},ECPointFp.prototype.negate=function pointFpNegate(){return new ECPointFp(this.curve,this.x,this.y.negate(),this.z)},ECPointFp.prototype.add=function pointFpAdd(v){if(this.isInfinity())return v;if(v.isInfinity())return this;var S=v.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(v.z)).mod(this.curve.q),_=v.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(v.z)).mod(this.curve.q);if(BigInteger.ZERO.equals(_))return BigInteger.ZERO.equals(S)?this.twice():this.curve.getInfinity();var E=new BigInteger("3"),P=this.x.toBigInteger(),D=this.y.toBigInteger(),R=(v.x.toBigInteger(),v.y.toBigInteger(),_.square()),M=R.multiply(_),O=P.multiply(R),F=S.square().multiply(this.z),N=F.subtract(O.shiftLeft(1)).multiply(v.z).subtract(M).multiply(_).mod(this.curve.q),L=O.multiply(E).multiply(S).subtract(D.multiply(M)).subtract(F.multiply(S)).multiply(v.z).add(S.multiply(M)).mod(this.curve.q),U=M.multiply(this.z).multiply(v.z).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(N),this.curve.fromBigInteger(L),U)},ECPointFp.prototype.twice=function pointFpTwice(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var v=new BigInteger("3"),S=this.x.toBigInteger(),_=this.y.toBigInteger(),E=_.multiply(this.z),P=E.multiply(_).mod(this.curve.q),D=this.curve.a.toBigInteger(),R=S.square().multiply(v);BigInteger.ZERO.equals(D)||(R=R.add(this.z.square().multiply(D)));var M=(R=R.mod(this.curve.q)).square().subtract(S.shiftLeft(3).multiply(P)).shiftLeft(1).multiply(E).mod(this.curve.q),O=R.multiply(v).multiply(S).subtract(P.shiftLeft(1)).shiftLeft(2).multiply(P).subtract(R.square().multiply(R)).mod(this.curve.q),F=E.square().multiply(E).shiftLeft(3).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(M),this.curve.fromBigInteger(O),F)},ECPointFp.prototype.multiply=function pointFpMultiply(v){if(this.isInfinity())return this;if(0==v.signum())return this.curve.getInfinity();var S,_=v,E=_.multiply(new BigInteger("3")),P=this.negate(),D=this,R=this.curve.q.subtract(v),M=R.multiply(new BigInteger("3")),O=new ECPointFp(this.curve,this.x,this.y),F=O.negate();for(S=E.bitLength()-2;S>0;--S){D=D.twice();var N=E.testBit(S);N!=_.testBit(S)&&(D=D.add(N?this:P))}for(S=M.bitLength()-2;S>0;--S){O=O.twice();var L=M.testBit(S);L!=R.testBit(S)&&(O=O.add(L?O:F))}return D},ECPointFp.prototype.multiplyTwo=function pointFpMultiplyTwo(v,S,_){var E;E=v.bitLength()>_.bitLength()?v.bitLength()-1:_.bitLength()-1;for(var P=this.curve.getInfinity(),D=this.add(S);E>=0;)P=P.twice(),v.testBit(E)?P=_.testBit(E)?P.add(D):P.add(this):_.testBit(E)&&(P=P.add(S)),--E;return P},ECCurveFp.prototype.getQ=function curveFpGetQ(){return this.q},ECCurveFp.prototype.getA=function curveFpGetA(){return this.a},ECCurveFp.prototype.getB=function curveFpGetB(){return this.b},ECCurveFp.prototype.equals=function curveFpEquals(v){return v==this||this.q.equals(v.q)&&this.a.equals(v.a)&&this.b.equals(v.b)},ECCurveFp.prototype.getInfinity=function curveFpGetInfinity(){return this.infinity},ECCurveFp.prototype.fromBigInteger=function curveFpFromBigInteger(v){return new ECFieldElementFp(this.q,v)},ECCurveFp.prototype.decodePointHex=function curveFpDecodePointHex(v){switch(parseInt(v.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var S=v.substr(0,2),_=(v.substr(2),this.fromBigInteger(new BigInteger(M,16))),E=this.getA(),P=this.getB(),D=_.square().add(E).multiply(_).add(P).sqrt();return"03"==S&&(D=D.negate()),new ECPointFp(this,_,D);case 4:case 6:case 7:var R=(v.length-2)/2,M=v.substr(2,R),O=v.substr(R+2,R);return new ECPointFp(this,this.fromBigInteger(new BigInteger(M,16)),this.fromBigInteger(new BigInteger(O,16)));default:return null}},ECFieldElementFp.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ECPointFp.prototype.getEncoded=function(v){var d=function(v,S){var _=v.toByteArrayUnsigned();if(S<_.length)_=_.slice(_.length-S);else for(;S>_.length;)_.unshift(0);return _},S=this.getX().toBigInteger(),_=this.getY().toBigInteger(),E=d(S,32);return v?_.isEven()?E.unshift(2):E.unshift(3):(E.unshift(4),E=E.concat(d(_,32))),E},ECPointFp.decodeFrom=function(v,S){S[0];var _=S.length-1,E=S.slice(1,1+_/2),P=S.slice(1+_/2,1+_);E.unshift(0),P.unshift(0);var D=new BigInteger(E),R=new BigInteger(P);return new ECPointFp(v,v.fromBigInteger(D),v.fromBigInteger(R))},ECPointFp.decodeFromHex=function(v,S){S.substr(0,2);var _=S.length-2,E=S.substr(2,_/2),P=S.substr(2+_/2,_/2),D=new BigInteger(E,16),R=new BigInteger(P,16);return new ECPointFp(v,v.fromBigInteger(D),v.fromBigInteger(R))},ECPointFp.prototype.add2D=function(v){if(this.isInfinity())return v;if(v.isInfinity())return this;if(this.x.equals(v.x))return this.y.equals(v.y)?this.twice():this.curve.getInfinity();var S=v.x.subtract(this.x),_=v.y.subtract(this.y).divide(S),E=_.square().subtract(this.x).subtract(v.x),P=_.multiply(this.x.subtract(E)).subtract(this.y);return new ECPointFp(this.curve,E,P)},ECPointFp.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var v=this.curve.fromBigInteger(BigInteger.valueOf(2)),S=this.curve.fromBigInteger(BigInteger.valueOf(3)),_=this.x.square().multiply(S).add(this.curve.a).divide(this.y.multiply(v)),E=_.square().subtract(this.x.multiply(v)),P=_.multiply(this.x.subtract(E)).subtract(this.y);return new ECPointFp(this.curve,E,P)},ECPointFp.prototype.multiply2D=function(v){if(this.isInfinity())return this;if(0==v.signum())return this.curve.getInfinity();var S,_=v,E=_.multiply(new BigInteger("3")),P=this.negate(),D=this;for(S=E.bitLength()-2;S>0;--S){D=D.twice();var R=E.testBit(S);R!=_.testBit(S)&&(D=D.add2D(R?this:P))}return D},ECPointFp.prototype.isOnCurve=function(){var v=this.getX().toBigInteger(),S=this.getY().toBigInteger(),_=this.curve.getA().toBigInteger(),E=this.curve.getB().toBigInteger(),P=this.curve.getQ(),D=S.multiply(S).mod(P),R=v.multiply(v).multiply(v).add(_.multiply(v)).add(E).mod(P);return D.equals(R)},ECPointFp.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ECPointFp.prototype.validate=function(){var v=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var S=this.getX().toBigInteger(),_=this.getY().toBigInteger();if(S.compareTo(BigInteger.ONE)<0||S.compareTo(v.subtract(BigInteger.ONE))>0)throw new Error("x coordinate out of bounds");if(_.compareTo(BigInteger.ONE)<0||_.compareTo(v.subtract(BigInteger.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(v).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var pt=function(){var v=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),S=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),_={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function h(v,S,E){return S?_[S]:String.fromCharCode(parseInt(E,16))}var E=new String(""),P=Object.hasOwnProperty;return function(_,D){var R,M,O=_.match(v),F=O[0],N=!1;"{"===F?R={}:"["===F?R=[]:(R=[],N=!0);for(var L=[R],U=1-N,V=O.length;U<V;++U){var G;switch((F=O[U]).charCodeAt(0)){default:(G=L[0])[M||G.length]=+F,M=void 0;break;case 34:if(-1!==(F=F.substring(1,F.length-1)).indexOf("\\")&&(F=F.replace(S,h)),G=L[0],!M){if(!(G instanceof Array)){M=F||E;break}M=G.length}G[M]=F,M=void 0;break;case 91:G=L[0],L.unshift(G[M||G.length]=[]),M=void 0;break;case 93:case 125:L.shift();break;case 102:(G=L[0])[M||G.length]=!1,M=void 0;break;case 110:(G=L[0])[M||G.length]=null,M=void 0;break;case 116:(G=L[0])[M||G.length]=!0,M=void 0;break;case 123:G=L[0],L.unshift(G[M||G.length]={}),M=void 0}}if(N){if(1!==L.length)throw new Error;R=R[0]}else if(L.length)throw new Error;if(D){var s=function(v,S){var _=v[S];if(_&&"object"==typeof _){var E=null;for(var R in _)if(P.call(_,R)&&_!==v){var M=s(_,R);void 0!==M?_[R]=M:(E||(E=[]),E.push(R))}if(E)for(var O=E.length;--O>=0;)delete _[E[O]]}return D.call(v,S,_)};R=s({"":R},"")}return R}}();void 0!==mt&&mt||(mt={}),void 0!==mt.asn1&&mt.asn1||(mt.asn1={}),mt.asn1.ASN1Util=new function(){this.integerToByteHex=function(v){var S=v.toString(16);return S.length%2==1&&(S="0"+S),S},this.bigIntToMinTwosComplementsHex=function(v){return twoscompl(v)},this.getPEMStringFromHex=function(v,S){return hextopem(v,S)},this.newObject=function(v){var S=mt.asn1,_=S.ASN1Object,E=S.DERBoolean,P=S.DERInteger,D=S.DERBitString,R=S.DEROctetString,M=S.DERNull,O=S.DERObjectIdentifier,F=S.DEREnumerated,N=S.DERUTF8String,L=S.DERNumericString,U=S.DERPrintableString,V=S.DERTeletexString,G=S.DERIA5String,W=S.DERUTCTime,$=S.DERGeneralizedTime,X=S.DERVisibleString,Y=S.DERBMPString,J=S.DERSequence,Z=S.DERSet,Q=S.DERTaggedObject,tt=S.ASN1Util.newObject;if(v instanceof S.ASN1Object)return v;var et=Object.keys(v);if(1!=et.length)throw new Error("key of param shall be only one.");var rt=et[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+rt+":"))throw new Error("undefined key: "+rt);if("bool"==rt)return new E(v[rt]);if("int"==rt)return new P(v[rt]);if("bitstr"==rt)return new D(v[rt]);if("octstr"==rt)return new R(v[rt]);if("null"==rt)return new M(v[rt]);if("oid"==rt)return new O(v[rt]);if("enum"==rt)return new F(v[rt]);if("utf8str"==rt)return new N(v[rt]);if("numstr"==rt)return new L(v[rt]);if("prnstr"==rt)return new U(v[rt]);if("telstr"==rt)return new V(v[rt]);if("ia5str"==rt)return new G(v[rt]);if("utctime"==rt)return new W(v[rt]);if("gentime"==rt)return new $(v[rt]);if("visstr"==rt)return new X(v[rt]);if("bmpstr"==rt)return new Y(v[rt]);if("asn1"==rt)return new _(v[rt]);if("seq"==rt){for(var nt=v[rt],it=[],st=0;st<nt.length;st++){var ot=tt(nt[st]);it.push(ot)}return new J({array:it})}if("set"==rt){for(nt=v[rt],it=[],st=0;st<nt.length;st++){ot=tt(nt[st]);it.push(ot)}return new Z({array:it})}if("tag"==rt){var at=v[rt];if("[object Array]"===Object.prototype.toString.call(at)&&3==at.length){var ct=tt(at[2]);return new Q({tag:at[0],explicit:at[1],obj:ct})}return new Q(at)}},this.jsonToASN1HEX=function(v){return this.newObject(v).tohex()}},mt.asn1.ASN1Util.oidHexToInt=function(v){for(var S="",_=parseInt(v.substr(0,2),16),E=(S=Math.floor(_/40)+"."+_%40,""),P=2;P<v.length;P+=2){var D=("00000000"+parseInt(v.substr(P,2),16).toString(2)).slice(-8);if(E+=D.substr(1,7),"0"==D.substr(0,1))S=S+"."+new BigInteger(E,2).toString(10),E=""}return S},mt.asn1.ASN1Util.oidIntToHex=function(v){var e=function(v){var S=v.toString(16);return 1==S.length&&(S="0"+S),S},d=function(v){var S="",_=new BigInteger(v,10).toString(2),E=7-_.length%7;7==E&&(E=0);for(var P="",D=0;D<E;D++)P+="0";_=P+_;for(D=0;D<_.length-1;D+=7){var R=_.substr(D,7);D!=_.length-7&&(R="1"+R),S+=e(parseInt(R,2))}return S};if(!v.match(/^[0-9.]+$/))throw"malformed oid string: "+v;var S="",_=v.split("."),E=40*parseInt(_[0])+parseInt(_[1]);S+=e(E),_.splice(0,2);for(var P=0;P<_.length;P++)S+=d(_[P]);return S},mt.asn1.ASN1Object=function(v){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var v=this.hV.length/2,S=v.toString(16);if(S.length%2==1&&(S="0"+S),v<128)return S;var _=S.length/2;if(_>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+v.toString(16));return(128+_).toString(16)+S},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(v){this.params=v},null!=v&&null!=v.tlv&&(this.hTLV=v.tlv,this.isModified=!1)},mt.asn1.DERAbstractString=function(v){mt.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(v){this.hTLV=null,this.isModified=!0,this.s=v,this.hV=utf8tohex(this.s).toLowerCase()},this.setStringHex=function(v){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=v},this.getFreshValueHex=function(){return this.hV},void 0!==v&&("string"==typeof v?this.setString(v):void 0!==v.str?this.setString(v.str):void 0!==v.hex&&this.setStringHex(v.hex))},extendClass(mt.asn1.DERAbstractString,mt.asn1.ASN1Object),mt.asn1.DERAbstractTime=function(v){mt.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(v){var S=v.getTime()+6e4*v.getTimezoneOffset();return new Date(S)},this.formatDate=function(v,S,_){var E=this.zeroPadding,P=this.localDateToUTC(v),D=String(P.getFullYear());"utc"==S&&(D=D.substr(2,2));var R=D+E(String(P.getMonth()+1),2)+E(String(P.getDate()),2)+E(String(P.getHours()),2)+E(String(P.getMinutes()),2)+E(String(P.getSeconds()),2);if(!0===_){var M=P.getMilliseconds();if(0!=M){var O=E(String(M),3);R=R+"."+(O=O.replace(/[0]+$/,""))}}return R+"Z"},this.zeroPadding=function(v,S){return v.length>=S?v:new Array(S-v.length+1).join("0")+v},this.setByParam=function(v){this.hV=null,this.hTLV=null,this.params=v},this.getString=function(){},this.setString=function(v){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=v},this.setByDate=function(v){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=v},this.setByDateValue=function(v,S,_,E,P,D){var R=new Date(Date.UTC(v,S-1,_,E,P,D,0));this.setByDate(R)},this.getFreshValueHex=function(){return this.hV}},extendClass(mt.asn1.DERAbstractTime,mt.asn1.ASN1Object),mt.asn1.DERAbstractStructured=function(v){mt.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(v){this.hTLV=null,this.isModified=!0,this.asn1Array=v},this.appendASN1Object=function(v){this.hTLV=null,this.isModified=!0,this.asn1Array.push(v)},this.asn1Array=new Array,void 0!==v&&void 0!==v.array&&(this.asn1Array=v.array)},extendClass(mt.asn1.DERAbstractStructured,mt.asn1.ASN1Object),mt.asn1.DERBoolean=function(v){mt.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==v?"010100":"0101ff"},extendClass(mt.asn1.DERBoolean,mt.asn1.ASN1Object),mt.asn1.DERInteger=function(v){mt.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var S=twoscompl;this.setByBigInteger=function(v){this.isModified=!0,this.params={bigint:v}},this.setByInteger=function(v){this.isModified=!0,this.params=v},this.setValueHex=function(v){this.isModified=!0,this.params={hex:v}},this.getFreshValueHex=function(){var v=this.params,_=null;if(null==v)throw new Error("value not set");if("object"==typeof v&&null!=v.hex)return this.hV=v.hex,this.hV;if("number"==typeof v)_=new BigInteger(String(v),10);else if(null!=v.int)_=new BigInteger(String(v.int),10);else{if(null==v.bigint)throw new Error("wrong parameter");_=v.bigint}return this.hV=S(_),this.hV},null!=v&&(this.params=v)},extendClass(mt.asn1.DERInteger,mt.asn1.ASN1Object),mt.asn1.DERBitString=function(v){if(void 0!==v&&void 0!==v.obj){var S=mt.asn1.ASN1Util.newObject(v.obj);v.hex="00"+S.tohex()}mt.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(v){this.hTLV=null,this.isModified=!0,this.hV=v},this.setUnusedBitsAndHexValue=function(v,S){if(v<0||7<v)throw"unused bits shall be from 0 to 7: u = "+v;var _="0"+v;this.hTLV=null,this.isModified=!0,this.hV=_+S},this.setByBinaryString=function(v){var S=8-(v=v.replace(/0+$/,"")).length%8;8==S&&(S=0),v+="0000000".substr(0,S);for(var _="",E=0;E<v.length-1;E+=8){var P=v.substr(E,8),D=parseInt(P,2).toString(16);1==D.length&&(D="0"+D),_+=D}this.hTLV=null,this.isModified=!0,this.hV="0"+S+_},this.setByBooleanArray=function(v){for(var S="",_=0;_<v.length;_++)1==v[_]?S+="1":S+="0";this.setByBinaryString(S)},this.newFalseArray=function(v){for(var S=new Array(v),_=0;_<v;_++)S[_]=!1;return S},this.getFreshValueHex=function(){return this.hV},void 0!==v&&("string"==typeof v&&v.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(v):void 0!==v.hex?this.setHexValueIncludingUnusedBits(v.hex):void 0!==v.bin?this.setByBinaryString(v.bin):void 0!==v.array&&this.setByBooleanArray(v.array))},extendClass(mt.asn1.DERBitString,mt.asn1.ASN1Object),mt.asn1.DEROctetString=function(v){if(void 0!==v&&void 0!==v.obj){var S=mt.asn1.ASN1Util.newObject(v.obj);v.hex=S.tohex()}mt.asn1.DEROctetString.superclass.constructor.call(this,v),this.hT="04"},extendClass(mt.asn1.DEROctetString,mt.asn1.DERAbstractString),mt.asn1.DERNull=function(){mt.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},extendClass(mt.asn1.DERNull,mt.asn1.ASN1Object),mt.asn1.DERObjectIdentifier=function(v){mt.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(v){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=v},this.setValueOidString=function(v){var S=oidtohex(v);if(null==S)throw new Error("malformed oid string: "+v);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=S},this.setValueName=function(v){var S=mt.asn1.x509.OID.name2oid(v);if(""===S)throw new Error("DERObjectIdentifier oidName undefined: "+v);this.setValueOidString(S)},this.setValueNameOrOid=function(v){v.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(v):this.setValueName(v)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(v){"string"==typeof v?this.setValueNameOrOid(v):void 0!==v.oid?this.setValueNameOrOid(v.oid):void 0!==v.name?this.setValueNameOrOid(v.name):void 0!==v.hex&&this.setValueHex(v.hex)},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.DERObjectIdentifier,mt.asn1.ASN1Object),mt.asn1.DEREnumerated=function(v){mt.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(v){this.hTLV=null,this.isModified=!0,this.hV=twoscompl(v)},this.setByInteger=function(v){var S=new BigInteger(String(v),10);this.setByBigInteger(S)},this.setValueHex=function(v){this.hV=v},this.getFreshValueHex=function(){return this.hV},void 0!==v&&(void 0!==v.int?this.setByInteger(v.int):"number"==typeof v?this.setByInteger(v):void 0!==v.hex&&this.setValueHex(v.hex))},extendClass(mt.asn1.DEREnumerated,mt.asn1.ASN1Object),mt.asn1.DERUTF8String=function(v){mt.asn1.DERUTF8String.superclass.constructor.call(this,v),this.hT="0c"},extendClass(mt.asn1.DERUTF8String,mt.asn1.DERAbstractString),mt.asn1.DERNumericString=function(v){mt.asn1.DERNumericString.superclass.constructor.call(this,v),this.hT="12"},extendClass(mt.asn1.DERNumericString,mt.asn1.DERAbstractString),mt.asn1.DERPrintableString=function(v){mt.asn1.DERPrintableString.superclass.constructor.call(this,v),this.hT="13"},extendClass(mt.asn1.DERPrintableString,mt.asn1.DERAbstractString),mt.asn1.DERTeletexString=function(v){mt.asn1.DERTeletexString.superclass.constructor.call(this,v),this.hT="14"},extendClass(mt.asn1.DERTeletexString,mt.asn1.DERAbstractString),mt.asn1.DERIA5String=function(v){mt.asn1.DERIA5String.superclass.constructor.call(this,v),this.hT="16"},extendClass(mt.asn1.DERIA5String,mt.asn1.DERAbstractString),mt.asn1.DERVisibleString=function(v){mt.asn1.DERIA5String.superclass.constructor.call(this,v),this.hT="1a"},extendClass(mt.asn1.DERVisibleString,mt.asn1.DERAbstractString),mt.asn1.DERBMPString=function(v){mt.asn1.DERBMPString.superclass.constructor.call(this,v),this.hT="1e"},extendClass(mt.asn1.DERBMPString,mt.asn1.DERAbstractString),mt.asn1.DERUTCTime=function(v){mt.asn1.DERUTCTime.superclass.constructor.call(this,v),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var v=this.params;if(null==this.params&&(v={date:new Date}),"string"==typeof v){if(!v.match(/^[0-9]{12}Z$/)&&!v.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+v);this.hV=stohex(v)}else if(null!=v.str)this.hV=stohex(v.str);else if(null==v.date&&1==v.millis){var S=new Date;this.hV=stohex(this.formatDate(S,"utc",!0))}else if(null!=v.date&&v.date instanceof Date){var _=!0===v.millis;this.hV=stohex(this.formatDate(v.date,"utc",_))}else v instanceof Date&&(this.hV=stohex(this.formatDate(v,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=v&&this.setByParam(v)},extendClass(mt.asn1.DERUTCTime,mt.asn1.DERAbstractTime),mt.asn1.DERGeneralizedTime=function(v){mt.asn1.DERGeneralizedTime.superclass.constructor.call(this,v),this.hT="18",this.params=v,this.getFreshValueHex=function(){var v=this.params;if(null==this.params&&(v={date:new Date}),"string"==typeof v){if(!v.match(/^[0-9]{14}Z$/)&&!v.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+v);this.hV=stohex(v)}else if(null!=v.str)this.hV=stohex(v.str);else if(null==v.date&&1==v.millis){var S=new Date;this.hV=stohex(this.formatDate(S,"gen",!0))}else if(null!=v.date&&v.date instanceof Date){var _=!0===v.millis;this.hV=stohex(this.formatDate(v.date,"gen",_))}else v instanceof Date&&(this.hV=stohex(this.formatDate(v,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=v&&this.setByParam(v)},extendClass(mt.asn1.DERGeneralizedTime,mt.asn1.DERAbstractTime),mt.asn1.DERSequence=function(v){mt.asn1.DERSequence.superclass.constructor.call(this,v),this.hT="30",this.getFreshValueHex=function(){for(var v="",S=0;S<this.asn1Array.length;S++){v+=this.asn1Array[S].tohex()}return this.hV=v,this.hV}},extendClass(mt.asn1.DERSequence,mt.asn1.DERAbstractStructured),mt.asn1.DERSet=function(v){mt.asn1.DERSet.superclass.constructor.call(this,v),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var v=new Array,S=0;S<this.asn1Array.length;S++){var _=this.asn1Array[S];v.push(_.tohex())}return 1==this.sortFlag&&v.sort(),this.hV=v.join(""),this.hV},void 0!==v&&void 0!==v.sortflag&&0==v.sortflag&&(this.sortFlag=!1)},extendClass(mt.asn1.DERSet,mt.asn1.DERAbstractStructured),mt.asn1.DERTaggedObject=function(v){mt.asn1.DERTaggedObject.superclass.constructor.call(this);var S=mt.asn1,_=bt,E=_.getV,P=(_.isASN1HEX,S.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(v,S,_){this.params={tag:S,explicit:v,obj:_}},this.getFreshValueHex=function(){var v=this.params;if(null==v.explicit&&(v.explicit=!0),null!=v.tage&&(v.tag=v.tage,v.explicit=!0),null!=v.tagi&&(v.tag=v.tagi,v.explicit=!1),null!=v.str)this.hV=utf8tohex(v.str);else if(null!=v.hex)this.hV=v.hex;else{if(null==v.obj)throw new Error("str, hex nor obj not specified");var _;v.obj instanceof S.ASN1Object?_=v.obj.tohex():"object"==typeof v.obj&&(_=P(v.obj).tohex()),v.explicit?this.hV=_:this.hV=E(_,0)}return null==v.tag&&(v.tag="a0"),this.hT=v.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(v){this.params=v},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.DERTaggedObject,mt.asn1.ASN1Object);var mt,yt,vt,bt=new function(){};function stoBA(v){for(var S=new Array,_=0;_<v.length;_++)S[_]=v.charCodeAt(_);return S}function BAtos(v){for(var S="",_=0;_<v.length;_++)S+=String.fromCharCode(v[_]);return S}function BAtohex(v){for(var S="",_=0;_<v.length;_++){var E=v[_].toString(16);1==E.length&&(E="0"+E),S+=E}return S}function stohex(v){return BAtohex(stoBA(v))}function b64tob64u(v){return v=(v=(v=v.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function b64utob64(v){return v.length%4==2?v+="==":v.length%4==3&&(v+="="),v=(v=v.replace(/-/g,"+")).replace(/_/g,"/")}function hextob64u(v){return v.length%2==1&&(v="0"+v),b64tob64u(hex2b64(v))}function b64utohex(v){return b64tohex(b64utob64(v))}function utf8tohex(v){return uricmptohex(encodeURIComponentAll(v)).toLowerCase()}function hextoutf8(v){try{return decodeURIComponent(hextouricmp(v))}catch(v){return null}}function iso88591hextoutf8(v){return hextoutf8(function iso88591hextoutf8hex(v){for(var S=v.match(/.{1,2}/g),_=[],E=0;E<S.length;E++){var P=parseInt(S[E],16);161<=P&&P<=191?(_.push("c2"),_.push(S[E])):192<=P&&P<=255?(_.push("c3"),_.push((P-64).toString(16))):_.push(S[E])}return _.join("")}(v))}function hextorstr(v){for(var S="",_=0;_<v.length-1;_+=2)S+=String.fromCharCode(parseInt(v.substr(_,2),16));return S}function rstrtohex(v){for(var S="",_=0;_<v.length;_++)S+=("0"+v.charCodeAt(_).toString(16)).slice(-2);return S}function hextob64(v){return hex2b64(v)}function foldnl(v,S){return v=(v=v.replace(new RegExp("(.{"+S+"})","g"),"$1\r\n")).replace(/\s+$/,"")}function b64nltohex(v){return b64tohex(v.replace(/[^0-9A-Za-z\/+=]*/g,""))}function hextopem(v,S){return"-----BEGIN "+S+"-----\r\n"+foldnl(hextob64(v),64)+"\r\n-----END "+S+"-----\r\n"}function pemtohex(v,S){if(-1==v.indexOf("-----BEGIN "))throw new Error("can't find PEM header");return b64nltohex(v=void 0!==S?(v=v.replace(new RegExp("^[^]*-----BEGIN "+S+"-----"),"")).replace(new RegExp("-----END "+S+"-----[^]*$"),""):(v=v.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function zulutomsec(v){var S,_,E,P,D,R,M,O,F,N;if(N=(v=timetogen(v)).match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return S=parseInt(N[1]),_=parseInt(N[2])-1,E=parseInt(N[3]),P=parseInt(N[4]),D=parseInt(N[5]),R=parseInt(N[6]),M=0,""!==(O=N[7])&&(F=(O.substr(1)+"00").substr(0,3),M=parseInt(F)),Date.UTC(S,_,E,P,D,R,M);throw new Error("unsupported zulu format: "+v)}function zulutosec(v){return Math.round(zulutomsec(v)/1e3)}function timetogen(v){return v.match(/^[0-9]{12}Z$/)||v.match(/^[0-9]{12}[.][0-9]*Z$/)?v.match(/^[0-4]/)?"20"+v:"19"+v:v}function uricmptohex(v){return v.replace(/%/g,"")}function hextouricmp(v){return v.replace(/(..)/g,"%$1")}function ipv6tohex(v){var S="malformed IPv6 address";if(!v.match(/^[0-9A-Fa-f:]+$/))throw S;var _=(v=v.toLowerCase()).split(":").length-1;if(_<2)throw S;var E=":".repeat(7-_+2),P=(v=v.replace("::",E)).split(":");if(8!=P.length)throw S;for(var D=0;D<8;D++)P[D]=("0000"+P[D]).slice(-4);return P.join("")}function hextoipv6(v){if(!v.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+v);var S=(v=v.toLowerCase()).match(/.{1,4}/g);S=S.map((function(v){return v.replace(/^0+/,"")})),S=S.map((function(v){return""==v?"0":v}));var _=(v=":"+S.join(":")+":").match(/:(0:){2,}/g);if(null==_)return v.slice(1,-1);var E=_.sort().slice(-1)[0];return"::"!=(v=v.replace(E.substr(0,E.length-1),":")).substr(0,2)&&(v=v.substr(1)),"::"!=v.substr(-2,2)&&(v=v.substr(0,v.length-1)),v}function hextoip(v){var S=new Error("malformed hex value");if(!v.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw S;if(8==v.length){try{return parseInt(v.substr(0,2),16)+"."+parseInt(v.substr(2,2),16)+"."+parseInt(v.substr(4,2),16)+"."+parseInt(v.substr(6,2),16)}catch(v){throw S}}else{if(16!=v.length){if(32==v.length)return hextoipv6(v);if(64==v.length){try{return hextoipv6(v.substr(0,32))+"/"+ipprefixlen(v.substr(32))}catch(v){throw S}return}return v}try{return hextoip(v.substr(0,8))+"/"+ipprefixlen(v.substr(8))}catch(v){throw S}}}function ipprefixlen(v){var S,_=new Error("malformed mask");try{S=new BigInteger(v,16).toString(2)}catch(v){throw _}if(!S.match(/^1*0*$/))throw _;return S.replace(/0+$/,"").length}function iptohex(v){var S=new Error("malformed IP address");if(!(v=v.toLowerCase(v)).match(/^[0-9a-f.:/]+$/))throw S;if(!v.match(/^[0-9.]+$/)){var _;if(v.match(/^[0-9.]+\/[0-9]+$/))return iptohex((_=v.split("/"))[0])+ipnetmask(parseInt(_[1]),32);if(v.match(/^[0-9a-f:]+$/)&&-1!==v.indexOf(":"))return ipv6tohex(v);if(v.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==v.indexOf(":"))return ipv6tohex((_=v.split("/"))[0])+ipnetmask(parseInt(_[1]),128);throw S}var E=v.split(".");if(4!==E.length)throw S;var P="";try{for(var D=0;D<4;D++){P+=("0"+parseInt(E[D]).toString(16)).slice(-2)}return P}catch(v){throw S}}function ipnetmask(v,S){return 32==S&&0==v?"00000000":128==S&&0==v?"00000000000000000000000000000000":new BigInteger(Array(v+1).join("1")+Array(S-v+1).join("0"),2).toString(16)}function ucs2hextoutf8(v){var S=v.match(/.{4}/g).map((function e(v){var S=parseInt(v.substr(0,2),16),_=parseInt(v.substr(2),16);if(0==S&_<128)return String.fromCharCode(_);if(S<8){var E=128|63&_;return hextoutf8((192|(7&S)<<3|(192&_)>>6).toString(16)+E.toString(16))}E=128|(15&S)<<2|(192&_)>>6;var P=128|63&_;return hextoutf8((224|(240&S)>>4).toString(16)+E.toString(16)+P.toString(16))}));return S.join("")}function encodeURIComponentAll(v){for(var S=encodeURIComponent(v),_="",E=0;E<S.length;E++)"%"==S[E]?(_+=S.substr(E,3),E+=2):_=_+"%"+stohex(S[E]);return _}function ishex(v){return!(v.length%2!=0||!v.match(/^[0-9a-f]+$/)&&!v.match(/^[0-9A-F]+$/))}function isBase64URLDot(v){return!!v.match(/^[0-9A-Za-z-_.]+$/)}function hextoposhex(v){return v.length%2==1?"0"+v:v.substr(0,1)>"7"?"00"+v:v}bt.getLblen=function(v,S){if("8"!=v.substr(S+2,1))return 1;var _=parseInt(v.substr(S+3,1));return 0==_?-1:0<_&&_<10?_+1:-2},bt.getL=function(v,S){var _=bt.getLblen(v,S);return _<1?"":v.substr(S+2,2*_)},bt.getVblen=function(v,S){var _;return""==(_=bt.getL(v,S))?-1:("8"===_.substr(0,1)?new BigInteger(_.substr(2),16):new BigInteger(_,16)).intValue()},bt.getVidx=function(v,S){var _=bt.getLblen(v,S);return _<0?_:S+2*(_+1)},bt.getV=function(v,S){var _=bt.getVidx(v,S),E=bt.getVblen(v,S);return v.substr(_,2*E)},bt.getTLV=function(v,S){return v.substr(S,2)+bt.getL(v,S)+bt.getV(v,S)},bt.getTLVblen=function(v,S){return 2+2*bt.getLblen(v,S)+2*bt.getVblen(v,S)},bt.getNextSiblingIdx=function(v,S){return bt.getVidx(v,S)+2*bt.getVblen(v,S)},bt.getChildIdx=function(v,S){var _,E,P,D=bt,R=[];_=D.getVidx(v,S),E=2*D.getVblen(v,S),"03"==v.substr(S,2)&&(_+=2,E-=2),P=0;for(var M=_;P<=E;){var O=D.getTLVblen(v,M);if((P+=O)<=E&&R.push(M),M+=O,P>=E)break}return R},bt.getNthChildIdx=function(v,S,_){return bt.getChildIdx(v,S)[_]},bt.getIdxbyList=function(v,S,_,E){var P,D,R=bt;return 0==_.length?void 0!==E&&v.substr(S,2)!==E?-1:S:(P=_.shift())>=(D=R.getChildIdx(v,S)).length?-1:R.getIdxbyList(v,D[P],_,E)},bt.getIdxbyListEx=function(v,S,_,E){var P,D,R=bt;if(0==_.length)return void 0!==E&&v.substr(S,2)!==E?-1:S;P=_.shift(),D=R.getChildIdx(v,S);for(var M=0,O=0;O<D.length;O++){var F=v.substr(D[O],2);if("number"==typeof P&&!R.isContextTag(F)&&M==P||"string"==typeof P&&R.isContextTag(F,P))return R.getIdxbyListEx(v,D[O],_,E);R.isContextTag(F)||M++}return-1},bt.getTLVbyList=function(v,S,_,E){var P=bt,D=P.getIdxbyList(v,S,_,E);return-1==D||D>=v.length?null:P.getTLV(v,D)},bt.getTLVbyListEx=function(v,S,_,E){var P=bt,D=P.getIdxbyListEx(v,S,_,E);return-1==D?null:P.getTLV(v,D)},bt.getVbyList=function(v,S,_,E,P){var D,R,M=bt;return-1==(D=M.getIdxbyList(v,S,_,E))||D>=v.length?null:(R=M.getV(v,D),!0===P&&(R=R.substr(2)),R)},bt.getVbyListEx=function(v,S,_,E,P){var D,R,M=bt;return-1==(D=M.getIdxbyListEx(v,S,_,E))?null:(R=M.getV(v,D),"03"==v.substr(D,2)&&!1!==P&&(R=R.substr(2)),R)},bt.getInt=function(v,S,_){null==_&&(_=-1);try{var E=v.substr(S,2);if("02"!=E&&"03"!=E)return _;var P=bt.getV(v,S);return"02"==E?parseInt(P,16):bitstrtoint(P)}catch(v){return _}},bt.getOID=function(v,S,_){null==_&&(_=null);try{return"06"!=v.substr(S,2)?_:hextooid(bt.getV(v,S))}catch(v){return _}},bt.getOIDName=function(v,S,_){null==_&&(_=null);try{var E=bt.getOID(v,S,_);if(E==_)return _;var P=mt.asn1.x509.OID.oid2name(E);return""==P?E:P}catch(v){return _}},bt.getString=function(v,S,_){null==_&&(_=null);try{return hextorstr(bt.getV(v,S))}catch(v){return _}},bt.hextooidstr=function(v){var h=function(v,S){return v.length>=S?v:new Array(S-v.length+1).join("0")+v},S=[],_=v.substr(0,2),E=parseInt(_,16);S[0]=new String(Math.floor(E/40)),S[1]=new String(E%40);for(var P=v.substr(2),D=[],R=0;R<P.length/2;R++)D.push(parseInt(P.substr(2*R,2),16));var M=[],O="";for(R=0;R<D.length;R++)128&D[R]?O+=h((127&D[R]).toString(2),7):(O+=h((127&D[R]).toString(2),7),M.push(new String(parseInt(O,2))),O="");var F=S.join(".");return M.length>0&&(F=F+"."+M.join(".")),F},bt.dump=function(v,S,_,E){var P=bt,D=P.getV,R=P.dump,M=P.getChildIdx,O=v;v instanceof mt.asn1.ASN1Object&&(O=v.tohex());var q=function(v,S){return v.length<=2*S?v:v.substr(0,S)+"..(total "+v.length/2+"bytes).."+v.substr(v.length-S,S)};void 0===S&&(S={ommit_long_octet:32}),void 0===_&&(_=0),void 0===E&&(E="");var F,N=S.ommit_long_octet;if("01"==(F=O.substr(_,2)))return"00"==(L=D(O,_))?E+"BOOLEAN FALSE\n":E+"BOOLEAN TRUE\n";if("02"==F)return E+"INTEGER "+q(L=D(O,_),N)+"\n";if("03"==F){var L=D(O,_);if(P.isASN1HEX(L.substr(2))){var U=E+"BITSTRING, encapsulates\n";return U+=R(L.substr(2),S,0,E+"  ")}return E+"BITSTRING "+q(L,N)+"\n"}if("04"==F){L=D(O,_);if(P.isASN1HEX(L)){U=E+"OCTETSTRING, encapsulates\n";return U+=R(L,S,0,E+"  ")}return E+"OCTETSTRING "+q(L,N)+"\n"}if("05"==F)return E+"NULL\n";if("06"==F){var V=D(O,_),G=mt.asn1.ASN1Util.oidHexToInt(V),W=mt.asn1.x509.OID.oid2name(G),$=G.replace(/\./g," ");return""!=W?E+"ObjectIdentifier "+W+" ("+$+")\n":E+"ObjectIdentifier ("+$+")\n"}if("0a"==F)return E+"ENUMERATED "+parseInt(D(O,_))+"\n";if("0c"==F)return E+"UTF8String '"+hextoutf8(D(O,_))+"'\n";if("13"==F)return E+"PrintableString '"+hextoutf8(D(O,_))+"'\n";if("14"==F)return E+"TeletexString '"+hextoutf8(D(O,_))+"'\n";if("16"==F)return E+"IA5String '"+hextoutf8(D(O,_))+"'\n";if("17"==F)return E+"UTCTime "+hextoutf8(D(O,_))+"\n";if("18"==F)return E+"GeneralizedTime "+hextoutf8(D(O,_))+"\n";if("1a"==F)return E+"VisualString '"+hextoutf8(D(O,_))+"'\n";if("1e"==F)return E+"BMPString '"+ucs2hextoutf8(D(O,_))+"'\n";if("30"==F){if("3000"==O.substr(_,4))return E+"SEQUENCE {}\n";U=E+"SEQUENCE\n";var X=S;if((2==(Z=M(O,_)).length||3==Z.length)&&"06"==O.substr(Z[0],2)&&"04"==O.substr(Z[Z.length-1],2)){W=P.oidname(D(O,Z[0]));var Y=JSON.parse(JSON.stringify(S));Y.x509ExtName=W,X=Y}for(var J=0;J<Z.length;J++)U+=R(O,X,Z[J],E+"  ");return U}if("31"==F){U=E+"SET\n";var Z=M(O,_);for(J=0;J<Z.length;J++)U+=R(O,S,Z[J],E+"  ");return U}if(128&(F=parseInt(F,16))){var Q=31&F;if(32&F){for(U=E+"["+Q+"]\n",Z=M(O,_),J=0;J<Z.length;J++)U+=R(O,S,Z[J],E+"  ");return U}L=D(O,_);if(bt.isASN1HEX(L)){var U=E+"["+Q+"]\n";return U+=R(L,S,0,E+"  ")}return("68747470"==L.substr(0,8)||"subjectAltName"===S.x509ExtName&&2==Q)&&(L=hextoutf8(L)),U=E+"["+Q+"] "+L+"\n"}return E+"UNKNOWN("+F+") "+D(O,_)+"\n"},bt.parse=function(v){var S=bt,_=S.parse,E=S.isASN1HEX,P=S.getV,D=S.getTLV,R=S.getChildIdx,M=mt.asn1,O=M.ASN1Util.oidHexToInt,F=M.x509.OID.oid2name,N=hextoutf8,L=ucs2hextoutf8,U=iso88591hextoutf8,V={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},G=v.substr(0,2),W={},$=P(v,0);if("01"==G)return"0101ff"==v?{bool:!0}:{bool:!1};if("02"==G)return{int:{hex:$}};if("03"==G)try{if("00"!=$.substr(0,2))throw"not encap";var X=$.substr(2);if(!E(X))throw"not encap";return{bitstr:{obj:_(X)}}}catch(v){var Y=null;return $.length<=10&&(Y=bitstrtobinstr($)),null==Y?{bitstr:{hex:$}}:{bitstr:{bin:Y}}}else if("04"==G)try{if(!E($))throw"not encap";return{octstr:{obj:_($)}}}catch(v){return{octstr:{hex:$}}}else{if("05"==G)return{null:""};if("06"==G){var J=O($),Z=F(J);return""==Z?{oid:J}:{oid:Z}}if("0a"==G)return $.length>4?{enum:{hex:$}}:{enum:parseInt($,16)};if("30"==G||"31"==G)return W[V[G]]=function(v){for(var S=[],E=R(v,0),P=0;P<E.length;P++){var M=E[P],O=D(v,M),F=_(O);S.push(F)}return S}(v),W;if("14"==G){var Q=U($);return W[V[G]]={str:Q},W}if("1e"==G){Q=L($);return W[V[G]]={str:Q},W}if(-1!=":0c:12:13:16:17:18:1a:".indexOf(G)){Q=N($);return W[V[G]]={str:Q},W}if(G.match(/^8[0-9]$/))return null==(Q=N($))|""==Q||null!=Q.match(/[\x00-\x1F\x7F-\x9F]/)||null!=Q.match(/[\u0000-\u001F\u0080\u009F]/)?{tag:{tag:G,explicit:!1,hex:$}}:{tag:{tag:G,explicit:!1,str:Q}};if(!G.match(/^a[0-9]$/)){var tt=new mt.asn1.ASN1Object;return tt.hV=$,{asn1:{tlv:G+tt.getLengthHexFromValue()+$}}}try{if(!E($))throw new Error("not encap");return{tag:{tag:G,explicit:!0,obj:_($)}}}catch(v){return{tag:{tag:G,explicit:!0,hex:$}}}}},bt.isContextTag=function(v,S){var _,E;v=v.toLowerCase();try{_=parseInt(v,16)}catch(v){return-1}if(void 0===S)return 128==(192&_);try{return null!=S.match(/^\[[0-9]+\]$/)&&(!((E=parseInt(S.substr(1,S.length-1),10))>31)&&(128==(192&_)&&(31&_)==E))}catch(v){return!1}},bt.isASN1HEX=function(v){var S=bt;if(v.length%2==1)return!1;var _=S.getVblen(v,0),E=v.substr(0,2),P=S.getL(v,0);return v.length-E.length-P.length==2*_},bt.checkStrictDER=function(v,S,_,E,P){var D=bt;if(void 0===_){if("string"!=typeof v)throw new Error("not hex string");if(v=v.toLowerCase(),!mt.lang.String.isHex(v))throw new Error("not hex string");_=v.length,P=(E=v.length/2)<128?1:Math.ceil(E.toString(16))+1}if(D.getL(v,S).length>2*P)throw new Error("L of TLV too long: idx="+S);var R=D.getVblen(v,S);if(R>E)throw new Error("value of L too long than hex: idx="+S);var M=D.getTLV(v,S),O=M.length-2-D.getL(v,S).length;if(O!==2*R)throw new Error("V string length and L's value not the same:"+O+"/"+2*R);if(0===S&&v.length!=M.length)throw new Error("total length and TLV length unmatch:"+v.length+"!="+M.length);var F=v.substr(S,2);if("02"===F){var N=D.getVidx(v,S);if("00"==v.substr(N,2)&&v.charCodeAt(N+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(F,16)){for(var L=D.getVblen(v,S),U=0,V=D.getChildIdx(v,S),G=0;G<V.length;G++){U+=D.getTLV(v,V[G]).length,D.checkStrictDER(v,V[G],_,E,P)}if(2*L!=U)throw new Error("sum of children's TLV length and L unmatch: "+2*L+"!="+U)}},bt.oidname=function(v){var S=mt.asn1;mt.lang.String.isHex(v)&&(v=S.ASN1Util.oidHexToInt(v));var _=S.x509.OID.oid2name(v);return""===_&&(_=v),_},void 0!==mt&&mt||(mt={}),void 0!==mt.asn1&&mt.asn1||(mt.asn1={}),void 0!==mt.asn1.x509&&mt.asn1.x509||(mt.asn1.x509={}),mt.asn1.x509.Certificate=function(v){mt.asn1.x509.Certificate.superclass.constructor.call(this);var S=mt.asn1,_=S.DERBitString,E=S.DERSequence,P=S.x509,D=P.TBSCertificate,R=P.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(v){this.params=v},this.sign=function(){var v=this.params,S=v.sigalg;null!=v.sigalg.name&&(S=v.sigalg.name);var _=v.tbsobj.tohex(),E=new mt.crypto.Signature({alg:S});E.init(v.cakey),E.updateHex(_),v.sighex=E.sign()},this.getPEM=function(){return hextopem(this.tohex(),"CERTIFICATE")},this.tohex=function(){var v=this.params;if(null!=v.tbsobj&&null!=v.tbsobj||(v.tbsobj=new D(v)),null==v.sighex&&null!=v.cakey&&this.sign(),null==v.sighex)throw new Error("sighex or cakey parameter not defined");var S=[];return S.push(v.tbsobj),S.push(new R({name:v.sigalg})),S.push(new _({hex:"00"+v.sighex})),new E({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&(this.params=v)},extendClass(mt.asn1.x509.Certificate,mt.asn1.ASN1Object),mt.asn1.x509.TBSCertificate=function(v){mt.asn1.x509.TBSCertificate.superclass.constructor.call(this);var S=mt.asn1,_=S.x509,E=S.DERTaggedObject,P=S.DERInteger,D=S.DERSequence,R=_.AlgorithmIdentifier,M=_.Time,O=_.X500Name,F=_.Extensions,N=_.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(v){this.params=v},this.tohex=function(){var v=[],S=this.params;if(null!=S.version||1!=S.version){var _=2;null!=S.version&&(_=S.version-1);var L=new E({obj:new P({int:_})});v.push(L)}return v.push(new P(S.serial)),v.push(new R({name:S.sigalg})),v.push(new O(S.issuer)),v.push(new D({array:[new M(S.notbefore),new M(S.notafter)]})),v.push(new O(S.subject)),v.push(new N(St.getKey(S.sbjpubkey))),void 0!==S.ext&&S.ext.length>0&&v.push(new E({tag:"a3",obj:new F(S.ext)})),new mt.asn1.DERSequence({array:v}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.x509.TBSCertificate,mt.asn1.ASN1Object),mt.asn1.x509.Extensions=function(v){mt.asn1.x509.Extensions.superclass.constructor.call(this);var S=mt.asn1,_=S.DERSequence,E=S.x509;this.aParam=[],this.setByParam=function(v){this.aParam=v},this.tohex=function(){for(var v=[],S=0;S<this.aParam.length;S++){var P=this.aParam[S],D=P.extname,R=null;if(null!=P.extn)R=new E.PrivateExtension(P);else if("subjectKeyIdentifier"==D)R=new E.SubjectKeyIdentifier(P);else if("keyUsage"==D)R=new E.KeyUsage(P);else if("subjectAltName"==D)R=new E.SubjectAltName(P);else if("issuerAltName"==D)R=new E.IssuerAltName(P);else if("basicConstraints"==D)R=new E.BasicConstraints(P);else if("nameConstraints"==D)R=new E.NameConstraints(P);else if("cRLDistributionPoints"==D)R=new E.CRLDistributionPoints(P);else if("certificatePolicies"==D)R=new E.CertificatePolicies(P);else if("policyMappings"==D)R=new E.PolicyMappings(P);else if("policyConstraints"==D)R=new E.PolicyConstraints(P);else if("inhibitAnyPolicy"==D)R=new E.InhibitAnyPolicy(P);else if("authorityKeyIdentifier"==D)R=new E.AuthorityKeyIdentifier(P);else if("extKeyUsage"==D)R=new E.ExtKeyUsage(P);else if("authorityInfoAccess"==D)R=new E.AuthorityInfoAccess(P);else if("cRLNumber"==D)R=new E.CRLNumber(P);else if("cRLReason"==D)R=new E.CRLReason(P);else if("ocspNonce"==D)R=new E.OCSPNonce(P);else if("ocspNoCheck"==D)R=new E.OCSPNoCheck(P);else if("adobeTimeStamp"==D)R=new E.AdobeTimeStamp(P);else{if("subjectDirectoryAttributes"!=D)throw new Error("extension not supported:"+JSON.stringify(P));R=new E.SubjectDirectoryAttributes(P)}null!=R&&v.push(R)}return new _({array:v}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.x509.Extensions,mt.asn1.ASN1Object),mt.asn1.x509.Extension=function(v){mt.asn1.x509.Extension.superclass.constructor.call(this);var S=mt.asn1,_=S.DERObjectIdentifier,E=S.DEROctetString,P=(S.DERBitString,S.DERBoolean),D=S.DERSequence;this.tohex=function(){var v=new _({oid:this.oid}),S=new E({hex:this.getExtnValueHex()}),R=new Array;return R.push(v),this.critical&&R.push(new P),R.push(S),new D({array:R}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==v&&void 0!==v.critical&&(this.critical=v.critical)},extendClass(mt.asn1.x509.Extension,mt.asn1.ASN1Object),mt.asn1.x509.KeyUsage=function(v){mt.asn1.x509.KeyUsage.superclass.constructor.call(this,v);var S=Error,_={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var v=this.getBinValue();return this.asn1ExtnValue=new mt.asn1.DERBitString({bin:v}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var v=this.params;if("object"!=typeof v||"object"!=typeof v.names&&"string"!=typeof v.bin)throw new S("parameter not yet set");if(null!=v.names)return namearraytobinstr(v.names,_);if(null!=v.bin)return v.bin;throw new S("parameter not set properly")},this.oid="2.5.29.15",void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.KeyUsage,mt.asn1.x509.Extension),mt.asn1.x509.BasicConstraints=function(v){mt.asn1.x509.BasicConstraints.superclass.constructor.call(this,v);var S=mt.asn1,_=S.DERBoolean,E=S.DERInteger,P=S.DERSequence;this.getExtnValueHex=function(){var v=new Array;this.cA&&v.push(new _),this.pathLen>-1&&v.push(new E({int:this.pathLen}));var S=new P({array:v});return this.asn1ExtnValue=S,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==v&&(void 0!==v.cA&&(this.cA=v.cA),void 0!==v.pathLen&&(this.pathLen=v.pathLen))},extendClass(mt.asn1.x509.BasicConstraints,mt.asn1.x509.Extension),mt.asn1.x509.CRLDistributionPoints=function(v){mt.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,v);var S=mt.asn1,_=S.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(v){for(var E=[],P=0;P<v.length;P++)if(v[P]instanceof mt.asn1.ASN1Object)E.push(v[P]);else{var D=new _.DistributionPoint(v[P]);E.push(D)}this.asn1ExtnValue=new S.DERSequence({array:E})},this.setByOneURI=function(v){var S=new _.DistributionPoint({fulluri:v});this.setByDPArray([S])},this.oid="2.5.29.31",void 0!==v&&(void 0!==v.array?this.setByDPArray(v.array):void 0!==v.uri&&this.setByOneURI(v.uri))},extendClass(mt.asn1.x509.CRLDistributionPoints,mt.asn1.x509.Extension),mt.asn1.x509.DistributionPoint=function(v){mt.asn1.x509.DistributionPoint.superclass.constructor.call(this);var S=mt.asn1,_=S.x509.DistributionPointName;this.tohex=function(){var v=new S.DERSequence;if(null!=this.asn1DP){var _=new S.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});v.appendASN1Object(_)}return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&(void 0!==v.dpobj?this.asn1DP=v.dpobj:void 0!==v.dpname?this.asn1DP=new _(v.dpname):void 0!==v.fulluri&&(this.asn1DP=new _({full:[{uri:v.fulluri}]})))},extendClass(mt.asn1.x509.DistributionPoint,mt.asn1.ASN1Object),mt.asn1.x509.DistributionPointName=function(v){mt.asn1.x509.DistributionPointName.superclass.constructor.call(this);var S=mt.asn1,_=S.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new _({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v)if(S.x509.GeneralNames.prototype.isPrototypeOf(v))this.type="full",this.tag="a0",this.asn1V=v;else{if(void 0===v.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new S.x509.GeneralNames(v.full)}},extendClass(mt.asn1.x509.DistributionPointName,mt.asn1.ASN1Object),mt.asn1.x509.CertificatePolicies=function(v){mt.asn1.x509.CertificatePolicies.superclass.constructor.call(this,v);var S=mt.asn1,_=S.x509,E=S.DERSequence,P=_.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var v=[],S=0;S<this.params.array.length;S++)v.push(new P(this.params.array[S]));var _=new E({array:v});return this.asn1ExtnValue=_,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.CertificatePolicies,mt.asn1.x509.Extension),mt.asn1.x509.PolicyInformation=function(v){mt.asn1.x509.PolicyInformation.superclass.constructor.call(this,v);var S=mt.asn1,_=S.DERSequence,E=S.DERObjectIdentifier,P=S.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var v=[new E(this.params.policyoid)];if(void 0!==this.params.array){for(var S=[],D=0;D<this.params.array.length;D++)S.push(new P(this.params.array[D]));S.length>0&&v.push(new _({array:S}))}return new _({array:v}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.PolicyInformation,mt.asn1.ASN1Object),mt.asn1.x509.PolicyQualifierInfo=function(v){mt.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,v);var S=mt.asn1,_=S.DERSequence,E=S.DERIA5String,P=S.DERObjectIdentifier,D=S.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new _({array:[new P({oid:"1.3.6.1.5.5.7.2.1"}),new E({str:this.params.cps})]}).tohex():null!=this.params.unotice?new _({array:[new P({oid:"1.3.6.1.5.5.7.2.2"}),new D(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.PolicyQualifierInfo,mt.asn1.ASN1Object),mt.asn1.x509.UserNotice=function(v){mt.asn1.x509.UserNotice.superclass.constructor.call(this,v);var S=mt.asn1.DERSequence,_=(mt.asn1.DERInteger,mt.asn1.x509.DisplayText),E=mt.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var v=[];return void 0!==this.params.noticeref&&v.push(new E(this.params.noticeref)),void 0!==this.params.exptext&&v.push(new _(this.params.exptext)),new S({array:v}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.UserNotice,mt.asn1.ASN1Object),mt.asn1.x509.NoticeReference=function(v){mt.asn1.x509.NoticeReference.superclass.constructor.call(this,v);var S=mt.asn1.DERSequence,_=mt.asn1.DERInteger,E=mt.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var v=[];if(void 0!==this.params.org&&v.push(new E(this.params.org)),void 0!==this.params.noticenum){for(var P=[],D=this.params.noticenum,R=0;R<D.length;R++)P.push(new _(D[R]));v.push(new S({array:P}))}if(0==v.length)throw new Error("parameter is empty");return new S({array:v}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.NoticeReference,mt.asn1.ASN1Object),mt.asn1.x509.DisplayText=function(v){mt.asn1.x509.DisplayText.superclass.constructor.call(this,v),this.hT="0c",void 0!==v&&("ia5"===v.type?this.hT="16":"vis"===v.type?this.hT="1a":"bmp"===v.type&&(this.hT="1e"))},extendClass(mt.asn1.x509.DisplayText,mt.asn1.DERAbstractString),mt.asn1.x509.PolicyMappings=function(v){mt.asn1.x509.PolicyMappings.superclass.constructor.call(this,v);var S=mt.asn1,_=(S.x509,S.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){for(var v=this.params,S=[],E=0;E<v.array.length;E++){var P=v.array[E];S.push({seq:[{oid:P[0]},{oid:P[1]}]})}return this.asn1ExtnValue=_({seq:S}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.PolicyMappings,mt.asn1.x509.Extension),mt.asn1.x509.PolicyConstraints=function(v){mt.asn1.x509.PolicyConstraints.superclass.constructor.call(this,v);var S=mt.asn1,_=(S.x509,S.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){var v=this.params,S=[];return null!=v.reqexp&&S.push({tag:{tagi:"80",obj:{int:v.reqexp}}}),null!=v.inhibit&&S.push({tag:{tagi:"81",obj:{int:v.inhibit}}}),this.asn1ExtnValue=_({seq:S}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.PolicyConstraints,mt.asn1.x509.Extension),mt.asn1.x509.InhibitAnyPolicy=function(v){mt.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,v);var S=mt.asn1,_=(S.x509,S.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=_({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.InhibitAnyPolicy,mt.asn1.x509.Extension),mt.asn1.x509.NameConstraints=function(v){mt.asn1.x509.NameConstraints.superclass.constructor.call(this,v);var S=mt.asn1,_=S.x509,E=S.ASN1Util.newObject,P=_.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var v=this.params,S=[];if(null!=v.permit&&null!=v.permit.length){for(var _=[],D=0;D<v.permit.length;D++)_.push(new P(v.permit[D]));S.push({tag:{tagi:"a0",obj:{seq:_}}})}if(null!=v.exclude&&null!=v.exclude.length){var R=[];for(D=0;D<v.exclude.length;D++)R.push(new P(v.exclude[D]));S.push({tag:{tagi:"a1",obj:{seq:R}}})}return this.asn1ExtnValue=E({seq:S}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.NameConstraints,mt.asn1.x509.Extension),mt.asn1.x509.GeneralSubtree=function(v){mt.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var S=mt.asn1,_=S.x509.GeneralName,E=S.ASN1Util.newObject;this.params=null,this.setByParam=function(v){this.params=v},this.tohex=function(){var v=this.params,S=[new _(v)];return null!=v.min&&S.push({tag:{tagi:"80",obj:{int:v.min}}}),null!=v.max&&S.push({tag:{tagi:"81",obj:{int:v.max}}}),E({seq:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.x509.GeneralSubtree,mt.asn1.ASN1Object),mt.asn1.x509.ExtKeyUsage=function(v){mt.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,v);var S=mt.asn1;this.setPurposeArray=function(v){this.asn1ExtnValue=new S.DERSequence;for(var _=0;_<v.length;_++){var E=new S.DERObjectIdentifier(v[_]);this.asn1ExtnValue.appendASN1Object(E)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==v&&void 0!==v.array&&this.setPurposeArray(v.array)},extendClass(mt.asn1.x509.ExtKeyUsage,mt.asn1.x509.Extension),mt.asn1.x509.AuthorityKeyIdentifier=function(v){mt.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,v);var S=mt,_=S.asn1,E=_.DERTaggedObject,P=_.x509.GeneralNames;S.crypto.Util.isKey;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var v=new Array;this.asn1KID&&v.push(new E({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&v.push(new E({explicit:!1,tag:"a1",obj:new P([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&v.push(new E({explicit:!1,tag:"82",obj:this.asn1CertSN}));var S=new _.DERSequence({array:v});return this.asn1ExtnValue=S,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(v){if(void 0!==v.str||void 0!==v.hex)this.asn1KID=new mt.asn1.DEROctetString(v);else if("object"==typeof v&&mt.crypto.Util.isKey(v)||"string"==typeof v&&-1!=v.indexOf("BEGIN ")){var S=v;"string"==typeof v&&(S=St.getKey(v));var _=St.getKeyID(S);this.asn1KID=new mt.asn1.DEROctetString({hex:_})}},this.setCertIssuerByParam=function(v){void 0!==v.str||void 0!==v.ldapstr||void 0!==v.hex||void 0!==v.certsubject||void 0!==v.certissuer?this.asn1CertIssuer=new mt.asn1.x509.X500Name(v):"string"==typeof v&&-1!=v.indexOf("BEGIN ")&&-1!=v.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new mt.asn1.x509.X500Name({certissuer:v}))},this.setCertSNByParam=function(v){if(void 0!==v.str||void 0!==v.bigint||void 0!==v.hex)this.asn1CertSN=new mt.asn1.DERInteger(v);else if("string"==typeof v&&-1!=v.indexOf("BEGIN ")&&v.indexOf("CERTIFICATE")){var S=new X509;S.readCertPEM(v);var _=S.getSerialNumberHex();this.asn1CertSN=new mt.asn1.DERInteger({hex:_})}},this.oid="2.5.29.35",void 0!==v&&(void 0!==v.kid&&this.setKIDByParam(v.kid),void 0!==v.issuer&&this.setCertIssuerByParam(v.issuer),void 0!==v.sn&&this.setCertSNByParam(v.sn),void 0!==v.issuersn&&"string"==typeof v.issuersn&&-1!=v.issuersn.indexOf("BEGIN ")&&v.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(v.issuersn),this.setCertIssuerByParam(v.issuersn)))},extendClass(mt.asn1.x509.AuthorityKeyIdentifier,mt.asn1.x509.Extension),mt.asn1.x509.SubjectKeyIdentifier=function(v){mt.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,v);var S=mt.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(v){if(void 0!==v.str||void 0!==v.hex)this.asn1KID=new S(v);else if("object"==typeof v&&mt.crypto.Util.isKey(v)||"string"==typeof v&&-1!=v.indexOf("BEGIN")){var _=v;"string"==typeof v&&(_=St.getKey(v));var E=St.getKeyID(_);this.asn1KID=new mt.asn1.DEROctetString({hex:E})}},this.oid="2.5.29.14",void 0!==v&&void 0!==v.kid&&this.setKIDByParam(v.kid)},extendClass(mt.asn1.x509.SubjectKeyIdentifier,mt.asn1.x509.Extension),mt.asn1.x509.AuthorityInfoAccess=function(v){mt.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,v),this.setAccessDescriptionArray=function(v){for(var S=new Array,_=mt.asn1,E=_.DERSequence,P=_.DERObjectIdentifier,D=_.x509.GeneralName,R=0;R<v.length;R++){var M,O=v[R];if(void 0!==O.ocsp)M=new E({array:[new P({oid:"1.3.6.1.5.5.7.48.1"}),new D({uri:O.ocsp})]});else{if(void 0===O.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(O));M=new E({array:[new P({oid:"1.3.6.1.5.5.7.48.2"}),new D({uri:O.caissuer})]})}S.push(M)}this.asn1ExtnValue=new E({array:S})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==v&&void 0!==v.array&&this.setAccessDescriptionArray(v.array)},extendClass(mt.asn1.x509.AuthorityInfoAccess,mt.asn1.x509.Extension),mt.asn1.x509.SubjectAltName=function(v){mt.asn1.x509.SubjectAltName.superclass.constructor.call(this,v),this.setNameArray=function(v){this.asn1ExtnValue=new mt.asn1.x509.GeneralNames(v)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==v&&void 0!==v.array&&this.setNameArray(v.array)},extendClass(mt.asn1.x509.SubjectAltName,mt.asn1.x509.Extension),mt.asn1.x509.IssuerAltName=function(v){mt.asn1.x509.IssuerAltName.superclass.constructor.call(this,v),this.setNameArray=function(v){this.asn1ExtnValue=new mt.asn1.x509.GeneralNames(v)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==v&&void 0!==v.array&&this.setNameArray(v.array)},extendClass(mt.asn1.x509.IssuerAltName,mt.asn1.x509.Extension),mt.asn1.x509.SubjectDirectoryAttributes=function(v){mt.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,v);var S=mt.asn1,_=S.DERSequence,E=S.ASN1Util.newObject,P=S.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var v=[],S=0;S<this.params.array.length;S++){var D=this.params.array[S];if(null==D.attr||null==D.array){var R={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==D.attr)R.seq[0].oid=P(D.attr),R.seq[1].set[0]={gentime:D.str};else if("placeOfBirth"==D.attr)R.seq[0].oid=P(D.attr),R.seq[1].set[0]={utf8str:D.str};else if("gender"==D.attr)R.seq[0].oid=P(D.attr),R.seq[1].set[0]={prnstr:D.str};else if("countryOfCitizenship"==D.attr)R.seq[0].oid=P(D.attr),R.seq[1].set[0]={prnstr:D.str};else{if("countryOfResidence"!=D.attr)throw new Error("unsupported attribute: "+D.attr);R.seq[0].oid=P(D.attr),R.seq[1].set[0]={prnstr:D.str}}v.push(new E(R))}else{var M={seq:[{oid:D.attr},{set:D.array}]};v.push(E(M))}}var O=new _({array:v});return this.asn1ExtnValue=O,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==v&&(this.params=v)},extendClass(mt.asn1.x509.SubjectDirectoryAttributes,mt.asn1.x509.Extension),mt.asn1.x509.PrivateExtension=function(v){mt.asn1.x509.PrivateExtension.superclass.constructor.call(this,v);var S=mt,_=S.lang.String.isHex,E=S.asn1,P=E.x509.OID.name2oid,D=E.ASN1Util.newObject;this.params=null,this.setByParam=function(v){this.oid=P(v.extname),this.params=v},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var v=this.params.extn;if("string"==typeof v&&_(v))return v;if("object"==typeof v)try{return D(v).tohex()}catch(v){}throw new Error("unsupported extn value")},null!=v&&this.setByParam(v)},extendClass(mt.asn1.x509.PrivateExtension,mt.asn1.x509.Extension),mt.asn1.x509.CRL=function(v){mt.asn1.x509.CRL.superclass.constructor.call(this);var S=mt.asn1,_=S.DERSequence,E=S.DERBitString,P=S.x509,D=P.AlgorithmIdentifier,R=P.TBSCertList;this.params=void 0,this.setByParam=function(v){this.params=v},this.sign=function(){var v=new R(this.params).tohex(),S=new mt.crypto.Signature({alg:this.params.sigalg});S.init(this.params.cakey),S.updateHex(v);var _=S.sign();this.params.sighex=_},this.getPEM=function(){return hextopem(this.tohex(),"X509 CRL")},this.tohex=function(){var v=this.params;if(null==v.tbsobj&&(v.tbsobj=new R(v)),null==v.sighex&&null!=v.cakey&&this.sign(),null==v.sighex)throw new Error("sighex or cakey parameter not defined");var S=[];return S.push(v.tbsobj),S.push(new D({name:v.sigalg})),S.push(new E({hex:"00"+v.sighex})),new _({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&(this.params=v)},extendClass(mt.asn1.x509.CRL,mt.asn1.ASN1Object),mt.asn1.x509.TBSCertList=function(v){mt.asn1.x509.TBSCertList.superclass.constructor.call(this);var S=mt.asn1,_=S.DERInteger,E=S.DERSequence,P=S.DERTaggedObject,D=(S.DERObjectIdentifier,S.x509),R=D.AlgorithmIdentifier,M=D.Time,O=D.Extensions,F=D.X500Name;this.params=null,this.setByParam=function(v){this.params=v},this.getRevCertSequence=function(){for(var v=[],S=this.params.revcert,P=0;P<S.length;P++){var D=[new _(S[P].sn),new M(S[P].date)];null!=S[P].ext&&D.push(new O(S[P].ext)),v.push(new E({array:D}))}return new E({array:v})},this.tohex=function(){var v=[],S=this.params;if(null!=S.version){var D=S.version-1,N=new _({int:D});v.push(N)}if(v.push(new R({name:S.sigalg})),v.push(new F(S.issuer)),v.push(new M(S.thisupdate)),null!=S.nextupdate&&v.push(new M(S.nextupdate)),null!=S.revcert&&v.push(this.getRevCertSequence()),null!=S.ext){var L=new O(S.ext);v.push(new P({tag:"a0",explicit:!0,obj:L}))}return new E({array:v}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.x509.TBSCertList,mt.asn1.ASN1Object),mt.asn1.x509.CRLEntry=function(v){mt.asn1.x509.CRLEntry.superclass.constructor.call(this);var S=mt.asn1;this.setCertSerial=function(v){this.sn=new S.DERInteger(v)},this.setRevocationDate=function(v){this.time=new S.x509.Time(v)},this.tohex=function(){var v=new S.DERSequence({array:[this.sn,this.time]});return this.TLV=v.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&(void 0!==v.time&&this.setRevocationDate(v.time),void 0!==v.sn&&this.setCertSerial(v.sn))},extendClass(mt.asn1.x509.CRLEntry,mt.asn1.ASN1Object),mt.asn1.x509.CRLNumber=function(v){mt.asn1.x509.CRLNumber.superclass.constructor.call(this,v),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new mt.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=v&&(this.params=v)},extendClass(mt.asn1.x509.CRLNumber,mt.asn1.x509.Extension),mt.asn1.x509.CRLReason=function(v){mt.asn1.x509.CRLReason.superclass.constructor.call(this,v),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new mt.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=v&&(this.params=v)},extendClass(mt.asn1.x509.CRLReason,mt.asn1.x509.Extension),mt.asn1.x509.OCSPNonce=function(v){mt.asn1.x509.OCSPNonce.superclass.constructor.call(this,v),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new mt.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=v&&(this.params=v)},extendClass(mt.asn1.x509.OCSPNonce,mt.asn1.x509.Extension),mt.asn1.x509.OCSPNoCheck=function(v){mt.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,v),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new mt.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=v&&(this.params=v)},extendClass(mt.asn1.x509.OCSPNoCheck,mt.asn1.x509.Extension),mt.asn1.x509.AdobeTimeStamp=function(v){mt.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,v);var S=mt.asn1,_=S.DERInteger,E=S.DERBoolean,P=S.DERSequence,D=S.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var v=this.params,S=[new _(1)];return S.push(new D({uri:v.uri})),null!=v.reqauth&&S.push(new E(v.reqauth)),this.asn1ExtnValue=new P({array:S}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.x509.AdobeTimeStamp,mt.asn1.x509.Extension),mt.asn1.x509.X500Name=function(v){mt.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var S=mt.asn1,_=S.x509,E=_.RDN;this.setByString=function(v,S){void 0!==S&&(this.sRule=S);var _=v.split("/");_.shift();for(var P=[],D=0;D<_.length;D++)if(_[D].match(/^[^=]+=.+$/))P.push(_[D]);else{var R=P.length-1;P[R]=P[R]+"/"+_[D]}for(D=0;D<P.length;D++)this.asn1Array.push(new E({str:P[D],rule:this.sRule}))},this.setByLdapString=function(v,S){void 0!==S&&(this.sRule=S);var E=_.X500Name.ldapToCompat(v);this.setByString(E,S)},this.setByObject=function(v,S){for(var _ in void 0!==S&&(this.sRule=S),v)if(v.hasOwnProperty(_)){var P=new E({str:_+"="+v[_],rule:this.sRule});this.asn1Array?this.asn1Array.push(P):this.asn1Array=[P]}},this.setByParam=function(v){var S;(void 0!==v.rule&&(this.sRule=v.rule),void 0!==v.array)?this.paramArray=v.array:void 0!==v.str?this.setByString(v.str):void 0!==v.ldapstr?this.setByLdapString(v.ldapstr):void 0!==v.hex?this.hTLV=v.hex:void 0!==v.certissuer?((S=new X509).readCertPEM(v.certissuer),this.hTLV=S.getIssuerHex()):void 0!==v.certsubject?((S=new X509).readCertPEM(v.certsubject),this.hTLV=S.getSubjectHex()):"object"==typeof v&&void 0===v.certsubject&&void 0===v.certissuer&&this.setByObject(v)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var v=0;v<this.paramArray.length;v++){var _={array:this.paramArray[v]};"utf8"!=this.sRule&&(_.rule=this.sRule);var P=new E(_);this.asn1Array.push(P)}var D=new S.DERSequence({array:this.asn1Array});return this.hTLV=D.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.x509.X500Name,mt.asn1.ASN1Object),mt.asn1.x509.X500Name.compatToLDAP=function(v){if("/"!==v.substr(0,1))throw"malformed input";var S=(v=v.substr(1)).split("/");return S.reverse(),S=S.map((function(v){return v.replace(/,/,"\\,")})),S.join(",")},mt.asn1.x509.X500Name.onelineToLDAP=function(v){return mt.asn1.x509.X500Name.compatToLDAP(v)},mt.asn1.x509.X500Name.ldapToCompat=function(v){for(var S=v.split(","),_=!1,E=[],P=0;S.length>0;P++){var D=S.shift();if(!0===_){var R=(E.pop()+","+D).replace(/\\,/g,",");E.push(R),_=!1}else E.push(D);"\\"===D.substr(-1,1)&&(_=!0)}return E=E.map((function(v){return v.replace("/","\\/")})),E.reverse(),"/"+E.join("/")},mt.asn1.x509.X500Name.ldapToOneline=function(v){return mt.asn1.x509.X500Name.ldapToCompat(v)},mt.asn1.x509.RDN=function(v){mt.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var S=mt.asn1.x509.AttributeTypeAndValue;this.setByParam=function(v){void 0!==v.rule&&(this.sRule=v.rule),void 0!==v.str&&this.addByMultiValuedString(v.str),void 0!==v.array&&(this.paramArray=v.array)},this.addByString=function(v){this.asn1Array.push(new mt.asn1.x509.AttributeTypeAndValue({str:v,rule:this.sRule}))},this.addByMultiValuedString=function(v){for(var S=mt.asn1.x509.RDN.parseString(v),_=0;_<S.length;_++)this.addByString(S[_])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var v=0;v<this.paramArray.length;v++){var _=this.paramArray[v];void 0!==_.rule&&"utf8"!=this.sRule&&(_.rule=this.sRule);var E=new S(_);this.asn1Array.push(E)}var P=new mt.asn1.DERSet({array:this.asn1Array});return this.TLV=P.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.x509.RDN,mt.asn1.ASN1Object),mt.asn1.x509.RDN.parseString=function(v){for(var S=v.split(/\+/),_=!1,E=[],P=0;S.length>0;P++){var D=S.shift();if(!0===_){var R=(E.pop()+"+"+D).replace(/\\\+/g,"+");E.push(R),_=!1}else E.push(D);"\\"===D.substr(-1,1)&&(_=!0)}var M=!1,O=[];for(P=0;E.length>0;P++){D=E.shift();if(!0===M){var F=O.pop();if(D.match(/"$/)){R=(F+"+"+D).replace(/^([^=]+)="(.*)"$/,"$1=$2");O.push(R),M=!1}else O.push(F+"+"+D)}else O.push(D);D.match(/^[^=]+="/)&&(M=!0)}return O},mt.asn1.x509.AttributeTypeAndValue=function(v){mt.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var S=mt,_=S.asn1,E=_.DERSequence,P=_.DERUTF8String,D=_.DERPrintableString,R=_.DERTeletexString,M=_.DERIA5String,O=_.DERVisibleString,F=_.DERBMPString,N=S.lang.String.isMail,L=S.lang.String.isPrintable;this.setByParam=function(v){if(void 0!==v.rule&&(this.sRule=v.rule),void 0!==v.ds&&(this.dsType=v.ds),void 0===v.value&&void 0!==v.str){var S=v.str.match(/^([^=]+)=(.+)$/);if(!S)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=S[1],this.sValue=S[2]}else this.sType=v.type,this.sValue=v.value},this.setByString=function(v,S){void 0!==S&&(this.sRule=S);var _=v.match(/^([^=]+)=(.+)$/);if(!_)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(_[1],_[2])},this._getDsType=function(){var v=this.sType,S=this.sValue,_=this.sRule;return"prn"===_?"CN"==v&&N(S)?"ia5":L(S)?"prn":"utf8":"utf8"===_?"CN"==v&&N(S)?"ia5":"C"==v?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(v,S,_){void 0!==_&&(this.sRule=_),this.sType=v,this.sValue=S},this.getValueObj=function(v,S){if("utf8"==v)return new P({str:S});if("prn"==v)return new D({str:S});if("tel"==v)return new R({str:S});if("ia5"==v)return new M({str:S});if("vis"==v)return new O({str:S});if("bmp"==v)return new F({str:S});throw new Error("unsupported directory string type: type="+v+" value="+S)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var v=mt.asn1.x509.OID.atype2obj(this.sType),S=this.getValueObj(this.dsType,this.sValue),_=new E({array:[v,S]});return this.TLV=_.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.x509.AttributeTypeAndValue,mt.asn1.ASN1Object),mt.asn1.x509.SubjectPublicKeyInfo=function(v){mt.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var S=mt,_=S.asn1,E=_.DERInteger,P=_.DERBitString,D=_.DERObjectIdentifier,R=_.DERSequence,M=_.ASN1Util.newObject,O=_.x509.AlgorithmIdentifier,F=S.crypto;F.ECDSA,F.DSA;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new R({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var v=this.getASN1Object();return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(v){try{if(v instanceof RSAKey){var S=M({seq:[{int:{bigint:v.n}},{int:{int:v.e}}]}).tohex();this.asn1AlgId=new O({name:"rsaEncryption"}),this.asn1SubjPKey=new P({hex:"00"+S})}}catch(v){}try{if(v instanceof mt.crypto.ECDSA){var _=new D({name:v.curveName});this.asn1AlgId=new O({name:"ecPublicKey",asn1params:_}),this.asn1SubjPKey=new P({hex:"00"+v.pubKeyHex})}}catch(v){}try{if(v instanceof mt.crypto.DSA){_=new M({seq:[{int:{bigint:v.p}},{int:{bigint:v.q}},{int:{bigint:v.g}}]});this.asn1AlgId=new O({name:"dsa",asn1params:_});var R=new E({bigint:v.y});this.asn1SubjPKey=new P({hex:"00"+R.tohex()})}}catch(v){}},void 0!==v&&this.setPubKey(v)},extendClass(mt.asn1.x509.SubjectPublicKeyInfo,mt.asn1.ASN1Object),mt.asn1.x509.Time=function(v){mt.asn1.x509.Time.superclass.constructor.call(this);var S=mt.asn1,_=S.DERUTCTime,E=S.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(v){this.timeParams=v},this.setByParam=function(v){this.params=v},this.getType=function(v){return v.match(/^[0-9]{12}Z$/)?"utc":v.match(/^[0-9]{14}Z$/)?"gen":v.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":v.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var v=this.params,S=null;if("string"==typeof v&&(v={str:v}),null==v||!v.str||null!=v.type&&null!=v.type||(v.type=this.getType(v.str)),null!=v&&v.str?("utc"==v.type&&(S=new _(v.str)),"gen"==v.type&&(S=new E(v.str))):S="gen"==this.type?new E:new _,null==S)throw new Error("wrong setting for Time");return this.TLV=S.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},mt.asn1.x509.Time_bak=function(v){mt.asn1.x509.Time_bak.superclass.constructor.call(this);var S=mt.asn1,_=S.DERUTCTime,E=S.DERGeneralizedTime;this.setTimeParams=function(v){this.timeParams=v},this.tohex=function(){var v=null;return v=null!=this.timeParams?"utc"==this.type?new _(this.timeParams):new E(this.timeParams):"utc"==this.type?new _:new E,this.TLV=v.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==v&&(void 0!==v.type?this.type=v.type:void 0!==v.str&&(v.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),v.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=v)},extendClass(mt.asn1.x509.Time,mt.asn1.ASN1Object),mt.asn1.x509.AlgorithmIdentifier=function(v){mt.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var S=mt.asn1,_=S.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var v=null;for(var E in _)E===this.nameAlg&&(v=_[E]);if(null!==v)return this.hTLV=v,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=S.x509.OID.name2obj(this.nameAlg));var P=[this.asn1Alg];null!==this.asn1Params&&P.push(this.asn1Params);var D=new S.DERSequence({array:P});return this.hTLV=D.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&(void 0!==v.name&&(this.nameAlg=v.name),void 0!==v.asn1params&&(this.asn1Params=v.asn1params),void 0!==v.paramempty&&(this.paramEmpty=v.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var E=this.nameAlg.toLowerCase();"withdsa"!==E.substr(-7,7)&&"withecdsa"!==E.substr(-9,9)&&(this.asn1Params=new S.DERNull)}},extendClass(mt.asn1.x509.AlgorithmIdentifier,mt.asn1.ASN1Object),mt.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},mt.asn1.x509.GeneralName=function(v){mt.asn1.x509.GeneralName.superclass.constructor.call(this);var S=mt.asn1,_=S.x509,E=_.X500Name,P=_.OtherName,D=S.DERIA5String,R=(S.DERPrintableString,S.DEROctetString),M=S.DERTaggedObject,O=S.ASN1Object,F=Error;this.params=null,this.setByParam=function(v){this.params=v},this.tohex=function(){var v,S,_=this.params,N=!1;if(void 0!==_.other)v="a0",S=new P(_.other);else if(void 0!==_.rfc822)v="81",S=new D({str:_.rfc822});else if(void 0!==_.dns)v="82",S=new D({str:_.dns});else if(void 0!==_.dn)v="a4",N=!0,S="string"==typeof _.dn?new E({str:_.dn}):_.dn instanceof mt.asn1.x509.X500Name?_.dn:new E(_.dn);else if(void 0!==_.ldapdn)v="a4",N=!0,S=new E({ldapstr:_.ldapdn});else if(void 0!==_.certissuer||void 0!==_.certsubj){var L,U;v="a4",N=!0;var V=null;if(void 0!==_.certsubj?(L=!1,U=_.certsubj):(L=!0,U=_.certissuer),U.match(/^[0-9A-Fa-f]+$/),-1!=U.indexOf("-----BEGIN ")&&(V=pemtohex(U)),null==V)throw new Error("certsubj/certissuer not cert");var G,W=new X509;W.hex=V,G=L?W.getIssuerHex():W.getSubjectHex(),(S=new O).hTLV=G}else if(void 0!==_.uri)v="86",S=new D({str:_.uri});else{if(void 0===_.ip)throw new F("improper params");var $;v="87";var X=_.ip;try{if(X.match(/^[0-9a-f]+$/)){var Y=X.length;if(8!=Y&&16!=Y&&32!=Y&&64!=Y)throw"err";$=X}else $=iptohex(X)}catch(v){throw new F("malformed IP address: "+_.ip+":"+v.message)}S=new R({hex:$})}return new M({tag:v,explicit:N,obj:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.x509.GeneralName,mt.asn1.ASN1Object),mt.asn1.x509.GeneralNames=function(v){mt.asn1.x509.GeneralNames.superclass.constructor.call(this);var S=mt.asn1;this.setByParamArray=function(v){for(var _=0;_<v.length;_++){var E=new S.x509.GeneralName(v[_]);this.asn1Array.push(E)}},this.tohex=function(){return new S.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,void 0!==v&&this.setByParamArray(v)},extendClass(mt.asn1.x509.GeneralNames,mt.asn1.ASN1Object),mt.asn1.x509.OtherName=function(v){mt.asn1.x509.OtherName.superclass.constructor.call(this);var S=mt.asn1,_=S.DERObjectIdentifier,E=S.DERSequence,P=S.ASN1Util.newObject;this.params=null,this.setByParam=function(v){this.params=v},this.tohex=function(){var v=this.params;if(null==v.oid||null==v.value)throw new Error("oid or value not specified");var S=new _({oid:v.oid}),D=P({tag:{tag:"a0",explicit:!0,obj:v.value}});return new E({array:[S,D]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.x509.OtherName,mt.asn1.ASN1Object),mt.asn1.x509.OID=new function(){var v=mt.asn1.DERObjectIdentifier;this.name2oidList={"aes128-CBC":"2.16.840.1.101.3.4.1.2","aes256-CBC":"2.16.840.1.101.3.4.1.42",sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",hmacWithSHA1:"1.2.840.113549.2.7",hmacWithSHA224:"1.2.840.113549.2.8",hmacWithSHA256:"1.2.840.113549.2.9",hmacWithSHA384:"1.2.840.113549.2.10",hmacWithSHA512:"1.2.840.113549.2.11",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(S){if(void 0!==this.objCache[S])return this.objCache[S];if(void 0===this.name2oidList[S])throw"Name of ObjectIdentifier not defined: "+S;var _=this.name2oidList[S],E=new v({oid:_});return this.objCache[S]=E,E},this.atype2obj=function(S){if(void 0!==this.objCache[S])return this.objCache[S];var _;if(S.match(/^\d+\.\d+\.[0-9.]+$/))_=S;else if(void 0!==this.atype2oidList[S])_=this.atype2oidList[S];else{if(void 0===this.name2oidList[S])throw new Error("AttributeType name undefined: "+S);_=this.name2oidList[S]}var E=new v({oid:_});return this.objCache[S]=E,E},this.registerOIDs=function(v){if(this.checkOIDs(v))for(var S in v)this.name2oidList[S]=v[S]},this.checkOIDs=function(v){try{var S=Object.keys(v);return 0!=S.length&&(S.map((function(v,S,_){if(!this[v].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")}),v),!0)}catch(v){return!1}}},mt.asn1.x509.OID.oid2name=function(v){var S=mt.asn1.x509.OID.name2oidList;for(var _ in S)if(S[_]==v)return _;return""},mt.asn1.x509.OID.oid2atype=function(v){var S=mt.asn1.x509.OID.atype2oidList;for(var _ in S)if(S[_]==v)return _;return v},mt.asn1.x509.OID.name2oid=function(v){if(v.match(/^[0-9.]+$/))return v;var S=mt.asn1.x509.OID.name2oidList;return void 0===S[v]?"":S[v]},mt.asn1.x509.X509Util={},mt.asn1.x509.X509Util.newCertPEM=function(v){var S=mt.asn1.x509;S.TBSCertificate;return new(0,S.Certificate)(v).getPEM()},void 0!==mt&&mt||(mt={}),void 0!==mt.asn1&&mt.asn1||(mt.asn1={}),void 0!==mt.asn1.cms&&mt.asn1.cms||(mt.asn1.cms={}),mt.asn1.cms.Attribute=function(v){var S=Error,_=mt.asn1,E=_.DERSequence,P=_.DERSet,D=_.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(v){this.params=v},this.getValueArray=function(){throw new S("not yet implemented abstract")},this.tohex=function(){var v=new D({oid:this.typeOid}),S=new P({array:this.getValueArray()});return new E({array:[v,S]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},extendClass(mt.asn1.cms.Attribute,mt.asn1.ASN1Object),mt.asn1.cms.ContentType=function(v){var S=mt.asn1;S.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new S.DERObjectIdentifier(this.params.type)]},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.ContentType,mt.asn1.cms.Attribute),mt.asn1.cms.MessageDigest=function(v){var S=mt.asn1,_=S.DEROctetString;S.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new _(this.params)]},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.MessageDigest,mt.asn1.cms.Attribute),mt.asn1.cms.SigningTime=function(v){var S=mt.asn1;S.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new S.x509.Time(this.params)]},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.SigningTime,mt.asn1.cms.Attribute),mt.asn1.cms.SigningCertificate=function(v){var S=Error,_=mt,E=_.asn1,P=E.DERSequence,D=E.cms,R=D.ESSCertID;_.crypto;D.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new S("parameter 'array' not specified");for(var _=this.params.array,E=[],D=0;D<_.length;D++){var M=_[D];0!=v.hasis||"string"!=typeof M||-1==M.indexOf("-----BEGIN")&&!bt.isASN1HEX(M)||(M={cert:M}),0!=M.hasis&&0==v.hasis&&(M.hasis=!1),E.push(new R(M))}var O=new P({array:E});return[new P({array:[O]})]},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.SigningCertificate,mt.asn1.cms.Attribute),mt.asn1.cms.ESSCertID=function(v){mt.asn1.cms.ESSCertID.superclass.constructor.call(this);var S=Error,_=mt,E=_.asn1,P=E.DEROctetString,D=E.DERSequence,R=E.cms.IssuerSerial;this.params=null,this.getCertHash=function(v,E){if(null!=v.hash)return v.hash;if("string"==typeof v&&-1==v.indexOf("-----BEGIN")&&!bt.isASN1HEX(v))return v;var P,D,R;if("string"==typeof v)P=v;else{if(null==v.cert)throw new S("hash nor cert unspecified");P=v.cert}if(D=-1!=P.indexOf("-----BEGIN")?pemtohex(P):P,"string"==typeof v&&(-1!=v.indexOf("-----BEGIN")?D=pemtohex(v):bt.isASN1HEX(v)&&(D=v)),null!=v.alg)R=v.alg;else{if(null==E)throw new S("hash alg unspecified");R=E}return _.crypto.Util.hashHex(D,R)},this.tohex=function(){var v=this.params,S=this.getCertHash(v,"sha1"),_=[];return _.push(new P({hex:S})),("string"==typeof v&&-1!=v.indexOf("-----BEGIN")||null!=v.cert&&0!=v.hasis||null!=v.issuer&&null!=v.serial)&&_.push(new R(v)),new D({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.ESSCertID,mt.asn1.ASN1Object),mt.asn1.cms.SigningCertificateV2=function(v){var S=Error,_=mt,E=_.asn1,P=E.DERSequence,D=(E.x509,E.cms),R=D.ESSCertIDv2;_.crypto;D.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new S("parameter 'array' not specified");for(var _=this.params.array,E=[],D=0;D<_.length;D++){var M=_[D];null==v.alg&&0!=v.hasis||"string"!=typeof M||-1==M.indexOf("-----BEGIN")&&!bt.isASN1HEX(M)||(M={cert:M}),null==M.alg&&null!=v.alg&&(M.alg=v.alg),0!=M.hasis&&0==v.hasis&&(M.hasis=!1),E.push(new R(M))}var O=new P({array:E});return[new P({array:[O]})]},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.SigningCertificateV2,mt.asn1.cms.Attribute),mt.asn1.cms.ESSCertIDv2=function(v){mt.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);Error;var S=mt.asn1,_=S.DEROctetString,E=S.DERSequence,P=S.cms.IssuerSerial,D=S.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var v=this.params,S=this.getCertHash(v,"sha256"),R=[];return null!=v.alg&&"sha256"!=v.alg&&R.push(new D({name:v.alg})),R.push(new _({hex:S})),("string"==typeof v&&-1!=v.indexOf("-----BEGIN")||null!=v.cert&&0!=v.hasis||null!=v.issuer&&null!=v.serial)&&R.push(new P(v)),new E({array:R}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.ESSCertIDv2,mt.asn1.cms.ESSCertID),mt.asn1.cms.IssuerSerial=function(v){var S=Error,_=mt.asn1,E=_.DERInteger,P=_.DERSequence,D=_.cms,R=_.x509.GeneralNames,M=X509;D.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(v){this.params=v},this.tohex=function(){var v,_,D=this.params;if("string"==typeof D&&-1!=D.indexOf("-----BEGIN")||null!=D.cert){var O;O=null!=D.cert?D.cert:D;var F=new M;F.readCertPEM(O),v=F.getIssuer(),_={hex:F.getSerialNumberHex()}}else{if(null==D.issuer||!D.serial)throw new S("cert or issuer and serial parameter not specified");v=D.issuer,_=D.serial}var N=new R([{dn:v}]),L=new E(_);return new P({array:[N,L]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.IssuerSerial,mt.asn1.ASN1Object),mt.asn1.cms.SignerIdentifier=function(v){var S=mt.asn1,_=(S.DERInteger,S.DERSequence,S.cms),E=_.IssuerAndSerialNumber,P=_.SubjectKeyIdentifier;S.x509.X500Name,Error;_.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if("isssn"==v.type)return new E(v).tohex();if("skid"==v.type)return new P(v).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.SignerIdentifier,mt.asn1.ASN1Object),mt.asn1.cms.IssuerAndSerialNumber=function(v){var S=mt.asn1,_=S.DERInteger,E=S.DERSequence,P=S.cms,D=S.x509.X500Name,R=X509,M=Error;P.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v,S,P=this.params;if("string"==typeof P&&-1!=P.indexOf("-----BEGIN")||null!=P.cert){var O;O=null!=P.cert?P.cert:P;var F=new R;F.readCertPEM(O),v=F.getIssuer(),S={hex:F.getSerialNumberHex()}}else{if(null==P.issuer||!P.serial)throw new M("cert or issuer and serial parameter not specified");v=P.issuer,S=P.serial}var N=new D(v),L=new _(S);return new E({array:[N,L]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.IssuerAndSerialNumber,mt.asn1.ASN1Object),mt.asn1.cms.SubjectKeyIdentifier=function(v){var S=mt.asn1,_=(S.DERInteger,S.DERSequence,S.ASN1Util.newObject),E=S.cms,P=(E.IssuerAndSerialName,E.SubjectKeyIdentifier,S.x509.X500Name,X509),D=Error;E.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var v,S=this.params;if(null==S.cert&&null==S.skid)throw new D("property cert nor skid undefined");null!=S.cert?v=new P(S.cert).getExtSubjectKeyIdentifier().kid.hex:null!=S.skid&&(v=S.skid);return _({tag:{tage:"a0",obj:{octstr:{hex:v}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.SubjectKeyIdentifier,mt.asn1.ASN1Object),mt.asn1.cms.AttributeList=function(v){var S=Error,_=mt.asn1,E=_.DERSet,P=_.cms;P.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(v){this.params=v},this.tohex=function(){var v=this.params;if(null!=this.hTLV)return this.hTLV;var _=!0;null!=v.sortflag&&(_=v.sortflag);for(var D=v.array,R=[],M=0;M<D.length;M++){var O=D[M],F=O.attr;if("contentType"==F)R.push(new P.ContentType(O));else if("messageDigest"==F)R.push(new P.MessageDigest(O));else if("signingTime"==F)R.push(new P.SigningTime(O));else if("signingCertificate"==F)R.push(new P.SigningCertificate(O));else if("signingCertificateV2"==F)R.push(new P.SigningCertificateV2(O));else if("signaturePolicyIdentifier"==F)R.push(new mt.asn1.cades.SignaturePolicyIdentifier(O));else{if("signatureTimeStamp"!=F&&"timeStampToken"!=F)throw new S("unknown attr: "+F);R.push(new mt.asn1.cades.SignatureTimeStamp(O))}}var N=new E({array:R,sortflag:_});return this.hTLV=N.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.AttributeList,mt.asn1.ASN1Object),mt.asn1.cms.SignerInfo=function(v){var S=Error,_=mt,E=_.asn1,P=E.DERInteger,D=E.DEROctetString,R=E.DERSequence,M=E.DERTaggedObject,O=E.cms,F=O.SignerIdentifier,N=O.AttributeList,L=(O.ContentType,O.EncapsulatedContentInfo,O.MessageDigest,O.SignedData,E.x509.AlgorithmIdentifier),U=_.crypto,V=St;O.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var v=this.params,S=v.sigalg,_=new N(v.sattrs).tohex(),E=V.getKey(v.signkey),P=new U.Signature({alg:S});P.init(E),P.updateHex(_);var D=P.sign();v.sighex=D},this.tohex=function(){var v=this.params,_=[];if(_.push(new P({int:v.version})),_.push(new F(v.id)),_.push(new L({name:v.hashalg})),null!=v.sattrs){var E=new N(v.sattrs);try{_.push(new M({tag:"a0",explicit:!1,obj:E}))}catch(v){throw new S("si sattr error: "+v)}}if(null!=v.sigalgfield?_.push(new L({name:v.sigalgfield})):_.push(new L({name:v.sigalg})),null==v.sighex&&null!=v.signkey&&this.sign(),_.push(new D({hex:v.sighex})),null!=v.uattrs){E=new N(v.uattrs);try{_.push(new M({tag:"a1",explicit:!1,obj:E}))}catch(v){throw new S("si uattr error: "+v)}}return new R({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.SignerInfo,mt.asn1.ASN1Object),mt.asn1.cms.EncapsulatedContentInfo=function(v){var S=mt.asn1,_=S.DERTaggedObject,E=S.DERSequence,P=S.DERObjectIdentifier,D=S.DEROctetString;S.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,S=[];if(S.push(new P(v.type)),null!=v.content&&(null!=v.content.hex||null!=v.content.str)&&1!=v.isDetached){var R=new D(v.content),M=new _({tag:"a0",explicit:!0,obj:R});S.push(M)}return new E({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.EncapsulatedContentInfo,mt.asn1.ASN1Object),mt.asn1.cms.ContentInfo=function(v){var S=mt.asn1,_=S.DERTaggedObject,E=S.DERSequence,P=S.DERObjectIdentifier;S.x509.OID.name2obj;mt.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,S=[];S.push(new P(v.type));var D=new _({tag:"a0",explicit:!0,obj:v.obj});return S.push(D),new E({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.ContentInfo,mt.asn1.ASN1Object),mt.asn1.cms.SignedData=function(v){Error;var S=mt.asn1,_=(S.ASN1Object,S.DERInteger),E=S.DERSet,P=S.DERSequence,D=(S.DERTaggedObject,S.cms),R=D.EncapsulatedContentInfo,M=D.SignerInfo,O=D.ContentInfo,F=D.CertificateSet,N=D.RevocationInfoChoices,L=S.x509.AlgorithmIdentifier;mt.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var v=this.params;this._setDigestAlgs(v),this._setContentTypeByEContent(v),this._setMessageDigestByEContent(v),this._setSignerInfoVersion(v),this._setSignedDataVersion(v)},this._setDigestAlgs=function(v){for(var S={},_=v.sinfos,E=0;E<_.length;E++){S[_[E].hashalg]=1}v.hashalgs=Object.keys(S).sort()},this._setContentTypeByEContent=function(v){for(var S=v.econtent.type,_=v.sinfos,E=0;E<_.length;E++){var P=_[E];this._getAttrParamByName(P,"contentType").type=S}},this._setMessageDigestByEContent=function(v){var S=v.econtent,_=(v.econtent.type,S.content.hex);null==_&&"data"==S.type&&null!=S.content.str&&(_=rstrtohex(S.content.str));for(var E=v.sinfos,P=0;P<E.length;P++){var D=E[P],R=D.hashalg,M=this._getAttrParamByName(D,"messageDigest"),O=mt.crypto.Util.hashHex(_,R);M.hex=O}},this._getAttrParamByName=function(v,S){for(var _=v.sattrs.array,E=0;E<_.length;E++)if(_[E].attr==S)return _[E]},this._setSignerInfoVersion=function(v){for(var S=v.sinfos,_=0;_<S.length;_++){var E=S[_],P=1;"skid"==E.id.type&&(P=3),E.version=P}},this._setSignedDataVersion=function(v){var S=this._getSignedDataVersion(v);v.version=S},this._getSignedDataVersion=function(v){if(null!=v.revinfos)for(var S=v.revinfos,_=0;_<S.length;_++){if(null!=S[_].ocsp)return 5}var E=v.sinfos;for(_=0;_<E.length;_++){if(3==v.sinfos[_].version)return 3}return"data"!=v.econtent.type?3:1},this.tohex=function(){var v=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=v.fixed&&this.checkAndFixParam();var S=[];S.push(new _({int:v.version}));for(var D=[],O=0;O<v.hashalgs.length;O++){var U=v.hashalgs[O];D.push(new L({name:U}))}S.push(new E({array:D})),S.push(new R(v.econtent)),null!=v.certs&&S.push(new F(v.certs)),null!=v.revinfos&&S.push(new N(v.revinfos));var V=[];for(O=0;O<v.sinfos.length;O++){var G=v.sinfos[O];V.push(new M(G))}return S.push(new E({array:V})),new P({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new O({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.SignedData,mt.asn1.ASN1Object),mt.asn1.cms.CertificateSet=function(v){mt.asn1.cms.CertificateSet.superclass.constructor.call(this);var S=Error,_=mt.asn1,E=_.DERTaggedObject,P=_.DERSet,D=_.ASN1Object;this.params=null,this.tohex=function(){var v,_=this.params,R=[];if(_ instanceof Array)v=_;else{if(null==_.array)throw new S("cert array not specified");v=_.array}for(var M=0;M<v.length;M++){var O=pemtohex(v[M]),F=new D;F.hTLV=O,R.push(F)}var N={array:R};0==_.sortflag&&(N.sortflag=!1);var L=new P(N);return new E({tag:"a0",explicit:!1,obj:L}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.CertificateSet,mt.asn1.ASN1Object),mt.asn1.cms.RevocationInfoChoices=function(v){mt.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if(!v instanceof Array)throw new Error("params is not array");for(var S=[],_=0;_<v.length;_++)S.push(new mt.asn1.cms.RevocationInfoChoice(v[_]));return mt.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:S}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.RevocationInfoChoices,mt.asn1.ASN1Object),mt.asn1.cms.RevocationInfoChoice=function(v){mt.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if(null!=v.crl&&"string"==typeof v.crl){var S=v.crl;return-1!=v.crl.indexOf("-----BEGIN")&&(S=pemtohex(v.crl)),S}if(null!=v.ocsp)return mt.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new mt.asn1.cms.OtherRevocationFormat(v)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.RevocationInfoChoice,mt.asn1.ASN1Object),mt.asn1.cms.OtherRevocationFormat=function(v){mt.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var S=Error,_=mt,E=_.asn1.ASN1Util.newObject,P=_.lang.String.isHex;this.params=null,this.tohex=function(){var v=this.params;if(null==v.ocsp)throw new S("property ocsp not specified");if(!P(v.ocsp)||!bt.isASN1HEX(v.ocsp))throw new S("ocsp value not ASN.1 hex string");return E({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:v.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cms.OtherRevocationFormat,mt.asn1.ASN1Object),mt.asn1.cms.CMSUtil=new function(){},mt.asn1.cms.CMSUtil.newSignedData=function(v){return new mt.asn1.cms.SignedData(v)},mt.asn1.cms.CMSUtil.verifySignedData=function(v){var S=mt,_=S.asn1,E=_.cms,P=(E.SignerInfo,E.SignedData,E.SigningTime,E.SigningCertificate,E.SigningCertificateV2,_.cades.SignaturePolicyIdentifier,S.lang.String.isHex),D=bt,R=D.getVbyList,M=D.getTLVbyList,O=D.getIdxbyList,F=D.getChildIdx,N=D.getTLV,L=D.oidname,U=S.crypto.Util.hashHex;void 0===v.cms&&P(v.cms);var V=v.cms,k=function(v,S){var _=S.idx;S.signerid_issuer1=M(v,_,[1,0],"30"),S.signerid_serial1=R(v,_,[1,1],"02"),S.hashalg=L(R(v,_,[2,0],"06"));var E=O(v,_,[3],"a0");S.idxSignedAttrs=E,f(v,S,E);var P=F(v,_).length;if(P<6)throw"malformed SignerInfo";S.sigalg=L(R(v,_,[P-2,0],"06")),S.sigval=R(v,_,[P-1],"04")},f=function(v,S,_){var E=F(v,_);S.signedAttrIdxList=E;for(var P=0;P<E.length;P++){var D,M=E[P],O=R(v,M,[0],"06");"2a864886f70d010905"===O?(D=hextoutf8(R(v,M,[1,0])),S.saSigningTime=D):"2a864886f70d010904"===O&&(D=R(v,M,[1,0],"04"),S.saMessageDigest=D)}},e=function(v,S,_,E){_.verifyDetail={};var P=_.verifyDetail,D=S.parse.econtent,R=_.hashalg,M=_.saMessageDigest;P.validMessageDigest=!1,U(D,R)===M&&(P.validMessageDigest=!0),function(v,S,_,E){var P,D=S.parse.certsIdx;if(void 0===S.certs){P=[],S.certkeys=[];for(var R=F(v,D),M=0;M<R.length;M++){var O=N(v,R[M]),L=new X509;L.readCertHex(O),P[M]=L,S.certkeys[M]=L.getPublicKey()}S.certs=P}else P=S.certs;for(S.cccc=P.length,S.cccci=R.length,M=0;M<P.length;M++){var U=L.getIssuerHex(),V=L.getSerialNumberHex();_.signerid_issuer1===U&&_.signerid_serial1===V&&(_.certkey_idx=M)}}(v,S,_),P.validSignatureValue=!1;var O=_.sigalg,L="31"+N(v,_.idxSignedAttrs).substr(2);_.signedattrshex=L;var V=S.certs[_.certkey_idx].getPublicKey(),G=new mt.crypto.Signature({alg:O});G.init(V),G.updateHex(L);var W=G.verify(_.sigval);P.validSignatureValue_isValid=W,!0===W&&(P.validSignatureValue=!0),_.isValid=!1,P.validMessageDigest&&P.validSignatureValue&&(_.isValid=!0)},G={isValid:!1,parse:{}};return function(v,S){if("2a864886f70d010702"!==R(v,0,[0],"06"))return S;S.cmsType="signedData",S.econtent=R(v,0,[1,0,2,1,0]),function(v,S){for(var _,E=3;E<6;E++)if(void 0!==(_=O(v,0,[1,0,E]))){var P=v.substr(_,2);"a0"===P&&(S.certsIdx=_),"a1"===P&&(S.revinfosIdx=_),"31"===P&&(S.signerinfosIdx=_)}}(v,S),S.signerInfos=[],function(v,S){var _=S.signerinfosIdx;if(void 0!==_){var E=F(v,_);S.signerInfoIdxList=E;for(var P=0;P<E.length;P++){var D={idx:E[P]};k(v,D),S.signerInfos.push(D)}}}(v,S)}(V,G.parse),function(v,S){for(var _=S.parse.signerInfos,E=_.length,P=!0,D=0;D<E;D++){var R=_[D];e(v,S,R,D),R.isValid||(P=!1)}S.isValid=P}(V,G),G},mt.asn1.cms.CMSParser=function(){var v=Error,S=X509,_=new S,E=bt,P=E.getV,D=E.getTLV,R=(E.getIdxbyList,E.getTLVbyList),M=E.getTLVbyListEx,O=E.getVbyList,F=E.getVbyListEx,N=E.getChildIdx;this.getCMSSignedData=function(v){var S=R(v,0,[1,0]);return this.getSignedData(S)},this.getSignedData=function(v){var S=N(v,0),_={},E=P(v,S[0]),R=parseInt(E,16);_.version=R;var O=D(v,S[1]);_.hashalgs=this.getHashAlgArray(O);var F=D(v,S[2]);_.econtent=this.getEContent(F);var L=M(v,0,["[0]"]);null!=L&&(_.certs=this.getCertificateSet(L));M(v,0,["[1]"]);var U=M(v,0,[3]);return _.sinfos=this.getSignerInfos(U),_},this.getHashAlgArray=function(v){for(var _=N(v,0),E=new S,P=[],R=0;R<_.length;R++){var M=D(v,_[R]),O=E.getAlgorithmIdentifierName(M);P.push(O)}return P},this.getEContent=function(v){var S={},_=O(v,0,[0]),E=O(v,0,[1,0]);return S.type=mt.asn1.x509.OID.oid2name(bt.hextooidstr(_)),S.content={hex:E},S},this.getSignerInfos=function(v){for(var S=[],_=N(v,0),E=0;E<_.length;E++){var P=D(v,_[E]),R=this.getSignerInfo(P);S.push(R)}return S},this.getSignerInfo=function(v){var S={},P=N(v,0),R=E.getInt(v,P[0],-1);-1!=R&&(S.version=R);var O=D(v,P[1]),L=this.getIssuerAndSerialNumber(O);S.id=L;var U=D(v,P[2]),V=_.getAlgorithmIdentifierName(U);S.hashalg=V;var G=M(v,0,["[0]"]);if(null!=G){var W=this.getAttributeList(G);S.sattrs=W}var $=M(v,0,[3]),X=_.getAlgorithmIdentifierName($);S.sigalg=X;var Y=F(v,0,[4]);S.sighex=Y;var J=M(v,0,["[1]"]);if(null!=J){var Z=this.getAttributeList(J);S.uattrs=Z}return S},this.getSignerIdentifier=function(v){if("30"==v.substr(0,2))return this.getIssuerAndSerialNumber(v);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(v){var S={type:"isssn"},E=N(v,0),R=D(v,E[0]);S.issuer=_.getX500Name(R);var M=P(v,E[1]);return S.serial={hex:M},S},this.getAttributeList=function(v){for(var S=[],_=N(v,0),E=0;E<_.length;E++){var P=D(v,_[E]),R=this.getAttribute(P);S.push(R)}return{array:S}},this.getAttribute=function(v){var S={},_=N(v,0),P=E.getOID(v,_[0]),R=mt.asn1.x509.OID.oid2name(P);S.attr=R;var M=D(v,_[1]),O=N(M,0);if(1==O.length)S.valhex=D(M,O[0]);else{for(var F=[],L=0;L<O.length;L++)F.push(D(M,O[L]));S.valhex=F}return"contentType"==R?this.setContentType(S):"messageDigest"==R?this.setMessageDigest(S):"signingTime"==R?this.setSigningTime(S):"signingCertificate"==R?this.setSigningCertificate(S):"signingCertificateV2"==R?this.setSigningCertificateV2(S):"signaturePolicyIdentifier"==R&&this.setSignaturePolicyIdentifier(S),S},this.setContentType=function(v){var S=E.getOIDName(v.valhex,0,null);null!=S&&(v.type=S,delete v.valhex)},this.setSigningTime=function(v){var S=hextoutf8(P(v.valhex,0));v.str=S,delete v.valhex},this.setMessageDigest=function(v){var S=P(v.valhex,0);v.hex=S,delete v.valhex},this.setSigningCertificate=function(v){var S=N(v.valhex,0);if(S.length>0){for(var _=D(v.valhex,S[0]),E=N(_,0),P=[],R=0;R<E.length;R++){var M=D(_,E[R]),O=this.getESSCertID(M);P.push(O)}v.array=P}if(S.length>1){var F=D(v.valhex,S[1]);v.polhex=F}delete v.valhex},this.setSignaturePolicyIdentifier=function(v){var _=N(v.valhex,0);if(_.length>0){var R=E.getOID(v.valhex,_[0]);v.oid=R}if(_.length>1){var M=new S,O=N(v.valhex,_[1]),F=D(v.valhex,O[0]),L=M.getAlgorithmIdentifierName(F);v.alg=L;var U=P(v.valhex,O[1]);v.hash=U}delete v.valhex},this.setSigningCertificateV2=function(v){var S=N(v.valhex,0);if(S.length>0){for(var _=D(v.valhex,S[0]),E=N(_,0),P=[],R=0;R<E.length;R++){var M=D(_,E[R]),O=this.getESSCertIDv2(M);P.push(O)}v.array=P}if(S.length>1){var F=D(v.valhex,S[1]);v.polhex=F}delete v.valhex},this.getESSCertID=function(v){var S={},_=N(v,0);if(_.length>0){var E=P(v,_[0]);S.hash=E}if(_.length>1){var R=D(v,_[1]),M=this.getIssuerSerial(R);null!=M.serial&&(S.serial=M.serial),null!=M.issuer&&(S.issuer=M.issuer)}return S},this.getESSCertIDv2=function(S){var E={},R=N(S,0);if(R.length<1||3<R.length)throw new v("wrong number of elements");var M=0;if("30"==S.substr(R[0],2)){var O=D(S,R[0]);E.alg=_.getAlgorithmIdentifierName(O),M++}else E.alg="sha256";var F=P(S,R[M]);if(E.hash=F,R.length>M+1){var L=D(S,R[M+1]),U=this.getIssuerSerial(L);E.issuer=U.issuer,E.serial=U.serial}return E},this.getIssuerSerial=function(v){var S={},E=N(v,0),R=D(v,E[0]),M=_.getGeneralNames(R)[0].dn;S.issuer=M;var O=P(v,E[1]);return S.serial={hex:O},S},this.getCertificateSet=function(v){for(var S=N(v,0),_=[],E=0;E<S.length;E++){var P=D(v,S[E]);if("30"==P.substr(0,2)){var R=hextopem(P,"CERTIFICATE");_.push(R)}}return{array:_,sortflag:!1}}},void 0!==mt&&mt||(mt={}),void 0!==mt.asn1&&mt.asn1||(mt.asn1={}),void 0!==mt.asn1.tsp&&mt.asn1.tsp||(mt.asn1.tsp={}),mt.asn1.tsp.TimeStampToken=function(v){var S=mt.asn1.tsp;S.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var v=new S.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=v.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.tsp.TimeStampToken,mt.asn1.cms.SignedData),mt.asn1.tsp.TSTInfo=function(v){Error;var S=mt.asn1,_=S.DERSequence,E=S.DERInteger,P=S.DERBoolean,D=S.DERGeneralizedTime,R=S.DERObjectIdentifier,M=S.DERTaggedObject,O=S.tsp,F=O.MessageImprint,N=O.Accuracy,L=(S.x509.X500Name,S.x509.GeneralName);if(O.TSTInfo.superclass.constructor.call(this),this.dVersion=new E({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var v=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(v.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(v.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(v.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");v.push(this.dGenTime),null!=this.dAccuracy&&v.push(this.dAccuracy),null!=this.dOrdering&&v.push(this.dOrdering),null!=this.dNonce&&v.push(this.dNonce),null!=this.dTsa&&v.push(this.dTsa);var S=new _({array:v});return this.hTLV=S.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v){if("string"==typeof v.policy){if(!v.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new R({oid:v.policy})}void 0!==v.messageImprint&&(this.dMessageImprint=new F(v.messageImprint)),void 0!==v.serial&&(this.dSerial=new E(v.serial)),void 0!==v.genTime&&(this.dGenTime=new D(v.genTime)),void 0!==v.accuracy&&(this.dAccuracy=new N(v.accuracy)),void 0!==v.ordering&&1==v.ordering&&(this.dOrdering=new P),void 0!==v.nonce&&(this.dNonce=new E(v.nonce)),void 0!==v.tsa&&(this.dTsa=new M({tag:"a0",explicit:!0,obj:new L({dn:v.tsa})}))}},extendClass(mt.asn1.tsp.TSTInfo,mt.asn1.ASN1Object),mt.asn1.tsp.Accuracy=function(v){var S=mt.asn1,_=S.ASN1Util.newObject;S.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,S=[];return null!=v.seconds&&"number"==typeof v.seconds&&S.push({int:v.seconds}),null!=v.millis&&"number"==typeof v.millis&&S.push({tag:{tagi:"80",obj:{int:v.millis}}}),null!=v.micros&&"number"==typeof v.micros&&S.push({tag:{tagi:"81",obj:{int:v.micros}}}),_({seq:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.tsp.Accuracy,mt.asn1.ASN1Object),mt.asn1.tsp.MessageImprint=function(v){var S=mt.asn1,_=S.DERSequence,E=S.DEROctetString,P=S.x509.AlgorithmIdentifier;S.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,S=new P({name:v.alg}),D=new E({hex:v.hash});return new _({array:[S,D]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.tsp.MessageImprint,mt.asn1.ASN1Object),mt.asn1.tsp.TimeStampReq=function(v){var S=mt.asn1,_=S.DERSequence,E=S.DERInteger,P=S.DERBoolean,D=(S.ASN1Object,S.DERObjectIdentifier),R=S.tsp,M=R.MessageImprint;R.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,S=[];return S.push(new E({int:1})),v.messageImprint instanceof mt.asn1.ASN1Object?S.push(v.messageImprint):S.push(new M(v.messageImprint)),null!=v.policy&&S.push(new D(v.policy)),null!=v.nonce&&S.push(new E(v.nonce)),1==v.certreq&&S.push(new P),new _({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.tsp.TimeStampReq,mt.asn1.ASN1Object),mt.asn1.tsp.TimeStampResp=function(v){var S=mt.asn1,_=S.DERSequence,E=(S.ASN1Object,S.tsp),P=E.PKIStatusInfo;E.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,D=[];if(null!=v.econtent||null!=v.tst)if(null!=v.statusinfo?D.push(new P(v.statusinfo)):D.push(new P("granted")),null!=v.econtent)D.push(new E.TimeStampToken(v).getContentInfo());else{if(!(v.tst instanceof S.ASN1Object))throw new Error("improper member tst value");D.push(v.tst)}else{if(null==v.statusinfo)throw new Error("parameter for token nor statusinfo not specified");D.push(new P(v.statusinfo))}return new _({array:D}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.tsp.TimeStampResp,mt.asn1.ASN1Object),mt.asn1.tsp.PKIStatusInfo=function(v){var S=Error,_=mt.asn1,E=_.DERSequence,P=_.tsp,D=P.PKIStatus,R=P.PKIFreeText,M=P.PKIFailureInfo;P.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,_=[];if("string"==typeof v)_.push(new D(v));else{if(null==v.status)throw new S("property 'status' unspecified");_.push(new D(v.status)),null!=v.statusstr&&_.push(new R(v.statusstr)),null!=v.failinfo&&_.push(new M(v.failinfo))}return new E({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.tsp.PKIStatusInfo,mt.asn1.ASN1Object),mt.asn1.tsp.PKIStatus=function(v){var S=Error,_=mt.asn1,E=_.DERInteger;_.tsp.PKIStatus.superclass.constructor.call(this);var P={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var v,_=this.params;if("string"==typeof _)try{v=P[_]}catch(v){throw new S("undefined name: "+_)}else{if("number"!=typeof _)throw new S("unsupported params");v=_}return new E({int:v}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.tsp.PKIStatus,mt.asn1.ASN1Object),mt.asn1.tsp.PKIFreeText=function(v){var S=Error,_=mt.asn1,E=_.DERSequence,P=_.DERUTF8String;_.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if(!v instanceof Array)throw new S("wrong params: not array");for(var _=[],D=0;D<v.length;D++)_.push(new P({str:v[D]}));return new E({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.tsp.PKIFreeText,mt.asn1.ASN1Object),mt.asn1.tsp.PKIFailureInfo=function(v){var S=Error,_=mt.asn1,E=_.DERBitString,P=_.tsp.PKIFailureInfo,D={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};P.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var v=this.params,_=0;if("number"==typeof v&&0<=v&&v<=25){for(var E=(_|=1<<v).toString(2),P="",R=E.length-1;R>=0;R--)P+=E[R];return P}if("string"==typeof v&&null!=D[v])return namearraytobinstr([v],D);if("object"==typeof v&&null!=v.length)return namearraytobinstr(v,D);throw new S("wrong params")},this.tohex=function(){this.params;var v=this.getBinValue();return new E({bin:v}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.tsp.PKIFailureInfo,mt.asn1.ASN1Object),mt.asn1.tsp.AbstractTSAAdapter=function(v){this.getTSTHex=function(v,S){throw"not implemented yet"}},mt.asn1.tsp.SimpleTSAAdapter=function(v){var S=mt,_=S.asn1.tsp,E=S.crypto.Util.hashHex;_.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(v,S){var P=E(v,S);this.params.econtent.content.messageImprint={alg:S,hash:P},this.params.econtent.content.serial={int:this.serial++};var D=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:D},new _.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==v&&(this.params=v)},extendClass(mt.asn1.tsp.SimpleTSAAdapter,mt.asn1.tsp.AbstractTSAAdapter),mt.asn1.tsp.FixedTSAAdapter=function(v){var S=mt,_=S.asn1.tsp,E=S.crypto.Util.hashHex;_.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(v,S){var P=E(v,S);return this.params.econtent.content.messageImprint={alg:S,hash:P},new _.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==v&&(this.params=v)},extendClass(mt.asn1.tsp.FixedTSAAdapter,mt.asn1.tsp.AbstractTSAAdapter),mt.asn1.tsp.TSPUtil=new function(){},mt.asn1.tsp.TSPUtil.newTimeStampToken=function(v){return new mt.asn1.tsp.TimeStampToken(v)},mt.asn1.tsp.TSPUtil.parseTimeStampReq=function(v){return(new mt.asn1.tsp.TSPParser).getTimeStampReq(v)},mt.asn1.tsp.TSPUtil.parseMessageImprint=function(v){return(new mt.asn1.tsp.TSPParser).getMessageImprint(v)},mt.asn1.tsp.TSPParser=function(){Error;var v=new X509,S=bt,_=S.getV,E=S.getTLV,P=S.getIdxbyList,D=(S.getTLVbyListEx,S.getChildIdx),R=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],M={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(v){var S=D(v,0);if(1==S.length)return this.getPKIStatusInfo(E(v,S[0]));if(S.length>1){var _=this.getPKIStatusInfo(E(v,S[0])),P=E(v,S[1]),R=this.getToken(P);return R.statusinfo=_,R}},this.getToken=function(v){var S=(new mt.asn1.cms.CMSParser).getCMSSignedData(v);return this.setTSTInfo(S),S},this.setTSTInfo=function(v){var S=v.econtent;if("tstinfo"==S.type){var _=S.content.hex,E=this.getTSTInfo(_);S.content=E}},this.getTSTInfo=function(S){var P={},R=D(S,0),M=_(S,R[1]);P.policy=hextooid(M);var O=E(S,R[2]);P.messageImprint=this.getMessageImprint(O);var F=_(S,R[3]);P.serial={hex:F};var N=_(S,R[4]);P.genTime={str:hextoutf8(N)};var L=0;if(R.length>5&&"30"==S.substr(R[5],2)){var U=E(S,R[5]);P.accuracy=this.getAccuracy(U),L++}R.length>5+L&&"01"==S.substr(R[5+L],2)&&("ff"==_(S,R[5+L])&&(P.ordering=!0),L++);if(R.length>5+L&&"02"==S.substr(R[5+L],2)){var V=_(S,R[5+L]);P.nonce={hex:V},L++}if(R.length>5+L&&"a0"==S.substr(R[5+L],2)){var G=E(S,R[5+L]);G="30"+G.substr(2),pGeneralNames=v.getGeneralNames(G);var W=pGeneralNames[0].dn;P.tsa=W,L++}if(R.length>5+L&&"a1"==S.substr(R[5+L],2)){var $=E(S,R[5+L]);$="30"+$.substr(2);var X=v.getExtParamArray($);P.ext=X,L++}return P},this.getAccuracy=function(v){for(var S={},E=D(v,0),P=0;P<E.length;P++){var R=v.substr(E[P],2),M=_(v,E[P]),O=parseInt(M,16);"02"==R?S.seconds=O:"80"==R?S.millis=O:"81"==R&&(S.micros=O)}return S},this.getMessageImprint=function(v){if("30"!=v.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var E={},R=(D(v,0),P(v,0,[0,0])),M=_(v,R),O=S.hextooidstr(M),F=mt.asn1.x509.OID.oid2name(O);if(""==F)throw new Error("hashAlg name undefined: "+O);var N=F,L=P(v,0,[1]);return E.alg=N,E.hash=_(v,L),E},this.getPKIStatusInfo=function(v){var S={},P=D(v,0),M=0;try{var O=_(v,P[0]),F=parseInt(O,16);S.status=R[F]}catch(v){}if(P.length>1&&"30"==v.substr(P[1],2)){var N=E(v,P[1]);S.statusstr=this.getPKIFreeText(N),M++}if(P.length>M&&"03"==v.substr(P[1+M],2)){var L=E(v,P[1+M]);S.failinfo=this.getPKIFailureInfo(L)}return S},this.getPKIFreeText=function(v){for(var _=[],E=D(v,0),P=0;P<E.length;P++)_.push(S.getString(v,E[P]));return _},this.getPKIFailureInfo=function(v){var _=S.getInt(v,0);return null!=M[_]?M[_]:_},this.getTimeStampReq=function(v){var P={certreq:!1},R=D(v,0);if(R.length<2)throw new Error("TimeStampReq must have at least 2 items");var M=E(v,R[1]);P.messageImprint=mt.asn1.tsp.TSPUtil.parseMessageImprint(M);for(var O=2;O<R.length;O++){var F=R[O],N=v.substr(F,2);if("06"==N){var L=_(v,F);P.policy=S.hextooidstr(L)}"02"==N&&(P.nonce=_(v,F)),"01"==N&&(P.certreq=!0)}return P}},void 0!==mt&&mt||(mt={}),void 0!==mt.asn1&&mt.asn1||(mt.asn1={}),void 0!==mt.asn1.cades&&mt.asn1.cades||(mt.asn1.cades={}),mt.asn1.cades.SignaturePolicyIdentifier=function(v){var S=mt.asn1.cades,_=S.SignaturePolicyId;S.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new _(this.params)]},this.setByParam=function(v){this.params=v},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cades.SignaturePolicyIdentifier,mt.asn1.cms.Attribute),mt.asn1.cades.SignaturePolicyId=function(v){var S=mt.asn1,_=S.DERSequence,E=S.DERObjectIdentifier,P=(S.x509.AlgorithmIdentifier,S.cades),D=P.SignaturePolicyId,R=P.OtherHashAlgAndValue;D.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,S=[];return S.push(new E(v.oid)),S.push(new R(v)),new _({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cades.SignaturePolicyId,mt.asn1.ASN1Object),mt.asn1.cades.OtherHashAlgAndValue=function(v){var S=Error,_=mt.asn1,E=_.DERSequence,P=_.DEROctetString,D=_.x509.AlgorithmIdentifier;_.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if(null==v.alg)throw new S("property 'alg' not specified");if(null==v.hash&&null==v.cert)throw new S("property 'hash' nor 'cert' not specified");var _=null;if(null!=v.hash)_=v.hash;else if(null!=v.cert){if("string"!=typeof v.cert)throw new S("cert not string");var R=v.cert;-1!=v.cert.indexOf("-----BEGIN")&&(R=pemtohex(v.cert)),_=mt.crypto.Util.hashHex(R,v.alg)}var M=[];return M.push(new D({name:v.alg})),M.push(new P({hex:_})),new E({array:M}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cades.OtherHashAlgAndValue,mt.asn1.ASN1Object),mt.asn1.cades.OtherHashValue=function(v){mt.asn1.cades.OtherHashValue.superclass.constructor.call(this);var S=Error,_=mt,E=(_.lang.String.isHex,_.asn1.DEROctetString);_.crypto.Util.hashHex;this.params=null,this.tohex=function(){var v=this.params;if(null==v.hash&&null==v.cert)throw new S("hash or cert not specified");var _=null;if(null!=v.hash)_=v.hash;else if(null!=v.cert){if("string"!=typeof v.cert)throw new S("cert not string");var P=v.cert;-1!=v.cert.indexOf("-----BEGIN")&&(P=pemtohex(v.cert)),_=mt.crypto.Util.hashHex(P,"sha1")}return new E({hex:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cades.OtherHashValue,mt.asn1.ASN1Object),mt.asn1.cades.SignatureTimeStamp=function(v){var S=Error,_=mt,E=_.lang.String.isHex,P=_.asn1,D=P.ASN1Object;P.x509;P.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var v=this.params;if(null!=v.tst){if(E(v.tst))return(P=new D).hTLV=v.tst,[P];if(v.tst instanceof D)return[v.tst];throw new S("params.tst has wrong value")}if(null!=v.res){var _=v.res;if(_ instanceof D&&(_=_.tohex()),"string"!=typeof _||!E(_))throw new S("params.res has wrong value");var P;bt.getTLVbyList(_,0,[1]);return(P=new D).hTLV=v.tst,[P]}},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cades.SignatureTimeStamp,mt.asn1.cms.Attribute),mt.asn1.cades.CompleteCertificateRefs=function(v){var S=Error,_=mt,E=_.asn1,P=E.DERSequence,D=E.cades,R=D.OtherCertID,M=_.lang.String.isHex;D.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var v=this.params,_=[],E=0;E<v.array.length;E++){var D=v.array[E];if("string"==typeof D)if(-1!=D.indexOf("-----BEGIN"))D={cert:D};else{if(!M(D))throw new S("unsupported value: "+D);D={hash:D}}null!=v.alg&&null==D.alg&&(D.alg=v.alg),null!=v.hasis&&null==D.hasis&&(D.hasis=v.hasis);var O=new R(D);_.push(O)}return[new P({array:_})]},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cades.CompleteCertificateRefs,mt.asn1.cms.Attribute),mt.asn1.cades.OtherCertID=function(v){var S=mt.asn1,_=S.DERSequence,E=S.cms.IssuerSerial,P=S.cades,D=P.OtherHashValue,R=P.OtherHashAlgAndValue;P.OtherCertID.superclass.constructor.call(this),this.params=v,this.tohex=function(){var v=this.params;"string"==typeof v&&(-1!=v.indexOf("-----BEGIN")?v={cert:v}:_isHex(v)&&(v={hash:v}));var S=[],P=null;if(P=null!=v.alg?new R(v):new D(v),S.push(P),null!=v.cert&&1==v.hasis||null!=v.issuer&&null!=v.serial){var M=new E(v);S.push(M)}return new _({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cades.OtherCertID,mt.asn1.ASN1Object),mt.asn1.cades.OtherHash=function(v){Error;var S=mt,_=S.asn1,E=(_.cms,_.cades),P=E.OtherHashAlgAndValue,D=E.OtherHashValue,R=(S.crypto.Util.hashHex,S.lang.String.isHex);E.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;"string"==typeof v&&(-1!=v.indexOf("-----BEGIN")?v={cert:v}:R(v)&&(v={hash:v}));return(null!=v.alg?new P(v):new D(v)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.cades.OtherHash,mt.asn1.ASN1Object),mt.asn1.cades.CAdESUtil=new function(){},mt.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(v){return(new mt.asn1.cms.CMSParser).getCMSSignedData(v)},mt.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(v,S,_){var E=bt,P=E.getChildIdx,D=E.getTLV,R=E.getV,M=mt.asn1,O=M.ASN1Object,F=M.cms,N=F.AttributeList,L=F.SignerInfo,U={},V=P(v,S);if(6!=V.length)throw"not supported items for SignerInfo (!=6)";var G=V.shift();U.version=D(v,G);var W=V.shift();U.si=D(v,W);var $=V.shift();U.digalg=D(v,$);var X=V.shift();U.sattrs=D(v,X);var Y=V.shift();U.sigalg=D(v,Y);var J=V.shift();U.sig=D(v,J),U.sigval=R(v,J);var Z=null;return U.obj=new L,(Z=new O).hTLV=U.version,U.obj.dCMSVersion=Z,(Z=new O).hTLV=U.si,U.obj.dSignerIdentifier=Z,(Z=new O).hTLV=U.digalg,U.obj.dDigestAlgorithm=Z,(Z=new O).hTLV=U.sattrs,U.obj.dSignedAttrs=Z,(Z=new O).hTLV=U.sigalg,U.obj.dSigAlg=Z,(Z=new O).hTLV=U.sig,U.obj.dSig=Z,U.obj.dUnsignedAttrs=new N,U},void 0!==mt.asn1.csr&&mt.asn1.csr||(mt.asn1.csr={}),mt.asn1.csr.CertificationRequest=function(v){var S=mt.asn1,_=S.DERBitString,E=S.DERSequence,P=S.csr,D=(S.x509,P.CertificationRequestInfo);P.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(v){this.params=v},this.sign=function(){var v=new D(this.params).tohex(),S=new mt.crypto.Signature({alg:this.params.sigalg});S.init(this.params.sbjprvkey),S.updateHex(v);var _=S.sign();this.params.sighex=_},this.getPEM=function(){return hextopem(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var v=this.params,S=new mt.asn1.csr.CertificationRequestInfo(this.params),P=new mt.asn1.x509.AlgorithmIdentifier({name:v.sigalg});if(null==v.sighex&&null!=v.sbjprvkey&&this.sign(),null==v.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var D=new _({hex:"00"+v.sighex});return new E({array:[S,P,D]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.csr.CertificationRequest,mt.asn1.ASN1Object),mt.asn1.csr.CertificationRequestInfo=function(v){var S=mt.asn1,_=(S.DERBitString,S.DERSequence),E=S.DERInteger,P=S.DERUTF8String,D=S.DERTaggedObject,R=S.ASN1Util.newObject,M=S.csr,O=S.x509,F=O.X500Name,N=O.Extensions,L=O.SubjectPublicKeyInfo;M.AttributeList;M.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(v){null!=v&&(this.params=v)},this.tohex=function(){var v=this.params,S=[];if(S.push(new E({int:0})),S.push(new F(v.subject)),S.push(new L(St.getKey(v.sbjpubkey))),null!=v.attrs){var M=function m(v){for(var S=Error,_=mt.asn1.x509.Extensions,E=[],P=0;P<v.length;P++){var D=v[P],R=D.attr;if("extensionRequest"==R){var M={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[new _(D.ext)]}]};E.push(M)}else if("unstructuredName"==R){M={seq:[{oid:"1.2.840.113549.1.9.2"},{set:D.names}]};E.push(M)}else{if("challengePassword"!=R)throw new S("unknown CSR attribute");M={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:D.password}]}]};E.push(M)}}return{set:E}}(v.attrs),O=R({tag:{tage:"a0",obj:M}});S.push(O)}else if(null!=v.extreq){var U=new N(v.extreq);O=R({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[U]}]}}});S.push(O)}else S.push(new D({tag:"a0",explicit:!1,obj:new P({str:""})}));return new _({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=v&&this.setByParam(v)},extendClass(mt.asn1.csr.CertificationRequestInfo,mt.asn1.ASN1Object),mt.asn1.csr.AttributeList=function(v){},extendClass(mt.asn1.csr.AttributeList,mt.asn1.ASN1Object),mt.asn1.csr.CSRUtil=new function(){},mt.asn1.csr.CSRUtil.newCSRPEM=function(v){return new mt.asn1.csr.CertificationRequest(v).getPEM()},mt.asn1.csr.CSRUtil.getParam=function(v,S){var _=bt,E=_.getV,P=_.getIdxbyList,D=_.getTLVbyList,R=_.getTLVbyListEx,M=_.getVbyListEx,O={};if(-1==v.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var F=pemtohex(v,"CERTIFICATE REQUEST");S&&(O.tbs=D(F,0,[0]));try{var N=R(F,0,[0,1]);if("3000"==N)O.subject={};else{var L=new X509;O.subject=L.getX500Name(N)}}catch(v){}var U=R(F,0,[0,2]),V=St.getKey(U,null,"pkcs8pub");O.sbjpubkey=St.getPEM(V,"PKCS8PUB");var G=function(v){var S=P(v,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=E(v,S)?null:D(v,0,[0,3,0,1,0],"30")}(F);L=new X509;null!=G&&(O.extreq=L.getExtParamArray(G));try{var W=R(F,0,[1],"30");L=new X509;O.sigalg=L.getAlgorithmIdentifierName(W)}catch(v){}try{var $=M(F,0,[2]);O.sighex=$}catch(v){}return O},mt.asn1.csr.CSRUtil.verifySignature=function(v){try{var S=null;if("string"==typeof v&&-1!=v.indexOf("-----BEGIN CERTIFICATE REQUEST")?S=mt.asn1.csr.CSRUtil.getParam(v,!0):"object"==typeof v&&null!=v.sbjpubkey&&null!=v.sigalg&&null!=v.sighex&&null!=v.tbs&&(S=v),null==S)return!1;var _=new mt.crypto.Signature({alg:S.sigalg});return _.init(S.sbjpubkey),_.updateHex(S.tbs),_.verify(S.sighex)}catch(v){return alert(v),!1}},void 0!==mt&&mt||(mt={}),void 0!==mt.asn1&&mt.asn1||(mt.asn1={}),void 0!==mt.asn1.ocsp&&mt.asn1.ocsp||(mt.asn1.ocsp={}),mt.asn1.ocsp.DEFAULT_HASH="sha1",mt.asn1.ocsp.OCSPResponse=function(v){mt.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);mt.asn1.DEREnumerated;var S=mt.asn1.ASN1Util.newObject,_=mt.asn1.ocsp.ResponseBytes,E=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var v=this.params.resstatus;return"number"==typeof v?v:"string"!=typeof v?-1:E.indexOf(v)},this.setByParam=function(v){this.params=v},this.tohex=function(){var v=this.params,E=this._getStatusCode();if(-1==E)throw new Error("responseStatus not supported: "+v.resstatus);if(0!=E)return S({seq:[{enum:{int:E}}]}).tohex();var P=new _(v);return S({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:P}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.ocsp.OCSPResponse,mt.asn1.ASN1Object),mt.asn1.ocsp.ResponseBytes=function(v){mt.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var S=mt.asn1,_=S.DERSequence,E=S.DERObjectIdentifier,P=S.DEROctetString,D=S.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(v){this.params=v},this.tohex=function(){var v=this.params;if("ocspBasic"!=v.restype)throw new Error("not supported responseType: "+v.restype);var S=new D(v),R=[];return R.push(new E({name:"ocspBasic"})),R.push(new P({hex:S.tohex()})),new _({array:R}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.ocsp.ResponseBytes,mt.asn1.ASN1Object),mt.asn1.ocsp.BasicOCSPResponse=function(v){mt.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var S=Error,_=mt.asn1,E=_.ASN1Object,P=_.DERSequence,D=(_.DERGeneralizedTime,_.DERTaggedObject),R=_.DERBitString,M=(_.x509.Extensions,_.x509.AlgorithmIdentifier),O=_.ocsp;O.ResponderID;_SingleResponseList=O.SingleResponseList,_ResponseData=O.ResponseData,this.params=null,this.setByParam=function(v){this.params=v},this.sign=function(){var v=this.params,S=v.tbsresp.tohex(),_=new mt.crypto.Signature({alg:v.sigalg});_.init(v.reskey),_.updateHex(S),v.sighex=_.sign()},this.tohex=function(){var v=this.params;null==v.tbsresp&&(v.tbsresp=new _ResponseData(v)),null==v.sighex&&null!=v.reskey&&this.sign();var _=[];if(_.push(v.tbsresp),_.push(new M({name:v.sigalg})),_.push(new R({hex:"00"+v.sighex})),null!=v.certs&&null!=v.certs.length){for(var O=[],F=0;F<v.certs.length;F++){var N=v.certs[F],L=null;if(bt.isASN1HEX(N))L=N;else{if(!N.match(/-----BEGIN/))throw new S("certs["+F+"] not hex or PEM");L=pemtohex(N)}O.push(new E({tlv:L}))}var U=new P({array:O});_.push(new D({tag:"a0",explicit:!0,obj:U}))}return new P({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.ocsp.BasicOCSPResponse,mt.asn1.ASN1Object),mt.asn1.ocsp.ResponseData=function(v){mt.asn1.ocsp.ResponseData.superclass.constructor.call(this);var S=Error,_=mt.asn1,E=_.DERSequence,P=_.DERGeneralizedTime,D=_.DERTaggedObject,R=_.x509.Extensions,M=_.ocsp,O=M.ResponderID;_SingleResponseList=M.SingleResponseList,this.params=null,this.tohex=function(){var v=this.params;null!=v.respid&&new S("respid not specified"),null!=v.prodat&&new S("prodat not specified"),null!=v.array&&new S("array not specified");var _=[];if(_.push(new O(v.respid)),_.push(new P(v.prodat)),_.push(new _SingleResponseList(v.array)),null!=v.ext){var M=new R(v.ext);_.push(new D({tag:"a1",explicit:!0,obj:M}))}return new E({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.ocsp.ResponseData,mt.asn1.ASN1Object),mt.asn1.ocsp.ResponderID=function(v){mt.asn1.ocsp.ResponderID.superclass.constructor.call(this);var S=mt,_=S.asn1,E=_.ASN1Util.newObject,P=_.x509.X500Name,D=S.lang.String.isHex,R=Error;this.params=null,this.tohex=function(){var v=this.params;if(null!=v.key){var S,_=null;if("string"==typeof v.key){if(D(v.key)&&(_=v.key),v.key.match(/-----BEGIN CERTIFICATE/))null!=(S=new X509(v.key).getExtSubjectKeyIdentifier())&&(_=S.kid.hex)}else if(v.key instanceof X509)null!=(S=v.key.getExtSubjectKeyIdentifier())&&(_=S.kid.hex);if(null==_)throw new R("wrong key member value");return E({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:_}}}}).tohex()}if(null!=v.name){var M=null;if("string"==typeof v.name&&v.name.match(/-----BEGIN CERTIFICATE/))M=new X509(v.name).getSubject();else v.name instanceof X509?M=v.name.getSubject():"object"!=typeof v.name||null==v.name.array&&null==v.name.str||(M=v.name);if(null==M)throw new R("wrong name member value");return E({tag:{tag:"a1",explicit:!0,obj:new P(M)}}).tohex()}throw new R("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.ocsp.ResponderID,mt.asn1.ASN1Object),mt.asn1.ocsp.SingleResponseList=function(v){mt.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var S=mt.asn1,_=S.DERSequence,E=S.ocsp.SingleResponse;this.params=null,this.tohex=function(){var v=this.params;if("object"!=typeof v||null==v.length)throw new Error("params not specified properly");for(var S=[],P=0;P<v.length;P++)S.push(new E(v[P]));return new _({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.ocsp.SingleResponseList,mt.asn1.ASN1Object),mt.asn1.ocsp.SingleResponse=function(v){var S=Error,_=mt.asn1,E=_.DERSequence,P=_.DERGeneralizedTime,D=_.DERTaggedObject,R=_.ocsp,M=R.CertID,O=R.CertStatus,F=_.x509.Extensions;R.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,_=[];if(null==v.certid)throw new S("certid unspecified");if(null==v.status)throw new S("status unspecified");if(null==v.thisupdate)throw new S("thisupdate unspecified");if(_.push(new M(v.certid)),_.push(new O(v.status)),_.push(new P(v.thisupdate)),null!=v.nextupdate){var R=new P(v.nextupdate);_.push(new D({tag:"a0",explicit:!0,obj:R}))}if(null!=v.ext){var N=new F(v.ext);_.push(new D({tag:"a1",explicit:!0,obj:N}))}return new E({array:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.ocsp.SingleResponse,mt.asn1.ASN1Object),mt.asn1.ocsp.CertID=function(v){var S=mt,_=S.asn1,E=_.DEROctetString,P=_.DERInteger,D=_.DERSequence,R=_.x509.AlgorithmIdentifier,M=_.ocsp,O=(M.DEFAULT_HASH,S.crypto.Util.hashHex),F=X509,N=bt.getVbyList;M.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(v,S,_,E){null==E&&(E=this.DEFAULT_HASH),this.params={alg:E,issname:v,isskey:S,sbjsn:_}},this.setByCert=function(v,S,_){null==_&&(_=this.DEFAULT_HASH),this.params={alg:_,issuerCert:v,subjectCert:S}},this.getParamByCerts=function(v,S,_){null==_&&(_=this.DEFAULT_HASH);var E=new F(v),P=new F(S),D=O(E.getSubjectHex(),_),R=E.getPublicKeyHex();return{alg:_,issname:D,isskey:O(N(R,0,[1],"03",!0),_),sbjsn:P.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var v,S,_,M,O=this.params;if(M=null==O.alg?this.DEFAULT_HASH:O.alg,null!=O.issuerCert&&null!=O.subjectCert){var F=this.getParamByCerts(O.issuerCert,O.subjectCert,M);v=F.issname,S=F.isskey,_=F.sbjsn}else{if(null==O.issname||null==O.isskey||null==O.sbjsn)throw new Error("required param members not defined");v=O.issname,S=O.isskey,_=O.sbjsn}var N=new R({name:M}),L=new E({hex:v}),U=new E({hex:S}),V=new P({hex:_}),G=new D({array:[N,L,U,V]});return this.hTLV=G.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.ocsp.CertID,mt.asn1.ASN1Object),mt.asn1.ocsp.CertStatus=function(v){mt.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if("good"==v.status)return"8000";if("unknown"==v.status)return"8200";if("revoked"==v.status){var S=[{gentime:{str:v.time}}];null!=v.reason&&S.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:v.reason}}}});var _={tag:"a1",explicit:!1,obj:{seq:S}};return mt.asn1.ASN1Util.newObject({tag:_}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},void 0!==v&&this.setByParam(v)},extendClass(mt.asn1.ocsp.CertStatus,mt.asn1.ASN1Object),mt.asn1.ocsp.Request=function(v){var S=mt.asn1,_=S.DERSequence,E=S.ocsp;if(E.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var v=[];if(null===this.dReqCert)throw"reqCert not set";v.push(this.dReqCert);var S=new _({array:v});return this.hTLV=S.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v){var P=new E.CertID(v);this.dReqCert=P}},extendClass(mt.asn1.ocsp.Request,mt.asn1.ASN1Object),mt.asn1.ocsp.TBSRequest=function(v){var S=mt.asn1,_=S.DERSequence,E=S.ocsp;E.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(v){for(var S=[],_=0;_<v.length;_++){var P=new E.Request(v[0]);S.push(P)}this.dRequestList=S},this.tohex=function(){var v=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var S=new _({array:this.dRequestList});if(v.push(S),null!==this.dRequestExt)throw"requestExtensions not supported";var E=new _({array:v});return this.hTLV=E.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&void 0!==v.reqList&&this.setRequestListByParam(v.reqList)},extendClass(mt.asn1.ocsp.TBSRequest,mt.asn1.ASN1Object),mt.asn1.ocsp.OCSPRequest=function(v){var S=mt.asn1,_=S.DERSequence,E=S.ocsp;if(E.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var v=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(v.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var S=new _({array:v});return this.hTLV=S.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==v&&void 0!==v.reqList){var P=new E.TBSRequest(v);this.dTbsRequest=P}},extendClass(mt.asn1.ocsp.OCSPRequest,mt.asn1.ASN1Object),mt.asn1.ocsp.OCSPUtil={},mt.asn1.ocsp.OCSPUtil.getRequestHex=function(v,S,_){var E=mt.asn1.ocsp;void 0===_&&(_=E.DEFAULT_HASH);var P={alg:_,issuerCert:v,subjectCert:S};return new E.OCSPRequest({reqList:[P]}).tohex()},mt.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(v){var S=bt,_=S.getVbyList,E=S.getVbyListEx,P=S.getIdxbyList,D=(S.getIdxbyListEx,S.getV),R={};try{var M=E(v,0,[0],"0a");R.responseStatus=parseInt(M,16)}catch(v){}if(0!==R.responseStatus)return R;try{var O=P(v,0,[1,0,1,0,0,2,0,1]);"80"===v.substr(O,2)?R.certStatus="good":"a1"===v.substr(O,2)?(R.certStatus="revoked",R.revocationTime=hextoutf8(_(v,O,[0]))):"82"===v.substr(O,2)&&(R.certStatus="unknown")}catch(v){}try{var F=P(v,0,[1,0,1,0,0,2,0,2]);R.thisUpdate=hextoutf8(D(v,F))}catch(v){}try{var N=P(v,0,[1,0,1,0,0,2,0,3]);"a0"===v.substr(N,2)&&(R.nextUpdate=hextoutf8(_(v,N,[0])))}catch(v){}return R},mt.asn1.ocsp.OCSPParser=function(){var v=Error,S=X509,_=new S,E=bt,P=E.getV,D=E.getTLV,R=E.getIdxbyList,M=E.getVbyList,O=E.getTLVbyList,F=E.getVbyListEx,N=E.getTLVbyListEx,L=E.getChildIdx;this.getOCSPRequest=function(S){var _=L(S,0);if(1!=_.length&&2!=_.length)throw new v("wrong number elements: "+_.length);return this.getTBSRequest(D(S,_[0]))},this.getTBSRequest=function(v){var S={},E=N(v,0,[0],"30");S.array=this.getRequestList(E);var P=N(v,0,["[2]",0],"30");return null!=P&&(S.ext=_.getExtParamArray(P)),S},this.getRequestList=function(v){for(var S=[],_=L(v,0),E=0;E<_.length;E++){v=D(v,_[E]);S.push(this.getRequest(v))}return S},this.getRequest=function(S){var E=L(S,0);if(1!=E.length&&2!=E.length)throw new v("wrong number elements: "+E.length);var P=this.getCertID(D(S,E[0]));if(2==E.length){var M=R(S,0,[1,0]);P.ext=_.getExtParamArray(D(S,M))}return P},this.getCertID=function(_){var E=L(_,0);if(4!=E.length)throw new v("wrong number elements: "+E.length);var R=new S,M={};return M.alg=R.getAlgorithmIdentifierName(D(_,E[0])),M.issname=P(_,E[1]),M.isskey=P(_,E[2]),M.sbjsn=P(_,E[3]),M},this.getOCSPResponse=function(v){var S,_=L(v,0),E=P(v,_[0]),D=parseInt(E);if(1==_.length)return{resstatus:D};var R=O(v,0,[1,0]);return(S=this.getResponseBytes(R)).resstatus=D,S},this.getResponseBytes=function(v){var S,_=L(v,0),E=O(v,0,[1,0]);S=this.getBasicOCSPResponse(E);var D=P(v,_[0]);return S.restype=mt.asn1.x509.OID.oid2name(hextooid(D)),S},this.getBasicOCSPResponse=function(v){var S,_=L(v,0);S=this.getResponseData(D(v,_[0]));var E=new X509;S.alg=E.getAlgorithmIdentifierName(D(v,_[1]));var R=P(v,_[2]);S.sighex=R.substr(2);var M=F(v,0,["[0]"]);if(null!=M){for(var O=L(M,0),N=[],U=0;U<O.length;U++){var V=D(M,O[U]);N.push(V)}S.certs=N}return S},this.getResponseData=function(v){var S=L(v,0),_=S.length,E={},R=0;"a0"==v.substr(S[0],2)&&R++,E.respid=this.getResponderID(D(v,S[R++]));var M=P(v,S[R++]);if(E.prodat=hextoutf8(M),E.array=this.getSingleResponseList(D(v,S[R++])),"a1"==v.substr(S[_-1],2)){var F=O(v,S[_-1],[0]),N=new X509;E.ext=N.getExtParamArray(F)}return E},this.getResponderID=function(v){var S={};if("a2"==v.substr(0,2)){var _=M(v,0,[0]);S.key=_}if("a1"==v.substr(0,2)){var E=O(v,0,[0]),P=new X509;S.name=P.getX500Name(E)}return S},this.getSingleResponseList=function(v){for(var S=L(v,0),_=[],E=0;E<S.length;E++){var P=this.getSingleResponse(D(v,S[E]));_.push(P)}return _},this.getSingleResponse=function(v){var S=L(v,0),_={},E=this.getCertID(D(v,S[0]));_.certid=E;var R=this.getCertStatus(D(v,S[1]));if(_.status=R,"18"==v.substr(S[2],2)){var F=P(v,S[2]);_.thisupdate=hextoutf8(F)}for(var N=3;N<S.length;N++){if("a0"==v.substr(S[N],2)){var U=M(v,S[N],[0],"18");_.nextupdate=hextoutf8(U)}if("a1"==v.substr(S[N],2)){var V=new X509,G=O(v,0,[N,0]);_.ext=V.getExtParamArray(G)}}return _},this.getCertStatus=function(v){var S={};if("8000"==v)return{status:"good"};if("8200"==v)return{status:"unknown"};if("a1"==v.substr(0,2)){S.status="revoked";var _=hextoutf8(M(v,0,[0]));S.time=_}return S}},void 0!==mt&&mt||(mt={}),void 0!==mt.lang&&mt.lang||(mt.lang={}),mt.lang.String=function(){},"function"==typeof G?(yt=function(v){return b64tob64u(G.from(v,"utf8").toString("base64"))},vt=function(v){return G.from(b64utob64(v),"base64").toString("utf8")}):(yt=function(v){return hextob64u(uricmptohex(encodeURIComponentAll(v)))},vt=function(v){return decodeURIComponent(hextouricmp(b64utohex(v)))}),mt.lang.String.isInteger=function(v){return!!v.match(/^[0-9]+$/)||!!v.match(/^-[0-9]+$/)},mt.lang.String.isHex=function(v){return ishex(v)},mt.lang.String.isBase64=function(v){return!(!(v=v.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||v.length%4!=0)},mt.lang.String.isBase64URL=function(v){return!v.match(/[+/=]/)&&(v=b64utob64(v),mt.lang.String.isBase64(v))},mt.lang.String.isIntegerArray=function(v){return!!(v=v.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},mt.lang.String.isPrintable=function(v){return null!==v.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},mt.lang.String.isIA5=function(v){return null!==v.match(/^[\x20-\x21\x23-\x7f]*$/)},mt.lang.String.isMail=function(v){return null!==v.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};function oidtohex(v){var f=function(v){var S=v.toString(16);return 1==S.length&&(S="0"+S),S},e=function(v){var S="",_=parseInt(v,10).toString(2),E=7-_.length%7;7==E&&(E=0);for(var P="",D=0;D<E;D++)P+="0";_=P+_;for(D=0;D<_.length-1;D+=7){var R=_.substr(D,7);D!=_.length-7&&(R="1"+R),S+=f(parseInt(R,2))}return S};try{if(!v.match(/^[0-9.]+$/))return null;var S="",_=v.split("."),E=40*parseInt(_[0],10)+parseInt(_[1],10);S+=f(E),_.splice(0,2);for(var P=0;P<_.length;P++)S+=e(_[P]);return S}catch(v){return null}}function hextooid(v){if(!ishex(v))return null;try{var S=[],_=v.substr(0,2),E=parseInt(_,16);S[0]=new String(Math.floor(E/40)),S[1]=new String(E%40);for(var P=v.substr(2),D=[],R=0;R<P.length/2;R++)D.push(parseInt(P.substr(2*R,2),16));var M=[],O="";for(R=0;R<D.length;R++)128&D[R]?O+=strpad((127&D[R]).toString(2),7):(O+=strpad((127&D[R]).toString(2),7),M.push(new String(parseInt(O,2))),O="");var F=S.join(".");return M.length>0&&(F=F+"."+M.join(".")),F}catch(v){return null}}function inttohex(v){return twoscompl(new BigInteger(String(v),10))}function twoscompl(v){var S=v.toString(16);if("-"!=S.substr(0,1))return S.length%2==1?S="0"+S:S.match(/^[0-7]/)||(S="00"+S),S;var _=S.substr(1).length;_%2==1?_+=1:S.match(/^[0-7]/)||(_+=2);for(var E="",P=0;P<_;P++)E+="f";return S=new BigInteger(E,16).xor(v).add(BigInteger.ONE).toString(16).replace(/^-/,"")}var strpad=function(v,S,_){return null==_&&(_="0"),v.length>=S?v:new Array(S-v.length+1).join(_)+v};function bitstrtoint(v){if(v.length%2!=0)return-1;if(null==(v=v.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var S=v.substr(0,2);if("00"==S)return parseInt(v.substr(2),16);var _=parseInt(S,16);if(_>7)return-1;var E=v.substr(2),P=parseInt(E,16).toString(2);"0"==P&&(P="00000000"),P=P.slice(0,0-_);var D=parseInt(P,2);return NaN==D?-1:D}catch(v){return-1}}function inttobitstr(v){if("number"!=typeof v)return null;if(v<0)return null;var S=Number(v).toString(2),_=8-S.length%8;8==_&&(_=0),S+=strpad("",_,"0");var E=parseInt(S,2).toString(16);return E.length%2==1&&(E="0"+E),"0"+_+E}function bitstrtobinstr(v){if("string"!=typeof v)return null;if(v.length%2!=0)return null;if(!v.match(/^[0-9a-f]+$/))return null;try{var S=parseInt(v.substr(0,2),16);if(S<0||7<S)return null;for(var _=v.substr(2),E="",P=0;P<_.length;P+=2){var D=_.substr(P,2),R=parseInt(D,16).toString(2);E+=R=("0000000"+R).slice(-8)}return E.substr(0,E.length-S)}catch(v){return null}}function namearraytobinstr(v,S){for(var _=0,E=0;E<v.length;E++)_|=1<<S[v[E]];var P=_.toString(2),D="";for(E=P.length-1;E>=0;E--)D+=P[E];return D}function aryval(v,S,_){if("object"==typeof v){S=String(S).split(".");for(var E=0;E<S.length&&v;E++){var P=S[E];P.match(/^[0-9]+$/)&&(P=parseInt(P)),v=v[P]}return v||!1===v?v:_}}function extendClass(v,S){var b=function(){};b.prototype=S.prototype,v.prototype=new b,v.prototype.constructor=v,v.superclass=S.prototype,S.prototype.constructor==Object.prototype.constructor&&(S.prototype.constructor=S)}void 0!==mt&&mt||(mt={}),void 0!==mt.crypto&&mt.crypto||(mt.crypto={}),mt.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:X.algo.MD5,sha1:X.algo.SHA1,sha224:X.algo.SHA224,sha256:X.algo.SHA256,sha384:X.algo.SHA384,sha512:X.algo.SHA512,ripemd160:X.algo.RIPEMD160},this.getDigestInfoHex=function(v,S){if(void 0===this.DIGESTINFOHEAD[S])throw"alg not supported in Util.DIGESTINFOHEAD: "+S;return this.DIGESTINFOHEAD[S]+v},this.getPaddedDigestInfoHex=function(v,S,_){var E=this.getDigestInfoHex(v,S),P=_/4;if(E.length+22>P)throw"key is too short for SigAlg: keylen="+_+","+S;for(var D="0001",R="00"+E,M="",O=P-4-R.length,F=0;F<O;F+=2)M+="ff";return D+M+R},this.hashString=function(v,S){return new mt.crypto.MessageDigest({alg:S}).digestString(v)},this.hashHex=function(v,S){return new mt.crypto.MessageDigest({alg:S}).digestHex(v)},this.sha1=function(v){return this.hashString(v,"sha1")},this.sha256=function(v){return this.hashString(v,"sha256")},this.sha256Hex=function(v){return this.hashHex(v,"sha256")},this.sha512=function(v){return this.hashString(v,"sha512")},this.sha512Hex=function(v){return this.hashHex(v,"sha512")},this.isKey=function(v){return v instanceof RSAKey||v instanceof mt.crypto.DSA||v instanceof mt.crypto.ECDSA}},mt.crypto.Util.md5=function(v){return new mt.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(v)},mt.crypto.Util.ripemd160=function(v){return new mt.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(v)},mt.crypto.Util.SECURERANDOMGEN=new SecureRandom,mt.crypto.Util.getRandomHexOfNbytes=function(v){var S=new Array(v);return mt.crypto.Util.SECURERANDOMGEN.nextBytes(S),BAtohex(S)},mt.crypto.Util.getRandomBigIntegerOfNbytes=function(v){return new BigInteger(mt.crypto.Util.getRandomHexOfNbytes(v),16)},mt.crypto.Util.getRandomHexOfNbits=function(v){var S=v%8,_=new Array((v-S)/8+1);return mt.crypto.Util.SECURERANDOMGEN.nextBytes(_),_[0]=(255<<S&255^255)&_[0],BAtohex(_)},mt.crypto.Util.getRandomBigIntegerOfNbits=function(v){return new BigInteger(mt.crypto.Util.getRandomHexOfNbits(v),16)},mt.crypto.Util.getRandomBigIntegerZeroToMax=function(v){for(var S=v.bitLength();;){var _=mt.crypto.Util.getRandomBigIntegerOfNbits(S);if(-1!=v.compareTo(_))return _}},mt.crypto.Util.getRandomBigIntegerMinToMax=function(v,S){var _=v.compareTo(S);if(1==_)throw"biMin is greater than biMax";if(0==_)return v;var E=S.subtract(v);return mt.crypto.Util.getRandomBigIntegerZeroToMax(E).add(v)},mt.crypto.MessageDigest=function(v){this.setAlgAndProvider=function(v,S){if(null!==(v=mt.crypto.MessageDigest.getCanonicalAlgName(v))&&void 0===S&&(S=mt.crypto.Util.DEFAULTPROVIDER[v]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(v)&&"cryptojs"==S){try{this.md=mt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[v].create()}catch(S){throw"setAlgAndProvider hash alg set fail alg="+v+"/"+S}this.updateString=function(v){this.md.update(v)},this.updateHex=function(v){var S=X.enc.Hex.parse(v);this.md.update(S)},this.digest=function(){return this.md.finalize().toString(X.enc.Hex)},this.digestString=function(v){return this.updateString(v),this.digest()},this.digestHex=function(v){return this.updateHex(v),this.digest()}}if(-1!=":sha256:".indexOf(v)&&"sjcl"==S){try{this.md=new sjcl.hash.sha256}catch(S){throw"setAlgAndProvider hash alg set fail alg="+v+"/"+S}this.updateString=function(v){this.md.update(v)},this.updateHex=function(v){var S=sjcl.codec.hex.toBits(v);this.md.update(S)},this.digest=function(){var v=this.md.finalize();return sjcl.codec.hex.fromBits(v)},this.digestString=function(v){return this.updateString(v),this.digest()},this.digestHex=function(v){return this.updateHex(v),this.digest()}}},this.updateString=function(v){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(v){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(v){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(v){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==v&&void 0!==v.alg&&(this.algName=v.alg,void 0===v.prov&&(this.provName=mt.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},mt.crypto.MessageDigest.getCanonicalAlgName=function(v){return"string"==typeof v&&(v=(v=v.toLowerCase()).replace(/-/,"")),v},mt.crypto.MessageDigest.getHashLength=function(v){var S=mt.crypto.MessageDigest,_=S.getCanonicalAlgName(v);if(void 0===S.HASHLENGTH[_])throw"not supported algorithm: "+v;return S.HASHLENGTH[_]},mt.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},mt.crypto.Mac=function(v){this.setAlgAndProvider=function(v,S){if(null==(v=v.toLowerCase())&&(v="hmacsha1"),"hmac"!=(v=v.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+v;void 0===S&&(S=mt.crypto.Util.DEFAULTPROVIDER[v]),this.algProv=v+"/"+S;var _=v.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(_)&&"cryptojs"==S){try{var E=mt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[_];this.mac=X.algo.HMAC.create(E,this.pass)}catch(v){throw"setAlgAndProvider hash alg set fail hashAlg="+_+"/"+v}this.updateString=function(v){this.mac.update(v)},this.updateHex=function(v){var S=X.enc.Hex.parse(v);this.mac.update(S)},this.doFinal=function(){return this.mac.finalize().toString(X.enc.Hex)},this.doFinalString=function(v){return this.updateString(v),this.doFinal()},this.doFinalHex=function(v){return this.updateHex(v),this.doFinal()}}},this.updateString=function(v){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(v){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(v){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(v){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(v){if("string"==typeof v){var S=v;return v.length%2!=1&&v.match(/^[0-9A-Fa-f]+$/)||(S=rstrtohex(v)),void(this.pass=X.enc.Hex.parse(S))}if("object"!=typeof v)throw"KJUR.crypto.Mac unsupported password type: "+v;S=null;if(void 0!==v.hex){if(v.hex.length%2!=0||!v.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+v.hex;S=v.hex}if(void 0!==v.utf8&&(S=utf8tohex(v.utf8)),void 0!==v.rstr&&(S=rstrtohex(v.rstr)),void 0!==v.b64&&(S=b64tohex(v.b64)),void 0!==v.b64u&&(S=b64utohex(v.b64u)),null==S)throw"KJUR.crypto.Mac unsupported password type: "+v;this.pass=X.enc.Hex.parse(S)},void 0!==v&&(void 0!==v.pass&&this.setPassword(v.pass),void 0!==v.alg&&(this.algName=v.alg,void 0===v.prov&&(this.provName=mt.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},mt.crypto.Signature=function(v){var S=null;if(this._setAlgNames=function(){var v=this.algName.match(/^(.+)with(.+)$/);v&&(this.mdAlgName=v[1].toLowerCase(),this.pubkeyAlgName=v[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(v,S){for(var _="",E=S/4-v.length,P=0;P<E;P++)_+="0";return _+v},this.setAlgAndProvider=function(v,S){if(this._setAlgNames(),"cryptojs/jsrsa"!=S)throw new Error("provider not supported: "+S);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new mt.crypto.MessageDigest({alg:this.mdAlgName})}catch(v){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+v)}this.init=function(v,S){var _=null;try{_=void 0===S?St.getKey(v):St.getKey(v,S)}catch(v){throw"init failed:"+v}if(!0===_.isPrivate)this.prvKey=_,this.state="SIGN";else{if(!0!==_.isPublic)throw"init failed.:"+_;this.pubKey=_,this.state="VERIFY"}},this.updateString=function(v){this.md.updateString(v)},this.updateHex=function(v){this.md.updateHex(v)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==mt.crypto.ECDSA&&(this.prvKey=new mt.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof RSAKey&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof RSAKey&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof mt.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof mt.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(v){return this.updateString(v),this.sign()},this.signHex=function(v){return this.updateHex(v),this.sign()},this.verify=function(v){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==mt.crypto.ECDSA&&(this.pubKey=new mt.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof RSAKey&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,v,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof RSAKey&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,v);if(void 0!==mt.crypto.ECDSA&&this.pubKey instanceof mt.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,v);if(void 0!==mt.crypto.DSA&&this.pubKey instanceof mt.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,v);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(v,S){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(v){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(v){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(v){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(v){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(v){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=v,void 0!==v&&(void 0!==v.alg&&(this.algName=v.alg,void 0===v.prov?this.provName=mt.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=v.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==v.psssaltlen&&(this.pssSaltLen=v.psssaltlen),void 0!==v.prvkeypem)){if(void 0!==v.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{S=St.getKey(v.prvkeypem);this.init(S)}catch(v){throw"fatal error to load pem private key: "+v}}},mt.crypto.Cipher=function(v){},mt.crypto.Cipher.encrypt=function(v,S,_,E){if(null!=aryval(E,"enclag")&&(_=E.encalg),"string"==typeof _&&"-CBC"==_.substr(-4)){var P=S,D=v;null!=aryval(E,"key")&&(P=E.key),null!=aryval(E,"enc")&&(hEnc=E.enc);var R,M=X.enc.Hex.parse(P),O=X.enc.Hex.parse(D),F=X.enc.Hex.parse(E.iv);if("des-EDE3-CBC"==_)R=X.TripleDES.encrypt(O,M,{iv:F});else{if("aes128-CBC"!=_&&"aes256-CBC"!=_)throw new Error("unsupported algorithm: "+_);R=X.AES.encrypt(O,M,{iv:F})}return R+""}if(S instanceof RSAKey&&S.isPublic){var N=mt.crypto.Cipher.getAlgByKeyAndName(S,_);if("RSA"===N)return S.encrypt(v);if("RSAOAEP"===N)return S.encryptOAEP(v,"sha1");var L=N.match(/^RSAOAEP(\d+)$/);if(null!==L)return S.encryptOAEP(v,"sha"+L[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+_}throw"Cipher.encrypt: unsupported key or algorithm"},mt.crypto.Cipher.decrypt=function(v,S,_,E){if(null!=aryval(E,"enclag")&&(_=E.encalg),"string"==typeof _&&"-CBC"==_.substr(-4)){var P=S,D=v;null!=aryval(E,"key")&&(P=E.key),null!=aryval(E,"enc")&&(D=E.enc);var R,M=X.enc.Hex.parse(P),O=X.enc.Hex.parse(D),F=X.enc.Hex.parse(E.iv);if("des-EDE3-CBC"==_)R=X.TripleDES.decrypt({ciphertext:O},M,{iv:F});else{if("aes128-CBC"!=_&&"aes256-CBC"!=_)throw new Error("unsupported algorithm: "+_);R=X.AES.decrypt({ciphertext:O},M,{iv:F})}return X.enc.Hex.stringify(R)}if(S instanceof RSAKey&&S.isPrivate){var N=mt.crypto.Cipher.getAlgByKeyAndName(S,_);if("RSA"===N)return S.decrypt(v);if("RSAOAEP"===N)return S.decryptOAEP(v,"sha1");var L=N.match(/^RSAOAEP(\d+)$/);if(null!==L)return S.decryptOAEP(v,"sha"+L[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+_}throw"Cipher.decrypt: unsupported key or algorithm"},mt.crypto.Cipher.getAlgByKeyAndName=function(v,S){if(v instanceof RSAKey){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(S))return S;if(null==S)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+S}throw"getAlgByKeyAndName: not supported algorithm name: "+S},mt.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==mt&&mt||(mt={}),void 0!==mt.crypto&&mt.crypto||(mt.crypto={}),mt.crypto.ECDSA=function(v){var S=Error,_=BigInteger,E=ECPointFp,P=mt.crypto.ECDSA,D=mt.crypto.ECParameterDB,R=P.getName,M=bt,O=M.getVbyListEx,F=M.isASN1HEX,N=new SecureRandom;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(v){return new _(v.bitLength(),N).mod(v.subtract(_.ONE)).add(_.ONE)},this.setNamedCurve=function(v){this.ecparams=D.getByName(v),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=v},this.setPrivateKeyHex=function(v){this.isPrivate=!0,this.prvKeyHex=v},this.setPublicKeyHex=function(v){this.isPublic=!0,this.pubKeyHex=v},this.getPublicKeyXYHex=function(){var v=this.pubKeyHex;if("04"!==v.substr(0,2))throw"this method supports uncompressed format(04) only";var S=this.ecparams.keycharlen;if(v.length!==2+2*S)throw"malformed public key hex length";var _={};return _.x=v.substr(2,S),_.y=v.substr(2+S),_},this.getShortNISTPCurveName=function(){var v=this.curveName;return"secp256r1"===v||"NIST P-256"===v||"P-256"===v||"prime256v1"===v?"P-256":"secp384r1"===v||"NIST P-384"===v||"P-384"===v?"P-384":"secp521r1"===v||"NIST P-521"===v||"P-521"===v?"P-521":null},this.generateKeyPairHex=function(){var v=this.ecparams.n,S=this.getBigRandom(v),_=this.ecparams.keycharlen,E=("0000000000"+S.toString(16)).slice(-_);return this.setPrivateKeyHex(E),{ecprvhex:E,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var v=new _(this.prvKeyHex,16),S=this.ecparams.G.multiply(v),E=S.getX().toBigInteger(),P=S.getY().toBigInteger(),D=this.ecparams.keycharlen,R="04"+("0000000000"+E.toString(16)).slice(-D)+("0000000000"+P.toString(16)).slice(-D);return this.setPublicKeyHex(R),R},this.signWithMessageHash=function(v){return this.signHex(v,this.prvKeyHex)},this.signHex=function(v,S){var E=new _(S,16),D=this.ecparams.n,R=new _(v.substring(0,this.ecparams.keycharlen),16);do{var M=this.getBigRandom(D),O=this.ecparams.G.multiply(M).getX().toBigInteger().mod(D)}while(O.compareTo(_.ZERO)<=0);var F=M.modInverse(D).multiply(R.add(E.multiply(O))).mod(D);return P.biRSSigToASN1Sig(O,F)},this.sign=function(v,S){var E=S,P=this.ecparams.n,D=_.fromByteArrayUnsigned(v);do{var R=this.getBigRandom(P),M=this.ecparams.G.multiply(R).getX().toBigInteger().mod(P)}while(M.compareTo(BigInteger.ZERO)<=0);var O=R.modInverse(P).multiply(D.add(E.multiply(M))).mod(P);return this.serializeSig(M,O)},this.verifyWithMessageHash=function(v,S){return this.verifyHex(v,S,this.pubKeyHex)},this.verifyHex=function(v,S,D){try{var R,M,O=P.parseSigHex(S);R=O.r,M=O.s;var F=E.decodeFromHex(this.ecparams.curve,D),N=new _(v.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(N,R,M,F)}catch(v){return!1}},this.verify=function(v,S,P){var D,R,M;if(Bitcoin.Util.isArray(S)){var O=this.parseSig(S);D=O.r,R=O.s}else{if("object"!=typeof S||!S.r||!S.s)throw"Invalid value for signature";D=S.r,R=S.s}if(P instanceof ECPointFp)M=P;else{if(!Bitcoin.Util.isArray(P))throw"Invalid format for pubkey value, must be byte array or ECPointFp";M=E.decodeFrom(this.ecparams.curve,P)}var F=_.fromByteArrayUnsigned(v);return this.verifyRaw(F,D,R,M)},this.verifyRaw=function(v,S,E,P){var D=this.ecparams.n,R=this.ecparams.G;if(S.compareTo(_.ONE)<0||S.compareTo(D)>=0)return!1;if(E.compareTo(_.ONE)<0||E.compareTo(D)>=0)return!1;var M=E.modInverse(D),O=v.multiply(M).mod(D),F=S.multiply(M).mod(D);return R.multiply(O).add(P.multiply(F)).getX().toBigInteger().mod(D).equals(S)},this.serializeSig=function(v,S){var _=v.toByteArraySigned(),E=S.toByteArraySigned(),P=[];return P.push(2),P.push(_.length),(P=P.concat(_)).push(2),P.push(E.length),(P=P.concat(E)).unshift(P.length),P.unshift(48),P},this.parseSig=function(v){var S;if(48!=v[0])throw new Error("Signature not a valid DERSequence");if(2!=v[S=2])throw new Error("First element in signature must be a DERInteger");var E=v.slice(S+2,S+2+v[S+1]);if(2!=v[S+=2+v[S+1]])throw new Error("Second element in signature must be a DERInteger");var P=v.slice(S+2,S+2+v[S+1]);return S+=2+v[S+1],{r:_.fromByteArrayUnsigned(E),s:_.fromByteArrayUnsigned(P)}},this.parseSigCompact=function(v){if(65!==v.length)throw"Signature has the wrong length";var S=v[0]-27;if(S<0||S>7)throw"Invalid signature type";var E=this.ecparams.n;return{r:_.fromByteArrayUnsigned(v.slice(1,33)).mod(E),s:_.fromByteArrayUnsigned(v.slice(33,65)).mod(E),i:S}},this.readPKCS5PrvKeyHex=function(v){if(!1===F(v))throw new Error("not ASN.1 hex string");var S,_,E;try{S=O(v,0,["[0]",0],"06"),_=O(v,0,[1],"04");try{E=O(v,0,["[1]",0],"03")}catch(v){}}catch(v){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=R(S),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(E),this.setPrivateKeyHex(_),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(v){if(!1===F(v))throw new S("not ASN.1 hex string");var _,E,P;try{O(v,0,[1,0],"06"),_=O(v,0,[1,1],"06"),E=O(v,0,[2,0,1],"04");try{P=O(v,0,[2,0,"[1]",0],"03")}catch(v){}}catch(v){throw new S("malformed PKCS#8 plain ECC private key")}if(this.curveName=R(_),void 0===this.curveName)throw new S("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(P),this.setPrivateKeyHex(E),this.isPublic=!1},this.readPKCS8PubKeyHex=function(v){if(!1===F(v))throw new S("not ASN.1 hex string");var _,E;try{O(v,0,[0,0],"06"),_=O(v,0,[0,1],"06"),E=O(v,0,[1],"03")}catch(v){throw new S("malformed PKCS#8 ECC public key")}if(this.curveName=R(_),null===this.curveName)throw new S("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(E)},this.readCertPubKeyHex=function(v,_){if(!1===F(v))throw new S("not ASN.1 hex string");var E,P;try{E=O(v,0,[0,5,0,1],"06"),P=O(v,0,[0,5,1],"03")}catch(v){throw new S("malformed X.509 certificate ECC public key")}if(this.curveName=R(E),null===this.curveName)throw new S("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(P)},void 0!==v&&void 0!==v.curve&&(this.curveName=v.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==v&&(void 0!==v.prv&&this.setPrivateKeyHex(v.prv),void 0!==v.pub&&this.setPublicKeyHex(v.pub))},mt.crypto.ECDSA.parseSigHex=function(v){var S=mt.crypto.ECDSA.parseSigHexInHexRS(v);return{r:new BigInteger(S.r,16),s:new BigInteger(S.s,16)}},mt.crypto.ECDSA.parseSigHexInHexRS=function(v){var S=bt,_=S.getChildIdx,E=S.getV;if(S.checkStrictDER(v,0),"30"!=v.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var P=_(v,0);if(2!=P.length)throw new Error("signature shall have two elements");var D=P[0],R=P[1];if("02"!=v.substr(D,2))throw new Error("1st item not ASN.1 integer");if("02"!=v.substr(R,2))throw new Error("2nd item not ASN.1 integer");return{r:E(v,D),s:E(v,R)}},mt.crypto.ECDSA.asn1SigToConcatSig=function(v){var S=mt.crypto.ECDSA.parseSigHexInHexRS(v),_=S.r,E=S.s;if(_.length>=130&&_.length<=134){if(_.length%2!=0)throw Error("unknown ECDSA sig r length error");if(E.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==_.substr(0,2)&&(_=_.substr(2)),"00"==E.substr(0,2)&&(E=E.substr(2));var P=Math.max(_.length,E.length);return(_=("000000"+_).slice(-P))+(E=("000000"+E).slice(-P))}if("00"==_.substr(0,2)&&_.length%32==2&&(_=_.substr(2)),"00"==E.substr(0,2)&&E.length%32==2&&(E=E.substr(2)),_.length%32==30&&(_="00"+_),E.length%32==30&&(E="00"+E),_.length%32!=0)throw Error("unknown ECDSA sig r length error");if(E.length%32!=0)throw Error("unknown ECDSA sig s length error");return _+E},mt.crypto.ECDSA.concatSigToASN1Sig=function(v){if(v.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var S=v.substr(0,v.length/2),_=v.substr(v.length/2);return mt.crypto.ECDSA.hexRSSigToASN1Sig(S,_)},mt.crypto.ECDSA.hexRSSigToASN1Sig=function(v,S){var _=new BigInteger(v,16),E=new BigInteger(S,16);return mt.crypto.ECDSA.biRSSigToASN1Sig(_,E)},mt.crypto.ECDSA.biRSSigToASN1Sig=function(v,S){var _=mt.asn1,E=new _.DERInteger({bigint:v}),P=new _.DERInteger({bigint:S});return new _.DERSequence({array:[E,P]}).tohex()},mt.crypto.ECDSA.getName=function(v){return"2b8104001f"===v?"secp192k1":"2a8648ce3d030107"===v?"secp256r1":"2b8104000a"===v?"secp256k1":"2b81040021"===v?"secp224r1":"2b81040022"===v?"secp384r1":"2b81040023"===v?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(v)?"secp256r1":-1!=="|secp256k1|".indexOf(v)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(v)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(v)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(v)?"secp521r1":null},void 0!==mt&&mt||(mt={}),void 0!==mt.crypto&&mt.crypto||(mt.crypto={}),mt.crypto.ECParameterDB=new function(){var v={},S={};function a(v){return new BigInteger(v,16)}this.getByName=function(_){var E=_;if(void 0!==S[E]&&(E=S[_]),void 0!==v[E])return v[E];throw"unregistered EC curve name: "+E},this.regist=function(_,E,P,D,R,M,O,F,N,L,U,V){v[_]={};var G=a(P),W=a(D),$=a(R),X=a(M),Y=a(O),J=new ECCurveFp(G,W,$),Z=J.decodePointHex("04"+F+N);v[_].name=_,v[_].keylen=E,v[_].keycharlen=2*Math.ceil(E/8),v[_].curve=J,v[_].G=Z,v[_].n=X,v[_].h=Y,v[_].oid=U,v[_].info=V;for(var Q=0;Q<L.length;Q++)S[L[Q]]=_}},mt.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),mt.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),mt.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),mt.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),mt.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),mt.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),mt.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),mt.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),mt.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),mt.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==mt&&mt||(mt={}),void 0!==mt.crypto&&mt.crypto||(mt.crypto={}),mt.crypto.DSA=function(){var v=bt,S=(v.getVbyList,v.getVbyListEx),_=v.isASN1HEX,E=BigInteger;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(v,S,_,E,P){this.isPrivate=!0,this.p=v,this.q=S,this.g=_,this.y=E,this.x=P},this.setPrivateHex=function(v,S,_,E,P){var D,R,M,O,F;D=new BigInteger(v,16),R=new BigInteger(S,16),M=new BigInteger(_,16),O="string"==typeof E&&E.length>1?new BigInteger(E,16):null,F=new BigInteger(P,16),this.setPrivate(D,R,M,O,F)},this.setPublic=function(v,S,_,E){this.isPublic=!0,this.p=v,this.q=S,this.g=_,this.y=E,this.x=null},this.setPublicHex=function(v,S,_,E){var P,D,R,M;P=new BigInteger(v,16),D=new BigInteger(S,16),R=new BigInteger(_,16),M=new BigInteger(E,16),this.setPublic(P,D,R,M)},this.signWithMessageHash=function(v){var S=this.p,_=this.q,E=this.g,P=(this.y,this.x),D=mt.crypto.Util.getRandomBigIntegerMinToMax(BigInteger.ONE.add(BigInteger.ONE),_.subtract(BigInteger.ONE)),R=new BigInteger(v.substr(0,_.bitLength()/4),16),M=E.modPow(D,S).mod(_),O=D.modInverse(_).multiply(R.add(P.multiply(M))).mod(_);return mt.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:M}},{int:{bigint:O}}]})},this.verifyWithMessageHash=function(v,S){var _=this.p,E=this.q,P=this.g,D=this.y,R=this.parseASN1Signature(S),M=R[0],O=R[1],F=new BigInteger(v.substr(0,E.bitLength()/4),16);if(BigInteger.ZERO.compareTo(M)>0||M.compareTo(E)>0)throw"invalid DSA signature";if(BigInteger.ZERO.compareTo(O)>=0||O.compareTo(E)>0)throw"invalid DSA signature";var N=O.modInverse(E),L=F.multiply(N).mod(E),U=M.multiply(N).mod(E);return 0==P.modPow(L,_).multiply(D.modPow(U,_)).mod(_).mod(E).compareTo(M)},this.parseASN1Signature=function(v){try{return[new E(S(v,0,[0],"02"),16),new E(S(v,0,[1],"02"),16)]}catch(v){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(v){var E,P,D,R,M;if(!1===_(v))throw new Error("not ASN.1 hex string");try{E=S(v,0,[1],"02"),P=S(v,0,[2],"02"),D=S(v,0,[3],"02"),R=S(v,0,[4],"02"),M=S(v,0,[5],"02")}catch(v){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(E,P,D,R,M)},this.readPKCS8PrvKeyHex=function(v){var E,P,D,R;if(!1===_(v))throw new Error("not ASN.1 hex string");try{E=S(v,0,[1,1,0],"02"),P=S(v,0,[1,1,1],"02"),D=S(v,0,[1,1,2],"02"),R=S(v,0,[2,0],"02")}catch(v){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(E,P,D,null,R)},this.readPKCS8PubKeyHex=function(v){var E,P,D,R;if(!1===_(v))throw new Error("not ASN.1 hex string");try{E=S(v,0,[0,1,0],"02"),P=S(v,0,[0,1,1],"02"),D=S(v,0,[0,1,2],"02"),R=S(v,0,[1,0],"02")}catch(v){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(E,P,D,R)},this.readCertPubKeyHex=function(v,E){var P,D,R,M;if(!1===_(v))throw new Error("not ASN.1 hex string");try{P=S(v,0,[0,5,0,1,0],"02"),D=S(v,0,[0,5,0,1,1],"02"),R=S(v,0,[0,5,0,1,2],"02"),M=S(v,0,[0,5,1,0],"02")}catch(v){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(P,D,R,M)}};var St=function(){var d=function(v,S,_){return k(X.AES,v,S,_)},k=function(v,S,_,E){var P=X.enc.Hex.parse(S),D=X.enc.Hex.parse(_),R=X.enc.Hex.parse(E),M={};M.key=D,M.iv=R,M.ciphertext=P;var O=v.decrypt(M,D,{iv:R});return X.enc.Hex.stringify(O)},l=function(v,S,_){return g(X.AES,v,S,_)},g=function(v,S,_,E){var P=X.enc.Hex.parse(S),D=X.enc.Hex.parse(_),R=X.enc.Hex.parse(E),M=v.encrypt(P,D,{iv:R}),O=X.enc.Hex.parse(M.toString());return X.enc.Base64.stringify(O)},v={"AES-256-CBC":{proc:d,eproc:l,keylen:32,ivlen:16},"AES-192-CBC":{proc:d,eproc:l,keylen:24,ivlen:16},"AES-128-CBC":{proc:d,eproc:l,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(v,S,_){return k(X.TripleDES,v,S,_)},eproc:function(v,S,_){return g(X.TripleDES,v,S,_)},keylen:24,ivlen:8},"DES-CBC":{proc:function(v,S,_){return k(X.DES,v,S,_)},eproc:function(v,S,_){return g(X.DES,v,S,_)},keylen:8,ivlen:8}},n=function(v){var S={},_=v.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));_&&(S.cipher=_[1],S.ivsalt=_[2]);var E=v.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));E&&(S.type=E[1]);var P=-1,D=0;-1!=v.indexOf("\r\n\r\n")&&(P=v.indexOf("\r\n\r\n"),D=2),-1!=v.indexOf("\n\n")&&(P=v.indexOf("\n\n"),D=1);var R=v.indexOf("-----END");if(-1!=P&&-1!=R){var M=v.substring(P+2*D,R-D);M=M.replace(/\s+/g,""),S.data=M}return S},j=function(S,_,E){for(var P=E.substring(0,16),D=X.enc.Hex.parse(P),R=X.enc.Utf8.parse(_),M=v[S].keylen+v[S].ivlen,O="",F=null;;){var N=X.algo.MD5.create();if(null!=F&&N.update(F),N.update(R),N.update(D),F=N.finalize(),(O+=X.enc.Hex.stringify(F)).length>=2*M)break}var L={};return L.keyhex=O.substr(0,2*v[S].keylen),L.ivhex=O.substr(2*v[S].keylen,2*v[S].ivlen),L},b=function(S,_,E,P){var D=X.enc.Base64.parse(S),R=X.enc.Hex.stringify(D);return(0,v[_].proc)(R,E,P)};return{version:"1.0.0",parsePKCS5PEM:function(v){return n(v)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(v,S,_){return j(v,S,_)},decryptKeyB64:function(v,S,_,E){return b(v,S,_,E)},getDecryptedKeyHex:function(v,S){var _=n(v),E=(_.type,_.cipher),P=_.ivsalt,D=_.data,R=j(E,S,P).keyhex;return b(D,E,R,P)},getEncryptedPKCS5PEMFromPrvKeyHex:function(S,_,E,P,D){var R="";if(void 0!==P&&null!=P||(P="AES-256-CBC"),void 0===v[P])throw new Error("KEYUTIL unsupported algorithm: "+P);if(void 0===D||null==D){var M=function(v){var S=X.lib.WordArray.random(v);return X.enc.Hex.stringify(S)}(v[P].ivlen);D=M.toUpperCase()}var O=function(S,_,E,P){return(0,v[_].eproc)(S,E,P)}(_,P,j(P,E,D).keyhex,D);R="-----BEGIN "+S+" PRIVATE KEY-----\r\n";return R+="Proc-Type: 4,ENCRYPTED\r\n",R+="DEK-Info: "+P+","+D+"\r\n",R+="\r\n",R+=O.replace(/(.{64})/g,"$1\r\n"),R+="\r\n-----END "+S+" PRIVATE KEY-----\r\n"},getEncryptedPKCS8PEM:function(v,S,_){return hextopem(this.getEncryptedPKCS8Hex(v,S,_),"ENCRYPTED PRIVATE KEY")},getEncryptedPKCS8Hex:function(v,S,_){var E;(E=null==_||null==_?{}:JSON.parse(JSON.stringify(_))).plain=v,this.initPBES2Param(E),this.encryptPBES2Param(E,S);var P=this.generatePBES2ASN1Param(E);return mt.asn1.ASN1Util.newObject(P).tohex()},initPBES2Param:function(v){var S;(null==aryval(v,"encalg")&&(v.encalg="aes256-CBC"),null==aryval(v,"iter")&&(v.iter=2048),null==aryval(v,"prf")&&(v.prf="hmacWithSHA256"),null==aryval(v,"salt")&&(v.salt=X.enc.Hex.stringify(X.lib.WordArray.random(8))),null==aryval(v,"enciv"))&&("des-EDE3-CBC"==v.encalg&&(S=8),"aes128-CBC"==v.encalg&&(S=16),"aes256-CBC"==v.encalg&&(S=16),v.enciv=X.enc.Hex.stringify(X.lib.WordArray.random(S)))},encryptPBES2Param:function(v,S){var _=St.getDKFromPBES2Param(v,S);try{var E=mt.crypto.Cipher.encrypt(v.plain,_,v.encalg,{iv:v.enciv})}catch(S){throw new Error("encrypt error: "+v.plain+" "+_+" "+v.encalg+" "+v.enciv)}v.enc=E},generatePBES2ASN1Param:function(v){var S={seq:[{seq:[{oid:"pkcs5PBES2"},{seq:[{seq:[{oid:"pkcs5PBKDF2"},{seq:[{octstr:{hex:v.salt}},{int:{hex:inttohex(v.iter)}}]}]},{seq:[{oid:v.encalg},{octstr:{hex:v.enciv}}]}]}]},{octstr:{hex:v.enc}}]};return"hmacWithSHA1"!=v.prf&&S.seq[0].seq[1].seq[0].seq[1].seq.push({seq:[{oid:v.prf},{null:""}]}),S},parseHexOfEncryptedPKCS8:function(v){var S=bt,_=S.getChildIdx,E=S.getV,P={},D=_(v,0);if(2!=D.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+D.length);P.ciphertext=E(v,D[1]);var R=_(v,D[0]);if(2!=R.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+R.length);if("2a864886f70d01050d"!=E(v,R[0]))throw new Error("this only supports pkcs5PBES2");var M=_(v,R[1]);if(2!=R.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+M.length);var O=_(v,M[1]);if(2!=O.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+O.length);if("2a864886f70d0307"!=E(v,O[0]))throw"this only supports TripleDES";P.encryptionSchemeAlg="TripleDES",P.encryptionSchemeIV=E(v,O[1]);var F=_(v,M[0]);if(2!=F.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+F.length);if("2a864886f70d01050c"!=E(v,F[0]))throw new Error("this only supports pkcs5PBKDF2");var N=_(v,F[1]);if(N.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+N.length);P.pbkdf2Salt=E(v,N[0]);var L=E(v,N[1]);try{P.pbkdf2Iter=parseInt(L,16)}catch(v){throw new Error("malformed format pbkdf2Iter: "+L)}return P},getPBKDF2KeyHexFromParam:function(v,S){var _=X.enc.Hex.parse(v.pbkdf2Salt),E=v.pbkdf2Iter,P=X.PBKDF2(S,_,{keySize:6,iterations:E});return X.enc.Hex.stringify(P)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(v,S){var _=pemtohex(v,"ENCRYPTED PRIVATE KEY"),E=this.parseHexOfEncryptedPKCS8(_),P=St.getPBKDF2KeyHexFromParam(E,S),D={};D.ciphertext=X.enc.Hex.parse(E.ciphertext);var R=X.enc.Hex.parse(P),M=X.enc.Hex.parse(E.encryptionSchemeIV),O=X.TripleDES.decrypt(D,R,{iv:M});return X.enc.Hex.stringify(O)},parsePBES2:function(v){var S=bt.parse(v);if("pkcs5PBES2"!=aryval(S,"seq.0.seq.0.oid")||"pkcs5PBKDF2"!=aryval(S,"seq.0.seq.1.seq.0.seq.0.oid"))throw new Error("not pkcs5PBES2 and pkcs5PBKDF2 used");var _=aryval(S,"seq.0.seq.1.seq.0.seq.1.seq");if(null==_)throw new Error("PBKDF2 parameter not found");var E=aryval(_,"0.octstr.hex"),P=aryval(_,"1.int.hex"),D=aryval(_,"2.seq.0.oid","hmacWithSHA1"),R=-1;try{R=parseInt(P,16)}catch(v){throw new Error("iter not proper value")}var M=aryval(S,"seq.0.seq.1.seq.1.seq.0.oid"),O=aryval(S,"seq.0.seq.1.seq.1.seq.1.octstr.hex"),F=aryval(S,"seq.1.octstr.hex");if(null==M||null==O||null==F)throw new Error("encalg, enciv or enc is undefined");return{salt:E,iter:R,prf:D,encalg:M,enciv:O,enc:F}},getDKFromPBES2Param:function(v,S){var _={hmacWithSHA1:X.algo.SHA1,hmacWithSHA224:X.algo.SHA224,hmacWithSHA256:X.algo.SHA256,hmacWithSHA384:X.algo.SHA384,hmacWithSHA512:X.algo.SHA512}[v.prf];if(null==_)throw new Error("unsupported prf");var E={"des-EDE3-CBC":6,"aes128-CBC":4,"aes256-CBC":8}[v.encalg];if(null==E)throw new Error("unsupported encalg");var P=X.enc.Hex.parse(v.salt),D=v.iter;try{var R=X.PBKDF2(S,P,{keySize:E,iterations:D,hasher:_});return X.enc.Hex.stringify(R)}catch(_){throw new Error("PBKDF2 error: "+_+" "+JSON.stringify(v)+" "+S)}},getPlainHexFromEncryptedPKCS8PEM:function(v,S){if(-1==v.indexOf("BEGIN ENCRYPTED PRIVATE KEY"))throw new Error("not Encrypted PKCS#8 PEM string");var _,E=pemtohex(v);try{_=St.parsePBES2(E)}catch(v){throw new Error("malformed PBES2 format: "+v.message)}var P=St.getDKFromPBES2Param(_,S);return mt.crypto.Cipher.decrypt(_.enc,P,_.encalg,{iv:_.enciv})},getKeyFromEncryptedPKCS8PEM:function(v,S){var _=this.getPlainHexFromEncryptedPKCS8PEM(v,S);return this.getKeyFromPlainPrivatePKCS8Hex(_)},parsePlainPrivatePKCS8Hex:function(v){var S=bt,_=S.getChildIdx,E=S.getV,P={algparam:null};if("30"!=v.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var D=_(v,0);if(D.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=v.substr(D[1],2))throw new Error("malformed PKCS8 private key(code:003)");var R=_(v,D[1]);if(2!=R.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=v.substr(R[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(P.algoid=E(v,R[0]),"06"==v.substr(R[1],2)&&(P.algparam=E(v,R[1])),"04"!=v.substr(D[2],2))throw new Error("malformed PKCS8 private key(code:006)");return P.keyidx=S.getVidx(v,D[2]),P},getKeyFromPlainPrivatePKCS8PEM:function(v){var S=pemtohex(v,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(S)},getKeyFromPlainPrivatePKCS8Hex:function(v){var S,_=this.parsePlainPrivatePKCS8Hex(v);if("2a864886f70d010101"==_.algoid)S=new RSAKey;else if("2a8648ce380401"==_.algoid)S=new mt.crypto.DSA;else{if("2a8648ce3d0201"!=_.algoid)throw new Error("unsupported private key algorithm");S=new mt.crypto.ECDSA}return S.readPKCS8PrvKeyHex(v),S},_getKeyFromPublicPKCS8Hex:function(v){var S,_=bt.getVbyList(v,0,[0,0],"06");if("2a864886f70d010101"===_)S=new RSAKey;else if("2a8648ce380401"===_)S=new mt.crypto.DSA;else{if("2a8648ce3d0201"!==_)throw new Error("unsupported PKCS#8 public key hex");S=new mt.crypto.ECDSA}return S.readPKCS8PubKeyHex(v),S},parsePublicRawRSAKeyHex:function(v){var S=bt,_=S.getChildIdx,E=S.getV,P={};if("30"!=v.substr(0,2))throw new Error("malformed RSA key(code:001)");var D=_(v,0);if(2!=D.length)throw new Error("malformed RSA key(code:002)");if("02"!=v.substr(D[0],2))throw new Error("malformed RSA key(code:003)");if(P.n=E(v,D[0]),"02"!=v.substr(D[1],2))throw new Error("malformed RSA key(code:004)");return P.e=E(v,D[1]),P},parsePublicPKCS8Hex:function(v){var S=bt,_=S.getChildIdx,E=S.getV,P={algparam:null},D=_(v,0);if(2!=D.length)throw new Error("outer DERSequence shall have 2 elements: "+D.length);var R=D[0];if("30"!=v.substr(R,2))throw new Error("malformed PKCS8 public key(code:001)");var M=_(v,R);if(2!=M.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=v.substr(M[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(P.algoid=E(v,M[0]),"06"==v.substr(M[1],2)?P.algparam=E(v,M[1]):"30"==v.substr(M[1],2)&&(P.algparam={},P.algparam.p=S.getVbyList(v,M[1],[0],"02"),P.algparam.q=S.getVbyList(v,M[1],[1],"02"),P.algparam.g=S.getVbyList(v,M[1],[2],"02")),"03"!=v.substr(D[1],2))throw new Error("malformed PKCS8 public key(code:004)");return P.key=E(v,D[1]).substr(2),P}}}();St.getKey=function(v,S,_){var E=($=bt).getChildIdx,P=($.getV,$.getVbyList),D=mt.crypto,R=D.ECDSA,M=D.DSA,O=RSAKey,F=pemtohex,N=St;if(void 0!==O&&v instanceof O)return v;if(void 0!==R&&v instanceof R)return v;if(void 0!==M&&v instanceof M)return v;if(void 0!==v.curve&&void 0!==v.xy&&void 0===v.d)return new R({pub:v.xy,curve:v.curve});if(void 0!==v.curve&&void 0!==v.d)return new R({prv:v.d,curve:v.curve});if(void 0===v.kty&&void 0!==v.n&&void 0!==v.e&&void 0===v.d)return(st=new O).setPublic(v.n,v.e),st;if(void 0===v.kty&&void 0!==v.n&&void 0!==v.e&&void 0!==v.d&&void 0!==v.p&&void 0!==v.q&&void 0!==v.dp&&void 0!==v.dq&&void 0!==v.co&&void 0===v.qi)return(st=new O).setPrivateEx(v.n,v.e,v.d,v.p,v.q,v.dp,v.dq,v.co),st;if(void 0===v.kty&&void 0!==v.n&&void 0!==v.e&&void 0!==v.d&&void 0===v.p)return(st=new O).setPrivate(v.n,v.e,v.d),st;if(void 0!==v.p&&void 0!==v.q&&void 0!==v.g&&void 0!==v.y&&void 0===v.x)return(st=new M).setPublic(v.p,v.q,v.g,v.y),st;if(void 0!==v.p&&void 0!==v.q&&void 0!==v.g&&void 0!==v.y&&void 0!==v.x)return(st=new M).setPrivate(v.p,v.q,v.g,v.y,v.x),st;if("RSA"===v.kty&&void 0!==v.n&&void 0!==v.e&&void 0===v.d)return(st=new O).setPublic(b64utohex(v.n),b64utohex(v.e)),st;if("RSA"===v.kty&&void 0!==v.n&&void 0!==v.e&&void 0!==v.d&&void 0!==v.p&&void 0!==v.q&&void 0!==v.dp&&void 0!==v.dq&&void 0!==v.qi)return(st=new O).setPrivateEx(b64utohex(v.n),b64utohex(v.e),b64utohex(v.d),b64utohex(v.p),b64utohex(v.q),b64utohex(v.dp),b64utohex(v.dq),b64utohex(v.qi)),st;if("RSA"===v.kty&&void 0!==v.n&&void 0!==v.e&&void 0!==v.d)return(st=new O).setPrivate(b64utohex(v.n),b64utohex(v.e),b64utohex(v.d)),st;if("EC"===v.kty&&void 0!==v.crv&&void 0!==v.x&&void 0!==v.y&&void 0===v.d){var L=(it=new R({curve:v.crv})).ecparams.keycharlen,U="04"+("0000000000"+b64utohex(v.x)).slice(-L)+("0000000000"+b64utohex(v.y)).slice(-L);return it.setPublicKeyHex(U),it}if("EC"===v.kty&&void 0!==v.crv&&void 0!==v.x&&void 0!==v.y&&void 0!==v.d){L=(it=new R({curve:v.crv})).ecparams.keycharlen,U="04"+("0000000000"+b64utohex(v.x)).slice(-L)+("0000000000"+b64utohex(v.y)).slice(-L);var V=("0000000000"+b64utohex(v.d)).slice(-L);return it.setPublicKeyHex(U),it.setPrivateKeyHex(V),it}if("pkcs5prv"===_){var G,W=v,$=bt;if(9===(G=E(W,0)).length)(st=new O).readPKCS5PrvKeyHex(W);else if(6===G.length)(st=new M).readPKCS5PrvKeyHex(W);else{if(!(G.length>2&&"04"===W.substr(G[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(st=new R).readPKCS5PrvKeyHex(W)}return st}if("pkcs8prv"===_)return st=N.getKeyFromPlainPrivatePKCS8Hex(v);if("pkcs8pub"===_)return N._getKeyFromPublicPKCS8Hex(v);if("x509pub"===_)return X509.getPublicKeyFromCertHex(v);if(-1!=v.indexOf("-END CERTIFICATE-",0)||-1!=v.indexOf("-END X509 CERTIFICATE-",0)||-1!=v.indexOf("-END TRUSTED CERTIFICATE-",0))return X509.getPublicKeyFromCertPEM(v);if(-1!=v.indexOf("-END PUBLIC KEY-")){var X=pemtohex(v,"PUBLIC KEY");return N._getKeyFromPublicPKCS8Hex(X)}if(-1!=v.indexOf("-END RSA PRIVATE KEY-")&&-1==v.indexOf("4,ENCRYPTED")){var Y=F(v,"RSA PRIVATE KEY");return N.getKey(Y,null,"pkcs5prv")}if(-1!=v.indexOf("-END DSA PRIVATE KEY-")&&-1==v.indexOf("4,ENCRYPTED")){var J=P(ct=F(v,"DSA PRIVATE KEY"),0,[1],"02"),Z=P(ct,0,[2],"02"),Q=P(ct,0,[3],"02"),tt=P(ct,0,[4],"02"),et=P(ct,0,[5],"02");return(st=new M).setPrivate(new BigInteger(J,16),new BigInteger(Z,16),new BigInteger(Q,16),new BigInteger(tt,16),new BigInteger(et,16)),st}if(-1!=v.indexOf("-END EC PRIVATE KEY-")&&-1==v.indexOf("4,ENCRYPTED")){Y=F(v,"EC PRIVATE KEY");return N.getKey(Y,null,"pkcs5prv")}if(-1!=v.indexOf("-END PRIVATE KEY-"))return N.getKeyFromPlainPrivatePKCS8PEM(v);if(-1!=v.indexOf("-END RSA PRIVATE KEY-")&&-1!=v.indexOf("4,ENCRYPTED")){var rt=N.getDecryptedKeyHex(v,S),nt=new RSAKey;return nt.readPKCS5PrvKeyHex(rt),nt}if(-1!=v.indexOf("-END EC PRIVATE KEY-")&&-1!=v.indexOf("4,ENCRYPTED")){var it,st=P(ct=N.getDecryptedKeyHex(v,S),0,[1],"04"),ot=P(ct,0,[2,0],"06"),at=P(ct,0,[3,0],"03").substr(2);if(void 0===mt.crypto.OID.oidhex2name[ot])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+ot);return(it=new R({curve:mt.crypto.OID.oidhex2name[ot]})).setPublicKeyHex(at),it.setPrivateKeyHex(st),it.isPublic=!1,it}if(-1!=v.indexOf("-END DSA PRIVATE KEY-")&&-1!=v.indexOf("4,ENCRYPTED")){var ct;J=P(ct=N.getDecryptedKeyHex(v,S),0,[1],"02"),Z=P(ct,0,[2],"02"),Q=P(ct,0,[3],"02"),tt=P(ct,0,[4],"02"),et=P(ct,0,[5],"02");return(st=new M).setPrivate(new BigInteger(J,16),new BigInteger(Z,16),new BigInteger(Q,16),new BigInteger(tt,16),new BigInteger(et,16)),st}if(-1!=v.indexOf("-END ENCRYPTED PRIVATE KEY-"))return N.getKeyFromEncryptedPKCS8PEM(v,S);throw new Error("not supported argument")},St.generateKeypair=function(v,S){if("RSA"==v){var _=S;(R=new RSAKey).generate(_,"10001"),R.isPrivate=!0,R.isPublic=!0;var E=new RSAKey,P=R.n.toString(16),D=R.e.toString(16);return E.setPublic(P,D),E.isPrivate=!1,E.isPublic=!0,(M={}).prvKeyObj=R,M.pubKeyObj=E,M}if("EC"==v){var R,M,O=S,F=new mt.crypto.ECDSA({curve:O}).generateKeyPairHex();return(R=new mt.crypto.ECDSA({curve:O})).setPublicKeyHex(F.ecpubhex),R.setPrivateKeyHex(F.ecprvhex),R.isPrivate=!0,R.isPublic=!1,(E=new mt.crypto.ECDSA({curve:O})).setPublicKeyHex(F.ecpubhex),E.isPrivate=!1,E.isPublic=!0,(M={}).prvKeyObj=R,M.pubKeyObj=E,M}throw new Error("unknown algorithm: "+v)},St.getPEM=function(v,S,_,E,P,D){var R=mt,M=R.asn1,O=M.DERObjectIdentifier,F=M.DERInteger,N=M.ASN1Util.newObject,L=M.x509.SubjectPublicKeyInfo,U=R.crypto,V=U.DSA,G=U.ECDSA,W=RSAKey;function z(v){return N({seq:[{int:0},{int:{bigint:v.n}},{int:v.e},{int:{bigint:v.d}},{int:{bigint:v.p}},{int:{bigint:v.q}},{int:{bigint:v.dmp1}},{int:{bigint:v.dmq1}},{int:{bigint:v.coeff}}]})}function A(v){return N({seq:[{int:1},{octstr:{hex:v.prvKeyHex}},{tag:["a0",!0,{oid:{name:v.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+v.pubKeyHex}}]}]})}function w(v){return N({seq:[{int:0},{int:{bigint:v.p}},{int:{bigint:v.q}},{int:{bigint:v.g}},{int:{bigint:v.y}},{int:{bigint:v.x}}]})}if((void 0!==W&&v instanceof W||void 0!==V&&v instanceof V||void 0!==G&&v instanceof G)&&1==v.isPublic&&(void 0===S||"PKCS8PUB"==S))return hextopem(J=new L(v).tohex(),"PUBLIC KEY");if("PKCS1PRV"==S&&void 0!==W&&v instanceof W&&(void 0===_||null==_)&&1==v.isPrivate)return hextopem(J=z(v).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==S&&void 0!==G&&v instanceof G&&(void 0===_||null==_)&&1==v.isPrivate){var $=new O({name:v.curveName}).tohex(),X=A(v).tohex(),Y="";return Y+=hextopem($,"EC PARAMETERS"),Y+=hextopem(X,"EC PRIVATE KEY")}if("PKCS1PRV"==S&&void 0!==V&&v instanceof V&&(void 0===_||null==_)&&1==v.isPrivate)return hextopem(J=w(v).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==S&&void 0!==W&&v instanceof W&&void 0!==_&&null!=_&&1==v.isPrivate){var J=z(v).tohex();return void 0===E&&(E="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",J,_,E,D)}if("PKCS5PRV"==S&&void 0!==G&&v instanceof G&&void 0!==_&&null!=_&&1==v.isPrivate){J=A(v).tohex();return void 0===E&&(E="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",J,_,E,D)}if("PKCS5PRV"==S&&void 0!==V&&v instanceof V&&void 0!==_&&null!=_&&1==v.isPrivate){J=w(v).tohex();return void 0===E&&(E="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",J,_,E,D)}var f=function(v,S){if("string"==typeof S)return St.getEncryptedPKCS8PEM(v,S);if("object"==typeof S&&null!=aryval(S,"passcode")){var _=JSON.parse(JSON.stringify(S)),E=_.passcode;return delete _.passcode,St.getEncryptedPKCS8PEM(v,E,_)}};if("PKCS8PRV"==S&&null!=W&&v instanceof W&&1==v.isPrivate){var Z=z(v).tohex();J=N({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Z}}]}).tohex();return void 0===_||null==_?hextopem(J,"PRIVATE KEY"):f(J,_)}if("PKCS8PRV"==S&&void 0!==G&&v instanceof G&&1==v.isPrivate){var Q={seq:[{int:1},{octstr:{hex:v.prvKeyHex}}]};"string"==typeof v.pubKeyHex&&Q.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+v.pubKeyHex}}]});Z=new N(Q).tohex(),J=N({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:v.curveName}}]},{octstr:{hex:Z}}]}).tohex();return void 0===_||null==_?hextopem(J,"PRIVATE KEY"):f(J,_)}if("PKCS8PRV"==S&&void 0!==V&&v instanceof V&&1==v.isPrivate){Z=new F({bigint:v.x}).tohex(),J=N({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:v.p}},{int:{bigint:v.q}},{int:{bigint:v.g}}]}]},{octstr:{hex:Z}}]}).tohex();return void 0===_||null==_?hextopem(J,"PRIVATE KEY"):f(J,_)}throw new Error("unsupported object nor format")},St.getKeyFromCSRPEM=function(v){var S=pemtohex(v,"CERTIFICATE REQUEST");return St.getKeyFromCSRHex(S)},St.getKeyFromCSRHex=function(v){var S=St.parseCSRHex(v);return St.getKey(S.p8pubkeyhex,null,"pkcs8pub")},St.parseCSRHex=function(v){var S=bt,_=S.getChildIdx,E=S.getTLV,P={},D=v;if("30"!=D.substr(0,2))throw new Error("malformed CSR(code:001)");var R=_(D,0);if(R.length<1)throw new Error("malformed CSR(code:002)");if("30"!=D.substr(R[0],2))throw new Error("malformed CSR(code:003)");var M=_(D,R[0]);if(M.length<3)throw new Error("malformed CSR(code:004)");return P.p8pubkeyhex=E(D,M[2]),P},St.getKeyID=function(v){var S=St,_=bt;"string"==typeof v&&-1!=v.indexOf("BEGIN ")&&(v=S.getKey(v));var E=pemtohex(S.getPEM(v)),P=_.getIdxbyList(E,0,[1]),D=_.getV(E,P).substring(2);return mt.crypto.Util.hashHex(D,"sha1")},St.getJWK=function(v,S,_,E,P){var D,R,M={},O=mt.crypto.Util.hashHex;if("string"==typeof v)D=St.getKey(v),-1!=v.indexOf("CERTIFICATE")&&(R=pemtohex(v));else{if("object"!=typeof v)throw new Error("unsupported keyinfo type");v instanceof X509?(D=v.getPublicKey(),R=v.hex):D=v}if(D instanceof RSAKey&&D.isPrivate)M.kty="RSA",M.n=hextob64u(D.n.toString(16)),M.e=hextob64u(D.e.toString(16)),M.d=hextob64u(D.d.toString(16)),M.p=hextob64u(D.p.toString(16)),M.q=hextob64u(D.q.toString(16)),M.dp=hextob64u(D.dmp1.toString(16)),M.dq=hextob64u(D.dmq1.toString(16)),M.qi=hextob64u(D.coeff.toString(16));else if(D instanceof RSAKey&&D.isPublic)M.kty="RSA",M.n=hextob64u(D.n.toString(16)),M.e=hextob64u(D.e.toString(16));else if(D instanceof mt.crypto.ECDSA&&D.isPrivate){if("P-256"!==(N=D.getShortNISTPCurveName())&&"P-384"!==N&&"P-521"!==N)throw new Error("unsupported curve name for JWT: "+N);var F=D.getPublicKeyXYHex();M.kty="EC",M.crv=N,M.x=hextob64u(F.x),M.y=hextob64u(F.y),M.d=hextob64u(D.prvKeyHex)}else if(D instanceof mt.crypto.ECDSA&&D.isPublic){var N;if("P-256"!==(N=D.getShortNISTPCurveName())&&"P-384"!==N&&"P-521"!==N)throw new Error("unsupported curve name for JWT: "+N);F=D.getPublicKeyXYHex();M.kty="EC",M.crv=N,M.x=hextob64u(F.x),M.y=hextob64u(F.y)}if(null==M.kty)throw new Error("unsupported keyinfo");return D.isPrivate||1==S||(M.kid=mt.jws.JWS.getJWKthumbprint(M)),null!=R&&1!=_&&(M.x5c=[hex2b64(R)]),null!=R&&1!=E&&(M.x5t=b64tob64u(hex2b64(O(R,"sha1")))),null!=R&&1!=P&&(M["x5t#S256"]=b64tob64u(hex2b64(O(R,"sha256")))),M},St.getJWKFromKey=function(v){return St.getJWK(v,!0,!0,!0,!0)},RSAKey.getPosArrayOfChildrenFromHex=function(v){return bt.getChildIdx(v,0)},RSAKey.getHexValueArrayOfChildrenFromHex=function(v){var S,_=bt.getV,E=_(v,(S=RSAKey.getPosArrayOfChildrenFromHex(v))[0]),P=_(v,S[1]),D=_(v,S[2]),R=_(v,S[3]),M=_(v,S[4]),O=_(v,S[5]),F=_(v,S[6]),N=_(v,S[7]),L=_(v,S[8]);return(S=new Array).push(E,P,D,R,M,O,F,N,L),S},RSAKey.prototype.readPrivateKeyFromPEMString=function(v){var S=pemtohex(v),_=RSAKey.getHexValueArrayOfChildrenFromHex(S);this.setPrivateEx(_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8])},RSAKey.prototype.readPKCS5PrvKeyHex=function(v){var S=RSAKey.getHexValueArrayOfChildrenFromHex(v);this.setPrivateEx(S[1],S[2],S[3],S[4],S[5],S[6],S[7],S[8])},RSAKey.prototype.readPKCS8PrvKeyHex=function(v){var S,_,E,P,D,R,M,O,F=bt,N=F.getVbyListEx;if(!1===F.isASN1HEX(v))throw new Error("not ASN.1 hex string");try{S=N(v,0,[2,0,1],"02"),_=N(v,0,[2,0,2],"02"),E=N(v,0,[2,0,3],"02"),P=N(v,0,[2,0,4],"02"),D=N(v,0,[2,0,5],"02"),R=N(v,0,[2,0,6],"02"),M=N(v,0,[2,0,7],"02"),O=N(v,0,[2,0,8],"02")}catch(v){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(S,_,E,P,D,R,M,O)},RSAKey.prototype.readPKCS5PubKeyHex=function(v){var S=bt,_=S.getV;if(!1===S.isASN1HEX(v))throw new Error("keyHex is not ASN.1 hex string");var E=S.getChildIdx(v,0);if(2!==E.length||"02"!==v.substr(E[0],2)||"02"!==v.substr(E[1],2))throw new Error("wrong hex for PKCS#5 public key");var P=_(v,E[0]),D=_(v,E[1]);this.setPublic(P,D)},RSAKey.prototype.readPKCS8PubKeyHex=function(v){var S=bt;if(!1===S.isASN1HEX(v))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==S.getTLVbyListEx(v,0,[0,0]))throw new Error("not PKCS8 RSA public key");var _=S.getTLVbyListEx(v,0,[1,0]);this.readPKCS5PubKeyHex(_)},RSAKey.prototype.readCertPubKeyHex=function(v,S){var _,E;(_=new X509).readCertHex(v),E=_.getPublicKeyHex(),this.readPKCS8PubKeyHex(E)};function _zeroPaddingOfSignature(v,S){for(var _="",E=S/4-v.length,P=0;P<E;P++)_+="0";return _+v}function pss_mgf1_str(v,S,_){for(var E="",P=0;E.length<S;)E+=hextorstr(_(rstrtohex(v+String.fromCharCode.apply(String,[(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P])))),P+=1;return E}function _rsasign_getAlgNameAndHashFromHexDisgestInfo(v){for(var S in mt.crypto.Util.DIGESTINFOHEAD){var _=mt.crypto.Util.DIGESTINFOHEAD[S],E=_.length;if(v.substring(0,E)==_)return[S,v.substring(E)]}return[]}function X509(v){var S,_=bt,E=_.getChildIdx,P=_.getV,D=(_.dump,_.parse),R=_.getTLV,M=_.getVbyList,O=_.getVbyListEx,F=_.getTLVbyList,N=_.getTLVbyListEx,L=_.getIdxbyList,U=_.getIdxbyListEx,V=_.getVidx,G=_.getInt,W=_.oidname,$=_.hextooidstr,X=pemtohex,Y=Error;try{S=mt.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(v){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var v=F(this.hex,0,[0,0]);if("a0"==v.substr(0,2)){var S=F(v,0,[0]),_=G(S,0);if(_<0||2<_)throw new Error("malformed version field");return this.version=_+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return O(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var v=N(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(v)},this.getAlgorithmIdentifierName=function(v){for(var _ in S)if(v===S[_])return _;return W(O(v,0,[0],"06"))},this.getIssuer=function(v,S){return this.getX500Name(this.getIssuerHex(),v,S)},this.getIssuerHex=function(){return F(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(v,S){return this.getX500Name(this.getSubjectHex(),v,S)},this.getSubjectHex=function(){return F(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var v=M(this.hex,0,[0,4+this.foffset,0]);return v=v.replace(/(..)/g,"%$1"),v=decodeURIComponent(v)},this.getNotAfter=function(){var v=M(this.hex,0,[0,4+this.foffset,1]);return v=v.replace(/(..)/g,"%$1"),v=decodeURIComponent(v)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return F(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var v=this.getSPKI();return null==v?null:M(v,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return L(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var v=this.getPublicKeyIdx();return L(this.hex,v,[1,0],"30")},this.getPublicKey=function(){return St.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var v=F(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(v)},this.getSignatureValueHex=function(){return M(this.hex,0,[2],"03",!0)},this.verifySignature=function(v){var S=this.getSignatureAlgorithmField(),_=this.getSignatureValueHex(),E=F(this.hex,0,[0],"30"),P=new mt.crypto.Signature({alg:S});return P.init(v),P.updateHex(E),P.verify(_)},this.parseExt=function(v){var S,D,R;if(void 0===v){if(R=this.hex,3!==this.version)return-1;S=L(R,0,[0,7,0],"30"),D=E(R,S)}else{R=pemtohex(v);var O=L(R,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=P(R,O))return void(this.aExtInfo=new Array);S=L(R,0,[0,3,0,1,0],"30"),D=E(R,S),this.hex=R}this.aExtInfo=new Array;for(var F=0;F<D.length;F++){var N={critical:!1},U=0;3===E(R,D[F]).length&&(N.critical=!0,U=1),N.oid=_.hextooidstr(M(R,D[F],[0],"06"));var G=L(R,D[F],[1+U]);N.vidx=V(R,G),this.aExtInfo.push(N)}},this.getExtInfo=function(v){var S=this.aExtInfo,_=v;if(v.match(/^[0-9.]+$/)||(_=mt.asn1.x509.OID.name2oid(v)),""!==_)for(var E=0;E<S.length;E++)if(S[E].oid===_)return S[E]},this.getCriticalExtV=function(v,S,_){if(null!=S)return[S,_];var E=this.getExtInfo(v);return null==E?[null,null]:[R(this.hex,E.vidx),E.critical]},this.getExtBasicConstraints=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("basicConstraints");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var E={extname:"basicConstraints"};if(S&&(E.critical=!0),"3000"===v)return E;if("30030101ff"===v)return E.cA=!0,E;if("30060101ff02"===v.substr(0,12)){var D=P(v,10),M=parseInt(D,16);return E.cA=!0,E.pathLen=M,E}throw new Error("hExtV parse error: "+v)},this.getExtNameConstraints=function(v,S){var _=this.getCriticalExtV("nameConstraints",v,S);if(v=_[0],S=_[1],null!=v){var P={extname:"nameConstraints"};S&&(P.critical=!0);for(var D=E(v,0),M=0;M<D.length;M++){for(var O=[],F=E(v,D[M]),N=0;N<F.length;N++){var L=R(v,F[N]),U=this.getGeneralSubtree(L);O.push(U)}var V=v.substr(D[M],2);"a0"==V?P.permit=O:"a1"==V&&(P.exclude=O)}return P}},this.getGeneralSubtree=function(v){var S=E(v,0),_=S.length;if(_<1||2<_)throw new Error("wrong num elements");for(var D=this.getGeneralName(R(v,S[0])),M=1;M<_;M++){var O=v.substr(S[M],2),F=P(v,S[M]),N=parseInt(F,16);"80"==O&&(D.min=N),"81"==O&&(D.max=N)}return D},this.getExtKeyUsage=function(v,S){var _=this.getCriticalExtV("keyUsage",v,S);if(v=_[0],S=_[1],null!=v){var E={extname:"keyUsage"};return S&&(E.critical=!0),E.names=this.getExtKeyUsageString(v).split(","),E}},this.getExtKeyUsageBin=function(v){if(void 0===v){var S=this.getExtInfo("keyUsage");if(void 0===S)return"";v=R(this.hex,S.vidx)}if(8!=v.length&&10!=v.length)throw new Error("malformed key usage value: "+v);var _="000000000000000"+parseInt(v.substr(6),16).toString(2);return 8==v.length&&(_=_.slice(-8)),10==v.length&&(_=_.slice(-16)),""==(_=_.replace(/0+$/,""))&&(_="0"),_},this.getExtKeyUsageString=function(v){for(var S=this.getExtKeyUsageBin(v),_=new Array,E=0;E<S.length;E++)"1"==S.substr(E,1)&&_.push(X509.KEYUSAGE_NAME[E]);return _.join(",")},this.getExtSubjectKeyIdentifier=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("subjectKeyIdentifier");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var E={extname:"subjectKeyIdentifier"};S&&(E.critical=!0);var D=P(v,0);return E.kid={hex:D},E},this.getExtAuthorityKeyIdentifier=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("authorityKeyIdentifier");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var D={extname:"authorityKeyIdentifier"};S&&(D.critical=!0);for(var M=E(v,0),O=0;O<M.length;O++){var F=v.substr(M[O],2);if("80"===F&&(D.kid={hex:P(v,M[O])}),"a1"===F){var N=R(v,M[O]),L=this.getGeneralNames(N);D.issuer=L[0].dn}"82"===F&&(D.sn={hex:P(v,M[O])})}return D},this.getExtExtKeyUsage=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("extKeyUsage");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var D={extname:"extKeyUsage",array:[]};S&&(D.critical=!0);for(var M=E(v,0),O=0;O<M.length;O++)D.array.push(W(P(v,M[O])));return D},this.getExtExtKeyUsageName=function(){var v=this.getExtInfo("extKeyUsage");if(void 0===v)return v;var S=new Array,_=R(this.hex,v.vidx);if(""===_)return S;for(var D=E(_,0),M=0;M<D.length;M++)S.push(W(P(_,D[M])));return S},this.getExtSubjectAltName=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("subjectAltName");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var E={extname:"subjectAltName",array:[]};return S&&(E.critical=!0),E.array=this.getGeneralNames(v),E},this.getExtIssuerAltName=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("issuerAltName");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var E={extname:"issuerAltName",array:[]};return S&&(E.critical=!0),E.array=this.getGeneralNames(v),E},this.getGeneralNames=function(v){for(var S=E(v,0),_=[],P=0;P<S.length;P++){var D=this.getGeneralName(R(v,S[P]));void 0!==D&&_.push(D)}return _},this.getGeneralName=function(v){var S=v.substr(0,2),_=P(v,0),E=hextorstr(_);return"81"==S?{rfc822:E}:"82"==S?{dns:E}:"86"==S?{uri:E}:"87"==S?{ip:hextoip(_)}:"a4"==S?{dn:this.getX500Name(_)}:"a0"==S?{other:this.getOtherName(v)}:void 0},this.getExtSubjectAltName2=function(){var v,S,_,D=this.getExtInfo("subjectAltName");if(void 0===D)return D;for(var M=new Array,O=R(this.hex,D.vidx),F=E(O,0),N=0;N<F.length;N++)_=O.substr(F[N],2),v=P(O,F[N]),"81"===_&&(S=hextoutf8(v),M.push(["MAIL",S])),"82"===_&&(S=hextoutf8(v),M.push(["DNS",S])),"84"===_&&(S=X509.hex2dn(v,0),M.push(["DN",S])),"86"===_&&(S=hextoutf8(v),M.push(["URI",S])),"87"===_&&(S=hextoip(v),M.push(["IP",S]));return M},this.getExtCRLDistributionPoints=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("cRLDistributionPoints");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var P={extname:"cRLDistributionPoints",array:[]};S&&(P.critical=!0);for(var D=E(v,0),M=0;M<D.length;M++){var O=R(v,D[M]);P.array.push(this.getDistributionPoint(O))}return P},this.getDistributionPoint=function(v){for(var S={},_=E(v,0),P=0;P<_.length;P++){var D=v.substr(_[P],2),M=R(v,_[P]);"a0"==D&&(S.dpname=this.getDistributionPointName(M))}return S},this.getDistributionPointName=function(v){for(var S={},_=E(v,0),P=0;P<_.length;P++){var D=v.substr(_[P],2),M=R(v,_[P]);"a0"==D&&(S.full=this.getGeneralNames(M))}return S},this.getExtCRLDistributionPointsURI=function(){var v=this.getExtCRLDistributionPoints();if(null==v)return v;for(var S=v.array,_=[],E=0;E<S.length;E++)try{null!=S[E].dpname.full[0].uri&&_.push(S[E].dpname.full[0].uri)}catch(v){}return _},this.getExtAIAInfo=function(){var v=this.getExtInfo("authorityInfoAccess");if(void 0===v)return v;for(var S={ocsp:[],caissuer:[]},_=E(this.hex,v.vidx),P=0;P<_.length;P++){var D=M(this.hex,_[P],[0],"06"),R=M(this.hex,_[P],[1],"86");"2b06010505073001"===D&&S.ocsp.push(hextoutf8(R)),"2b06010505073002"===D&&S.caissuer.push(hextoutf8(R))}return S},this.getExtAuthorityInfoAccess=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("authorityInfoAccess");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var P={extname:"authorityInfoAccess",array:[]};S&&(P.critical=!0);for(var D=E(v,0),F=0;F<D.length;F++){var N=O(v,D[F],[0],"06"),L=hextoutf8(M(v,D[F],[1],"86"));if("2b06010505073001"==N)P.array.push({ocsp:L});else{if("2b06010505073002"!=N)throw new Error("unknown method: "+N);P.array.push({caissuer:L})}}return P},this.getExtCertificatePolicies=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("certificatePolicies");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var P={extname:"certificatePolicies",array:[]};S&&(P.critical=!0);for(var D=E(v,0),M=0;M<D.length;M++){var O=R(v,D[M]),F=this.getPolicyInformation(O);P.array.push(F)}return P},this.getPolicyInformation=function(v){var S={},_=M(v,0,[0],"06");S.policyoid=W(_);var P=U(v,0,[1],"30");if(-1!=P){S.array=[];for(var D=E(v,P),O=0;O<D.length;O++){var F=R(v,D[O]),N=this.getPolicyQualifierInfo(F);S.array.push(N)}}return S},this.getOtherName=function(v){var S={},_=E(v,0),P=M(v,_[0],[],"06"),R=M(v,_[1],[]);return S.oid=W(P),S.value=D(R),S},this.getPolicyQualifierInfo=function(v){var S={},_=M(v,0,[0],"06");if("2b06010505070201"===_){var E=O(v,0,[1],"16");S.cps=hextorstr(E)}else if("2b06010505070202"===_){var P=F(v,0,[1],"30");S.unotice=this.getUserNotice(P)}return S},this.getUserNotice=function(v){var S=null;try{return S=_.parse(v),this._asn1ToUnotice(S)}catch(v){return}},this._asn1ToUnotice=function(v){try{for(var S={},_=aryval(v,"seq"),E=0;E<_.length;E++){var P=this._asn1ToNoticeRef(_[E]);null!=P&&(S.noticeref=P);var D=this.asn1ToDisplayText(_[E]);null!=D&&(S.exptext=D)}return Object.keys(S).length>0?S:void 0}catch(v){return}},this._asn1ToNoticeRef=function(v){try{for(var S={},_=aryval(v,"seq"),E=0;E<_.length;E++){var P=this._asn1ToNoticeNum(_[E]);null!=P&&(S.noticenum=P);var D=this.asn1ToDisplayText(_[E]);null!=D&&(S.org=D)}return Object.keys(S).length>0?S:void 0}catch(v){return}},this._asn1ToNoticeNum=function(v){try{for(var S=aryval(v,"seq"),_=[],E=0;E<S.length;E++){var P=S[E];_.push(parseInt(aryval(P,"int.hex"),16))}return _}catch(v){return}},this.getDisplayText=function(v){var S={};return S.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[v.substr(0,2)],S.str=hextorstr(P(v,0)),S},this.asn1ToDisplayText=function(v){return null!=v.utf8str?{type:"utf8",str:v.utf8str.str}:null!=v.ia5str?{type:"ia5",str:v.ia5str.str}:null!=v.visstr?{type:"vis",str:v.visstr.str}:null!=v.bmpstr?{type:"bmp",str:v.bmpstr.str}:null!=v.prnstr?{type:"prn",str:v.prnstr.str}:void 0},this.getExtPolicyMappings=function(v,S){var _=this.getCriticalExtV("policyMappings",v,S);if(v=_[0],S=_[1],null!=v){var E={extname:"policyMappings"};S&&(E.critical=!0);try{for(var P=D(v).seq,R=[],M=0;M<P.length;M++){var O=P[M].seq;R.push([O[0].oid,O[1].oid])}E.array=R}catch(v){throw new Y("malformed policyMappings")}return E}},this.getExtPolicyConstraints=function(v,S){var _=this.getCriticalExtV("policyConstraints",v,S);if(v=_[0],S=_[1],null!=v){var E={extname:"policyConstraints"};S&&(E.critical=!0);var P=D(v);try{for(var R=P.seq,M=0;M<R.length;M++){var O=R[M].tag;0==O.explicit&&("80"==O.tag&&(E.reqexp=parseInt(O.hex,16)),"81"==O.tag&&(E.inhibit=parseInt(O.hex,16)))}}catch(v){return new Y("malformed policyConstraints value")}return E}},this.getExtInhibitAnyPolicy=function(v,S){var _=this.getCriticalExtV("inhibitAnyPolicy",v,S);if(v=_[0],S=_[1],null!=v){var E={extname:"inhibitAnyPolicy"};S&&(E.critical=!0);var P=G(v,0);return-1==P?new Y("wrong value"):(E.skip=P,E)}},this.getExtCRLNumber=function(v,S){var _={extname:"cRLNumber"};if(S&&(_.critical=!0),"02"==v.substr(0,2))return _.num={hex:P(v,0)},_;throw new Y("hExtV parse error: "+v)},this.getExtCRLReason=function(v,S){var _={extname:"cRLReason"};if(S&&(_.critical=!0),"0a"==v.substr(0,2))return _.code=parseInt(P(v,0),16),_;throw new Error("hExtV parse error: "+v)},this.getExtOcspNonce=function(v,S){var _={extname:"ocspNonce"};S&&(_.critical=!0);var E=P(v,0);return _.hex=E,_},this.getExtOcspNoCheck=function(v,S){var _={extname:"ocspNoCheck"};return S&&(_.critical=!0),_},this.getExtAdobeTimeStamp=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("adobeTimeStamp");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var P={extname:"adobeTimeStamp"};S&&(P.critical=!0);var D=E(v,0);if(D.length>1){var M=R(v,D[1]),O=this.getGeneralName(M);null!=O.uri&&(P.uri=O.uri)}if(D.length>2){var F=R(v,D[2]);"0101ff"==F&&(P.reqauth=!0),"010100"==F&&(P.reqauth=!1)}return P},this.getExtSubjectDirectoryAttributes=function(v,S){if(void 0===v&&void 0===S){var _=this.getExtInfo("subjectDirectoryAttributes");if(void 0===_)return;v=R(this.hex,_.vidx),S=_.critical}var E={extname:"subjectDirectoryAttributes"};S&&(E.critical=!0);try{for(var P=D(v),M=[],O=0;O<P.seq.length;O++){var F=P.seq[O],N=aryval(F,"seq.0.oid"),L=aryval(F,"seq.1.set");if(null==N||null==L)throw"error";M.push({attr:N,array:L})}return E.array=M,E}catch(v){throw new Error("malformed subjectDirectoryAttributes extension value")}};var e=function(v){var S={};try{var _=v.seq[0].oid,E=mt.asn1.x509.OID.name2oid(_);S.type=mt.asn1.x509.OID.oid2atype(E);var P=v.seq[1];if(null!=P.utf8str)S.ds="utf8",S.value=P.utf8str.str;else if(null!=P.numstr)S.ds="num",S.value=P.numstr.str;else if(null!=P.telstr)S.ds="tel",S.value=P.telstr.str;else if(null!=P.prnstr)S.ds="prn",S.value=P.prnstr.str;else if(null!=P.ia5str)S.ds="ia5",S.value=P.ia5str.str;else if(null!=P.visstr)S.ds="vis",S.value=P.visstr.str;else{if(null==P.bmpstr)throw"error";S.ds="bmp",S.value=P.bmpstr.str}return S}catch(v){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},i=function(v){try{return v.set.map((function(v){return e(v)}))}catch(v){throw new Error("improper ASN.1 parsed RDN: "+v)}};this.getX500NameRule=function(v){for(var S=null,_=[],E=0;E<v.length;E++)for(var P=v[E],D=0;D<P.length;D++)_.push(P[D]);for(E=0;E<_.length;E++){var R=_[E],M=R.ds,O=R.value,F=R.type;if(":"+M,"prn"!=M&&"utf8"!=M&&"ia5"!=M)return"mixed";if("ia5"==M){if("CN"!=F)return"mixed";if(mt.lang.String.isMail(O))continue;return"mixed"}if("C"==F){if("prn"==M)continue;return"mixed"}if(":"+M,null==S)S=M;else if(S!==M)return"mixed"}return null==S?"prn":S},this.getAttrTypeAndValue=function(v){var S=D(v);return e(S)},this.getRDN=function(v){var S=D(v);return i(S)},this.getX500NameArray=function(v){return function(v){try{return v.seq.map((function(v){return i(v)}))}catch(v){throw new Error("improper ASN.1 parsed X500Name: "+v)}}(D(v))},this.getX500Name=function(v,S,_){var E=this.getX500NameArray(v),P={str:this.dnarraytostr(E)};return P.array=E,1==_&&(P.hex=v),1==S&&(P.canon=this.c14nRDNArray(E)),P},this.readCertPEM=function(v){this.readCertHex(X(v))},this.readCertHex=function(v){this.hex=v,this.getVersion();try{L(this.hex,0,[0,7],"a3"),this.parseExt()}catch(v){}},this.getParam=function(v){var S={};return null==v&&(v={}),S.version=this.getVersion(),S.serial={hex:this.getSerialNumberHex()},S.sigalg=this.getSignatureAlgorithmField(),S.issuer=this.getIssuer(v.dncanon,v.dnhex),S.notbefore=this.getNotBefore(),S.notafter=this.getNotAfter(),S.subject=this.getSubject(v.dncanon,v.dnhex),S.sbjpubkey=hextopem(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(S.ext=this.getExtParamArray()),S.sighex=this.getSignatureValueHex(),1==v.tbshex&&(S.tbshex=F(this.hex,0,[0])),1==v.nodnarray&&(delete S.issuer.array,delete S.subject.array),S},this.getExtParamArray=function(v){null==v&&(-1!=U(this.hex,0,[0,"[3]"])&&(v=N(this.hex,0,[0,"[3]",0],"30")));for(var S=[],_=E(v,0),P=0;P<_.length;P++){var D=R(v,_[P]),M=this.getExtParam(D);null!=M&&S.push(M)}return S},this.getExtParam=function(v){var S=E(v,0).length;if(2!=S&&3!=S)throw new Error("wrong number elements in Extension: "+S+" "+v);var _=$(M(v,0,[0],"06")),P=!1;3==S&&"0101ff"==F(v,0,[1])&&(P=!0);var R=F(v,0,[S-1,0]),O=void 0;if("2.5.29.14"==_?O=this.getExtSubjectKeyIdentifier(R,P):"2.5.29.15"==_?O=this.getExtKeyUsage(R,P):"2.5.29.17"==_?O=this.getExtSubjectAltName(R,P):"2.5.29.18"==_?O=this.getExtIssuerAltName(R,P):"2.5.29.19"==_?O=this.getExtBasicConstraints(R,P):"2.5.29.30"==_?O=this.getExtNameConstraints(R,P):"2.5.29.31"==_?O=this.getExtCRLDistributionPoints(R,P):"2.5.29.32"==_?O=this.getExtCertificatePolicies(R,P):"2.5.29.33"==_?O=this.getExtPolicyMappings(R,P):"2.5.29.35"==_?O=this.getExtAuthorityKeyIdentifier(R,P):"2.5.29.36"==_?O=this.getExtPolicyConstraints(R,P):"2.5.29.37"==_?O=this.getExtExtKeyUsage(R,P):"2.5.29.54"==_?O=this.getExtInhibitAnyPolicy(R,P):"1.3.6.1.5.5.7.1.1"==_?O=this.getExtAuthorityInfoAccess(R,P):"2.5.29.20"==_?O=this.getExtCRLNumber(R,P):"2.5.29.21"==_?O=this.getExtCRLReason(R,P):"2.5.29.9"==_?O=this.getExtSubjectDirectoryAttributes(R,P):"1.3.6.1.5.5.7.48.1.2"==_?O=this.getExtOcspNonce(R,P):"1.3.6.1.5.5.7.48.1.5"==_?O=this.getExtOcspNoCheck(R,P):"1.2.840.113583.1.1.9.1"==_?O=this.getExtAdobeTimeStamp(R,P):null!=X509.EXT_PARSER[_]&&(O=X509.EXT_PARSER[_](_,P,R)),null!=O)return O;var N={extname:_,extn:R};try{N.extn=D(R)}catch(v){}return P&&(N.critical=!0),N},this.findExt=function(v,S){for(var _=0;_<v.length;_++)if(v[_].extname==S)return v[_];return null},this.updateExtCDPFullURI=function(v,S){var _=this.findExt(v,"cRLDistributionPoints");if(null!=_&&null!=_.array)for(var E=_.array,P=0;P<E.length;P++)if(null!=E[P].dpname&&null!=E[P].dpname.full)for(var D=E[P].dpname.full,R=0;R<D.length;R++){var M=D[P];null!=M.uri&&(M.uri=S)}},this.updateExtAIAOCSP=function(v,S){var _=this.findExt(v,"authorityInfoAccess");if(null!=_&&null!=_.array)for(var E=_.array,P=0;P<E.length;P++)null!=E[P].ocsp&&(E[P].ocsp=S)},this.updateExtAIACAIssuer=function(v,S){var _=this.findExt(v,"authorityInfoAccess");if(null!=_&&null!=_.array)for(var E=_.array,P=0;P<E.length;P++)null!=E[P].caissuer&&(E[P].caissuer=S)},this.dnarraytostr=function(v){return"/"+v.map((function(v){return function z(v){return v.map((function(v){return function A(v){return v.type+"="+v.value}(v).replace(/\+/,"\\+")})).join("+")}(v).replace(/\//,"\\/")})).join("/")},this.setCanonicalizedDN=function(v){var S;if(null!=v.str&&null==v.array){var _=new mt.asn1.x509.X500Name({str:v.str}).tohex();S=this.getX500NameArray(_)}else S=v.array;null==v.canon&&(v.canon=this.c14nRDNArray(S))},this.c14nRDNArray=function(v){for(var S=[],_=0;_<v.length;_++){for(var E=v[_],P=[],D=0;D<E.length;D++){var R=E[D],M=R.value;M=(M=(M=(M=M.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),P.push(R.type.toLowerCase()+"="+M)}S.push(P.join("+"))}return"/"+S.join("/")},this.getInfo=function(){var v,S,_,A=function(v){for(var S="",_="    ",E="\n",P=v.array,D=0;D<P.length;D++){var R=P[D];if(null!=R.dn&&(S+=_+"dn: "+R.dn.str+E),null!=R.ip&&(S+=_+"ip: "+R.ip+E),null!=R.rfc822&&(S+=_+"rfc822: "+R.rfc822+E),null!=R.dns&&(S+=_+"dns: "+R.dns+E),null!=R.uri&&(S+=_+"uri: "+R.uri+E),null!=R.other)S+=_+"other: "+R.other.oid+"="+JSON.stringify(R.other.value).replace(/\"/g,"")+E}return S=S.replace(/\n$/,"")},H=function(v){for(var S="",_=v.array,E=0;E<_.length;E++){var P=_[E];if(S+="    policy oid: "+P.policyoid+"\n",void 0!==P.array)for(var D=0;D<P.array.length;D++){var R=P.array[D];void 0!==R.cps&&(S+="    cps: "+R.cps+"\n")}}return S},K=function(v){for(var S="",_=v.array,E=0;E<_.length;E++){var P=_[E];try{void 0!==P.dpname.full[0].uri&&(S+="    "+P.dpname.full[0].uri+"\n")}catch(v){}try{void 0!==P.dname.full[0].dn.hex&&(S+="    "+X509.hex2dn(P.dpname.full[0].dn.hex)+"\n")}catch(v){}}return S},I=function(v){for(var S="",_=v.array,E=0;E<_.length;E++){var P=_[E];void 0!==P.caissuer&&(S+="    caissuer: "+P.caissuer+"\n"),void 0!==P.ocsp&&(S+="    ocsp: "+P.ocsp+"\n")}return S};if(v="Basic Fields\n",v+="  serial number: "+this.getSerialNumberHex()+"\n",v+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",v+="  issuer: "+this.getIssuerString()+"\n",v+="  notBefore: "+this.getNotBefore()+"\n",v+="  notAfter: "+this.getNotAfter()+"\n",v+="  subject: "+this.getSubjectString()+"\n",v+="  subject public key info: \n",v+="    key algorithm: "+(S=this.getPublicKey()).type+"\n","RSA"===S.type&&(v+="    n="+hextoposhex(S.n.toString(16)).substr(0,16)+"...\n",v+="    e="+hextoposhex(S.e.toString(16))+"\n"),null!=(_=this.aExtInfo)){v+="X509v3 Extensions:\n";for(var E=0;E<_.length;E++){var P=_[E],D=mt.asn1.x509.OID.oid2name(P.oid);""===D&&(D=P.oid);var R="";if(!0===P.critical&&(R="CRITICAL"),v+="  "+D+" "+R+":\n","basicConstraints"===D){var M=this.getExtBasicConstraints();void 0===M.cA?v+="    {}\n":(v+="    cA=true",void 0!==M.pathLen&&(v+=", pathLen="+M.pathLen),v+="\n")}else{var O;if("policyMappings"==D)v+="    "+this.getExtPolicyMappings().array.map((function(v){var S=v;return S[0]+":"+S[1]})).join(", ")+"\n";else if("policyConstraints"==D)v+="    ",null!=(O=this.getExtPolicyConstraints()).reqexp&&(v+=" reqexp="+O.reqexp),null!=O.inhibit&&(v+=" inhibit="+O.inhibit),v+="\n";else if("inhibitAnyPolicy"==D)v+="    skip="+(O=this.getExtInhibitAnyPolicy()).skip+"\n";else if("keyUsage"==D)v+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==D)v+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==D){var F=this.getExtAuthorityKeyIdentifier();void 0!==F.kid&&(v+="    kid="+F.kid.hex+"\n")}else{if("extKeyUsage"==D)v+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n";else if("subjectAltName"==D)v+=A(this.getExtSubjectAltName())+"\n";else if("cRLDistributionPoints"==D)v+=K(this.getExtCRLDistributionPoints());else if("authorityInfoAccess"==D)v+=I(this.getExtAuthorityInfoAccess());else"certificatePolicies"==D&&(v+=H(this.getExtCertificatePolicies()))}}}}return v+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",v+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof v&&(-1!=v.indexOf("-----BEGIN")?this.readCertPEM(v):mt.lang.String.isHex(v)&&this.readCertHex(v))}RSAKey.prototype.sign=function(v,S){var _=function(v){return mt.crypto.Util.hashString(v,S)}(v);return this.signWithMessageHash(_,S)},RSAKey.prototype.signWithMessageHash=function(v,S){var _=parseBigInt(mt.crypto.Util.getPaddedDigestInfoHex(v,S,this.n.bitLength()),16);return _zeroPaddingOfSignature(this.doPrivate(_).toString(16),this.n.bitLength())},RSAKey.prototype.signPSS=function(v,S,_){var E,P=(E=rstrtohex(v),mt.crypto.Util.hashHex(E,S));return void 0===_&&(_=-1),this.signWithMessageHashPSS(P,S,_)},RSAKey.prototype.signWithMessageHashPSS=function(v,S,_){var E,P=hextorstr(v),D=P.length,R=this.n.bitLength()-1,M=Math.ceil(R/8),o=function(v){return mt.crypto.Util.hashHex(v,S)};if(-1===_||void 0===_)_=D;else if(-2===_)_=M-D-2;else if(_<-2)throw new Error("invalid salt length");if(M<D+_+2)throw new Error("data too long");var O="";_>0&&(O=new Array(_),(new SecureRandom).nextBytes(O),O=String.fromCharCode.apply(String,O));var F=hextorstr(o(rstrtohex("\0\0\0\0\0\0\0\0"+P+O))),N=[];for(E=0;E<M-_-D-2;E+=1)N[E]=0;var L=String.fromCharCode.apply(String,N)+""+O,U=pss_mgf1_str(F,L.length,o),V=[];for(E=0;E<L.length;E+=1)V[E]=L.charCodeAt(E)^U.charCodeAt(E);var G=65280>>8*M-R&255;for(V[0]&=~G,E=0;E<D;E++)V.push(F.charCodeAt(E));return V.push(188),_zeroPaddingOfSignature(this.doPrivate(new BigInteger(V)).toString(16),this.n.bitLength())},RSAKey.prototype.verify=function(v,S){if(null==(S=S.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var _=parseBigInt(S,16),E=this.n.bitLength();if(_.bitLength()>E)return!1;var P=this.doPublic(_).toString(16);if(P.length+3!=E/4)return!1;var D=_rsasign_getAlgNameAndHashFromHexDisgestInfo(P.replace(/^1f+00/,""));if(0==D.length)return!1;var R=D[0],M=D[1],O=function(v){return mt.crypto.Util.hashString(v,R)}(v);return M==O},RSAKey.prototype.verifyWithMessageHash=function(v,S){if(S.length!=Math.ceil(this.n.bitLength()/4))return!1;var _=parseBigInt(S,16);if(_.bitLength()>this.n.bitLength())return 0;var E=_rsasign_getAlgNameAndHashFromHexDisgestInfo(this.doPublic(_).toString(16).replace(/^1f+00/,""));if(0==E.length)return!1;E[0];return E[1]==v},RSAKey.prototype.verifyPSS=function(v,S,_,E){var P,D=(P=rstrtohex(v),mt.crypto.Util.hashHex(P,_));return void 0===E&&(E=-1),this.verifyWithMessageHashPSS(D,S,_,E)},RSAKey.prototype.verifyWithMessageHashPSS=function(v,S,_,E){if(S.length!=Math.ceil(this.n.bitLength()/4))return!1;var P,D=new BigInteger(S,16),r=function(v){return mt.crypto.Util.hashHex(v,_)},R=hextorstr(v),M=R.length,O=this.n.bitLength()-1,F=Math.ceil(O/8);if(-1===E||void 0===E)E=M;else if(-2===E)E=F-M-2;else if(E<-2)throw new Error("invalid salt length");if(F<M+E+2)throw new Error("data too long");var N=this.doPublic(D).toByteArray();for(P=0;P<N.length;P+=1)N[P]&=255;for(;N.length<F;)N.unshift(0);if(188!==N[F-1])throw new Error("encoded message does not end in 0xbc");var L=(N=String.fromCharCode.apply(String,N)).substr(0,F-M-1),U=N.substr(L.length,M),V=65280>>8*F-O&255;if(L.charCodeAt(0)&V)throw new Error("bits beyond keysize not zero");var G=pss_mgf1_str(U,L.length,r),W=[];for(P=0;P<L.length;P+=1)W[P]=L.charCodeAt(P)^G.charCodeAt(P);W[0]&=~V;var $=F-M-E-2;for(P=0;P<$;P+=1)if(0!==W[P])throw new Error("leftmost octets not zero");if(1!==W[$])throw new Error("0x01 marker not found");return U===hextorstr(r(rstrtohex("\0\0\0\0\0\0\0\0"+R+String.fromCharCode.apply(String,W.slice(-E)))))},RSAKey.SALT_LEN_HLEN=-1,RSAKey.SALT_LEN_MAX=-2,RSAKey.SALT_LEN_RECOVER=-2,X509.EXT_PARSER={},X509.registExtParser=function(v,S){X509.EXT_PARSER[v]=S},X509.hex2dn=function(v,S){void 0===S&&(S=0);var _=new X509;bt.getTLV(v,S);return _.getX500Name(v).str},X509.hex2rdn=function(v,S){if(void 0===S&&(S=0),"31"!==v.substr(S,2))throw new Error("malformed RDN");for(var _=new Array,E=bt.getChildIdx(v,S),P=0;P<E.length;P++)_.push(X509.hex2attrTypeValue(v,E[P]));return _=_.map((function(v){return v.replace("+","\\+")})),_.join("+")},X509.hex2attrTypeValue=function(v,S){var _=bt,E=_.getV;if(void 0===S&&(S=0),"30"!==v.substr(S,2))throw new Error("malformed attribute type and value");var P=_.getChildIdx(v,S);2!==P.length||v.substr(P[0],2);var D=E(v,P[0]),R=mt.asn1.ASN1Util.oidHexToInt(D);return mt.asn1.x509.OID.oid2atype(R)+"="+hextorstr(E(v,P[1]))},X509.getPublicKeyFromCertHex=function(v){var S=new X509;return S.readCertHex(v),S.getPublicKey()},X509.getPublicKeyFromCertPEM=function(v){var S=new X509;return S.readCertPEM(v),S.getPublicKey()},X509.getPublicKeyInfoPropOfCertPEM=function(v){var S,_,E=bt.getVbyList,P={};return P.algparam=null,(S=new X509).readCertPEM(v),_=S.getPublicKeyHex(),P.keyhex=E(_,0,[1],"03").substr(2),P.algoid=E(_,0,[0,0],"06"),"2a8648ce3d0201"===P.algoid&&(P.algparam=E(_,0,[0,1],"06")),P},X509.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];void 0!==mt&&mt||(mt={}),void 0!==mt.jws&&mt.jws||(mt.jws={}),mt.jws.JWS=function(){var v=mt.jws.JWS.isSafeJSONString;this.parseJWS=function(S,_){if(void 0===this.parsedJWS||!_&&void 0===this.parsedJWS.sigvalH){var E=S.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==E)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var P=E[1],D=E[2],R=E[3],M=P+"."+D;if(this.parsedJWS={},this.parsedJWS.headB64U=P,this.parsedJWS.payloadB64U=D,this.parsedJWS.sigvalB64U=R,this.parsedJWS.si=M,!_){var O=b64utohex(R),F=parseBigInt(O,16);this.parsedJWS.sigvalH=O,this.parsedJWS.sigvalBI=F}var N=vt(P),L=vt(D);if(this.parsedJWS.headS=N,this.parsedJWS.payloadS=L,!v(N,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+N}}},mt.jws.JWS.sign=function(v,S,_,E,P){var D,R,M,O=mt,F=O.jws.JWS,N=F.readSafeJSONString,L=F.isSafeJSONString,U=O.crypto,V=(U.ECDSA,U.Mac),G=U.Signature,W=JSON;if("string"!=typeof S&&"object"!=typeof S)throw"spHeader must be JSON string or object: "+S;if("object"==typeof S&&(R=S,D=W.stringify(R)),"string"==typeof S){if(!L(D=S))throw"JWS Head is not safe JSON string: "+D;R=N(D)}if(M=_,"object"==typeof _&&(M=W.stringify(_)),""!=v&&null!=v||void 0===R.alg||(v=R.alg),""!=v&&null!=v&&void 0===R.alg&&(R.alg=v,D=W.stringify(R)),v!==R.alg)throw"alg and sHeader.alg doesn't match: "+v+"!="+R.alg;var $=null;if(void 0===F.jwsalg2sigalg[v])throw"unsupported alg name: "+v;$=F.jwsalg2sigalg[v];var X=yt(D)+"."+yt(M),Y="";if("Hmac"==$.substr(0,4)){if(void 0===E)throw"mac key shall be specified for HS* alg";var J=new V({alg:$,prov:"cryptojs",pass:E});J.updateString(X),Y=J.doFinal()}else if(-1!=$.indexOf("withECDSA")){(Q=new G({alg:$})).init(E,P),Q.updateString(X);var Z=Q.sign();Y=mt.crypto.ECDSA.asn1SigToConcatSig(Z)}else{var Q;if("none"!=$)(Q=new G({alg:$})).init(E,P),Q.updateString(X),Y=Q.sign()}return X+"."+hextob64u(Y)},mt.jws.JWS.verify=function(v,S,_){var E,P=mt,D=P.jws.JWS,R=D.readSafeJSONString,M=P.crypto,O=M.ECDSA,F=M.Mac,N=M.Signature;if(E=RSAKey,!isBase64URLDot(v))return!1;var L=v.split(".");if(3!==L.length)return!1;var U=L[0]+"."+L[1],V=b64utohex(L[2]),G=R(vt(L[0])),W=null,$=null;if(void 0===G.alg)throw"algorithm not specified in header";if(($=(W=G.alg).substr(0,2),null!=_&&"[object Array]"===Object.prototype.toString.call(_)&&_.length>0)&&-1==(":"+_.join(":")+":").indexOf(":"+W+":"))throw"algorithm '"+W+"' not accepted in the list";if("none"!=W&&null===S)throw"key shall be specified to verify.";if("string"==typeof S&&-1!=S.indexOf("-----BEGIN ")&&(S=St.getKey(S)),!("RS"!=$&&"PS"!=$||S instanceof E))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==$&&!(S instanceof O))throw"key shall be a ECDSA obj for ES* algs";var X=null;if(void 0===D.jwsalg2sigalg[G.alg])throw"unsupported alg name: "+W;if("none"==(X=D.jwsalg2sigalg[W]))throw"not supported";if("Hmac"==X.substr(0,4)){if(void 0===S)throw"hexadecimal key shall be specified for HMAC";var Y=new F({alg:X,pass:S});return Y.updateString(U),V==Y.doFinal()}if(-1!=X.indexOf("withECDSA")){var J,Z=null;try{Z=O.concatSigToASN1Sig(V)}catch(v){return!1}return(J=new N({alg:X})).init(S),J.updateString(U),J.verify(Z)}return(J=new N({alg:X})).init(S),J.updateString(U),J.verify(V)},mt.jws.JWS.parse=function(v){var S,_,E,P=v.split("."),D={};if(2!=P.length&&3!=P.length)throw"malformed sJWS: wrong number of '.' splitted elements";return S=P[0],_=P[1],3==P.length&&(E=P[2]),D.headerObj=mt.jws.JWS.readSafeJSONString(vt(S)),D.payloadObj=mt.jws.JWS.readSafeJSONString(vt(_)),D.headerPP=JSON.stringify(D.headerObj,null,"  "),null==D.payloadObj?D.payloadPP=vt(_):D.payloadPP=JSON.stringify(D.payloadObj,null,"  "),void 0!==E&&(D.sigHex=b64utohex(E)),D},mt.jws.JWS.verifyJWT=function(v,S,_){var E=mt.jws,P=E.JWS,D=P.readSafeJSONString,R=P.inArray,M=P.includedArray;if(!isBase64URLDot(v))return!1;var O=v.split(".");if(3!=O.length)return!1;var F=O[0],N=O[1],L=(b64utohex(O[2]),D(vt(F))),U=D(vt(N));if(void 0===L.alg)return!1;if(void 0===_.alg)throw"acceptField.alg shall be specified";if(!R(L.alg,_.alg))return!1;if(void 0!==U.iss&&"object"==typeof _.iss&&!R(U.iss,_.iss))return!1;if(void 0!==U.sub&&"object"==typeof _.sub&&!R(U.sub,_.sub))return!1;if(void 0!==U.aud&&"object"==typeof _.aud)if("string"==typeof U.aud){if(!R(U.aud,_.aud))return!1}else if("object"==typeof U.aud&&!M(U.aud,_.aud))return!1;var V=E.IntDate.getNow();return void 0!==_.verifyAt&&"number"==typeof _.verifyAt&&(V=_.verifyAt),void 0!==_.gracePeriod&&"number"==typeof _.gracePeriod||(_.gracePeriod=0),!(void 0!==U.exp&&"number"==typeof U.exp&&U.exp+_.gracePeriod<V)&&(!(void 0!==U.nbf&&"number"==typeof U.nbf&&V<U.nbf-_.gracePeriod)&&(!(void 0!==U.iat&&"number"==typeof U.iat&&V<U.iat-_.gracePeriod)&&((void 0===U.jti||void 0===_.jti||U.jti===_.jti)&&!!P.verify(v,S,_.alg))))},mt.jws.JWS.includedArray=function(v,S){var _=mt.jws.JWS.inArray;if(null===v)return!1;if("object"!=typeof v)return!1;if("number"!=typeof v.length)return!1;for(var E=0;E<v.length;E++)if(!_(v[E],S))return!1;return!0},mt.jws.JWS.inArray=function(v,S){if(null===S)return!1;if("object"!=typeof S)return!1;if("number"!=typeof S.length)return!1;for(var _=0;_<S.length;_++)if(S[_]==v)return!0;return!1},mt.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},mt.jws.JWS.isSafeJSONString=function(v,S,_){var E=null;try{return"object"!=typeof(E=pt(v))||E.constructor===Array?0:(S&&(S[_]=E),1)}catch(v){return 0}},mt.jws.JWS.readSafeJSONString=function(v){var S=null;try{return"object"!=typeof(S=pt(v))||S.constructor===Array?null:S}catch(v){return null}},mt.jws.JWS.getEncodedSignatureValueFromJWS=function(v){var S=v.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==S)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return S[1]},mt.jws.JWS.getJWKthumbprint=function(v){if("RSA"!==v.kty&&"EC"!==v.kty&&"oct"!==v.kty)throw"unsupported algorithm for JWK Thumprint";var S="{";if("RSA"===v.kty){if("string"!=typeof v.n||"string"!=typeof v.e)throw"wrong n and e value for RSA key";S+='"e":"'+v.e+'",',S+='"kty":"'+v.kty+'",',S+='"n":"'+v.n+'"}'}else if("EC"===v.kty){if("string"!=typeof v.crv||"string"!=typeof v.x||"string"!=typeof v.y)throw"wrong crv, x and y value for EC key";S+='"crv":"'+v.crv+'",',S+='"kty":"'+v.kty+'",',S+='"x":"'+v.x+'",',S+='"y":"'+v.y+'"}'}else if("oct"===v.kty){if("string"!=typeof v.k)throw"wrong k value for oct(symmetric) key";S+='"kty":"'+v.kty+'",',S+='"k":"'+v.k+'"}'}var _=rstrtohex(S);return hextob64u(mt.crypto.Util.hashHex(_,"sha256"))},mt.jws.IntDate={},mt.jws.IntDate.get=function(v){var S=mt.jws.IntDate,_=S.getNow,E=S.getZulu;if("now"==v)return _();if("now + 1hour"==v)return _()+3600;if("now + 1day"==v)return _()+86400;if("now + 1month"==v)return _()+2592e3;if("now + 1year"==v)return _()+31536e3;if(v.match(/Z$/))return E(v);if(v.match(/^[0-9]+$/))return parseInt(v);throw"unsupported format: "+v},mt.jws.IntDate.getZulu=function(v){return zulutosec(v)},mt.jws.IntDate.getNow=function(){return~~(new Date/1e3)},mt.jws.IntDate.intDate2UTCString=function(v){return new Date(1e3*v).toUTCString()},mt.jws.IntDate.intDate2Zulu=function(v){var S=new Date(1e3*v);return("0000"+S.getUTCFullYear()).slice(-4)+("00"+(S.getUTCMonth()+1)).slice(-2)+("00"+S.getUTCDate()).slice(-2)+("00"+S.getUTCHours()).slice(-2)+("00"+S.getUTCMinutes()).slice(-2)+("00"+S.getUTCSeconds()).slice(-2)+"Z"},void 0!==mt&&mt||(mt={}),void 0!==mt.jws&&mt.jws||(mt.jws={}),mt.jws.JWSJS=function(){var v=mt.jws.JWS,S=v.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(v){this.init();var S=v.split(".");if(3!=S.length)throw"malformed input JWS";this.aHeader.push(S[0]),this.sPayload=S[1],this.aSignature.push(S[2])},this.addSignature=function(v,S,_,E){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var P=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var D=mt.jws.JWS.sign(v,S,this.sPayload,_,E).split(".");D[0],D[2];this.aHeader.push(D[0]),this.aSignature.push(D[2])}catch(v){throw this.aHeader.length>P&&this.aHeader.pop(),this.aSignature.length>P&&this.aSignature.pop(),"addSignature failed: "+v}},this.verifyAll=function(v){if(this.aHeader.length!==v.length||this.aSignature.length!==v.length)return!1;for(var S=0;S<v.length;S++){var _=v[S];if(2!==_.length)return!1;if(!1===this.verifyNth(S,_[0],_[1]))return!1}return!0},this.verifyNth=function(S,_,E){if(this.aHeader.length<=S||this.aSignature.length<=S)return!1;var P=this.aHeader[S],D=this.aSignature[S],R=P+"."+this.sPayload+"."+D,M=!1;try{M=v.verify(R,_,E)}catch(v){return!1}return M},this.readJWSJS=function(v){if("string"==typeof v){var _=S(v);if(null==_)throw"argument is not safe JSON object string";this.aHeader=_.headers,this.sPayload=_.payload,this.aSignature=_.signatures}else try{if(!(v.headers.length>0))throw"malformed header";if(this.aHeader=v.headers,"string"!=typeof v.payload)throw"malformed signatures";if(this.sPayload=v.payload,!(v.signatures.length>0))throw"malformed signatures";this.aSignature=v.signatures}catch(v){throw"malformed JWS-JS JSON object: "+v}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},mt.crypto.ECDSA,mt.crypto.DSA,mt.crypto.Signature,mt.crypto.MessageDigest,mt.crypto.Mac,mt.crypto.Cipher,mt.crypto,mt.asn1,mt.jws,mt.lang},663793:(v,S,_)=>{v.exports=_(139875)(_(626196))},139875:(v,S,_)=>{const E=_(483377),P=_(197953);v.exports=function(v){const S=E(v),_=P(v);return function(v,E){switch("string"==typeof v?v.toLowerCase():v){case"keccak224":return new S(1152,448,null,224,E);case"keccak256":return new S(1088,512,null,256,E);case"keccak384":return new S(832,768,null,384,E);case"keccak512":return new S(576,1024,null,512,E);case"sha3-224":return new S(1152,448,6,224,E);case"sha3-256":return new S(1088,512,6,256,E);case"sha3-384":return new S(832,768,6,384,E);case"sha3-512":return new S(576,1024,6,512,E);case"shake128":return new _(1344,256,31,E);case"shake256":return new _(1088,512,31,E);default:throw new Error("Invald algorithm: "+v)}}}},483377:(v,S,_)=>{var E=_(901048).Buffer;const{Transform:P}=_(734156);v.exports=v=>class Keccak extends P{constructor(S,_,E,P,D){super(D),this._rate=S,this._capacity=_,this._delimitedSuffix=E,this._hashBitLength=P,this._options=D,this._state=new v,this._state.initialize(S,_),this._finalized=!1}_transform(v,S,_){let E=null;try{this.update(v,S)}catch(v){E=v}_(E)}_flush(v){let S=null;try{this.push(this.digest())}catch(v){S=v}v(S)}update(v,S){if(!E.isBuffer(v)&&"string"!=typeof v)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return E.isBuffer(v)||(v=E.from(v,S)),this._state.absorb(v),this}digest(v){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let S=this._state.squeeze(this._hashBitLength/8);return void 0!==v&&(S=S.toString(v)),this._resetState(),S}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const v=new Keccak(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(v._state),v._finalized=this._finalized,v}}},197953:(v,S,_)=>{var E=_(901048).Buffer;const{Transform:P}=_(734156);v.exports=v=>class Shake extends P{constructor(S,_,E,P){super(P),this._rate=S,this._capacity=_,this._delimitedSuffix=E,this._options=P,this._state=new v,this._state.initialize(S,_),this._finalized=!1}_transform(v,S,_){let E=null;try{this.update(v,S)}catch(v){E=v}_(E)}_flush(){}_read(v){this.push(this.squeeze(v))}update(v,S){if(!E.isBuffer(v)&&"string"!=typeof v)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return E.isBuffer(v)||(v=E.from(v,S)),this._state.absorb(v),this}squeeze(v,S){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let _=this._state.squeeze(v);return void 0!==S&&(_=_.toString(S)),_}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const v=new Shake(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(v._state),v._finalized=this._finalized,v}}},94645:(v,S)=>{const _=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];S.p1600=function(v){for(let S=0;S<24;++S){const E=v[0]^v[10]^v[20]^v[30]^v[40],P=v[1]^v[11]^v[21]^v[31]^v[41],D=v[2]^v[12]^v[22]^v[32]^v[42],R=v[3]^v[13]^v[23]^v[33]^v[43],M=v[4]^v[14]^v[24]^v[34]^v[44],O=v[5]^v[15]^v[25]^v[35]^v[45],F=v[6]^v[16]^v[26]^v[36]^v[46],N=v[7]^v[17]^v[27]^v[37]^v[47],L=v[8]^v[18]^v[28]^v[38]^v[48],U=v[9]^v[19]^v[29]^v[39]^v[49];let V=L^(D<<1|R>>>31),G=U^(R<<1|D>>>31);const W=v[0]^V,$=v[1]^G,X=v[10]^V,Y=v[11]^G,J=v[20]^V,Z=v[21]^G,Q=v[30]^V,tt=v[31]^G,et=v[40]^V,rt=v[41]^G;V=E^(M<<1|O>>>31),G=P^(O<<1|M>>>31);const nt=v[2]^V,it=v[3]^G,st=v[12]^V,ot=v[13]^G,at=v[22]^V,ct=v[23]^G,ut=v[32]^V,ht=v[33]^G,dt=v[42]^V,ft=v[43]^G;V=D^(F<<1|N>>>31),G=R^(N<<1|F>>>31);const pt=v[4]^V,mt=v[5]^G,yt=v[14]^V,vt=v[15]^G,bt=v[24]^V,St=v[25]^G,wt=v[34]^V,Tt=v[35]^G,xt=v[44]^V,_t=v[45]^G;V=M^(L<<1|U>>>31),G=O^(U<<1|L>>>31);const Et=v[6]^V,Ct=v[7]^G,At=v[16]^V,It=v[17]^G,Pt=v[26]^V,Dt=v[27]^G,Bt=v[36]^V,Rt=v[37]^G,Mt=v[46]^V,Ot=v[47]^G;V=F^(E<<1|P>>>31),G=N^(P<<1|E>>>31);const kt=v[8]^V,Ft=v[9]^G,Nt=v[18]^V,Ht=v[19]^G,Lt=v[28]^V,jt=v[29]^G,Kt=v[38]^V,Ut=v[39]^G,Vt=v[48]^V,qt=v[49]^G,Gt=W,zt=$,Wt=Y<<4|X>>>28,$t=X<<4|Y>>>28,Xt=J<<3|Z>>>29,Yt=Z<<3|J>>>29,Jt=tt<<9|Q>>>23,Zt=Q<<9|tt>>>23,Qt=et<<18|rt>>>14,te=rt<<18|et>>>14,ee=nt<<1|it>>>31,re=it<<1|nt>>>31,ne=ot<<12|st>>>20,ie=st<<12|ot>>>20,se=at<<10|ct>>>22,oe=ct<<10|at>>>22,ae=ht<<13|ut>>>19,ce=ut<<13|ht>>>19,ue=dt<<2|ft>>>30,he=ft<<2|dt>>>30,le=mt<<30|pt>>>2,de=pt<<30|mt>>>2,pe=yt<<6|vt>>>26,me=vt<<6|yt>>>26,ye=St<<11|bt>>>21,ve=bt<<11|St>>>21,be=wt<<15|Tt>>>17,Se=Tt<<15|wt>>>17,we=_t<<29|xt>>>3,Te=xt<<29|_t>>>3,xe=Et<<28|Ct>>>4,_e=Ct<<28|Et>>>4,Ee=It<<23|At>>>9,Ce=At<<23|It>>>9,Ae=Pt<<25|Dt>>>7,Ie=Dt<<25|Pt>>>7,Pe=Bt<<21|Rt>>>11,De=Rt<<21|Bt>>>11,Be=Ot<<24|Mt>>>8,Re=Mt<<24|Ot>>>8,Me=kt<<27|Ft>>>5,Oe=Ft<<27|kt>>>5,ke=Nt<<20|Ht>>>12,Fe=Ht<<20|Nt>>>12,Ne=jt<<7|Lt>>>25,He=Lt<<7|jt>>>25,Le=Kt<<8|Ut>>>24,je=Ut<<8|Kt>>>24,Ke=Vt<<14|qt>>>18,Ue=qt<<14|Vt>>>18;v[0]=Gt^~ne&ye,v[1]=zt^~ie&ve,v[10]=xe^~ke&Xt,v[11]=_e^~Fe&Yt,v[20]=ee^~pe&Ae,v[21]=re^~me&Ie,v[30]=Me^~Wt&se,v[31]=Oe^~$t&oe,v[40]=le^~Ee&Ne,v[41]=de^~Ce&He,v[2]=ne^~ye&Pe,v[3]=ie^~ve&De,v[12]=ke^~Xt&ae,v[13]=Fe^~Yt&ce,v[22]=pe^~Ae&Le,v[23]=me^~Ie&je,v[32]=Wt^~se&be,v[33]=$t^~oe&Se,v[42]=Ee^~Ne&Jt,v[43]=Ce^~He&Zt,v[4]=ye^~Pe&Ke,v[5]=ve^~De&Ue,v[14]=Xt^~ae&we,v[15]=Yt^~ce&Te,v[24]=Ae^~Le&Qt,v[25]=Ie^~je&te,v[34]=se^~be&Be,v[35]=oe^~Se&Re,v[44]=Ne^~Jt&ue,v[45]=He^~Zt&he,v[6]=Pe^~Ke&Gt,v[7]=De^~Ue&zt,v[16]=ae^~we&xe,v[17]=ce^~Te&_e,v[26]=Le^~Qt&ee,v[27]=je^~te&re,v[36]=be^~Be&Me,v[37]=Se^~Re&Oe,v[46]=Jt^~ue&le,v[47]=Zt^~he&de,v[8]=Ke^~Gt&ne,v[9]=Ue^~zt&ie,v[18]=we^~xe&ke,v[19]=Te^~_e&Fe,v[28]=Qt^~ee&pe,v[29]=te^~re&me,v[38]=Be^~Me&Wt,v[39]=Re^~Oe&$t,v[48]=ue^~le&Ee,v[49]=he^~de&Ce,v[0]^=_[2*S],v[1]^=_[2*S+1]}}},626196:(v,S,_)=>{var E=_(901048).Buffer;const P=_(94645);function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Keccak.prototype.initialize=function(v,S){for(let v=0;v<50;++v)this.state[v]=0;this.blockSize=v/8,this.count=0,this.squeezing=!1},Keccak.prototype.absorb=function(v){for(let S=0;S<v.length;++S)this.state[~~(this.count/4)]^=v[S]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(P.p1600(this.state),this.count=0)},Keccak.prototype.absorbLastFewBits=function(v){this.state[~~(this.count/4)]^=v<<this.count%4*8,128&v&&this.count===this.blockSize-1&&P.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,P.p1600(this.state),this.count=0,this.squeezing=!0},Keccak.prototype.squeeze=function(v){this.squeezing||this.absorbLastFewBits(1);const S=E.alloc(v);for(let _=0;_<v;++_)S[_]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(P.p1600(this.state),this.count=0);return S},Keccak.prototype.copy=function(v){for(let S=0;S<50;++S)v.state[S]=this.state[S];v.blockSize=this.blockSize,v.count=this.count,v.squeezing=this.squeezing},v.exports=Keccak},191982:(v,S,_)=>{"use strict";function assign(v){return Array.prototype.slice.call(arguments,1).forEach((function(S){S&&Object.keys(S).forEach((function(_){v[_]=S[_]}))})),v}function _class(v){return Object.prototype.toString.call(v)}function isFunction(v){return"[object Function]"===_class(v)}function escapeRE(v){return v.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var E={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var P={"http:":{validate:function(v,S,_){var E=v.slice(S);return _.re.http||(_.re.http=new RegExp("^\\/\\/"+_.re.src_auth+_.re.src_host_port_strict+_.re.src_path,"i")),_.re.http.test(E)?E.match(_.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(v,S,_){var E=v.slice(S);return _.re.no_http||(_.re.no_http=new RegExp("^"+_.re.src_auth+"(?:localhost|(?:(?:"+_.re.src_domain+")\\.)+"+_.re.src_domain_root+")"+_.re.src_port+_.re.src_host_terminator+_.re.src_path,"i")),_.re.no_http.test(E)?S>=3&&":"===v[S-3]||S>=3&&"/"===v[S-3]?0:E.match(_.re.no_http)[0].length:0}},"mailto:":{validate:function(v,S,_){var E=v.slice(S);return _.re.mailto||(_.re.mailto=new RegExp("^"+_.re.src_email_name+"@"+_.re.src_host_strict,"i")),_.re.mailto.test(E)?E.match(_.re.mailto)[0].length:0}}},D="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",R="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function compile(v){var S=v.re=_(18253)(v.__opts__),E=v.__tlds__.slice();function untpl(v){return v.replace("%TLDS%",S.src_tlds)}v.onCompile(),v.__tlds_replaced__||E.push(D),E.push(S.src_xn),S.src_tlds=E.join("|"),S.email_fuzzy=RegExp(untpl(S.tpl_email_fuzzy),"i"),S.link_fuzzy=RegExp(untpl(S.tpl_link_fuzzy),"i"),S.link_no_ip_fuzzy=RegExp(untpl(S.tpl_link_no_ip_fuzzy),"i"),S.host_fuzzy_test=RegExp(untpl(S.tpl_host_fuzzy_test),"i");var P=[];function schemaError(v,S){throw new Error('(LinkifyIt) Invalid schema "'+v+'": '+S)}v.__compiled__={},Object.keys(v.__schemas__).forEach((function(S){var _=v.__schemas__[S];if(null!==_){var E={validate:null,link:null};if(v.__compiled__[S]=E,function isObject(v){return"[object Object]"===_class(v)}(_))return!function isRegExp(v){return"[object RegExp]"===_class(v)}(_.validate)?isFunction(_.validate)?E.validate=_.validate:schemaError(S,_):E.validate=function createValidator(v){return function(S,_){var E=S.slice(_);return v.test(E)?E.match(v)[0].length:0}}(_.validate),void(isFunction(_.normalize)?E.normalize=_.normalize:_.normalize?schemaError(S,_):E.normalize=function(v,S){S.normalize(v)});!function isString(v){return"[object String]"===_class(v)}(_)?schemaError(S,_):P.push(S)}})),P.forEach((function(S){v.__compiled__[v.__schemas__[S]]&&(v.__compiled__[S].validate=v.__compiled__[v.__schemas__[S]].validate,v.__compiled__[S].normalize=v.__compiled__[v.__schemas__[S]].normalize)})),v.__compiled__[""]={validate:null,normalize:function(v,S){S.normalize(v)}};var R=Object.keys(v.__compiled__).filter((function(S){return S.length>0&&v.__compiled__[S]})).map(escapeRE).join("|");v.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+S.src_ZPCc+"))("+R+")","i"),v.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+S.src_ZPCc+"))("+R+")","ig"),v.re.pretest=RegExp("("+v.re.schema_test.source+")|("+v.re.host_fuzzy_test.source+")|@","i"),function resetScanCache(v){v.__index__=-1,v.__text_cache__=""}(v)}function Match(v,S){var _=v.__index__,E=v.__last_index__,P=v.__text_cache__.slice(_,E);this.schema=v.__schema__.toLowerCase(),this.index=_+S,this.lastIndex=E+S,this.raw=P,this.text=P,this.url=P}function createMatch(v,S){var _=new Match(v,S);return v.__compiled__[_.schema].normalize(_,v),_}function LinkifyIt(v,S){if(!(this instanceof LinkifyIt))return new LinkifyIt(v,S);S||function isOptionsObj(v){return Object.keys(v||{}).reduce((function(v,S){return v||E.hasOwnProperty(S)}),!1)}(v)&&(S=v,v={}),this.__opts__=assign({},E,S),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},P,v),this.__compiled__={},this.__tlds__=R,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function add(v,S){return this.__schemas__[v]=S,compile(this),this},LinkifyIt.prototype.set=function set(v){return this.__opts__=assign(this.__opts__,v),this},LinkifyIt.prototype.test=function test(v){if(this.__text_cache__=v,this.__index__=-1,!v.length)return!1;var S,_,E,P,D,R,M,O;if(this.re.schema_test.test(v))for((M=this.re.schema_search).lastIndex=0;null!==(S=M.exec(v));)if(P=this.testSchemaAt(v,S[2],M.lastIndex)){this.__schema__=S[2],this.__index__=S.index+S[1].length,this.__last_index__=S.index+S[0].length+P;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(O=v.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||O<this.__index__)&&null!==(_=v.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(D=_.index+_[1].length,(this.__index__<0||D<this.__index__)&&(this.__schema__="",this.__index__=D,this.__last_index__=_.index+_[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&v.indexOf("@")>=0&&null!==(E=v.match(this.re.email_fuzzy))&&(D=E.index+E[1].length,R=E.index+E[0].length,(this.__index__<0||D<this.__index__||D===this.__index__&&R>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=D,this.__last_index__=R)),this.__index__>=0},LinkifyIt.prototype.pretest=function pretest(v){return this.re.pretest.test(v)},LinkifyIt.prototype.testSchemaAt=function testSchemaAt(v,S,_){return this.__compiled__[S.toLowerCase()]?this.__compiled__[S.toLowerCase()].validate(v,_,this):0},LinkifyIt.prototype.match=function match(v){var S=0,_=[];this.__index__>=0&&this.__text_cache__===v&&(_.push(createMatch(this,S)),S=this.__last_index__);for(var E=S?v.slice(S):v;this.test(E);)_.push(createMatch(this,S)),E=E.slice(this.__last_index__),S+=this.__last_index__;return _.length?_:null},LinkifyIt.prototype.tlds=function tlds(v,S){return v=Array.isArray(v)?v:[v],S?(this.__tlds__=this.__tlds__.concat(v).sort().filter((function(v,S,_){return v!==_[S-1]})).reverse(),compile(this),this):(this.__tlds__=v.slice(),this.__tlds_replaced__=!0,compile(this),this)},LinkifyIt.prototype.normalize=function normalize(v){v.schema||(v.url="http://"+v.url),"mailto:"!==v.schema||/^mailto:/i.test(v.url)||(v.url="mailto:"+v.url)},LinkifyIt.prototype.onCompile=function onCompile(){},v.exports=LinkifyIt},18253:(v,S,_)=>{"use strict";v.exports=function(v){var S={};S.src_Any=_(822018).source,S.src_Cc=_(781111).source,S.src_Z=_(272151).source,S.src_P=_(52173).source,S.src_ZPCc=[S.src_Z,S.src_P,S.src_Cc].join("|"),S.src_ZCc=[S.src_Z,S.src_Cc].join("|");var E="[><]";return S.src_pseudo_letter="(?:(?![><]|"+S.src_ZPCc+")"+S.src_Any+")",S.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",S.src_auth="(?:(?:(?!"+S.src_ZCc+"|[@/\\[\\]()]).)+@)?",S.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",S.src_host_terminator="(?=$|[><]|"+S.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+S.src_ZPCc+"))",S.src_path="(?:[/?#](?:(?!"+S.src_ZCc+"|"+E+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+S.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+S.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+S.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+S.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+S.src_ZCc+"|[']).)+\\'|\\'(?="+S.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+S.src_ZCc+"|[.]).|"+(v&&v["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+S.src_ZCc+").|\\!(?!"+S.src_ZCc+"|[!]).|\\?(?!"+S.src_ZCc+"|[?]).)+|\\/)?",S.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',S.src_xn="xn--[a-z0-9\\-]{1,59}",S.src_domain_root="(?:"+S.src_xn+"|"+S.src_pseudo_letter+"{1,63})",S.src_domain="(?:"+S.src_xn+"|(?:"+S.src_pseudo_letter+")|(?:"+S.src_pseudo_letter+"(?:-|"+S.src_pseudo_letter+"){0,61}"+S.src_pseudo_letter+"))",S.src_host="(?:(?:(?:(?:"+S.src_domain+")\\.)*"+S.src_domain+"))",S.tpl_host_fuzzy="(?:"+S.src_ip4+"|(?:(?:(?:"+S.src_domain+")\\.)+(?:%TLDS%)))",S.tpl_host_no_ip_fuzzy="(?:(?:(?:"+S.src_domain+")\\.)+(?:%TLDS%))",S.src_host_strict=S.src_host+S.src_host_terminator,S.tpl_host_fuzzy_strict=S.tpl_host_fuzzy+S.src_host_terminator,S.src_host_port_strict=S.src_host+S.src_port+S.src_host_terminator,S.tpl_host_port_fuzzy_strict=S.tpl_host_fuzzy+S.src_port+S.src_host_terminator,S.tpl_host_port_no_ip_fuzzy_strict=S.tpl_host_no_ip_fuzzy+S.src_port+S.src_host_terminator,S.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+S.src_ZPCc+"|>|$))",S.tpl_email_fuzzy='(^|[><]|"|\\(|'+S.src_ZCc+")("+S.src_email_name+"@"+S.tpl_host_fuzzy_strict+")",S.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+S.src_ZPCc+"))((?![$+<=>^`|])"+S.tpl_host_port_fuzzy_strict+S.src_path+")",S.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+S.src_ZPCc+"))((?![$+<=>^`|])"+S.tpl_host_port_no_ip_fuzzy_strict+S.src_path+")",S}},643917:(v,S,_)=>{v.exports=function e(v,S,_){function s(P,D){if(!S[P]){if(!v[P]){if(E)return E(P,!0);var R=new Error("Cannot find module '"+P+"'");throw R.code="MODULE_NOT_FOUND",R}var M=S[P]={exports:{}};v[P][0].call(M.exports,(function(S){var _=v[P][1][S];return s(_||S)}),M,M.exports,e,v,S,_)}return S[P].exports}for(var E=void 0,P=0;P<_.length;P++)s(_[P]);return s}({1:[function(v,S,E){(function(v){"use strict";var _,E,P=v.MutationObserver||v.WebKitMutationObserver;if(P){var D=0,R=new P(nextTick),M=v.document.createTextNode("");R.observe(M,{characterData:!0}),_=function(){M.data=D=++D%2}}else if(v.setImmediate||void 0===v.MessageChannel)_="document"in v&&"onreadystatechange"in v.document.createElement("script")?function(){var S=v.document.createElement("script");S.onreadystatechange=function(){nextTick(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},v.document.documentElement.appendChild(S)}:function(){setTimeout(nextTick,0)};else{var O=new v.MessageChannel;O.port1.onmessage=nextTick,_=function(){O.port2.postMessage(0)}}var F=[];function nextTick(){var v,S;E=!0;for(var _=F.length;_;){for(S=F,F=[],v=-1;++v<_;)S[v]();_=F.length}E=!1}function immediate(v){1!==F.push(v)||E||_()}S.exports=immediate}).call(this,void 0!==_.g?_.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(v,S,_){"use strict";var E=v(1);function INTERNAL(){}var P={},D=["REJECTED"],R=["FULFILLED"],M=["PENDING"];function Promise(v){if("function"!=typeof v)throw new TypeError("resolver must be a function");this.state=M,this.queue=[],this.outcome=void 0,v!==INTERNAL&&safelyResolveThenable(this,v)}function QueueItem(v,S,_){this.promise=v,"function"==typeof S&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),"function"==typeof _&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function unwrap(v,S,_){E((function(){var E;try{E=S(_)}catch(S){return P.reject(v,S)}E===v?P.reject(v,new TypeError("Cannot resolve promise with itself")):P.resolve(v,E)}))}function getThen(v){var S=v&&v.then;if(v&&("object"==typeof v||"function"==typeof v)&&"function"==typeof S)return function appyThen(){S.apply(v,arguments)}}function safelyResolveThenable(v,S){var _=!1;function onError(S){_||(_=!0,P.reject(v,S))}function onSuccess(S){_||(_=!0,P.resolve(v,S))}function tryToUnwrap(){S(onSuccess,onError)}var E=tryCatch(tryToUnwrap);"error"===E.status&&onError(E.value)}function tryCatch(v,S){var _={};try{_.value=v(S),_.status="success"}catch(v){_.status="error",_.value=v}return _}function resolve(v){return v instanceof this?v:P.resolve(new this(INTERNAL),v)}function reject(v){var S=new this(INTERNAL);return P.reject(S,v)}function all(v){var S=this;if("[object Array]"!==Object.prototype.toString.call(v))return this.reject(new TypeError("must be an array"));var _=v.length,E=!1;if(!_)return this.resolve([]);for(var D=new Array(_),R=0,M=-1,O=new this(INTERNAL);++M<_;)allResolver(v[M],M);return O;function allResolver(v,M){function resolveFromAll(v){D[M]=v,++R!==_||E||(E=!0,P.resolve(O,D))}S.resolve(v).then(resolveFromAll,(function(v){E||(E=!0,P.reject(O,v))}))}}function race(v){var S=this;if("[object Array]"!==Object.prototype.toString.call(v))return this.reject(new TypeError("must be an array"));var _=v.length,E=!1;if(!_)return this.resolve([]);for(var D=-1,R=new this(INTERNAL);++D<_;)resolver(v[D]);return R;function resolver(v){S.resolve(v).then((function(v){E||(E=!0,P.resolve(R,v))}),(function(v){E||(E=!0,P.reject(R,v))}))}}S.exports=Promise,Promise.prototype.catch=function(v){return this.then(null,v)},Promise.prototype.then=function(v,S){if("function"!=typeof v&&this.state===R||"function"!=typeof S&&this.state===D)return this;var _=new this.constructor(INTERNAL);return this.state!==M?unwrap(_,this.state===R?v:S,this.outcome):this.queue.push(new QueueItem(_,v,S)),_},QueueItem.prototype.callFulfilled=function(v){P.resolve(this.promise,v)},QueueItem.prototype.otherCallFulfilled=function(v){unwrap(this.promise,this.onFulfilled,v)},QueueItem.prototype.callRejected=function(v){P.reject(this.promise,v)},QueueItem.prototype.otherCallRejected=function(v){unwrap(this.promise,this.onRejected,v)},P.resolve=function(v,S){var _=tryCatch(getThen,S);if("error"===_.status)return P.reject(v,_.value);var E=_.value;if(E)safelyResolveThenable(v,E);else{v.state=R,v.outcome=S;for(var D=-1,M=v.queue.length;++D<M;)v.queue[D].callFulfilled(S)}return v},P.reject=function(v,S){v.state=D,v.outcome=S;for(var _=-1,E=v.queue.length;++_<E;)v.queue[_].callRejected(S);return v},Promise.resolve=resolve,Promise.reject=reject,Promise.all=all,Promise.race=race},{1:1}],3:[function(v,S,E){(function(S){"use strict";"function"!=typeof S.Promise&&(S.Promise=v(2))}).call(this,void 0!==_.g?_.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(v,S,_){"use strict";var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};function _classCallCheck(v,S){if(!(v instanceof S))throw new TypeError("Cannot call a class as a function")}function getIDB(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(v){return}}var P=getIDB();function isIndexedDBValid(){try{if(!P||!P.open)return!1;var v="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),S="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!v||S)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(v){return!1}}function createBlob(v,S){v=v||[],S=S||{};try{return new Blob(v,S)}catch(P){if("TypeError"!==P.name)throw P;for(var _=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),E=0;E<v.length;E+=1)_.append(v[E]);return _.getBlob(S.type)}}"undefined"==typeof Promise&&v(3);var D=Promise;function executeCallback(v,S){S&&v.then((function(v){S(null,v)}),(function(v){S(v)}))}function executeTwoCallbacks(v,S,_){"function"==typeof S&&v.then(S),"function"==typeof _&&v.catch(_)}function normalizeKey(v){return"string"!=typeof v&&(console.warn(v+" used as a key, but it is not a string."),v=String(v)),v}function getCallback(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var R="local-forage-detect-blob-support",M=void 0,O={},F=Object.prototype.toString,N="readonly",L="readwrite";function _binStringToArrayBuffer(v){for(var S=v.length,_=new ArrayBuffer(S),E=new Uint8Array(_),P=0;P<S;P++)E[P]=v.charCodeAt(P);return _}function _checkBlobSupportWithoutCaching(v){return new D((function(S){var _=v.transaction(R,L),E=createBlob([""]);_.objectStore(R).put(E,"key"),_.onabort=function(v){v.preventDefault(),v.stopPropagation(),S(!1)},_.oncomplete=function(){var v=navigator.userAgent.match(/Chrome\/(\d+)/),_=navigator.userAgent.match(/Edge\//);S(_||!v||parseInt(v[1],10)>=43)}})).catch((function(){return!1}))}function _checkBlobSupport(v){return"boolean"==typeof M?D.resolve(M):_checkBlobSupportWithoutCaching(v).then((function(v){return M=v}))}function _deferReadiness(v){var S=O[v.name],_={};_.promise=new D((function(v,S){_.resolve=v,_.reject=S})),S.deferredOperations.push(_),S.dbReady?S.dbReady=S.dbReady.then((function(){return _.promise})):S.dbReady=_.promise}function _advanceReadiness(v){var S=O[v.name].deferredOperations.pop();if(S)return S.resolve(),S.promise}function _rejectReadiness(v,S){var _=O[v.name].deferredOperations.pop();if(_)return _.reject(S),_.promise}function _getConnection(v,S){return new D((function(_,E){if(O[v.name]=O[v.name]||createDbContext(),v.db){if(!S)return _(v.db);_deferReadiness(v),v.db.close()}var D=[v.name];S&&D.push(v.version);var M=P.open.apply(P,D);S&&(M.onupgradeneeded=function(S){var _=M.result;try{_.createObjectStore(v.storeName),S.oldVersion<=1&&_.createObjectStore(R)}catch(_){if("ConstraintError"!==_.name)throw _;console.warn('The database "'+v.name+'" has been upgraded from version '+S.oldVersion+" to version "+S.newVersion+', but the storage "'+v.storeName+'" already exists.')}}),M.onerror=function(v){v.preventDefault(),E(M.error)},M.onsuccess=function(){var S=M.result;S.onversionchange=function(v){v.target.close()},_(S),_advanceReadiness(v)}}))}function _getOriginalConnection(v){return _getConnection(v,!1)}function _getUpgradedConnection(v){return _getConnection(v,!0)}function _isUpgradeNeeded(v,S){if(!v.db)return!0;var _=!v.db.objectStoreNames.contains(v.storeName),E=v.version<v.db.version,P=v.version>v.db.version;if(E&&(v.version!==S&&console.warn('The database "'+v.name+"\" can't be downgraded from version "+v.db.version+" to version "+v.version+"."),v.version=v.db.version),P||_){if(_){var D=v.db.version+1;D>v.version&&(v.version=D)}return!0}return!1}function _encodeBlob(v){return new D((function(S,_){var E=new FileReader;E.onerror=_,E.onloadend=function(_){var E=btoa(_.target.result||"");S({__local_forage_encoded_blob:!0,data:E,type:v.type})},E.readAsBinaryString(v)}))}function _decodeBlob(v){return createBlob([_binStringToArrayBuffer(atob(v.data))],{type:v.type})}function _isEncodedBlob(v){return v&&v.__local_forage_encoded_blob}function _fullyReady(v){var S=this,_=S._initReady().then((function(){var v=O[S._dbInfo.name];if(v&&v.dbReady)return v.dbReady}));return executeTwoCallbacks(_,v,v),_}function _tryReconnect(v){_deferReadiness(v);for(var S=O[v.name],_=S.forages,E=0;E<_.length;E++){var P=_[E];P._dbInfo.db&&(P._dbInfo.db.close(),P._dbInfo.db=null)}return v.db=null,_getOriginalConnection(v).then((function(S){return v.db=S,_isUpgradeNeeded(v)?_getUpgradedConnection(v):S})).then((function(E){v.db=S.db=E;for(var P=0;P<_.length;P++)_[P]._dbInfo.db=E})).catch((function(S){throw _rejectReadiness(v,S),S}))}function createTransaction(v,S,_,E){void 0===E&&(E=1);try{var P=v.db.transaction(v.storeName,S);_(null,P)}catch(P){if(E>0&&(!v.db||"InvalidStateError"===P.name||"NotFoundError"===P.name))return D.resolve().then((function(){if(!v.db||"NotFoundError"===P.name&&!v.db.objectStoreNames.contains(v.storeName)&&v.version<=v.db.version)return v.db&&(v.version=v.db.version+1),_getUpgradedConnection(v)})).then((function(){return _tryReconnect(v).then((function(){createTransaction(v,S,_,E-1)}))})).catch(_);_(P)}}function createDbContext(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _initStorage(v){var S=this,_={db:null};if(v)for(var E in v)_[E]=v[E];var P=O[_.name];P||(P=createDbContext(),O[_.name]=P),P.forages.push(S),S._initReady||(S._initReady=S.ready,S.ready=_fullyReady);var R=[];function ignoreErrors(){return D.resolve()}for(var M=0;M<P.forages.length;M++){var F=P.forages[M];F!==S&&R.push(F._initReady().catch(ignoreErrors))}var N=P.forages.slice(0);return D.all(R).then((function(){return _.db=P.db,_getOriginalConnection(_)})).then((function(v){return _.db=v,_isUpgradeNeeded(_,S._defaultConfig.version)?_getUpgradedConnection(_):v})).then((function(v){_.db=P.db=v,S._dbInfo=_;for(var E=0;E<N.length;E++){var D=N[E];D!==S&&(D._dbInfo.db=_.db,D._dbInfo.version=_.version)}}))}function getItem(v,S){var _=this;v=normalizeKey(v);var E=new D((function(S,E){_.ready().then((function(){createTransaction(_._dbInfo,N,(function(P,D){if(P)return E(P);try{var R=D.objectStore(_._dbInfo.storeName).get(v);R.onsuccess=function(){var v=R.result;void 0===v&&(v=null),_isEncodedBlob(v)&&(v=_decodeBlob(v)),S(v)},R.onerror=function(){E(R.error)}}catch(v){E(v)}}))})).catch(E)}));return executeCallback(E,S),E}function iterate(v,S){var _=this,E=new D((function(S,E){_.ready().then((function(){createTransaction(_._dbInfo,N,(function(P,D){if(P)return E(P);try{var R=D.objectStore(_._dbInfo.storeName).openCursor(),M=1;R.onsuccess=function(){var _=R.result;if(_){var E=_.value;_isEncodedBlob(E)&&(E=_decodeBlob(E));var P=v(E,_.key,M++);void 0!==P?S(P):_.continue()}else S()},R.onerror=function(){E(R.error)}}catch(v){E(v)}}))})).catch(E)}));return executeCallback(E,S),E}function setItem(v,S,_){var E=this;v=normalizeKey(v);var P=new D((function(_,P){var D;E.ready().then((function(){return D=E._dbInfo,"[object Blob]"===F.call(S)?_checkBlobSupport(D.db).then((function(v){return v?S:_encodeBlob(S)})):S})).then((function(S){createTransaction(E._dbInfo,L,(function(D,R){if(D)return P(D);try{var M=R.objectStore(E._dbInfo.storeName);null===S&&(S=void 0);var O=M.put(S,v);R.oncomplete=function(){void 0===S&&(S=null),_(S)},R.onabort=R.onerror=function(){var v=O.error?O.error:O.transaction.error;P(v)}}catch(v){P(v)}}))})).catch(P)}));return executeCallback(P,_),P}function removeItem(v,S){var _=this;v=normalizeKey(v);var E=new D((function(S,E){_.ready().then((function(){createTransaction(_._dbInfo,L,(function(P,D){if(P)return E(P);try{var R=D.objectStore(_._dbInfo.storeName).delete(v);D.oncomplete=function(){S()},D.onerror=function(){E(R.error)},D.onabort=function(){var v=R.error?R.error:R.transaction.error;E(v)}}catch(v){E(v)}}))})).catch(E)}));return executeCallback(E,S),E}function clear(v){var S=this,_=new D((function(v,_){S.ready().then((function(){createTransaction(S._dbInfo,L,(function(E,P){if(E)return _(E);try{var D=P.objectStore(S._dbInfo.storeName).clear();P.oncomplete=function(){v()},P.onabort=P.onerror=function(){var v=D.error?D.error:D.transaction.error;_(v)}}catch(v){_(v)}}))})).catch(_)}));return executeCallback(_,v),_}function length(v){var S=this,_=new D((function(v,_){S.ready().then((function(){createTransaction(S._dbInfo,N,(function(E,P){if(E)return _(E);try{var D=P.objectStore(S._dbInfo.storeName).count();D.onsuccess=function(){v(D.result)},D.onerror=function(){_(D.error)}}catch(v){_(v)}}))})).catch(_)}));return executeCallback(_,v),_}function key(v,S){var _=this,E=new D((function(S,E){v<0?S(null):_.ready().then((function(){createTransaction(_._dbInfo,N,(function(P,D){if(P)return E(P);try{var R=D.objectStore(_._dbInfo.storeName),M=!1,O=R.openKeyCursor();O.onsuccess=function(){var _=O.result;_?0===v||M?S(_.key):(M=!0,_.advance(v)):S(null)},O.onerror=function(){E(O.error)}}catch(v){E(v)}}))})).catch(E)}));return executeCallback(E,S),E}function keys(v){var S=this,_=new D((function(v,_){S.ready().then((function(){createTransaction(S._dbInfo,N,(function(E,P){if(E)return _(E);try{var D=P.objectStore(S._dbInfo.storeName).openKeyCursor(),R=[];D.onsuccess=function(){var S=D.result;S?(R.push(S.key),S.continue()):v(R)},D.onerror=function(){_(D.error)}}catch(v){_(v)}}))})).catch(_)}));return executeCallback(_,v),_}function dropInstance(v,S){S=getCallback.apply(this,arguments);var _=this.config();(v="function"!=typeof v&&v||{}).name||(v.name=v.name||_.name,v.storeName=v.storeName||_.storeName);var E,R=this;if(v.name){var M=v.name===_.name&&R._dbInfo.db?D.resolve(R._dbInfo.db):_getOriginalConnection(v).then((function(S){var _=O[v.name],E=_.forages;_.db=S;for(var P=0;P<E.length;P++)E[P]._dbInfo.db=S;return S}));E=v.storeName?M.then((function(S){if(S.objectStoreNames.contains(v.storeName)){var _=S.version+1;_deferReadiness(v);var E=O[v.name],R=E.forages;S.close();for(var M=0;M<R.length;M++){var F=R[M];F._dbInfo.db=null,F._dbInfo.version=_}var N=new D((function(S,E){var D=P.open(v.name,_);D.onerror=function(v){D.result.close(),E(v)},D.onupgradeneeded=function(){D.result.deleteObjectStore(v.storeName)},D.onsuccess=function(){var v=D.result;v.close(),S(v)}}));return N.then((function(v){E.db=v;for(var S=0;S<R.length;S++){var _=R[S];_._dbInfo.db=v,_advanceReadiness(_._dbInfo)}})).catch((function(S){throw(_rejectReadiness(v,S)||D.resolve()).catch((function(){})),S}))}})):M.then((function(S){_deferReadiness(v);var _=O[v.name],E=_.forages;S.close();for(var R=0;R<E.length;R++)E[R]._dbInfo.db=null;var M=new D((function(S,_){var E=P.deleteDatabase(v.name);E.onerror=function(){var v=E.result;v&&v.close(),_(E.error)},E.onblocked=function(){console.warn('dropInstance blocked for database "'+v.name+'" until all open connections are closed')},E.onsuccess=function(){var v=E.result;v&&v.close(),S(v)}}));return M.then((function(v){_.db=v;for(var S=0;S<E.length;S++)_advanceReadiness(E[S]._dbInfo)})).catch((function(S){throw(_rejectReadiness(v,S)||D.resolve()).catch((function(){})),S}))}))}else E=D.reject("Invalid arguments");return executeCallback(E,S),E}var U={_driver:"asyncStorage",_initStorage,_support:isIndexedDBValid(),iterate,getItem,setItem,removeItem,clear,length,key,keys,dropInstance};function isWebSQLValid(){return"function"==typeof openDatabase}var V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G="~~local_forage_type~",W=/^~~local_forage_type~([^~]+)~/,$="__lfsc__:",X=$.length,Y="arbf",J="blob",Z="si08",Q="ui08",tt="uic8",et="si16",rt="si32",nt="ur16",it="ui32",st="fl32",ot="fl64",at=X+Y.length,ct=Object.prototype.toString;function stringToBuffer(v){var S,_,E,P,D,R=.75*v.length,M=v.length,O=0;"="===v[v.length-1]&&(R--,"="===v[v.length-2]&&R--);var F=new ArrayBuffer(R),N=new Uint8Array(F);for(S=0;S<M;S+=4)_=V.indexOf(v[S]),E=V.indexOf(v[S+1]),P=V.indexOf(v[S+2]),D=V.indexOf(v[S+3]),N[O++]=_<<2|E>>4,N[O++]=(15&E)<<4|P>>2,N[O++]=(3&P)<<6|63&D;return F}function bufferToString(v){var S,_=new Uint8Array(v),E="";for(S=0;S<_.length;S+=3)E+=V[_[S]>>2],E+=V[(3&_[S])<<4|_[S+1]>>4],E+=V[(15&_[S+1])<<2|_[S+2]>>6],E+=V[63&_[S+2]];return _.length%3==2?E=E.substring(0,E.length-1)+"=":_.length%3==1&&(E=E.substring(0,E.length-2)+"=="),E}function serialize(v,S){var _="";if(v&&(_=ct.call(v)),v&&("[object ArrayBuffer]"===_||v.buffer&&"[object ArrayBuffer]"===ct.call(v.buffer))){var E,P=$;v instanceof ArrayBuffer?(E=v,P+=Y):(E=v.buffer,"[object Int8Array]"===_?P+=Z:"[object Uint8Array]"===_?P+=Q:"[object Uint8ClampedArray]"===_?P+=tt:"[object Int16Array]"===_?P+=et:"[object Uint16Array]"===_?P+=nt:"[object Int32Array]"===_?P+=rt:"[object Uint32Array]"===_?P+=it:"[object Float32Array]"===_?P+=st:"[object Float64Array]"===_?P+=ot:S(new Error("Failed to get type for BinaryArray"))),S(P+bufferToString(E))}else if("[object Blob]"===_){var D=new FileReader;D.onload=function(){var _=G+v.type+"~"+bufferToString(this.result);S($+J+_)},D.readAsArrayBuffer(v)}else try{S(JSON.stringify(v))}catch(_){console.error("Couldn't convert value into a JSON string: ",v),S(null,_)}}function deserialize(v){if(v.substring(0,X)!==$)return JSON.parse(v);var S,_=v.substring(at),E=v.substring(X,at);if(E===J&&W.test(_)){var P=_.match(W);S=P[1],_=_.substring(P[0].length)}var D=stringToBuffer(_);switch(E){case Y:return D;case J:return createBlob([D],{type:S});case Z:return new Int8Array(D);case Q:return new Uint8Array(D);case tt:return new Uint8ClampedArray(D);case et:return new Int16Array(D);case nt:return new Uint16Array(D);case rt:return new Int32Array(D);case it:return new Uint32Array(D);case st:return new Float32Array(D);case ot:return new Float64Array(D);default:throw new Error("Unkown type: "+E)}}var ut={serialize,deserialize,stringToBuffer,bufferToString};function createDbTable(v,S,_,E){v.executeSql("CREATE TABLE IF NOT EXISTS "+S.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],_,E)}function _initStorage$1(v){var S=this,_={db:null};if(v)for(var E in v)_[E]="string"!=typeof v[E]?v[E].toString():v[E];var P=new D((function(v,E){try{_.db=openDatabase(_.name,String(_.version),_.description,_.size)}catch(v){return E(v)}_.db.transaction((function(P){createDbTable(P,_,(function(){S._dbInfo=_,v()}),(function(v,S){E(S)}))}),E)}));return _.serializer=ut,P}function tryExecuteSql(v,S,_,E,P,D){v.executeSql(_,E,P,(function(v,R){R.code===R.SYNTAX_ERR?v.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[S.storeName],(function(v,M){M.rows.length?D(v,R):createDbTable(v,S,(function(){v.executeSql(_,E,P,D)}),D)}),D):D(v,R)}),D)}function getItem$1(v,S){var _=this;v=normalizeKey(v);var E=new D((function(S,E){_.ready().then((function(){var P=_._dbInfo;P.db.transaction((function(_){tryExecuteSql(_,P,"SELECT * FROM "+P.storeName+" WHERE key = ? LIMIT 1",[v],(function(v,_){var E=_.rows.length?_.rows.item(0).value:null;E&&(E=P.serializer.deserialize(E)),S(E)}),(function(v,S){E(S)}))}))})).catch(E)}));return executeCallback(E,S),E}function iterate$1(v,S){var _=this,E=new D((function(S,E){_.ready().then((function(){var P=_._dbInfo;P.db.transaction((function(_){tryExecuteSql(_,P,"SELECT * FROM "+P.storeName,[],(function(_,E){for(var D=E.rows,R=D.length,M=0;M<R;M++){var O=D.item(M),F=O.value;if(F&&(F=P.serializer.deserialize(F)),void 0!==(F=v(F,O.key,M+1)))return void S(F)}S()}),(function(v,S){E(S)}))}))})).catch(E)}));return executeCallback(E,S),E}function _setItem(v,S,_,E){var P=this;v=normalizeKey(v);var R=new D((function(D,R){P.ready().then((function(){void 0===S&&(S=null);var M=S,O=P._dbInfo;O.serializer.serialize(S,(function(S,F){F?R(F):O.db.transaction((function(_){tryExecuteSql(_,O,"INSERT OR REPLACE INTO "+O.storeName+" (key, value) VALUES (?, ?)",[v,S],(function(){D(M)}),(function(v,S){R(S)}))}),(function(S){if(S.code===S.QUOTA_ERR){if(E>0)return void D(_setItem.apply(P,[v,M,_,E-1]));R(S)}}))}))})).catch(R)}));return executeCallback(R,_),R}function setItem$1(v,S,_){return _setItem.apply(this,[v,S,_,1])}function removeItem$1(v,S){var _=this;v=normalizeKey(v);var E=new D((function(S,E){_.ready().then((function(){var P=_._dbInfo;P.db.transaction((function(_){tryExecuteSql(_,P,"DELETE FROM "+P.storeName+" WHERE key = ?",[v],(function(){S()}),(function(v,S){E(S)}))}))})).catch(E)}));return executeCallback(E,S),E}function clear$1(v){var S=this,_=new D((function(v,_){S.ready().then((function(){var E=S._dbInfo;E.db.transaction((function(S){tryExecuteSql(S,E,"DELETE FROM "+E.storeName,[],(function(){v()}),(function(v,S){_(S)}))}))})).catch(_)}));return executeCallback(_,v),_}function length$1(v){var S=this,_=new D((function(v,_){S.ready().then((function(){var E=S._dbInfo;E.db.transaction((function(S){tryExecuteSql(S,E,"SELECT COUNT(key) as c FROM "+E.storeName,[],(function(S,_){var E=_.rows.item(0).c;v(E)}),(function(v,S){_(S)}))}))})).catch(_)}));return executeCallback(_,v),_}function key$1(v,S){var _=this,E=new D((function(S,E){_.ready().then((function(){var P=_._dbInfo;P.db.transaction((function(_){tryExecuteSql(_,P,"SELECT key FROM "+P.storeName+" WHERE id = ? LIMIT 1",[v+1],(function(v,_){var E=_.rows.length?_.rows.item(0).key:null;S(E)}),(function(v,S){E(S)}))}))})).catch(E)}));return executeCallback(E,S),E}function keys$1(v){var S=this,_=new D((function(v,_){S.ready().then((function(){var E=S._dbInfo;E.db.transaction((function(S){tryExecuteSql(S,E,"SELECT key FROM "+E.storeName,[],(function(S,_){for(var E=[],P=0;P<_.rows.length;P++)E.push(_.rows.item(P).key);v(E)}),(function(v,S){_(S)}))}))})).catch(_)}));return executeCallback(_,v),_}function getAllStoreNames(v){return new D((function(S,_){v.transaction((function(E){E.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(_,E){for(var P=[],D=0;D<E.rows.length;D++)P.push(E.rows.item(D).name);S({db:v,storeNames:P})}),(function(v,S){_(S)}))}),(function(v){_(v)}))}))}function dropInstance$1(v,S){S=getCallback.apply(this,arguments);var _=this.config();(v="function"!=typeof v&&v||{}).name||(v.name=v.name||_.name,v.storeName=v.storeName||_.storeName);var E,P=this;return executeCallback(E=v.name?new D((function(S){var E;E=v.name===_.name?P._dbInfo.db:openDatabase(v.name,"","",0),v.storeName?S({db:E,storeNames:[v.storeName]}):S(getAllStoreNames(E))})).then((function(v){return new D((function(S,_){v.db.transaction((function(E){function dropTable(v){return new D((function(S,_){E.executeSql("DROP TABLE IF EXISTS "+v,[],(function(){S()}),(function(v,S){_(S)}))}))}for(var P=[],R=0,M=v.storeNames.length;R<M;R++)P.push(dropTable(v.storeNames[R]));D.all(P).then((function(){S()})).catch((function(v){_(v)}))}),(function(v){_(v)}))}))})):D.reject("Invalid arguments"),S),E}var ht={_driver:"webSQLStorage",_initStorage:_initStorage$1,_support:isWebSQLValid(),iterate:iterate$1,getItem:getItem$1,setItem:setItem$1,removeItem:removeItem$1,clear:clear$1,length:length$1,key:key$1,keys:keys$1,dropInstance:dropInstance$1};function isLocalStorageValid(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(v){return!1}}function _getKeyPrefix(v,S){var _=v.name+"/";return v.storeName!==S.storeName&&(_+=v.storeName+"/"),_}function checkIfLocalStorageThrows(){var v="_localforage_support_test";try{return localStorage.setItem(v,!0),localStorage.removeItem(v),!1}catch(v){return!0}}function _isLocalStorageUsable(){return!checkIfLocalStorageThrows()||localStorage.length>0}function _initStorage$2(v){var S=this,_={};if(v)for(var E in v)_[E]=v[E];return _.keyPrefix=_getKeyPrefix(v,S._defaultConfig),_isLocalStorageUsable()?(S._dbInfo=_,_.serializer=ut,D.resolve()):D.reject()}function clear$2(v){var S=this,_=S.ready().then((function(){for(var v=S._dbInfo.keyPrefix,_=localStorage.length-1;_>=0;_--){var E=localStorage.key(_);0===E.indexOf(v)&&localStorage.removeItem(E)}}));return executeCallback(_,v),_}function getItem$2(v,S){var _=this;v=normalizeKey(v);var E=_.ready().then((function(){var S=_._dbInfo,E=localStorage.getItem(S.keyPrefix+v);return E&&(E=S.serializer.deserialize(E)),E}));return executeCallback(E,S),E}function iterate$2(v,S){var _=this,E=_.ready().then((function(){for(var S=_._dbInfo,E=S.keyPrefix,P=E.length,D=localStorage.length,R=1,M=0;M<D;M++){var O=localStorage.key(M);if(0===O.indexOf(E)){var F=localStorage.getItem(O);if(F&&(F=S.serializer.deserialize(F)),void 0!==(F=v(F,O.substring(P),R++)))return F}}}));return executeCallback(E,S),E}function key$2(v,S){var _=this,E=_.ready().then((function(){var S,E=_._dbInfo;try{S=localStorage.key(v)}catch(v){S=null}return S&&(S=S.substring(E.keyPrefix.length)),S}));return executeCallback(E,S),E}function keys$2(v){var S=this,_=S.ready().then((function(){for(var v=S._dbInfo,_=localStorage.length,E=[],P=0;P<_;P++){var D=localStorage.key(P);0===D.indexOf(v.keyPrefix)&&E.push(D.substring(v.keyPrefix.length))}return E}));return executeCallback(_,v),_}function length$2(v){var S=this.keys().then((function(v){return v.length}));return executeCallback(S,v),S}function removeItem$2(v,S){var _=this;v=normalizeKey(v);var E=_.ready().then((function(){var S=_._dbInfo;localStorage.removeItem(S.keyPrefix+v)}));return executeCallback(E,S),E}function setItem$2(v,S,_){var E=this;v=normalizeKey(v);var P=E.ready().then((function(){void 0===S&&(S=null);var _=S;return new D((function(P,D){var R=E._dbInfo;R.serializer.serialize(S,(function(S,E){if(E)D(E);else try{localStorage.setItem(R.keyPrefix+v,S),P(_)}catch(v){"QuotaExceededError"!==v.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==v.name||D(v),D(v)}}))}))}));return executeCallback(P,_),P}function dropInstance$2(v,S){if(S=getCallback.apply(this,arguments),!(v="function"!=typeof v&&v||{}).name){var _=this.config();v.name=v.name||_.name,v.storeName=v.storeName||_.storeName}var E,P=this;return E=v.name?new D((function(S){v.storeName?S(_getKeyPrefix(v,P._defaultConfig)):S(v.name+"/")})).then((function(v){for(var S=localStorage.length-1;S>=0;S--){var _=localStorage.key(S);0===_.indexOf(v)&&localStorage.removeItem(_)}})):D.reject("Invalid arguments"),executeCallback(E,S),E}var dt={_driver:"localStorageWrapper",_initStorage:_initStorage$2,_support:isLocalStorageValid(),iterate:iterate$2,getItem:getItem$2,setItem:setItem$2,removeItem:removeItem$2,clear:clear$2,length:length$2,key:key$2,keys:keys$2,dropInstance:dropInstance$2},ft=function sameValue(v,S){return v===S||"number"==typeof v&&"number"==typeof S&&isNaN(v)&&isNaN(S)},pt=function includes(v,S){for(var _=v.length,E=0;E<_;){if(ft(v[E],S))return!0;E++}return!1},mt=Array.isArray||function(v){return"[object Array]"===Object.prototype.toString.call(v)},yt={},vt={},bt={INDEXEDDB:U,WEBSQL:ht,LOCALSTORAGE:dt},St=[bt.INDEXEDDB._driver,bt.WEBSQL._driver,bt.LOCALSTORAGE._driver],wt=["dropInstance"],Tt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(wt),xt={description:"",driver:St.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(v,S){v[S]=function(){var _=arguments;return v.ready().then((function(){return v[S].apply(v,_)}))}}function extend(){for(var v=1;v<arguments.length;v++){var S=arguments[v];if(S)for(var _ in S)S.hasOwnProperty(_)&&(mt(S[_])?arguments[0][_]=S[_].slice():arguments[0][_]=S[_])}return arguments[0]}var _t=function(){function LocalForage(v){for(var S in _classCallCheck(this,LocalForage),bt)if(bt.hasOwnProperty(S)){var _=bt[S],E=_._driver;this[S]=E,yt[E]||this.defineDriver(_)}this._defaultConfig=extend({},xt),this._config=extend({},this._defaultConfig,v),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return LocalForage.prototype.config=function config(v){if("object"===(void 0===v?"undefined":E(v))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var S in v){if("storeName"===S&&(v[S]=v[S].replace(/\W/g,"_")),"version"===S&&"number"!=typeof v[S])return new Error("Database version must be a number.");this._config[S]=v[S]}return!("driver"in v)||!v.driver||this.setDriver(this._config.driver)}return"string"==typeof v?this._config[v]:this._config},LocalForage.prototype.defineDriver=function defineDriver(v,S,_){var E=new D((function(S,_){try{var E=v._driver,P=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!v._driver)return void _(P);for(var R=Tt.concat("_initStorage"),M=0,O=R.length;M<O;M++){var F=R[M];if((!pt(wt,F)||v[F])&&"function"!=typeof v[F])return void _(P)}var N=function configureMissingMethods(){for(var S=function methodNotImplementedFactory(v){return function(){var S=new Error("Method "+v+" is not implemented by the current driver"),_=D.reject(S);return executeCallback(_,arguments[arguments.length-1]),_}},_=0,E=wt.length;_<E;_++){var P=wt[_];v[P]||(v[P]=S(P))}};N();var L=function setDriverSupport(_){yt[E]&&console.info("Redefining LocalForage driver: "+E),yt[E]=v,vt[E]=_,S()};"_support"in v?v._support&&"function"==typeof v._support?v._support().then(L,_):L(!!v._support):L(!0)}catch(v){_(v)}}));return executeTwoCallbacks(E,S,_),E},LocalForage.prototype.driver=function driver(){return this._driver||null},LocalForage.prototype.getDriver=function getDriver(v,S,_){var E=yt[v]?D.resolve(yt[v]):D.reject(new Error("Driver not found."));return executeTwoCallbacks(E,S,_),E},LocalForage.prototype.getSerializer=function getSerializer(v){var S=D.resolve(ut);return executeTwoCallbacks(S,v),S},LocalForage.prototype.ready=function ready(v){var S=this,_=S._driverSet.then((function(){return null===S._ready&&(S._ready=S._initDriver()),S._ready}));return executeTwoCallbacks(_,v,v),_},LocalForage.prototype.setDriver=function setDriver(v,S,_){var E=this;mt(v)||(v=[v]);var P=this._getSupportedDrivers(v);function setDriverToConfig(){E._config.driver=E.driver()}function extendSelfWithDriver(v){return E._extend(v),setDriverToConfig(),E._ready=E._initStorage(E._config),E._ready}function initDriver(v){return function(){var S=0;function driverPromiseLoop(){for(;S<v.length;){var _=v[S];return S++,E._dbInfo=null,E._ready=null,E.getDriver(_).then(extendSelfWithDriver).catch(driverPromiseLoop)}setDriverToConfig();var P=new Error("No available storage method found.");return E._driverSet=D.reject(P),E._driverSet}return driverPromiseLoop()}}var R=null!==this._driverSet?this._driverSet.catch((function(){return D.resolve()})):D.resolve();return this._driverSet=R.then((function(){var v=P[0];return E._dbInfo=null,E._ready=null,E.getDriver(v).then((function(v){E._driver=v._driver,setDriverToConfig(),E._wrapLibraryMethodsWithReady(),E._initDriver=initDriver(P)}))})).catch((function(){setDriverToConfig();var v=new Error("No available storage method found.");return E._driverSet=D.reject(v),E._driverSet})),executeTwoCallbacks(this._driverSet,S,_),this._driverSet},LocalForage.prototype.supports=function supports(v){return!!vt[v]},LocalForage.prototype._extend=function _extend(v){extend(this,v)},LocalForage.prototype._getSupportedDrivers=function _getSupportedDrivers(v){for(var S=[],_=0,E=v.length;_<E;_++){var P=v[_];this.supports(P)&&S.push(P)}return S},LocalForage.prototype._wrapLibraryMethodsWithReady=function _wrapLibraryMethodsWithReady(){for(var v=0,S=Tt.length;v<S;v++)callWhenReady(this,Tt[v])},LocalForage.prototype.createInstance=function createInstance(v){return new LocalForage(v)},LocalForage}(),Et=new _t;S.exports=Et},{3:3}]},{},[4])(4)},418677:(v,S,_)=>{v=_.nmd(v);var E="__lodash_hash_undefined__",P=1,D=2,R=9007199254740991,M="[object Arguments]",O="[object Array]",F="[object AsyncFunction]",N="[object Boolean]",L="[object Date]",U="[object Error]",V="[object Function]",G="[object GeneratorFunction]",W="[object Map]",$="[object Number]",X="[object Null]",Y="[object Object]",J="[object Promise]",Z="[object Proxy]",Q="[object RegExp]",tt="[object Set]",et="[object String]",rt="[object Symbol]",nt="[object Undefined]",it="[object WeakMap]",st="[object ArrayBuffer]",ot="[object DataView]",at=/^\[object .+?Constructor\]$/,ct=/^(?:0|[1-9]\d*)$/,ut={};ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut[M]=ut[O]=ut[st]=ut[N]=ut[ot]=ut[L]=ut[U]=ut[V]=ut[W]=ut[$]=ut[Y]=ut[Q]=ut[tt]=ut[et]=ut[it]=!1;var ht="object"==typeof _.g&&_.g&&_.g.Object===Object&&_.g,dt="object"==typeof self&&self&&self.Object===Object&&self,ft=ht||dt||Function("return this")(),pt=S&&!S.nodeType&&S,mt=pt&&v&&!v.nodeType&&v,yt=mt&&mt.exports===pt,vt=yt&&ht.process,bt=function(){try{return vt&&vt.binding&&vt.binding("util")}catch(v){}}(),St=bt&&bt.isTypedArray;function arraySome(v,S){for(var _=-1,E=null==v?0:v.length;++_<E;)if(S(v[_],_,v))return!0;return!1}function mapToArray(v){var S=-1,_=Array(v.size);return v.forEach((function(v,E){_[++S]=[E,v]})),_}function setToArray(v){var S=-1,_=Array(v.size);return v.forEach((function(v){_[++S]=v})),_}var wt,Tt=Array.prototype,xt=Function.prototype,_t=Object.prototype,Et=ft["__core-js_shared__"],Ct=xt.toString,At=_t.hasOwnProperty,It=(wt=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+wt:"",Pt=_t.toString,Dt=RegExp("^"+Ct.call(At).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=yt?ft.Buffer:void 0,Rt=ft.Symbol,Mt=ft.Uint8Array,Ot=_t.propertyIsEnumerable,kt=Tt.splice,Ft=Rt?Rt.toStringTag:void 0,Nt=Object.getOwnPropertySymbols,Ht=Bt?Bt.isBuffer:void 0,Lt=function overArg(v,S){return function(_){return v(S(_))}}(Object.keys,Object),jt=getNative(ft,"DataView"),Kt=getNative(ft,"Map"),Ut=getNative(ft,"Promise"),Vt=getNative(ft,"Set"),qt=getNative(ft,"WeakMap"),Gt=getNative(Object,"create"),zt=toSource(jt),Wt=toSource(Kt),$t=toSource(Ut),Xt=toSource(Vt),Yt=toSource(qt),Jt=Rt?Rt.prototype:void 0,Zt=Jt?Jt.valueOf:void 0;function Hash(v){var S=-1,_=null==v?0:v.length;for(this.clear();++S<_;){var E=v[S];this.set(E[0],E[1])}}function ListCache(v){var S=-1,_=null==v?0:v.length;for(this.clear();++S<_;){var E=v[S];this.set(E[0],E[1])}}function MapCache(v){var S=-1,_=null==v?0:v.length;for(this.clear();++S<_;){var E=v[S];this.set(E[0],E[1])}}function SetCache(v){var S=-1,_=null==v?0:v.length;for(this.__data__=new MapCache;++S<_;)this.add(v[S])}function Stack(v){var S=this.__data__=new ListCache(v);this.size=S.size}function arrayLikeKeys(v,S){var _=re(v),E=!_&&ee(v),P=!_&&!E&&ne(v),D=!_&&!E&&!P&&ie(v),R=_||E||P||D,M=R?function baseTimes(v,S){for(var _=-1,E=Array(v);++_<v;)E[_]=S(_);return E}(v.length,String):[],O=M.length;for(var F in v)!S&&!At.call(v,F)||R&&("length"==F||P&&("offset"==F||"parent"==F)||D&&("buffer"==F||"byteLength"==F||"byteOffset"==F)||isIndex(F,O))||M.push(F);return M}function assocIndexOf(v,S){for(var _=v.length;_--;)if(eq(v[_][0],S))return _;return-1}function baseGetTag(v){return null==v?void 0===v?nt:X:Ft&&Ft in Object(v)?function getRawTag(v){var S=At.call(v,Ft),_=v[Ft];try{v[Ft]=void 0;var E=!0}catch(v){}var P=Pt.call(v);E&&(S?v[Ft]=_:delete v[Ft]);return P}(v):function objectToString(v){return Pt.call(v)}(v)}function baseIsArguments(v){return isObjectLike(v)&&baseGetTag(v)==M}function baseIsEqual(v,S,_,E,R){return v===S||(null==v||null==S||!isObjectLike(v)&&!isObjectLike(S)?v!=v&&S!=S:function baseIsEqualDeep(v,S,_,E,R,F){var V=re(v),G=re(S),X=V?O:te(v),J=G?O:te(S),Z=(X=X==M?Y:X)==Y,nt=(J=J==M?Y:J)==Y,it=X==J;if(it&&ne(v)){if(!ne(S))return!1;V=!0,Z=!1}if(it&&!Z)return F||(F=new Stack),V||ie(v)?equalArrays(v,S,_,E,R,F):function equalByTag(v,S,_,E,R,M,O){switch(_){case ot:if(v.byteLength!=S.byteLength||v.byteOffset!=S.byteOffset)return!1;v=v.buffer,S=S.buffer;case st:return!(v.byteLength!=S.byteLength||!M(new Mt(v),new Mt(S)));case N:case L:case $:return eq(+v,+S);case U:return v.name==S.name&&v.message==S.message;case Q:case et:return v==S+"";case W:var F=mapToArray;case tt:var V=E&P;if(F||(F=setToArray),v.size!=S.size&&!V)return!1;var G=O.get(v);if(G)return G==S;E|=D,O.set(v,S);var X=equalArrays(F(v),F(S),E,R,M,O);return O.delete(v),X;case rt:if(Zt)return Zt.call(v)==Zt.call(S)}return!1}(v,S,X,_,E,R,F);if(!(_&P)){var at=Z&&At.call(v,"__wrapped__"),ct=nt&&At.call(S,"__wrapped__");if(at||ct){var ut=at?v.value():v,ht=ct?S.value():S;return F||(F=new Stack),R(ut,ht,_,E,F)}}if(!it)return!1;return F||(F=new Stack),function equalObjects(v,S,_,E,D,R){var M=_&P,O=getAllKeys(v),F=O.length,N=getAllKeys(S),L=N.length;if(F!=L&&!M)return!1;var U=F;for(;U--;){var V=O[U];if(!(M?V in S:At.call(S,V)))return!1}var G=R.get(v);if(G&&R.get(S))return G==S;var W=!0;R.set(v,S),R.set(S,v);var $=M;for(;++U<F;){var X=v[V=O[U]],Y=S[V];if(E)var J=M?E(Y,X,V,S,v,R):E(X,Y,V,v,S,R);if(!(void 0===J?X===Y||D(X,Y,_,E,R):J)){W=!1;break}$||($="constructor"==V)}if(W&&!$){var Z=v.constructor,Q=S.constructor;Z==Q||!("constructor"in v)||!("constructor"in S)||"function"==typeof Z&&Z instanceof Z&&"function"==typeof Q&&Q instanceof Q||(W=!1)}return R.delete(v),R.delete(S),W}(v,S,_,E,R,F)}(v,S,_,E,baseIsEqual,R))}function baseIsNative(v){return!(!isObject(v)||function isMasked(v){return!!It&&It in v}(v))&&(isFunction(v)?Dt:at).test(toSource(v))}function baseKeys(v){if(!function isPrototype(v){var S=v&&v.constructor,_="function"==typeof S&&S.prototype||_t;return v===_}(v))return Lt(v);var S=[];for(var _ in Object(v))At.call(v,_)&&"constructor"!=_&&S.push(_);return S}function equalArrays(v,S,_,E,R,M){var O=_&P,F=v.length,N=S.length;if(F!=N&&!(O&&N>F))return!1;var L=M.get(v);if(L&&M.get(S))return L==S;var U=-1,V=!0,G=_&D?new SetCache:void 0;for(M.set(v,S),M.set(S,v);++U<F;){var W=v[U],$=S[U];if(E)var X=O?E($,W,U,S,v,M):E(W,$,U,v,S,M);if(void 0!==X){if(X)continue;V=!1;break}if(G){if(!arraySome(S,(function(v,S){if(P=S,!G.has(P)&&(W===v||R(W,v,_,E,M)))return G.push(S);var P}))){V=!1;break}}else if(W!==$&&!R(W,$,_,E,M)){V=!1;break}}return M.delete(v),M.delete(S),V}function getAllKeys(v){return function baseGetAllKeys(v,S,_){var E=S(v);return re(v)?E:function arrayPush(v,S){for(var _=-1,E=S.length,P=v.length;++_<E;)v[P+_]=S[_];return v}(E,_(v))}(v,keys,Qt)}function getMapData(v,S){var _=v.__data__;return function isKeyable(v){var S=typeof v;return"string"==S||"number"==S||"symbol"==S||"boolean"==S?"__proto__"!==v:null===v}(S)?_["string"==typeof S?"string":"hash"]:_.map}function getNative(v,S){var _=function getValue(v,S){return null==v?void 0:v[S]}(v,S);return baseIsNative(_)?_:void 0}Hash.prototype.clear=function hashClear(){this.__data__=Gt?Gt(null):{},this.size=0},Hash.prototype.delete=function hashDelete(v){var S=this.has(v)&&delete this.__data__[v];return this.size-=S?1:0,S},Hash.prototype.get=function hashGet(v){var S=this.__data__;if(Gt){var _=S[v];return _===E?void 0:_}return At.call(S,v)?S[v]:void 0},Hash.prototype.has=function hashHas(v){var S=this.__data__;return Gt?void 0!==S[v]:At.call(S,v)},Hash.prototype.set=function hashSet(v,S){var _=this.__data__;return this.size+=this.has(v)?0:1,_[v]=Gt&&void 0===S?E:S,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(v){var S=this.__data__,_=assocIndexOf(S,v);return!(_<0)&&(_==S.length-1?S.pop():kt.call(S,_,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(v){var S=this.__data__,_=assocIndexOf(S,v);return _<0?void 0:S[_][1]},ListCache.prototype.has=function listCacheHas(v){return assocIndexOf(this.__data__,v)>-1},ListCache.prototype.set=function listCacheSet(v,S){var _=this.__data__,E=assocIndexOf(_,v);return E<0?(++this.size,_.push([v,S])):_[E][1]=S,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Kt||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(v){var S=getMapData(this,v).delete(v);return this.size-=S?1:0,S},MapCache.prototype.get=function mapCacheGet(v){return getMapData(this,v).get(v)},MapCache.prototype.has=function mapCacheHas(v){return getMapData(this,v).has(v)},MapCache.prototype.set=function mapCacheSet(v,S){var _=getMapData(this,v),E=_.size;return _.set(v,S),this.size+=_.size==E?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(v){return this.__data__.set(v,E),this},SetCache.prototype.has=function setCacheHas(v){return this.__data__.has(v)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(v){var S=this.__data__,_=S.delete(v);return this.size=S.size,_},Stack.prototype.get=function stackGet(v){return this.__data__.get(v)},Stack.prototype.has=function stackHas(v){return this.__data__.has(v)},Stack.prototype.set=function stackSet(v,S){var _=this.__data__;if(_ instanceof ListCache){var E=_.__data__;if(!Kt||E.length<199)return E.push([v,S]),this.size=++_.size,this;_=this.__data__=new MapCache(E)}return _.set(v,S),this.size=_.size,this};var Qt=Nt?function(v){return null==v?[]:(v=Object(v),function arrayFilter(v,S){for(var _=-1,E=null==v?0:v.length,P=0,D=[];++_<E;){var R=v[_];S(R,_,v)&&(D[P++]=R)}return D}(Nt(v),(function(S){return Ot.call(v,S)})))}:function stubArray(){return[]},te=baseGetTag;function isIndex(v,S){return!!(S=null==S?R:S)&&("number"==typeof v||ct.test(v))&&v>-1&&v%1==0&&v<S}function toSource(v){if(null!=v){try{return Ct.call(v)}catch(v){}try{return v+""}catch(v){}}return""}function eq(v,S){return v===S||v!=v&&S!=S}(jt&&te(new jt(new ArrayBuffer(1)))!=ot||Kt&&te(new Kt)!=W||Ut&&te(Ut.resolve())!=J||Vt&&te(new Vt)!=tt||qt&&te(new qt)!=it)&&(te=function(v){var S=baseGetTag(v),_=S==Y?v.constructor:void 0,E=_?toSource(_):"";if(E)switch(E){case zt:return ot;case Wt:return W;case $t:return J;case Xt:return tt;case Yt:return it}return S});var ee=baseIsArguments(function(){return arguments}())?baseIsArguments:function(v){return isObjectLike(v)&&At.call(v,"callee")&&!Ot.call(v,"callee")},re=Array.isArray;var ne=Ht||function stubFalse(){return!1};function isFunction(v){if(!isObject(v))return!1;var S=baseGetTag(v);return S==V||S==G||S==F||S==Z}function isLength(v){return"number"==typeof v&&v>-1&&v%1==0&&v<=R}function isObject(v){var S=typeof v;return null!=v&&("object"==S||"function"==S)}function isObjectLike(v){return null!=v&&"object"==typeof v}var ie=St?function baseUnary(v){return function(S){return v(S)}}(St):function baseIsTypedArray(v){return isObjectLike(v)&&isLength(v.length)&&!!ut[baseGetTag(v)]};function keys(v){return function isArrayLike(v){return null!=v&&isLength(v.length)&&!isFunction(v)}(v)?arrayLikeKeys(v):baseKeys(v)}v.exports=function isEqual(v,S){return baseIsEqual(v,S)}},233103:(v,S,_)=>{var E=_(194715)(_(478942),"DataView");v.exports=E},725098:(v,S,_)=>{var E=_(123305),P=_(139361),D=_(411112),R=_(625276),M=_(357452);function Hash(v){var S=-1,_=null==v?0:v.length;for(this.clear();++S<_;){var E=v[S];this.set(E[0],E[1])}}Hash.prototype.clear=E,Hash.prototype.delete=P,Hash.prototype.get=D,Hash.prototype.has=R,Hash.prototype.set=M,v.exports=Hash},101386:(v,S,_)=>{var E=_(712393),P=_(762049),D=_(107144),R=_(7452),M=_(513964);function ListCache(v){var S=-1,_=null==v?0:v.length;for(this.clear();++S<_;){var E=v[S];this.set(E[0],E[1])}}ListCache.prototype.clear=E,ListCache.prototype.delete=P,ListCache.prototype.get=D,ListCache.prototype.has=R,ListCache.prototype.set=M,v.exports=ListCache},19770:(v,S,_)=>{var E=_(194715)(_(478942),"Map");v.exports=E},468250:(v,S,_)=>{var E=_(249753),P=_(605681),D=_(880088),R=_(554732),M=_(959068);function MapCache(v){var S=-1,_=null==v?0:v.length;for(this.clear();++S<_;){var E=v[S];this.set(E[0],E[1])}}MapCache.prototype.clear=E,MapCache.prototype.delete=P,MapCache.prototype.get=D,MapCache.prototype.has=R,MapCache.prototype.set=M,v.exports=MapCache},489413:(v,S,_)=>{var E=_(194715)(_(478942),"Promise");v.exports=E},964512:(v,S,_)=>{var E=_(194715)(_(478942),"Set");v.exports=E},423212:(v,S,_)=>{var E=_(468250),P=_(701877),D=_(8006);function SetCache(v){var S=-1,_=null==v?0:v.length;for(this.__data__=new E;++S<_;)this.add(v[S])}SetCache.prototype.add=SetCache.prototype.push=P,SetCache.prototype.has=D,v.exports=SetCache},151340:(v,S,_)=>{var E=_(101386),P=_(164103),D=_(521779),R=_(134162),M=_(907462),O=_(696638);function Stack(v){var S=this.__data__=new E(v);this.size=S.size}Stack.prototype.clear=P,Stack.prototype.delete=D,Stack.prototype.get=R,Stack.prototype.has=M,Stack.prototype.set=O,v.exports=Stack},365650:(v,S,_)=>{var E=_(478942).Symbol;v.exports=E},831623:(v,S,_)=>{var E=_(478942).Uint8Array;v.exports=E},419270:(v,S,_)=>{var E=_(194715)(_(478942),"WeakMap");v.exports=E},286912:v=>{v.exports=function apply(v,S,_){switch(_.length){case 0:return v.call(S);case 1:return v.call(S,_[0]);case 2:return v.call(S,_[0],_[1]);case 3:return v.call(S,_[0],_[1],_[2])}return v.apply(S,_)}},673788:v=>{v.exports=function arrayAggregator(v,S,_,E){for(var P=-1,D=null==v?0:v.length;++P<D;){var R=v[P];S(E,R,_(R),v)}return E}},879968:v=>{v.exports=function arrayEach(v,S){for(var _=-1,E=null==v?0:v.length;++_<E&&!1!==S(v[_],_,v););return v}},179847:v=>{v.exports=function arrayFilter(v,S){for(var _=-1,E=null==v?0:v.length,P=0,D=[];++_<E;){var R=v[_];S(R,_,v)&&(D[P++]=R)}return D}},459756:(v,S,_)=>{var E=_(2478);v.exports=function arrayIncludes(v,S){return!!(null==v?0:v.length)&&E(v,S,0)>-1}},943316:v=>{v.exports=function arrayIncludesWith(v,S,_){for(var E=-1,P=null==v?0:v.length;++E<P;)if(_(S,v[E]))return!0;return!1}},210358:(v,S,_)=>{var E=_(126137),P=_(103283),D=_(153142),R=_(475853),M=_(669632),O=_(208666),F=Object.prototype.hasOwnProperty;v.exports=function arrayLikeKeys(v,S){var _=D(v),N=!_&&P(v),L=!_&&!N&&R(v),U=!_&&!N&&!L&&O(v),V=_||N||L||U,G=V?E(v.length,String):[],W=G.length;for(var $ in v)!S&&!F.call(v,$)||V&&("length"==$||L&&("offset"==$||"parent"==$)||U&&("buffer"==$||"byteLength"==$||"byteOffset"==$)||M($,W))||G.push($);return G}},965111:v=>{v.exports=function arrayMap(v,S){for(var _=-1,E=null==v?0:v.length,P=Array(E);++_<E;)P[_]=S(v[_],_,v);return P}},911129:v=>{v.exports=function arrayPush(v,S){for(var _=-1,E=S.length,P=v.length;++_<E;)v[P+_]=S[_];return v}},236465:v=>{v.exports=function arraySome(v,S){for(var _=-1,E=null==v?0:v.length;++_<E;)if(S(v[_],_,v))return!0;return!1}},460906:(v,S,_)=>{var E=_(812762)("length");v.exports=E},552837:v=>{v.exports=function asciiToArray(v){return v.split("")}},924810:(v,S,_)=>{var E=_(557073),P=_(446285);v.exports=function assignMergeValue(v,S,_){(void 0!==_&&!P(v[S],_)||void 0===_&&!(S in v))&&E(v,S,_)}},403422:(v,S,_)=>{var E=_(557073),P=_(446285),D=Object.prototype.hasOwnProperty;v.exports=function assignValue(v,S,_){var R=v[S];D.call(v,S)&&P(R,_)&&(void 0!==_||S in v)||E(v,S,_)}},897034:(v,S,_)=>{var E=_(446285);v.exports=function assocIndexOf(v,S){for(var _=v.length;_--;)if(E(v[_][0],S))return _;return-1}},282226:(v,S,_)=>{var E=_(484570);v.exports=function baseAggregator(v,S,_,P){return E(v,(function(v,E,D){S(P,v,_(v),D)})),P}},137930:(v,S,_)=>{var E=_(939032),P=_(781211);v.exports=function baseAssign(v,S){return v&&E(S,P(S),v)}},930125:(v,S,_)=>{var E=_(939032),P=_(25288);v.exports=function baseAssignIn(v,S){return v&&E(S,P(S),v)}},557073:(v,S,_)=>{var E=_(472532);v.exports=function baseAssignValue(v,S,_){"__proto__"==S&&E?E(v,S,{configurable:!0,enumerable:!0,value:_,writable:!0}):v[S]=_}},94436:v=>{v.exports=function baseClamp(v,S,_){return v==v&&(void 0!==_&&(v=v<=_?v:_),void 0!==S&&(v=v>=S?v:S)),v}},169334:(v,S,_)=>{var E=_(151340),P=_(879968),D=_(403422),R=_(137930),M=_(930125),O=_(117099),F=_(284354),N=_(83546),L=_(24733),U=_(480393),V=_(293650),G=_(828486),W=_(897350),$=_(350424),X=_(275964),Y=_(153142),J=_(475853),Z=_(537681),Q=_(141580),tt=_(483943),et=_(781211),rt=_(25288),nt="[object Arguments]",it="[object Function]",st="[object Object]",ot={};ot[nt]=ot["[object Array]"]=ot["[object ArrayBuffer]"]=ot["[object DataView]"]=ot["[object Boolean]"]=ot["[object Date]"]=ot["[object Float32Array]"]=ot["[object Float64Array]"]=ot["[object Int8Array]"]=ot["[object Int16Array]"]=ot["[object Int32Array]"]=ot["[object Map]"]=ot["[object Number]"]=ot[st]=ot["[object RegExp]"]=ot["[object Set]"]=ot["[object String]"]=ot["[object Symbol]"]=ot["[object Uint8Array]"]=ot["[object Uint8ClampedArray]"]=ot["[object Uint16Array]"]=ot["[object Uint32Array]"]=!0,ot["[object Error]"]=ot[it]=ot["[object WeakMap]"]=!1,v.exports=function baseClone(v,S,_,at,ct,ut){var ht,dt=1&S,ft=2&S,pt=4&S;if(_&&(ht=ct?_(v,at,ct,ut):_(v)),void 0!==ht)return ht;if(!Q(v))return v;var mt=Y(v);if(mt){if(ht=W(v),!dt)return F(v,ht)}else{var yt=G(v),vt=yt==it||"[object GeneratorFunction]"==yt;if(J(v))return O(v,dt);if(yt==st||yt==nt||vt&&!ct){if(ht=ft||vt?{}:X(v),!dt)return ft?L(v,M(ht,v)):N(v,R(ht,v))}else{if(!ot[yt])return ct?v:{};ht=$(v,yt,dt)}}ut||(ut=new E);var bt=ut.get(v);if(bt)return bt;ut.set(v,ht),tt(v)?v.forEach((function(E){ht.add(baseClone(E,S,_,E,v,ut))})):Z(v)&&v.forEach((function(E,P){ht.set(P,baseClone(E,S,_,P,v,ut))}));var St=mt?void 0:(pt?ft?V:U:ft?rt:et)(v);return P(St||v,(function(E,P){St&&(E=v[P=E]),D(ht,P,baseClone(E,S,_,P,v,ut))})),ht}},939747:(v,S,_)=>{var E=_(141580),P=Object.create,D=function(){function object(){}return function(v){if(!E(v))return{};if(P)return P(v);object.prototype=v;var S=new object;return object.prototype=void 0,S}}();v.exports=D},696576:(v,S,_)=>{var E=_(423212),P=_(459756),D=_(943316),R=_(965111),M=_(249460),O=_(265568);v.exports=function baseDifference(v,S,_,F){var N=-1,L=P,U=!0,V=v.length,G=[],W=S.length;if(!V)return G;_&&(S=R(S,M(_))),F?(L=D,U=!1):S.length>=200&&(L=O,U=!1,S=new E(S));t:for(;++N<V;){var $=v[N],X=null==_?$:_($);if($=F||0!==$?$:0,U&&X==X){for(var Y=W;Y--;)if(S[Y]===X)continue t;G.push($)}else L(S,X,F)||G.push($)}return G}},484570:(v,S,_)=>{var E=_(47170),P=_(145770)(E);v.exports=P},790988:(v,S,_)=>{var E=_(351187);v.exports=function baseExtremum(v,S,_){for(var P=-1,D=v.length;++P<D;){var R=v[P],M=S(R);if(null!=M&&(void 0===O?M==M&&!E(M):_(M,O)))var O=M,F=R}return F}},644661:(v,S,_)=>{var E=_(484570);v.exports=function baseFilter(v,S){var _=[];return E(v,(function(v,E,P){S(v,E,P)&&_.push(v)})),_}},837250:v=>{v.exports=function baseFindIndex(v,S,_,E){for(var P=v.length,D=_+(E?1:-1);E?D--:++D<P;)if(S(v[D],D,v))return D;return-1}},990313:(v,S,_)=>{var E=_(911129),P=_(820714);v.exports=function baseFlatten(v,S,_,D,R){var M=-1,O=v.length;for(_||(_=P),R||(R=[]);++M<O;){var F=v[M];S>0&&_(F)?S>1?baseFlatten(F,S-1,_,D,R):E(R,F):D||(R[R.length]=F)}return R}},335636:(v,S,_)=>{var E=_(986596)();v.exports=E},47170:(v,S,_)=>{var E=_(335636),P=_(781211);v.exports=function baseForOwn(v,S){return v&&E(v,S,P)}},57923:(v,S,_)=>{var E=_(793526),P=_(366040);v.exports=function baseGet(v,S){for(var _=0,D=(S=E(S,v)).length;null!=v&&_<D;)v=v[P(S[_++])];return _&&_==D?v:void 0}},248244:(v,S,_)=>{var E=_(911129),P=_(153142);v.exports=function baseGetAllKeys(v,S,_){var D=S(v);return P(v)?D:E(D,_(v))}},287379:(v,S,_)=>{var E=_(365650),P=_(8870),D=_(929005),R=E?E.toStringTag:void 0;v.exports=function baseGetTag(v){return null==v?void 0===v?"[object Undefined]":"[object Null]":R&&R in Object(v)?P(v):D(v)}},802840:v=>{v.exports=function baseGt(v,S){return v>S}},43636:v=>{v.exports=function baseHasIn(v,S){return null!=v&&S in Object(v)}},2478:(v,S,_)=>{var E=_(837250),P=_(269454),D=_(897706);v.exports=function baseIndexOf(v,S,_){return S==S?D(v,S,_):E(v,P,_)}},756027:(v,S,_)=>{var E=_(287379),P=_(480547);v.exports=function baseIsArguments(v){return P(v)&&"[object Arguments]"==E(v)}},294687:(v,S,_)=>{var E=_(590353),P=_(480547);v.exports=function baseIsEqual(v,S,_,D,R){return v===S||(null==v||null==S||!P(v)&&!P(S)?v!=v&&S!=S:E(v,S,_,D,baseIsEqual,R))}},590353:(v,S,_)=>{var E=_(151340),P=_(933934),D=_(488861),R=_(431182),M=_(828486),O=_(153142),F=_(475853),N=_(208666),L="[object Arguments]",U="[object Array]",V="[object Object]",G=Object.prototype.hasOwnProperty;v.exports=function baseIsEqualDeep(v,S,_,W,$,X){var Y=O(v),J=O(S),Z=Y?U:M(v),Q=J?U:M(S),tt=(Z=Z==L?V:Z)==V,et=(Q=Q==L?V:Q)==V,rt=Z==Q;if(rt&&F(v)){if(!F(S))return!1;Y=!0,tt=!1}if(rt&&!tt)return X||(X=new E),Y||N(v)?P(v,S,_,W,$,X):D(v,S,Z,_,W,$,X);if(!(1&_)){var nt=tt&&G.call(v,"__wrapped__"),it=et&&G.call(S,"__wrapped__");if(nt||it){var st=nt?v.value():v,ot=it?S.value():S;return X||(X=new E),$(st,ot,_,W,X)}}return!!rt&&(X||(X=new E),R(v,S,_,W,$,X))}},980777:(v,S,_)=>{var E=_(828486),P=_(480547);v.exports=function baseIsMap(v){return P(v)&&"[object Map]"==E(v)}},638330:(v,S,_)=>{var E=_(151340),P=_(294687);v.exports=function baseIsMatch(v,S,_,D){var R=_.length,M=R,O=!D;if(null==v)return!M;for(v=Object(v);R--;){var F=_[R];if(O&&F[2]?F[1]!==v[F[0]]:!(F[0]in v))return!1}for(;++R<M;){var N=(F=_[R])[0],L=v[N],U=F[1];if(O&&F[2]){if(void 0===L&&!(N in v))return!1}else{var V=new E;if(D)var G=D(L,U,N,v,S,V);if(!(void 0===G?P(U,L,3,D,V):G))return!1}}return!0}},269454:v=>{v.exports=function baseIsNaN(v){return v!=v}},989624:(v,S,_)=>{var E=_(293655),P=_(564759),D=_(141580),R=_(64066),M=/^\[object .+?Constructor\]$/,O=Function.prototype,F=Object.prototype,N=O.toString,L=F.hasOwnProperty,U=RegExp("^"+N.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");v.exports=function baseIsNative(v){return!(!D(v)||P(v))&&(E(v)?U:M).test(R(v))}},181935:(v,S,_)=>{var E=_(828486),P=_(480547);v.exports=function baseIsSet(v){return P(v)&&"[object Set]"==E(v)}},970674:(v,S,_)=>{var E=_(287379),P=_(65387),D=_(480547),R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Arguments]"]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object Boolean]"]=R["[object DataView]"]=R["[object Date]"]=R["[object Error]"]=R["[object Function]"]=R["[object Map]"]=R["[object Number]"]=R["[object Object]"]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object WeakMap]"]=!1,v.exports=function baseIsTypedArray(v){return D(v)&&P(v.length)&&!!R[E(v)]}},103334:(v,S,_)=>{var E=_(536526),P=_(712343),D=_(922053),R=_(153142),M=_(543282);v.exports=function baseIteratee(v){return"function"==typeof v?v:null==v?D:"object"==typeof v?R(v)?P(v[0],v[1]):E(v):M(v)}},600195:(v,S,_)=>{var E=_(484882),P=_(998121),D=Object.prototype.hasOwnProperty;v.exports=function baseKeys(v){if(!E(v))return P(v);var S=[];for(var _ in Object(v))D.call(v,_)&&"constructor"!=_&&S.push(_);return S}},457200:(v,S,_)=>{var E=_(141580),P=_(484882),D=_(138546),R=Object.prototype.hasOwnProperty;v.exports=function baseKeysIn(v){if(!E(v))return D(v);var S=P(v),_=[];for(var M in v)("constructor"!=M||!S&&R.call(v,M))&&_.push(M);return _}},341393:(v,S,_)=>{var E=_(484570),P=_(736529);v.exports=function baseMap(v,S){var _=-1,D=P(v)?Array(v.length):[];return E(v,(function(v,E,P){D[++_]=S(v,E,P)})),D}},536526:(v,S,_)=>{var E=_(638330),P=_(824367),D=_(123904);v.exports=function baseMatches(v){var S=P(v);return 1==S.length&&S[0][2]?D(S[0][0],S[0][1]):function(_){return _===v||E(_,v,S)}}},712343:(v,S,_)=>{var E=_(294687),P=_(646123),D=_(527276),R=_(665187),M=_(267267),O=_(123904),F=_(366040);v.exports=function baseMatchesProperty(v,S){return R(v)&&M(S)?O(F(v),S):function(_){var R=P(_,v);return void 0===R&&R===S?D(_,v):E(S,R,3)}}},340091:(v,S,_)=>{var E=_(151340),P=_(924810),D=_(335636),R=_(126885),M=_(141580),O=_(25288),F=_(978763);v.exports=function baseMerge(v,S,_,N,L){v!==S&&D(S,(function(D,O){if(L||(L=new E),M(D))R(v,S,O,_,baseMerge,N,L);else{var U=N?N(F(v,O),D,O+"",v,S,L):void 0;void 0===U&&(U=D),P(v,O,U)}}),O)}},126885:(v,S,_)=>{var E=_(924810),P=_(117099),D=_(392264),R=_(284354),M=_(275964),O=_(103283),F=_(153142),N=_(865406),L=_(475853),U=_(293655),V=_(141580),G=_(348360),W=_(208666),$=_(978763),X=_(664207);v.exports=function baseMergeDeep(v,S,_,Y,J,Z,Q){var tt=$(v,_),et=$(S,_),rt=Q.get(et);if(rt)E(v,_,rt);else{var nt=Z?Z(tt,et,_+"",v,S,Q):void 0,it=void 0===nt;if(it){var st=F(et),ot=!st&&L(et),at=!st&&!ot&&W(et);nt=et,st||ot||at?F(tt)?nt=tt:N(tt)?nt=R(tt):ot?(it=!1,nt=P(et,!0)):at?(it=!1,nt=D(et,!0)):nt=[]:G(et)||O(et)?(nt=tt,O(tt)?nt=X(tt):V(tt)&&!U(tt)||(nt=M(et))):it=!1}it&&(Q.set(et,nt),J(nt,et,Y,Z,Q),Q.delete(et)),E(v,_,nt)}}},570310:(v,S,_)=>{var E=_(965111),P=_(57923),D=_(103334),R=_(341393),M=_(150642),O=_(249460),F=_(46775),N=_(922053),L=_(153142);v.exports=function baseOrderBy(v,S,_){S=S.length?E(S,(function(v){return L(v)?function(S){return P(S,1===v.length?v[0]:v)}:v})):[N];var U=-1;S=E(S,O(D));var V=R(v,(function(v,_,P){return{criteria:E(S,(function(S){return S(v)})),index:++U,value:v}}));return M(V,(function(v,S){return F(v,S,_)}))}},35031:(v,S,_)=>{var E=_(57923),P=_(287655),D=_(793526);v.exports=function basePickBy(v,S,_){for(var R=-1,M=S.length,O={};++R<M;){var F=S[R],N=E(v,F);_(N,F)&&P(O,D(F,v),N)}return O}},812762:v=>{v.exports=function baseProperty(v){return function(S){return null==S?void 0:S[v]}}},298880:(v,S,_)=>{var E=_(57923);v.exports=function basePropertyDeep(v){return function(S){return E(S,v)}}},306484:v=>{var S=Math.floor,_=Math.random;v.exports=function baseRandom(v,E){return v+S(_()*(E-v+1))}},226452:v=>{var S=Math.floor;v.exports=function baseRepeat(v,_){var E="";if(!v||_<1||_>9007199254740991)return E;do{_%2&&(E+=v),(_=S(_/2))&&(v+=v)}while(_);return E}},623945:(v,S,_)=>{var E=_(922053),P=_(775234),D=_(80796);v.exports=function baseRest(v,S){return D(P(v,S,E),v+"")}},287655:(v,S,_)=>{var E=_(403422),P=_(793526),D=_(669632),R=_(141580),M=_(366040);v.exports=function baseSet(v,S,_,O){if(!R(v))return v;for(var F=-1,N=(S=P(S,v)).length,L=N-1,U=v;null!=U&&++F<N;){var V=M(S[F]),G=_;if("__proto__"===V||"constructor"===V||"prototype"===V)return v;if(F!=L){var W=U[V];void 0===(G=O?O(W,V,U):void 0)&&(G=R(W)?W:D(S[F+1])?[]:{})}E(U,V,G),U=U[V]}return v}},147403:(v,S,_)=>{var E=_(82619),P=_(472532),D=_(922053),R=P?function(v,S){return P(v,"toString",{configurable:!0,enumerable:!1,value:E(S),writable:!0})}:D;v.exports=R},73501:v=>{v.exports=function baseSlice(v,S,_){var E=-1,P=v.length;S<0&&(S=-S>P?0:P+S),(_=_>P?P:_)<0&&(_+=P),P=S>_?0:_-S>>>0,S>>>=0;for(var D=Array(P);++E<P;)D[E]=v[E+S];return D}},150642:v=>{v.exports=function baseSortBy(v,S){var _=v.length;for(v.sort(S);_--;)v[_]=v[_].value;return v}},126137:v=>{v.exports=function baseTimes(v,S){for(var _=-1,E=Array(v);++_<v;)E[_]=S(_);return E}},652291:(v,S,_)=>{var E=_(365650),P=_(965111),D=_(153142),R=_(351187),M=E?E.prototype:void 0,O=M?M.toString:void 0;v.exports=function baseToString(v){if("string"==typeof v)return v;if(D(v))return P(v,baseToString)+"";if(R(v))return O?O.call(v):"";var S=v+"";return"0"==S&&1/v==-1/0?"-0":S}},386403:(v,S,_)=>{var E=_(962945),P=/^\s+/;v.exports=function baseTrim(v){return v?v.slice(0,E(v)+1).replace(P,""):v}},249460:v=>{v.exports=function baseUnary(v){return function(S){return v(S)}}},815630:(v,S,_)=>{var E=_(423212),P=_(459756),D=_(943316),R=_(265568),M=_(736208),O=_(749828);v.exports=function baseUniq(v,S,_){var F=-1,N=P,L=v.length,U=!0,V=[],G=V;if(_)U=!1,N=D;else if(L>=200){var W=S?null:M(v);if(W)return O(W);U=!1,N=R,G=new E}else G=S?[]:V;t:for(;++F<L;){var $=v[F],X=S?S($):$;if($=_||0!==$?$:0,U&&X==X){for(var Y=G.length;Y--;)if(G[Y]===X)continue t;S&&G.push(X),V.push($)}else N(G,X,_)||(G!==V&&G.push(X),V.push($))}return V}},781586:(v,S,_)=>{var E=_(793526),P=_(998087),D=_(913398),R=_(366040);v.exports=function baseUnset(v,S){return S=E(S,v),null==(v=D(v,S))||delete v[R(P(S))]}},265568:v=>{v.exports=function cacheHas(v,S){return v.has(S)}},823997:(v,S,_)=>{var E=_(922053);v.exports=function castFunction(v){return"function"==typeof v?v:E}},793526:(v,S,_)=>{var E=_(153142),P=_(665187),D=_(596493),R=_(595243);v.exports=function castPath(v,S){return E(v)?v:P(v,S)?[v]:D(R(v))}},528931:(v,S,_)=>{var E=_(73501);v.exports=function castSlice(v,S,_){var P=v.length;return _=void 0===_?P:_,!S&&_>=P?v:E(v,S,_)}},58898:(v,S,_)=>{var E=_(831623);v.exports=function cloneArrayBuffer(v){var S=new v.constructor(v.byteLength);return new E(S).set(new E(v)),S}},117099:(v,S,_)=>{v=_.nmd(v);var E=_(478942),P=S&&!S.nodeType&&S,D=P&&v&&!v.nodeType&&v,R=D&&D.exports===P?E.Buffer:void 0,M=R?R.allocUnsafe:void 0;v.exports=function cloneBuffer(v,S){if(S)return v.slice();var _=v.length,E=M?M(_):new v.constructor(_);return v.copy(E),E}},192480:(v,S,_)=>{var E=_(58898);v.exports=function cloneDataView(v,S){var _=S?E(v.buffer):v.buffer;return new v.constructor(_,v.byteOffset,v.byteLength)}},78340:v=>{var S=/\w*$/;v.exports=function cloneRegExp(v){var _=new v.constructor(v.source,S.exec(v));return _.lastIndex=v.lastIndex,_}},518069:(v,S,_)=>{var E=_(365650),P=E?E.prototype:void 0,D=P?P.valueOf:void 0;v.exports=function cloneSymbol(v){return D?Object(D.call(v)):{}}},392264:(v,S,_)=>{var E=_(58898);v.exports=function cloneTypedArray(v,S){var _=S?E(v.buffer):v.buffer;return new v.constructor(_,v.byteOffset,v.length)}},63521:(v,S,_)=>{var E=_(351187);v.exports=function compareAscending(v,S){if(v!==S){var _=void 0!==v,P=null===v,D=v==v,R=E(v),M=void 0!==S,O=null===S,F=S==S,N=E(S);if(!O&&!N&&!R&&v>S||R&&M&&F&&!O&&!N||P&&M&&F||!_&&F||!D)return 1;if(!P&&!R&&!N&&v<S||N&&_&&D&&!P&&!R||O&&_&&D||!M&&D||!F)return-1}return 0}},46775:(v,S,_)=>{var E=_(63521);v.exports=function compareMultiple(v,S,_){for(var P=-1,D=v.criteria,R=S.criteria,M=D.length,O=_.length;++P<M;){var F=E(D[P],R[P]);if(F)return P>=O?F:F*("desc"==_[P]?-1:1)}return v.index-S.index}},284354:v=>{v.exports=function copyArray(v,S){var _=-1,E=v.length;for(S||(S=Array(E));++_<E;)S[_]=v[_];return S}},939032:(v,S,_)=>{var E=_(403422),P=_(557073);v.exports=function copyObject(v,S,_,D){var R=!_;_||(_={});for(var M=-1,O=S.length;++M<O;){var F=S[M],N=D?D(_[F],v[F],F,_,v):void 0;void 0===N&&(N=v[F]),R?P(_,F,N):E(_,F,N)}return _}},83546:(v,S,_)=>{var E=_(939032),P=_(677979);v.exports=function copySymbols(v,S){return E(v,P(v),S)}},24733:(v,S,_)=>{var E=_(939032),P=_(685832);v.exports=function copySymbolsIn(v,S){return E(v,P(v),S)}},641950:(v,S,_)=>{var E=_(478942)["__core-js_shared__"];v.exports=E},472195:(v,S,_)=>{var E=_(673788),P=_(282226),D=_(103334),R=_(153142);v.exports=function createAggregator(v,S){return function(_,M){var O=R(_)?E:P,F=S?S():{};return O(_,v,D(M,2),F)}}},177848:(v,S,_)=>{var E=_(623945),P=_(674535);v.exports=function createAssigner(v){return E((function(S,_){var E=-1,D=_.length,R=D>1?_[D-1]:void 0,M=D>2?_[2]:void 0;for(R=v.length>3&&"function"==typeof R?(D--,R):void 0,M&&P(_[0],_[1],M)&&(R=D<3?void 0:R,D=1),S=Object(S);++E<D;){var O=_[E];O&&v(S,O,E,R)}return S}))}},145770:(v,S,_)=>{var E=_(736529);v.exports=function createBaseEach(v,S){return function(_,P){if(null==_)return _;if(!E(_))return v(_,P);for(var D=_.length,R=S?D:-1,M=Object(_);(S?R--:++R<D)&&!1!==P(M[R],R,M););return _}}},986596:v=>{v.exports=function createBaseFor(v){return function(S,_,E){for(var P=-1,D=Object(S),R=E(S),M=R.length;M--;){var O=R[v?M:++P];if(!1===_(D[O],O,D))break}return S}}},19929:(v,S,_)=>{var E=_(226452),P=_(652291),D=_(528931),R=_(283417),M=_(391090),O=_(482237),F=Math.ceil;v.exports=function createPadding(v,S){var _=(S=void 0===S?" ":P(S)).length;if(_<2)return _?E(S,v):S;var N=E(S,F(v/M(S)));return R(S)?D(O(N),0,v).join(""):N.slice(0,v)}},736208:(v,S,_)=>{var E=_(964512),P=_(579071),D=_(749828),R=E&&1/D(new E([,-0]))[1]==1/0?function(v){return new E(v)}:P;v.exports=R},629259:(v,S,_)=>{var E=_(348360);v.exports=function customOmitClone(v){return E(v)?void 0:v}},472532:(v,S,_)=>{var E=_(194715),P=function(){try{var v=E(Object,"defineProperty");return v({},"",{}),v}catch(v){}}();v.exports=P},933934:(v,S,_)=>{var E=_(423212),P=_(236465),D=_(265568);v.exports=function equalArrays(v,S,_,R,M,O){var F=1&_,N=v.length,L=S.length;if(N!=L&&!(F&&L>N))return!1;var U=O.get(v),V=O.get(S);if(U&&V)return U==S&&V==v;var G=-1,W=!0,$=2&_?new E:void 0;for(O.set(v,S),O.set(S,v);++G<N;){var X=v[G],Y=S[G];if(R)var J=F?R(Y,X,G,S,v,O):R(X,Y,G,v,S,O);if(void 0!==J){if(J)continue;W=!1;break}if($){if(!P(S,(function(v,S){if(!D($,S)&&(X===v||M(X,v,_,R,O)))return $.push(S)}))){W=!1;break}}else if(X!==Y&&!M(X,Y,_,R,O)){W=!1;break}}return O.delete(v),O.delete(S),W}},488861:(v,S,_)=>{var E=_(365650),P=_(831623),D=_(446285),R=_(933934),M=_(495894),O=_(749828),F=E?E.prototype:void 0,N=F?F.valueOf:void 0;v.exports=function equalByTag(v,S,_,E,F,L,U){switch(_){case"[object DataView]":if(v.byteLength!=S.byteLength||v.byteOffset!=S.byteOffset)return!1;v=v.buffer,S=S.buffer;case"[object ArrayBuffer]":return!(v.byteLength!=S.byteLength||!L(new P(v),new P(S)));case"[object Boolean]":case"[object Date]":case"[object Number]":return D(+v,+S);case"[object Error]":return v.name==S.name&&v.message==S.message;case"[object RegExp]":case"[object String]":return v==S+"";case"[object Map]":var V=M;case"[object Set]":var G=1&E;if(V||(V=O),v.size!=S.size&&!G)return!1;var W=U.get(v);if(W)return W==S;E|=2,U.set(v,S);var $=R(V(v),V(S),E,F,L,U);return U.delete(v),$;case"[object Symbol]":if(N)return N.call(v)==N.call(S)}return!1}},431182:(v,S,_)=>{var E=_(480393),P=Object.prototype.hasOwnProperty;v.exports=function equalObjects(v,S,_,D,R,M){var O=1&_,F=E(v),N=F.length;if(N!=E(S).length&&!O)return!1;for(var L=N;L--;){var U=F[L];if(!(O?U in S:P.call(S,U)))return!1}var V=M.get(v),G=M.get(S);if(V&&G)return V==S&&G==v;var W=!0;M.set(v,S),M.set(S,v);for(var $=O;++L<N;){var X=v[U=F[L]],Y=S[U];if(D)var J=O?D(Y,X,U,S,v,M):D(X,Y,U,v,S,M);if(!(void 0===J?X===Y||R(X,Y,_,D,M):J)){W=!1;break}$||($="constructor"==U)}if(W&&!$){var Z=v.constructor,Q=S.constructor;Z==Q||!("constructor"in v)||!("constructor"in S)||"function"==typeof Z&&Z instanceof Z&&"function"==typeof Q&&Q instanceof Q||(W=!1)}return M.delete(v),M.delete(S),W}},141439:(v,S,_)=>{var E=_(475857),P=_(775234),D=_(80796);v.exports=function flatRest(v){return D(P(v,void 0,E),v+"")}},874967:(v,S,_)=>{var E="object"==typeof _.g&&_.g&&_.g.Object===Object&&_.g;v.exports=E},480393:(v,S,_)=>{var E=_(248244),P=_(677979),D=_(781211);v.exports=function getAllKeys(v){return E(v,D,P)}},293650:(v,S,_)=>{var E=_(248244),P=_(685832),D=_(25288);v.exports=function getAllKeysIn(v){return E(v,D,P)}},444700:(v,S,_)=>{var E=_(979067);v.exports=function getMapData(v,S){var _=v.__data__;return E(S)?_["string"==typeof S?"string":"hash"]:_.map}},824367:(v,S,_)=>{var E=_(267267),P=_(781211);v.exports=function getMatchData(v){for(var S=P(v),_=S.length;_--;){var D=S[_],R=v[D];S[_]=[D,R,E(R)]}return S}},194715:(v,S,_)=>{var E=_(989624),P=_(620155);v.exports=function getNative(v,S){var _=P(v,S);return E(_)?_:void 0}},74784:(v,S,_)=>{var E=_(503766)(Object.getPrototypeOf,Object);v.exports=E},8870:(v,S,_)=>{var E=_(365650),P=Object.prototype,D=P.hasOwnProperty,R=P.toString,M=E?E.toStringTag:void 0;v.exports=function getRawTag(v){var S=D.call(v,M),_=v[M];try{v[M]=void 0;var E=!0}catch(v){}var P=R.call(v);return E&&(S?v[M]=_:delete v[M]),P}},677979:(v,S,_)=>{var E=_(179847),P=_(499306),D=Object.prototype.propertyIsEnumerable,R=Object.getOwnPropertySymbols,M=R?function(v){return null==v?[]:(v=Object(v),E(R(v),(function(S){return D.call(v,S)})))}:P;v.exports=M},685832:(v,S,_)=>{var E=_(911129),P=_(74784),D=_(677979),R=_(499306),M=Object.getOwnPropertySymbols?function(v){for(var S=[];v;)E(S,D(v)),v=P(v);return S}:R;v.exports=M},828486:(v,S,_)=>{var E=_(233103),P=_(19770),D=_(489413),R=_(964512),M=_(419270),O=_(287379),F=_(64066),N="[object Map]",L="[object Promise]",U="[object Set]",V="[object WeakMap]",G="[object DataView]",W=F(E),$=F(P),X=F(D),Y=F(R),J=F(M),Z=O;(E&&Z(new E(new ArrayBuffer(1)))!=G||P&&Z(new P)!=N||D&&Z(D.resolve())!=L||R&&Z(new R)!=U||M&&Z(new M)!=V)&&(Z=function(v){var S=O(v),_="[object Object]"==S?v.constructor:void 0,E=_?F(_):"";if(E)switch(E){case W:return G;case $:return N;case X:return L;case Y:return U;case J:return V}return S}),v.exports=Z},620155:v=>{v.exports=function getValue(v,S){return null==v?void 0:v[S]}},685899:(v,S,_)=>{var E=_(793526),P=_(103283),D=_(153142),R=_(669632),M=_(65387),O=_(366040);v.exports=function hasPath(v,S,_){for(var F=-1,N=(S=E(S,v)).length,L=!1;++F<N;){var U=O(S[F]);if(!(L=null!=v&&_(v,U)))break;v=v[U]}return L||++F!=N?L:!!(N=null==v?0:v.length)&&M(N)&&R(U,N)&&(D(v)||P(v))}},283417:v=>{var S=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");v.exports=function hasUnicode(v){return S.test(v)}},123305:(v,S,_)=>{var E=_(394497);v.exports=function hashClear(){this.__data__=E?E(null):{},this.size=0}},139361:v=>{v.exports=function hashDelete(v){var S=this.has(v)&&delete this.__data__[v];return this.size-=S?1:0,S}},411112:(v,S,_)=>{var E=_(394497),P=Object.prototype.hasOwnProperty;v.exports=function hashGet(v){var S=this.__data__;if(E){var _=S[v];return"__lodash_hash_undefined__"===_?void 0:_}return P.call(S,v)?S[v]:void 0}},625276:(v,S,_)=>{var E=_(394497),P=Object.prototype.hasOwnProperty;v.exports=function hashHas(v){var S=this.__data__;return E?void 0!==S[v]:P.call(S,v)}},357452:(v,S,_)=>{var E=_(394497);v.exports=function hashSet(v,S){var _=this.__data__;return this.size+=this.has(v)?0:1,_[v]=E&&void 0===S?"__lodash_hash_undefined__":S,this}},897350:v=>{var S=Object.prototype.hasOwnProperty;v.exports=function initCloneArray(v){var _=v.length,E=new v.constructor(_);return _&&"string"==typeof v[0]&&S.call(v,"index")&&(E.index=v.index,E.input=v.input),E}},350424:(v,S,_)=>{var E=_(58898),P=_(192480),D=_(78340),R=_(518069),M=_(392264);v.exports=function initCloneByTag(v,S,_){var O=v.constructor;switch(S){case"[object ArrayBuffer]":return E(v);case"[object Boolean]":case"[object Date]":return new O(+v);case"[object DataView]":return P(v,_);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return M(v,_);case"[object Map]":case"[object Set]":return new O;case"[object Number]":case"[object String]":return new O(v);case"[object RegExp]":return D(v);case"[object Symbol]":return R(v)}}},275964:(v,S,_)=>{var E=_(939747),P=_(74784),D=_(484882);v.exports=function initCloneObject(v){return"function"!=typeof v.constructor||D(v)?{}:E(P(v))}},820714:(v,S,_)=>{var E=_(365650),P=_(103283),D=_(153142),R=E?E.isConcatSpreadable:void 0;v.exports=function isFlattenable(v){return D(v)||P(v)||!!(R&&v&&v[R])}},669632:v=>{var S=/^(?:0|[1-9]\d*)$/;v.exports=function isIndex(v,_){var E=typeof v;return!!(_=null==_?9007199254740991:_)&&("number"==E||"symbol"!=E&&S.test(v))&&v>-1&&v%1==0&&v<_}},674535:(v,S,_)=>{var E=_(446285),P=_(736529),D=_(669632),R=_(141580);v.exports=function isIterateeCall(v,S,_){if(!R(_))return!1;var M=typeof S;return!!("number"==M?P(_)&&D(S,_.length):"string"==M&&S in _)&&E(_[S],v)}},665187:(v,S,_)=>{var E=_(153142),P=_(351187),D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/;v.exports=function isKey(v,S){if(E(v))return!1;var _=typeof v;return!("number"!=_&&"symbol"!=_&&"boolean"!=_&&null!=v&&!P(v))||(R.test(v)||!D.test(v)||null!=S&&v in Object(S))}},979067:v=>{v.exports=function isKeyable(v){var S=typeof v;return"string"==S||"number"==S||"symbol"==S||"boolean"==S?"__proto__"!==v:null===v}},564759:(v,S,_)=>{var E,P=_(641950),D=(E=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"";v.exports=function isMasked(v){return!!D&&D in v}},484882:v=>{var S=Object.prototype;v.exports=function isPrototype(v){var _=v&&v.constructor;return v===("function"==typeof _&&_.prototype||S)}},267267:(v,S,_)=>{var E=_(141580);v.exports=function isStrictComparable(v){return v==v&&!E(v)}},712393:v=>{v.exports=function listCacheClear(){this.__data__=[],this.size=0}},762049:(v,S,_)=>{var E=_(897034),P=Array.prototype.splice;v.exports=function listCacheDelete(v){var S=this.__data__,_=E(S,v);return!(_<0)&&(_==S.length-1?S.pop():P.call(S,_,1),--this.size,!0)}},107144:(v,S,_)=>{var E=_(897034);v.exports=function listCacheGet(v){var S=this.__data__,_=E(S,v);return _<0?void 0:S[_][1]}},7452:(v,S,_)=>{var E=_(897034);v.exports=function listCacheHas(v){return E(this.__data__,v)>-1}},513964:(v,S,_)=>{var E=_(897034);v.exports=function listCacheSet(v,S){var _=this.__data__,P=E(_,v);return P<0?(++this.size,_.push([v,S])):_[P][1]=S,this}},249753:(v,S,_)=>{var E=_(725098),P=_(101386),D=_(19770);v.exports=function mapCacheClear(){this.size=0,this.__data__={hash:new E,map:new(D||P),string:new E}}},605681:(v,S,_)=>{var E=_(444700);v.exports=function mapCacheDelete(v){var S=E(this,v).delete(v);return this.size-=S?1:0,S}},880088:(v,S,_)=>{var E=_(444700);v.exports=function mapCacheGet(v){return E(this,v).get(v)}},554732:(v,S,_)=>{var E=_(444700);v.exports=function mapCacheHas(v){return E(this,v).has(v)}},959068:(v,S,_)=>{var E=_(444700);v.exports=function mapCacheSet(v,S){var _=E(this,v),P=_.size;return _.set(v,S),this.size+=_.size==P?0:1,this}},495894:v=>{v.exports=function mapToArray(v){var S=-1,_=Array(v.size);return v.forEach((function(v,E){_[++S]=[E,v]})),_}},123904:v=>{v.exports=function matchesStrictComparable(v,S){return function(_){return null!=_&&(_[v]===S&&(void 0!==S||v in Object(_)))}}},776853:(v,S,_)=>{var E=_(869011);v.exports=function memoizeCapped(v){var S=E(v,(function(v){return 500===_.size&&_.clear(),v})),_=S.cache;return S}},394497:(v,S,_)=>{var E=_(194715)(Object,"create");v.exports=E},998121:(v,S,_)=>{var E=_(503766)(Object.keys,Object);v.exports=E},138546:v=>{v.exports=function nativeKeysIn(v){var S=[];if(null!=v)for(var _ in Object(v))S.push(_);return S}},402306:(v,S,_)=>{v=_.nmd(v);var E=_(874967),P=S&&!S.nodeType&&S,D=P&&v&&!v.nodeType&&v,R=D&&D.exports===P&&E.process,M=function(){try{var v=D&&D.require&&D.require("util").types;return v||R&&R.binding&&R.binding("util")}catch(v){}}();v.exports=M},929005:v=>{var S=Object.prototype.toString;v.exports=function objectToString(v){return S.call(v)}},503766:v=>{v.exports=function overArg(v,S){return function(_){return v(S(_))}}},775234:(v,S,_)=>{var E=_(286912),P=Math.max;v.exports=function overRest(v,S,_){return S=P(void 0===S?v.length-1:S,0),function(){for(var D=arguments,R=-1,M=P(D.length-S,0),O=Array(M);++R<M;)O[R]=D[S+R];R=-1;for(var F=Array(S+1);++R<S;)F[R]=D[R];return F[S]=_(O),E(v,this,F)}}},913398:(v,S,_)=>{var E=_(57923),P=_(73501);v.exports=function parent(v,S){return S.length<2?v:E(v,P(S,0,-1))}},478942:(v,S,_)=>{var E=_(874967),P="object"==typeof self&&self&&self.Object===Object&&self,D=E||P||Function("return this")();v.exports=D},978763:v=>{v.exports=function safeGet(v,S){if(("constructor"!==S||"function"!=typeof v[S])&&"__proto__"!=S)return v[S]}},701877:v=>{v.exports=function setCacheAdd(v){return this.__data__.set(v,"__lodash_hash_undefined__"),this}},8006:v=>{v.exports=function setCacheHas(v){return this.__data__.has(v)}},749828:v=>{v.exports=function setToArray(v){var S=-1,_=Array(v.size);return v.forEach((function(v){_[++S]=v})),_}},80796:(v,S,_)=>{var E=_(147403),P=_(203316)(E);v.exports=P},203316:v=>{var S=Date.now;v.exports=function shortOut(v){var _=0,E=0;return function(){var P=S(),D=16-(P-E);if(E=P,D>0){if(++_>=800)return arguments[0]}else _=0;return v.apply(void 0,arguments)}}},164103:(v,S,_)=>{var E=_(101386);v.exports=function stackClear(){this.__data__=new E,this.size=0}},521779:v=>{v.exports=function stackDelete(v){var S=this.__data__,_=S.delete(v);return this.size=S.size,_}},134162:v=>{v.exports=function stackGet(v){return this.__data__.get(v)}},907462:v=>{v.exports=function stackHas(v){return this.__data__.has(v)}},696638:(v,S,_)=>{var E=_(101386),P=_(19770),D=_(468250);v.exports=function stackSet(v,S){var _=this.__data__;if(_ instanceof E){var R=_.__data__;if(!P||R.length<199)return R.push([v,S]),this.size=++_.size,this;_=this.__data__=new D(R)}return _.set(v,S),this.size=_.size,this}},897706:v=>{v.exports=function strictIndexOf(v,S,_){for(var E=_-1,P=v.length;++E<P;)if(v[E]===S)return E;return-1}},391090:(v,S,_)=>{var E=_(460906),P=_(283417),D=_(564962);v.exports=function stringSize(v){return P(v)?D(v):E(v)}},482237:(v,S,_)=>{var E=_(552837),P=_(283417),D=_(792013);v.exports=function stringToArray(v){return P(v)?D(v):E(v)}},596493:(v,S,_)=>{var E=_(776853),P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D=/\\(\\)?/g,R=E((function(v){var S=[];return 46===v.charCodeAt(0)&&S.push(""),v.replace(P,(function(v,_,E,P){S.push(E?P.replace(D,"$1"):_||v)})),S}));v.exports=R},366040:(v,S,_)=>{var E=_(351187);v.exports=function toKey(v){if("string"==typeof v||E(v))return v;var S=v+"";return"0"==S&&1/v==-1/0?"-0":S}},64066:v=>{var S=Function.prototype.toString;v.exports=function toSource(v){if(null!=v){try{return S.call(v)}catch(v){}try{return v+""}catch(v){}}return""}},962945:v=>{var S=/\s/;v.exports=function trimmedEndIndex(v){for(var _=v.length;_--&&S.test(v.charAt(_)););return _}},564962:v=>{var S="\\ud800-\\udfff",_="["+S+"]",E="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",P="\\ud83c[\\udffb-\\udfff]",D="[^"+S+"]",R="(?:\\ud83c[\\udde6-\\uddff]){2}",M="[\\ud800-\\udbff][\\udc00-\\udfff]",O="(?:"+E+"|"+P+")"+"?",F="[\\ufe0e\\ufe0f]?",N=F+O+("(?:\\u200d(?:"+[D,R,M].join("|")+")"+F+O+")*"),L="(?:"+[D+E+"?",E,R,M,_].join("|")+")",U=RegExp(P+"(?="+P+")|"+L+N,"g");v.exports=function unicodeSize(v){for(var S=U.lastIndex=0;U.test(v);)++S;return S}},792013:v=>{var S="\\ud800-\\udfff",_="["+S+"]",E="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",P="\\ud83c[\\udffb-\\udfff]",D="[^"+S+"]",R="(?:\\ud83c[\\udde6-\\uddff]){2}",M="[\\ud800-\\udbff][\\udc00-\\udfff]",O="(?:"+E+"|"+P+")"+"?",F="[\\ufe0e\\ufe0f]?",N=F+O+("(?:\\u200d(?:"+[D,R,M].join("|")+")"+F+O+")*"),L="(?:"+[D+E+"?",E,R,M,_].join("|")+")",U=RegExp(P+"(?="+P+")|"+L+N,"g");v.exports=function unicodeToArray(v){return v.match(U)||[]}},417228:(v,S,_)=>{var E=_(94436),P=_(806131);v.exports=function clamp(v,S,_){return void 0===_&&(_=S,S=void 0),void 0!==_&&(_=(_=P(_))==_?_:0),void 0!==S&&(S=(S=P(S))==S?S:0),E(P(v),S,_)}},446108:(v,S,_)=>{var E=_(169334);v.exports=function cloneDeep(v){return E(v,5)}},82619:v=>{v.exports=function constant(v){return function(){return v}}},712784:(v,S,_)=>{var E=_(141580),P=_(694495),D=_(806131),R=Math.max,M=Math.min;v.exports=function debounce(v,S,_){var O,F,N,L,U,V,G=0,W=!1,$=!1,X=!0;if("function"!=typeof v)throw new TypeError("Expected a function");function invokeFunc(S){var _=O,E=F;return O=F=void 0,G=S,L=v.apply(E,_)}function shouldInvoke(v){var _=v-V;return void 0===V||_>=S||_<0||$&&v-G>=N}function timerExpired(){var v=P();if(shouldInvoke(v))return trailingEdge(v);U=setTimeout(timerExpired,function remainingWait(v){var _=S-(v-V);return $?M(_,N-(v-G)):_}(v))}function trailingEdge(v){return U=void 0,X&&O?invokeFunc(v):(O=F=void 0,L)}function debounced(){var v=P(),_=shouldInvoke(v);if(O=arguments,F=this,V=v,_){if(void 0===U)return function leadingEdge(v){return G=v,U=setTimeout(timerExpired,S),W?invokeFunc(v):L}(V);if($)return clearTimeout(U),U=setTimeout(timerExpired,S),invokeFunc(V)}return void 0===U&&(U=setTimeout(timerExpired,S)),L}return S=D(S)||0,E(_)&&(W=!!_.leading,N=($="maxWait"in _)?R(D(_.maxWait)||0,S):N,X="trailing"in _?!!_.trailing:X),debounced.cancel=function cancel(){void 0!==U&&clearTimeout(U),G=0,O=V=F=U=void 0},debounced.flush=function flush(){return void 0===U?L:trailingEdge(P())},debounced}},688088:(v,S,_)=>{var E=_(696576),P=_(990313),D=_(623945),R=_(865406),M=D((function(v,S){return R(v)?E(v,P(S,1,R,!0)):[]}));v.exports=M},446285:v=>{v.exports=function eq(v,S){return v===S||v!=v&&S!=S}},757581:(v,S,_)=>{var E=_(179847),P=_(644661),D=_(103334),R=_(153142);v.exports=function filter(v,S){return(R(v)?E:P)(v,D(S,3))}},740458:(v,S,_)=>{var E=_(837250),P=_(103334),D=_(667642),R=Math.max,M=Math.min;v.exports=function findLastIndex(v,S,_){var O=null==v?0:v.length;if(!O)return-1;var F=O-1;return void 0!==_&&(F=D(_),F=_<0?R(O+F,0):M(F,O-1)),E(v,P(S,3),F,!0)}},475857:(v,S,_)=>{var E=_(990313);v.exports=function flatten(v){return(null==v?0:v.length)?E(v,1):[]}},883657:(v,S,_)=>{var E=_(879968),P=_(484570),D=_(823997),R=_(153142);v.exports=function forEach(v,S){return(R(v)?E:P)(v,D(S))}},617546:(v,S,_)=>{var E=_(47170),P=_(823997);v.exports=function forOwn(v,S){return v&&E(v,P(S))}},646123:(v,S,_)=>{var E=_(57923);v.exports=function get(v,S,_){var P=null==v?void 0:E(v,S);return void 0===P?_:P}},487809:(v,S,_)=>{var E=_(557073),P=_(472195),D=Object.prototype.hasOwnProperty,R=P((function(v,S,_){D.call(v,_)?v[_].push(S):E(v,_,[S])}));v.exports=R},527276:(v,S,_)=>{var E=_(43636),P=_(685899);v.exports=function hasIn(v,S){return null!=v&&P(v,S,E)}},922053:v=>{v.exports=function identity(v){return v}},103283:(v,S,_)=>{var E=_(756027),P=_(480547),D=Object.prototype,R=D.hasOwnProperty,M=D.propertyIsEnumerable,O=E(function(){return arguments}())?E:function(v){return P(v)&&R.call(v,"callee")&&!M.call(v,"callee")};v.exports=O},153142:v=>{var S=Array.isArray;v.exports=S},736529:(v,S,_)=>{var E=_(293655),P=_(65387);v.exports=function isArrayLike(v){return null!=v&&P(v.length)&&!E(v)}},865406:(v,S,_)=>{var E=_(736529),P=_(480547);v.exports=function isArrayLikeObject(v){return P(v)&&E(v)}},522563:(v,S,_)=>{var E=_(287379),P=_(480547);v.exports=function isBoolean(v){return!0===v||!1===v||P(v)&&"[object Boolean]"==E(v)}},475853:(v,S,_)=>{v=_.nmd(v);var E=_(478942),P=_(734772),D=S&&!S.nodeType&&S,R=D&&v&&!v.nodeType&&v,M=R&&R.exports===D?E.Buffer:void 0,O=(M?M.isBuffer:void 0)||P;v.exports=O},603514:(v,S,_)=>{var E=_(600195),P=_(828486),D=_(103283),R=_(153142),M=_(736529),O=_(475853),F=_(484882),N=_(208666),L=Object.prototype.hasOwnProperty;v.exports=function isEmpty(v){if(null==v)return!0;if(M(v)&&(R(v)||"string"==typeof v||"function"==typeof v.splice||O(v)||N(v)||D(v)))return!v.length;var S=P(v);if("[object Map]"==S||"[object Set]"==S)return!v.size;if(F(v))return!E(v).length;for(var _ in v)if(L.call(v,_))return!1;return!0}},946343:(v,S,_)=>{var E=_(294687);v.exports=function isEqual(v,S){return E(v,S)}},293655:(v,S,_)=>{var E=_(287379),P=_(141580);v.exports=function isFunction(v){if(!P(v))return!1;var S=E(v);return"[object Function]"==S||"[object GeneratorFunction]"==S||"[object AsyncFunction]"==S||"[object Proxy]"==S}},65387:v=>{v.exports=function isLength(v){return"number"==typeof v&&v>-1&&v%1==0&&v<=9007199254740991}},537681:(v,S,_)=>{var E=_(980777),P=_(249460),D=_(402306),R=D&&D.isMap,M=R?P(R):E;v.exports=M},76806:(v,S,_)=>{var E=_(460986);v.exports=function isNaN(v){return E(v)&&v!=+v}},503668:v=>{v.exports=function isNil(v){return null==v}},949310:v=>{v.exports=function isNull(v){return null===v}},460986:(v,S,_)=>{var E=_(287379),P=_(480547);v.exports=function isNumber(v){return"number"==typeof v||P(v)&&"[object Number]"==E(v)}},141580:v=>{v.exports=function isObject(v){var S=typeof v;return null!=v&&("object"==S||"function"==S)}},480547:v=>{v.exports=function isObjectLike(v){return null!=v&&"object"==typeof v}},348360:(v,S,_)=>{var E=_(287379),P=_(74784),D=_(480547),R=Function.prototype,M=Object.prototype,O=R.toString,F=M.hasOwnProperty,N=O.call(Object);v.exports=function isPlainObject(v){if(!D(v)||"[object Object]"!=E(v))return!1;var S=P(v);if(null===S)return!0;var _=F.call(S,"constructor")&&S.constructor;return"function"==typeof _&&_ instanceof _&&O.call(_)==N}},483943:(v,S,_)=>{var E=_(181935),P=_(249460),D=_(402306),R=D&&D.isSet,M=R?P(R):E;v.exports=M},808138:(v,S,_)=>{var E=_(287379),P=_(153142),D=_(480547);v.exports=function isString(v){return"string"==typeof v||!P(v)&&D(v)&&"[object String]"==E(v)}},351187:(v,S,_)=>{var E=_(287379),P=_(480547);v.exports=function isSymbol(v){return"symbol"==typeof v||P(v)&&"[object Symbol]"==E(v)}},208666:(v,S,_)=>{var E=_(970674),P=_(249460),D=_(402306),R=D&&D.isTypedArray,M=R?P(R):E;v.exports=M},758771:v=>{v.exports=function isUndefined(v){return void 0===v}},134789:(v,S,_)=>{var E=_(557073),P=_(472195)((function(v,S,_){E(v,_,S)}));v.exports=P},781211:(v,S,_)=>{var E=_(210358),P=_(600195),D=_(736529);v.exports=function keys(v){return D(v)?E(v):P(v)}},25288:(v,S,_)=>{var E=_(210358),P=_(457200),D=_(736529);v.exports=function keysIn(v){return D(v)?E(v,!0):P(v)}},998087:v=>{v.exports=function last(v){var S=null==v?0:v.length;return S?v[S-1]:void 0}},40105:(v,S,_)=>{var E=_(965111),P=_(103334),D=_(341393),R=_(153142);v.exports=function map(v,S){return(R(v)?E:D)(v,P(S,3))}},647217:(v,S,_)=>{var E=_(790988),P=_(802840),D=_(922053);v.exports=function max(v){return v&&v.length?E(v,D,P):void 0}},869011:(v,S,_)=>{var E=_(468250);function memoize(v,S){if("function"!=typeof v||null!=S&&"function"!=typeof S)throw new TypeError("Expected a function");var memoized=function(){var _=arguments,E=S?S.apply(this,_):_[0],P=memoized.cache;if(P.has(E))return P.get(E);var D=v.apply(this,_);return memoized.cache=P.set(E,D)||P,D};return memoized.cache=new(memoize.Cache||E),memoized}memoize.Cache=E,v.exports=memoize},482451:(v,S,_)=>{var E=_(340091),P=_(177848)((function(v,S,_){E(v,S,_)}));v.exports=P},821517:v=>{v.exports=function negate(v){if("function"!=typeof v)throw new TypeError("Expected a function");return function(){var S=arguments;switch(S.length){case 0:return!v.call(this);case 1:return!v.call(this,S[0]);case 2:return!v.call(this,S[0],S[1]);case 3:return!v.call(this,S[0],S[1],S[2])}return!v.apply(this,S)}}},579071:v=>{v.exports=function noop(){}},694495:(v,S,_)=>{var E=_(478942);v.exports=function(){return E.Date.now()}},3326:(v,S,_)=>{var E=_(965111),P=_(169334),D=_(781586),R=_(793526),M=_(939032),O=_(629259),F=_(141439),N=_(293650),L=F((function(v,S){var _={};if(null==v)return _;var F=!1;S=E(S,(function(S){return S=R(S,v),F||(F=S.length>1),S})),M(v,N(v),_),F&&(_=P(_,7,O));for(var L=S.length;L--;)D(_,S[L]);return _}));v.exports=L},638403:(v,S,_)=>{var E=_(103334),P=_(821517),D=_(316735);v.exports=function omitBy(v,S){return D(v,P(E(S)))}},370156:(v,S,_)=>{var E=_(19929),P=_(391090),D=_(667642),R=_(595243);v.exports=function padStart(v,S,_){v=R(v);var M=(S=D(S))?P(v):0;return S&&M<S?E(S-M,_)+v:v}},316735:(v,S,_)=>{var E=_(965111),P=_(103334),D=_(35031),R=_(293650);v.exports=function pickBy(v,S){if(null==v)return{};var _=E(R(v),(function(v){return[v]}));return S=P(S),D(v,_,(function(v,_){return S(v,_[0])}))}},543282:(v,S,_)=>{var E=_(812762),P=_(298880),D=_(665187),R=_(366040);v.exports=function property(v){return D(v)?E(R(v)):P(v)}},139324:(v,S,_)=>{var E=_(306484),P=_(674535),D=_(743301),R=parseFloat,M=Math.min,O=Math.random;v.exports=function random(v,S,_){if(_&&"boolean"!=typeof _&&P(v,S,_)&&(S=_=void 0),void 0===_&&("boolean"==typeof S?(_=S,S=void 0):"boolean"==typeof v&&(_=v,v=void 0)),void 0===v&&void 0===S?(v=0,S=1):(v=D(v),void 0===S?(S=v,v=0):S=D(S)),v>S){var F=v;v=S,S=F}if(_||v%1||S%1){var N=O();return M(v+N*(S-v+R("1e-"+((N+"").length-1))),S)}return E(v,S)}},440074:(v,S,_)=>{var E=_(990313),P=_(570310),D=_(623945),R=_(674535),M=D((function(v,S){if(null==v)return[];var _=S.length;return _>1&&R(v,S[0],S[1])?S=[]:_>2&&R(S[0],S[1],S[2])&&(S=[S[0]]),P(v,E(S,1),[])}));v.exports=M},499306:v=>{v.exports=function stubArray(){return[]}},734772:v=>{v.exports=function stubFalse(){return!1}},743301:(v,S,_)=>{var E=_(806131),P=1/0;v.exports=function toFinite(v){return v?(v=E(v))===P||v===-1/0?17976931348623157e292*(v<0?-1:1):v==v?v:0:0===v?v:0}},667642:(v,S,_)=>{var E=_(743301);v.exports=function toInteger(v){var S=E(v),_=S%1;return S==S?_?S-_:S:0}},806131:(v,S,_)=>{var E=_(386403),P=_(141580),D=_(351187),R=/^[-+]0x[0-9a-f]+$/i,M=/^0b[01]+$/i,O=/^0o[0-7]+$/i,F=parseInt;v.exports=function toNumber(v){if("number"==typeof v)return v;if(D(v))return NaN;if(P(v)){var S="function"==typeof v.valueOf?v.valueOf():v;v=P(S)?S+"":S}if("string"!=typeof v)return 0===v?v:+v;v=E(v);var _=M.test(v);return _||O.test(v)?F(v.slice(2),_?2:8):R.test(v)?NaN:+v}},664207:(v,S,_)=>{var E=_(939032),P=_(25288);v.exports=function toPlainObject(v){return E(v,P(v))}},595243:(v,S,_)=>{var E=_(652291);v.exports=function toString(v){return null==v?"":E(v)}},582438:(v,S,_)=>{var E=_(815630);v.exports=function uniq(v){return v&&v.length?E(v):[]}},787835:(v,S,_)=>{var E=_(103334),P=_(815630);v.exports=function uniqBy(v,S){return v&&v.length?P(v,E(S,2)):[]}},111219:v=>{v.exports=Long;var S=null;try{S=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(v){}function Long(v,S,_){this.low=0|v,this.high=0|S,this.unsigned=!!_}function isLong(v){return!0===(v&&v.__isLong__)}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0}),Long.isLong=isLong;var _={},E={};function fromInt(v,S){var P,D,R;return S?(R=0<=(v>>>=0)&&v<256)&&(D=E[v])?D:(P=fromBits(v,(0|v)<0?-1:0,!0),R&&(E[v]=P),P):(R=-128<=(v|=0)&&v<128)&&(D=_[v])?D:(P=fromBits(v,v<0?-1:0,!1),R&&(_[v]=P),P)}function fromNumber(v,S){if(isNaN(v))return S?N:F;if(S){if(v<0)return N;if(v>=R)return W}else{if(v<=-M)return $;if(v+1>=M)return G}return v<0?fromNumber(-v,S).neg():fromBits(v%D|0,v/D|0,S)}function fromBits(v,S,_){return new Long(v,S,_)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var P=Math.pow;function fromString(v,S,_){if(0===v.length)throw Error("empty string");if("NaN"===v||"Infinity"===v||"+Infinity"===v||"-Infinity"===v)return F;if("number"==typeof S?(_=S,S=!1):S=!!S,(_=_||10)<2||36<_)throw RangeError("radix");var E;if((E=v.indexOf("-"))>0)throw Error("interior hyphen");if(0===E)return fromString(v.substring(1),S,_).neg();for(var D=fromNumber(P(_,8)),R=F,M=0;M<v.length;M+=8){var O=Math.min(8,v.length-M),N=parseInt(v.substring(M,M+O),_);if(O<8){var L=fromNumber(P(_,O));R=R.mul(L).add(fromNumber(N))}else R=(R=R.mul(D)).add(fromNumber(N))}return R.unsigned=S,R}function fromValue(v,S){return"number"==typeof v?fromNumber(v,S):"string"==typeof v?fromString(v,S):fromBits(v.low,v.high,"boolean"==typeof S?S:v.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var D=4294967296,R=D*D,M=R/2,O=fromInt(1<<24),F=fromInt(0);Long.ZERO=F;var N=fromInt(0,!0);Long.UZERO=N;var L=fromInt(1);Long.ONE=L;var U=fromInt(1,!0);Long.UONE=U;var V=fromInt(-1);Long.NEG_ONE=V;var G=fromBits(-1,2147483647,!1);Long.MAX_VALUE=G;var W=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=W;var $=fromBits(0,-2147483648,!1);Long.MIN_VALUE=$;var X=Long.prototype;X.toInt=function toInt(){return this.unsigned?this.low>>>0:this.low},X.toNumber=function toNumber(){return this.unsigned?(this.high>>>0)*D+(this.low>>>0):this.high*D+(this.low>>>0)},X.toString=function toString(v){if((v=v||10)<2||36<v)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq($)){var S=fromNumber(v),_=this.div(S),E=_.mul(S).sub(this);return _.toString(v)+E.toInt().toString(v)}return"-"+this.neg().toString(v)}for(var D=fromNumber(P(v,6),this.unsigned),R=this,M="";;){var O=R.div(D),F=(R.sub(O.mul(D)).toInt()>>>0).toString(v);if((R=O).isZero())return F+M;for(;F.length<6;)F="0"+F;M=""+F+M}},X.getHighBits=function getHighBits(){return this.high},X.getHighBitsUnsigned=function getHighBitsUnsigned(){return this.high>>>0},X.getLowBits=function getLowBits(){return this.low},X.getLowBitsUnsigned=function getLowBitsUnsigned(){return this.low>>>0},X.getNumBitsAbs=function getNumBitsAbs(){if(this.isNegative())return this.eq($)?64:this.neg().getNumBitsAbs();for(var v=0!=this.high?this.high:this.low,S=31;S>0&&!(v&1<<S);S--);return 0!=this.high?S+33:S+1},X.isZero=function isZero(){return 0===this.high&&0===this.low},X.eqz=X.isZero,X.isNegative=function isNegative(){return!this.unsigned&&this.high<0},X.isPositive=function isPositive(){return this.unsigned||this.high>=0},X.isOdd=function isOdd(){return!(1&~this.low)},X.isEven=function isEven(){return!(1&this.low)},X.equals=function equals(v){return isLong(v)||(v=fromValue(v)),(this.unsigned===v.unsigned||this.high>>>31!=1||v.high>>>31!=1)&&(this.high===v.high&&this.low===v.low)},X.eq=X.equals,X.notEquals=function notEquals(v){return!this.eq(v)},X.neq=X.notEquals,X.ne=X.notEquals,X.lessThan=function lessThan(v){return this.comp(v)<0},X.lt=X.lessThan,X.lessThanOrEqual=function lessThanOrEqual(v){return this.comp(v)<=0},X.lte=X.lessThanOrEqual,X.le=X.lessThanOrEqual,X.greaterThan=function greaterThan(v){return this.comp(v)>0},X.gt=X.greaterThan,X.greaterThanOrEqual=function greaterThanOrEqual(v){return this.comp(v)>=0},X.gte=X.greaterThanOrEqual,X.ge=X.greaterThanOrEqual,X.compare=function compare(v){if(isLong(v)||(v=fromValue(v)),this.eq(v))return 0;var S=this.isNegative(),_=v.isNegative();return S&&!_?-1:!S&&_?1:this.unsigned?v.high>>>0>this.high>>>0||v.high===this.high&&v.low>>>0>this.low>>>0?-1:1:this.sub(v).isNegative()?-1:1},X.comp=X.compare,X.negate=function negate(){return!this.unsigned&&this.eq($)?$:this.not().add(L)},X.neg=X.negate,X.add=function add(v){isLong(v)||(v=fromValue(v));var S=this.high>>>16,_=65535&this.high,E=this.low>>>16,P=65535&this.low,D=v.high>>>16,R=65535&v.high,M=v.low>>>16,O=0,F=0,N=0,L=0;return N+=(L+=P+(65535&v.low))>>>16,F+=(N+=E+M)>>>16,O+=(F+=_+R)>>>16,O+=S+D,fromBits((N&=65535)<<16|(L&=65535),(O&=65535)<<16|(F&=65535),this.unsigned)},X.subtract=function subtract(v){return isLong(v)||(v=fromValue(v)),this.add(v.neg())},X.sub=X.subtract,X.multiply=function multiply(v){if(this.isZero())return F;if(isLong(v)||(v=fromValue(v)),S)return fromBits(S.mul(this.low,this.high,v.low,v.high),S.get_high(),this.unsigned);if(v.isZero())return F;if(this.eq($))return v.isOdd()?$:F;if(v.eq($))return this.isOdd()?$:F;if(this.isNegative())return v.isNegative()?this.neg().mul(v.neg()):this.neg().mul(v).neg();if(v.isNegative())return this.mul(v.neg()).neg();if(this.lt(O)&&v.lt(O))return fromNumber(this.toNumber()*v.toNumber(),this.unsigned);var _=this.high>>>16,E=65535&this.high,P=this.low>>>16,D=65535&this.low,R=v.high>>>16,M=65535&v.high,N=v.low>>>16,L=65535&v.low,U=0,V=0,G=0,W=0;return G+=(W+=D*L)>>>16,V+=(G+=P*L)>>>16,G&=65535,V+=(G+=D*N)>>>16,U+=(V+=E*L)>>>16,V&=65535,U+=(V+=P*N)>>>16,V&=65535,U+=(V+=D*M)>>>16,U+=_*L+E*N+P*M+D*R,fromBits((G&=65535)<<16|(W&=65535),(U&=65535)<<16|(V&=65535),this.unsigned)},X.mul=X.multiply,X.divide=function divide(v){if(isLong(v)||(v=fromValue(v)),v.isZero())throw Error("division by zero");var _,E,D;if(S)return this.unsigned||-2147483648!==this.high||-1!==v.low||-1!==v.high?fromBits((this.unsigned?S.div_u:S.div_s)(this.low,this.high,v.low,v.high),S.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?N:F;if(this.unsigned){if(v.unsigned||(v=v.toUnsigned()),v.gt(this))return N;if(v.gt(this.shru(1)))return U;D=N}else{if(this.eq($))return v.eq(L)||v.eq(V)?$:v.eq($)?L:(_=this.shr(1).div(v).shl(1)).eq(F)?v.isNegative()?L:V:(E=this.sub(v.mul(_)),D=_.add(E.div(v)));if(v.eq($))return this.unsigned?N:F;if(this.isNegative())return v.isNegative()?this.neg().div(v.neg()):this.neg().div(v).neg();if(v.isNegative())return this.div(v.neg()).neg();D=F}for(E=this;E.gte(v);){_=Math.max(1,Math.floor(E.toNumber()/v.toNumber()));for(var R=Math.ceil(Math.log(_)/Math.LN2),M=R<=48?1:P(2,R-48),O=fromNumber(_),G=O.mul(v);G.isNegative()||G.gt(E);)G=(O=fromNumber(_-=M,this.unsigned)).mul(v);O.isZero()&&(O=L),D=D.add(O),E=E.sub(G)}return D},X.div=X.divide,X.modulo=function modulo(v){return isLong(v)||(v=fromValue(v)),S?fromBits((this.unsigned?S.rem_u:S.rem_s)(this.low,this.high,v.low,v.high),S.get_high(),this.unsigned):this.sub(this.div(v).mul(v))},X.mod=X.modulo,X.rem=X.modulo,X.not=function not(){return fromBits(~this.low,~this.high,this.unsigned)},X.and=function and(v){return isLong(v)||(v=fromValue(v)),fromBits(this.low&v.low,this.high&v.high,this.unsigned)},X.or=function or(v){return isLong(v)||(v=fromValue(v)),fromBits(this.low|v.low,this.high|v.high,this.unsigned)},X.xor=function xor(v){return isLong(v)||(v=fromValue(v)),fromBits(this.low^v.low,this.high^v.high,this.unsigned)},X.shiftLeft=function shiftLeft(v){return isLong(v)&&(v=v.toInt()),0==(v&=63)?this:v<32?fromBits(this.low<<v,this.high<<v|this.low>>>32-v,this.unsigned):fromBits(0,this.low<<v-32,this.unsigned)},X.shl=X.shiftLeft,X.shiftRight=function shiftRight(v){return isLong(v)&&(v=v.toInt()),0==(v&=63)?this:v<32?fromBits(this.low>>>v|this.high<<32-v,this.high>>v,this.unsigned):fromBits(this.high>>v-32,this.high>=0?0:-1,this.unsigned)},X.shr=X.shiftRight,X.shiftRightUnsigned=function shiftRightUnsigned(v){if(isLong(v)&&(v=v.toInt()),0===(v&=63))return this;var S=this.high;return v<32?fromBits(this.low>>>v|S<<32-v,S>>>v,this.unsigned):fromBits(32===v?S:S>>>v-32,0,this.unsigned)},X.shru=X.shiftRightUnsigned,X.shr_u=X.shiftRightUnsigned,X.toSigned=function toSigned(){return this.unsigned?fromBits(this.low,this.high,!1):this},X.toUnsigned=function toUnsigned(){return this.unsigned?this:fromBits(this.low,this.high,!0)},X.toBytes=function toBytes(v){return v?this.toBytesLE():this.toBytesBE()},X.toBytesLE=function toBytesLE(){var v=this.high,S=this.low;return[255&S,S>>>8&255,S>>>16&255,S>>>24,255&v,v>>>8&255,v>>>16&255,v>>>24]},X.toBytesBE=function toBytesBE(){var v=this.high,S=this.low;return[v>>>24,v>>>16&255,v>>>8&255,255&v,S>>>24,S>>>16&255,S>>>8&255,255&S]},Long.fromBytes=function fromBytes(v,S,_){return _?Long.fromBytesLE(v,S):Long.fromBytesBE(v,S)},Long.fromBytesLE=function fromBytesLE(v,S){return new Long(v[0]|v[1]<<8|v[2]<<16|v[3]<<24,v[4]|v[5]<<8|v[6]<<16|v[7]<<24,S)},Long.fromBytesBE=function fromBytesBE(v,S){return new Long(v[4]<<24|v[5]<<16|v[6]<<8|v[7],v[0]<<24|v[1]<<16|v[2]<<8|v[3],S)}},250192:function(v,S,_){!function(v,S,_){"use strict";function _interopDefaultLegacy(v){return v&&"object"==typeof v&&"default"in v?v:{default:v}}var E=_interopDefaultLegacy(S),P=_interopDefaultLegacy(_);function _iterableToArrayLimit(v,S){var _=null==v?null:"undefined"!=typeof Symbol&&v[Symbol.iterator]||v["@@iterator"];if(null!=_){var E,P,D,R,M=[],O=!0,F=!1;try{if(D=(_=_.call(v)).next,0===S){if(Object(_)!==_)return;O=!1}else for(;!(O=(E=D.call(_)).done)&&(M.push(E.value),M.length!==S);O=!0);}catch(v){F=!0,P=v}finally{try{if(!O&&null!=_.return&&(R=_.return(),Object(R)!==R))return}finally{if(F)throw P}}return M}}function ownKeys(v,S){var _=Object.keys(v);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(v);S&&(E=E.filter((function(S){return Object.getOwnPropertyDescriptor(v,S).enumerable}))),_.push.apply(_,E)}return _}function _objectSpread2(v){for(var S=1;S<arguments.length;S++){var _=null!=arguments[S]?arguments[S]:{};S%2?ownKeys(Object(_),!0).forEach((function(S){_defineProperty(v,S,_[S])})):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach((function(S){Object.defineProperty(v,S,Object.getOwnPropertyDescriptor(_,S))}))}return v}function _defineProperty(v,S,_){return(S=_toPropertyKey(S))in v?Object.defineProperty(v,S,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[S]=_,v}function _objectWithoutPropertiesLoose(v,S){if(null==v)return{};var _,E,P={},D=Object.keys(v);for(E=0;E<D.length;E++)_=D[E],S.indexOf(_)>=0||(P[_]=v[_]);return P}function _objectWithoutProperties(v,S){if(null==v)return{};var _,E,P=_objectWithoutPropertiesLoose(v,S);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(v);for(E=0;E<D.length;E++)_=D[E],S.indexOf(_)>=0||Object.prototype.propertyIsEnumerable.call(v,_)&&(P[_]=v[_])}return P}function _slicedToArray(v,S){return _arrayWithHoles(v)||_iterableToArrayLimit(v,S)||_unsupportedIterableToArray(v,S)||_nonIterableRest()}function _arrayWithHoles(v){if(Array.isArray(v))return v}function _unsupportedIterableToArray(v,S){if(v){if("string"==typeof v)return _arrayLikeToArray(v,S);var _=Object.prototype.toString.call(v).slice(8,-1);return"Object"===_&&v.constructor&&(_=v.constructor.name),"Map"===_||"Set"===_?Array.from(v):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?_arrayLikeToArray(v,S):void 0}}function _arrayLikeToArray(v,S){(null==S||S>v.length)&&(S=v.length);for(var _=0,E=new Array(S);_<S;_++)E[_]=v[_];return E}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toPrimitive(v,S){if("object"!=typeof v||null===v)return v;var _=v[Symbol.toPrimitive];if(void 0!==_){var E=_.call(v,S||"default");if("object"!=typeof E)return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(v)}function _toPropertyKey(v){var S=_toPrimitive(v,"string");return"symbol"==typeof S?S:String(S)}var D=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],R=function useLottie(v,S){var R=v.animationData,M=v.loop,O=v.autoplay,F=v.initialSegment,N=v.onComplete,L=v.onLoopComplete,U=v.onEnterFrame,V=v.onSegmentStart,G=v.onConfigReady,W=v.onDataReady,$=v.onDataFailed,X=v.onLoadedImages,Y=v.onDOMLoaded,J=v.onDestroy;v.lottieRef,v.renderer,v.name,v.assetsPath,v.rendererSettings;var Z=_objectWithoutProperties(v,D),Q=_slicedToArray(_.useState(!1),2),tt=Q[0],et=Q[1],rt=_.useRef(),nt=_.useRef(null),it=function play(){var v;null===(v=rt.current)||void 0===v||v.play()},st=function stop(){var v;null===(v=rt.current)||void 0===v||v.stop()},ot=function pause(){var v;null===(v=rt.current)||void 0===v||v.pause()},at=function setSpeed(v){var S;null===(S=rt.current)||void 0===S||S.setSpeed(v)},ct=function goToAndPlay(v,S){var _;null===(_=rt.current)||void 0===_||_.goToAndPlay(v,S)},ut=function goToAndStop(v,S){var _;null===(_=rt.current)||void 0===_||_.goToAndStop(v,S)},ht=function setDirection(v){var S;null===(S=rt.current)||void 0===S||S.setDirection(v)},dt=function playSegments(v,S){var _;null===(_=rt.current)||void 0===_||_.playSegments(v,S)},ft=function setSubframe(v){var S;null===(S=rt.current)||void 0===S||S.setSubframe(v)},pt=function getDuration(v){var S;return null===(S=rt.current)||void 0===S?void 0:S.getDuration(v)},mt=function destroy(){var v;null===(v=rt.current)||void 0===v||v.destroy(),rt.current=void 0},yt=function loadAnimation(){var S,_=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(nt.current){null===(S=rt.current)||void 0===S||S.destroy();var P=_objectSpread2(_objectSpread2(_objectSpread2({},v),_),{},{container:nt.current});return rt.current=E.default.loadAnimation(P),et(!!rt.current),function(){var v;null===(v=rt.current)||void 0===v||v.destroy(),rt.current=void 0}}};return _.useEffect((function(){var v=yt();return function(){return null==v?void 0:v()}}),[R,M]),_.useEffect((function(){rt.current&&(rt.current.autoplay=!!O)}),[O]),_.useEffect((function(){rt.current&&(F?Array.isArray(F)&&F.length&&((rt.current.currentRawFrame<F[0]||rt.current.currentRawFrame>F[1])&&(rt.current.currentRawFrame=F[0]),rt.current.setSegment(F[0],F[1])):rt.current.resetSegments(!0))}),[F]),_.useEffect((function(){var v=[{name:"complete",handler:N},{name:"loopComplete",handler:L},{name:"enterFrame",handler:U},{name:"segmentStart",handler:V},{name:"config_ready",handler:G},{name:"data_ready",handler:W},{name:"data_failed",handler:$},{name:"loaded_images",handler:X},{name:"DOMLoaded",handler:Y},{name:"destroy",handler:J}].filter((function(v){return null!=v.handler}));if(v.length){var S=v.map((function(v){var S;return null===(S=rt.current)||void 0===S||S.addEventListener(v.name,v.handler),function(){var S;null===(S=rt.current)||void 0===S||S.removeEventListener(v.name,v.handler)}}));return function(){S.forEach((function(v){return v()}))}}}),[N,L,U,V,G,W,$,X,Y,J]),{View:P.default.createElement("div",_objectSpread2({style:S,ref:nt},Z)),play:it,stop:st,pause:ot,setSpeed:at,goToAndStop:ut,goToAndPlay:ct,setDirection:ht,playSegments:dt,setSubframe:ft,getDuration:pt,destroy:mt,animationContainerRef:nt,animationLoaded:tt,animationItem:rt.current}};function getContainerVisibility(v){var S=v.getBoundingClientRect(),_=S.top,E=S.height;return(window.innerHeight-_)/(window.innerHeight+E)}function getContainerCursorPosition(v,S,_){var E=v.getBoundingClientRect(),P=E.top;return{x:(S-E.left)/E.width,y:(_-P)/E.height}}var M=function useInitInteractivity(v){var S=v.wrapperRef,E=v.animationItem,P=v.mode,D=v.actions;_.useEffect((function(){var v=S.current;if(v&&E&&D.length){E.stop();var _=function scrollModeHandler(){var S=null,_=function scrollHandler(){var _=getContainerVisibility(v),P=D.find((function(v){var S=v.visibility;return S&&_>=S[0]&&_<=S[1]}));if(P){if("seek"===P.type&&P.visibility&&2===P.frames.length){var R=P.frames[0]+Math.ceil((_-P.visibility[0])/(P.visibility[1]-P.visibility[0])*P.frames[1]);E.goToAndStop(R-E.firstFrame-1,!0)}"loop"===P.type&&(null===S||S!==P.frames||E.isPaused)&&(E.playSegments(P.frames,!0),S=P.frames),"play"===P.type&&E.isPaused&&(E.resetSegments(!0),E.play()),"stop"===P.type&&E.goToAndStop(P.frames[0]-E.firstFrame-1,!0)}};return document.addEventListener("scroll",_),function(){document.removeEventListener("scroll",_)}},R=function cursorModeHandler(){var S=function handleCursor(S,_){var P=S,R=_;if(-1!==P&&-1!==R){var M=getContainerCursorPosition(v,P,R);P=M.x,R=M.y}var O=D.find((function(v){var S=v.position;return S&&Array.isArray(S.x)&&Array.isArray(S.y)?P>=S.x[0]&&P<=S.x[1]&&R>=S.y[0]&&R<=S.y[1]:!(!S||Number.isNaN(S.x)||Number.isNaN(S.y))&&P===S.x&&R===S.y}));if(O){if("seek"===O.type&&O.position&&Array.isArray(O.position.x)&&Array.isArray(O.position.y)&&2===O.frames.length){var F=(P-O.position.x[0])/(O.position.x[1]-O.position.x[0]),N=(R-O.position.y[0])/(O.position.y[1]-O.position.y[0]);E.playSegments(O.frames,!0),E.goToAndStop(Math.ceil((F+N)/2*(O.frames[1]-O.frames[0])),!0)}"loop"===O.type&&E.playSegments(O.frames,!0),"play"===O.type&&(E.isPaused&&E.resetSegments(!1),E.playSegments(O.frames)),"stop"===O.type&&E.goToAndStop(O.frames[0],!0)}},_=function mouseMoveHandler(v){S(v.clientX,v.clientY)},P=function mouseOutHandler(){S(-1,-1)};return v.addEventListener("mousemove",_),v.addEventListener("mouseout",P),function(){v.removeEventListener("mousemove",_),v.removeEventListener("mouseout",P)}};switch(P){case"scroll":return _();case"cursor":return R()}}}),[P,E])},O=function useLottieInteractivity(v){var S=v.actions,_=v.mode,E=v.lottieObj,P=E.animationItem,D=E.View,R=E.animationContainerRef;return M({actions:S,animationItem:P,mode:_,wrapperRef:R}),D},F=["style","interactivity"],N=function Lottie(v){var S,E,P,D=v.style,M=v.interactivity,N=_objectWithoutProperties(v,F),L=R(N,D),U=L.View,V=L.play,G=L.stop,W=L.pause,$=L.setSpeed,X=L.goToAndStop,Y=L.goToAndPlay,J=L.setDirection,Z=L.playSegments,Q=L.setSubframe,tt=L.getDuration,et=L.destroy,rt=L.animationContainerRef,nt=L.animationLoaded,it=L.animationItem;return _.useEffect((function(){v.lottieRef&&(v.lottieRef.current={play:V,stop:G,pause:W,setSpeed:$,goToAndPlay:Y,goToAndStop:X,setDirection:J,playSegments:Z,setSubframe:Q,getDuration:tt,destroy:et,animationContainerRef:rt,animationLoaded:nt,animationItem:it})}),[null===(S=v.lottieRef)||void 0===S?void 0:S.current]),O({lottieObj:{View:U,play:V,stop:G,pause:W,setSpeed:$,goToAndStop:X,goToAndPlay:Y,setDirection:J,playSegments:Z,setSubframe:Q,getDuration:tt,destroy:et,animationContainerRef:rt,animationLoaded:nt,animationItem:it},actions:null!==(E=null==M?void 0:M.actions)&&void 0!==E?E:[],mode:null!==(P=null==M?void 0:M.mode)&&void 0!==P?P:"scroll"})};Object.defineProperty(v,"LottiePlayer",{enumerable:!0,get:function(){return E.default}}),v.default=N,v.useLottie=R,v.useLottieInteractivity=O,Object.defineProperty(v,"__esModule",{value:!0})}(S,_(77356),_(514041))},77356:function(module,exports,__webpack_require__){var factory;"undefined"!=typeof navigator&&(factory=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function setWebWorker(v){_useWebWorker=!!v},getWebWorker=function getWebWorker(){return _useWebWorker},setLocationHref=function setLocationHref(v){locationHref=v},getLocationHref=function getLocationHref(){return locationHref};function createTag(v){return document.createElement(v)}function extendPrototype(v,S){var _,E,P=v.length;for(_=0;_<P;_+=1)for(var D in E=v[_].prototype)Object.prototype.hasOwnProperty.call(E,D)&&(S.prototype[D]=E[D])}function getDescriptor(v,S){return Object.getOwnPropertyDescriptor(v,S)}function createProxyFunction(v){function ProxyFunction(){}return ProxyFunction.prototype=v,ProxyFunction}var audioControllerFactory=function(){function AudioController(v){this.audios=[],this.audioFactory=v,this._volume=1,this._isMuted=!1}return AudioController.prototype={addAudio:function addAudio(v){this.audios.push(v)},pause:function pause(){var v,S=this.audios.length;for(v=0;v<S;v+=1)this.audios[v].pause()},resume:function resume(){var v,S=this.audios.length;for(v=0;v<S;v+=1)this.audios[v].resume()},setRate:function setRate(v){var S,_=this.audios.length;for(S=0;S<_;S+=1)this.audios[S].setRate(v)},createAudio:function createAudio(v){return this.audioFactory?this.audioFactory(v):window.Howl?new window.Howl({src:[v]}):{isPlaying:!1,play:function play(){this.isPlaying=!0},seek:function seek(){this.isPlaying=!1},playing:function playing(){},rate:function rate(){},setVolume:function setVolume(){}}},setAudioFactory:function setAudioFactory(v){this.audioFactory=v},setVolume:function setVolume(v){this._volume=v,this._updateVolume()},mute:function mute(){this._isMuted=!0,this._updateVolume()},unmute:function unmute(){this._isMuted=!1,this._updateVolume()},getVolume:function getVolume(){return this._volume},_updateVolume:function _updateVolume(){var v,S=this.audios.length;for(v=0;v<S;v+=1)this.audios[v].volume(this._volume*(this._isMuted?0:1))}},function(){return new AudioController}}(),createTypedArray=function(){function createRegularArray(v,S){var _,E=0,P=[];switch(v){case"int16":case"uint8c":_=1;break;default:_=1.1}for(E=0;E<S;E+=1)P.push(_);return P}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function createTypedArrayFactory(v,S){return"float32"===v?new Float32Array(S):"int16"===v?new Int16Array(S):"uint8c"===v?new Uint8ClampedArray(S):createRegularArray(v,S)}:createRegularArray}();function createSizedArray(v){return Array.apply(null,{length:v})}function _typeof$6(v){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(v){return typeof v}:function _typeof(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},_typeof$6(v)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var v,S=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],_=S.length;for(v=0;v<_;v+=1)BMMath[S[v]]=Math[S[v]]}(),BMMath.random=Math.random,BMMath.abs=function(v){if("object"===_typeof$6(v)&&v.length){var S,_=createSizedArray(v.length),E=v.length;for(S=0;S<E;S+=1)_[S]=Math.abs(v[S]);return _}return Math.abs(v)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(v){_shouldRoundValues=!!v}function bmRnd(v){return _shouldRoundValues?Math.round(v):v}function styleDiv(v){v.style.position="absolute",v.style.top=0,v.style.left=0,v.style.display="block",v.style.transformOrigin="0 0",v.style.webkitTransformOrigin="0 0",v.style.backfaceVisibility="visible",v.style.webkitBackfaceVisibility="visible",v.style.transformStyle="preserve-3d",v.style.webkitTransformStyle="preserve-3d",v.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(v,S,_,E){this.type=v,this.currentTime=S,this.totalTime=_,this.direction=E<0?-1:1}function BMCompleteEvent(v,S){this.type=v,this.direction=S<0?-1:1}function BMCompleteLoopEvent(v,S,_,E){this.type=v,this.currentLoop=_,this.totalLoops=S,this.direction=E<0?-1:1}function BMSegmentStartEvent(v,S,_){this.type=v,this.firstFrame=S,this.totalFrames=_}function BMDestroyEvent(v,S){this.type=v,this.target=S}function BMRenderFrameErrorEvent(v,S){this.type="renderFrameError",this.nativeError=v,this.currentTime=S}function BMConfigErrorEvent(v){this.type="configError",this.nativeError=v}function BMAnimationConfigErrorEvent(v,S){this.type=v,this.nativeError=S}var createElementID=(_count=0,function createID(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(v,S,_){var E,P,D,R,M,O,F,N;switch(O=_*(1-S),F=_*(1-(M=6*v-(R=Math.floor(6*v)))*S),N=_*(1-(1-M)*S),R%6){case 0:E=_,P=N,D=O;break;case 1:E=F,P=_,D=O;break;case 2:E=O,P=_,D=N;break;case 3:E=O,P=F,D=_;break;case 4:E=N,P=O,D=_;break;case 5:E=_,P=O,D=F}return[E,P,D]}function RGBtoHSV(v,S,_){var E,P=Math.max(v,S,_),D=Math.min(v,S,_),R=P-D,M=0===P?0:R/P,O=P/255;switch(P){case D:E=0;break;case v:E=S-_+R*(S<_?6:0),E/=6*R;break;case S:E=_-v+2*R,E/=6*R;break;case _:E=v-S+4*R,E/=6*R}return[E,M,O]}function addSaturationToRGB(v,S){var _=RGBtoHSV(255*v[0],255*v[1],255*v[2]);return _[1]+=S,_[1]>1?_[1]=1:_[1]<=0&&(_[1]=0),HSVtoRGB(_[0],_[1],_[2])}function addBrightnessToRGB(v,S){var _=RGBtoHSV(255*v[0],255*v[1],255*v[2]);return _[2]+=S,_[2]>1?_[2]=1:_[2]<0&&(_[2]=0),HSVtoRGB(_[0],_[1],_[2])}function addHueToRGB(v,S){var _=RGBtoHSV(255*v[0],255*v[1],255*v[2]);return _[0]+=S/360,_[0]>1?_[0]-=1:_[0]<0&&(_[0]+=1),HSVtoRGB(_[0],_[1],_[2])}var rgbToHex=function(){var v,S,_=[];for(v=0;v<256;v+=1)S=v.toString(16),_[v]=1===S.length?"0"+S:S;return function(v,S,E){return v<0&&(v=0),S<0&&(S=0),E<0&&(E=0),"#"+_[v]+_[S]+_[E]}}(),setSubframeEnabled=function setSubframeEnabled(v){subframeEnabled=!!v},getSubframeEnabled=function getSubframeEnabled(){return subframeEnabled},setExpressionsPlugin=function setExpressionsPlugin(v){expressionsPlugin=v},getExpressionsPlugin=function getExpressionsPlugin(){return expressionsPlugin},setExpressionInterfaces=function setExpressionInterfaces(v){expressionsInterfaces=v},getExpressionInterfaces=function getExpressionInterfaces(){return expressionsInterfaces},setDefaultCurveSegments=function setDefaultCurveSegments(v){defaultCurveSegments=v},getDefaultCurveSegments=function getDefaultCurveSegments(){return defaultCurveSegments},setIdPrefix=function setIdPrefix(v){idPrefix$1=v},getIdPrefix=function getIdPrefix(){return idPrefix$1};function createNS(v){return document.createElementNS(svgNS,v)}function _typeof$5(v){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(v){return typeof v}:function _typeof(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},_typeof$5(v)}var dataManager=function(){var v,S,_=1,E=[],P={onmessage:function onmessage(){},postMessage:function postMessage(S){v({data:S})}},D={postMessage:function postMessage(v){P.onmessage({data:v})}};function setupWorker(){S||(S=function createWorker(S){if(window.Worker&&window.Blob&&getWebWorker()){var _=new Blob(["var _workerSelf = self; self.onmessage = ",S.toString()],{type:"text/javascript"}),E=URL.createObjectURL(_);return new Worker(E)}return v=S,P}((function workerStart(v){if(D.dataManager||(D.dataManager=function dataFunctionManager(){function completeLayers(v,S){var _,E,P,D,R,M,O=v.length;for(E=0;E<O;E+=1)if("ks"in(_=v[E])&&!_.completed){if(_.completed=!0,_.hasMask){var F=_.masksProperties;for(D=F.length,P=0;P<D;P+=1)if(F[P].pt.k.i)convertPathsToAbsoluteValues(F[P].pt.k);else for(M=F[P].pt.k.length,R=0;R<M;R+=1)F[P].pt.k[R].s&&convertPathsToAbsoluteValues(F[P].pt.k[R].s[0]),F[P].pt.k[R].e&&convertPathsToAbsoluteValues(F[P].pt.k[R].e[0])}0===_.ty?(_.layers=findCompLayers(_.refId,S),completeLayers(_.layers,S)):4===_.ty?completeShapes(_.shapes):5===_.ty&&completeText(_)}}function findCompLayers(v,S){var _=function findComp(v,S){for(var _=0,E=S.length;_<E;){if(S[_].id===v)return S[_];_+=1}return null}(v,S);return _?_.layers.__used?JSON.parse(JSON.stringify(_.layers)):(_.layers.__used=!0,_.layers):null}function completeShapes(v){var S,_,E;for(S=v.length-1;S>=0;S-=1)if("sh"===v[S].ty)if(v[S].ks.k.i)convertPathsToAbsoluteValues(v[S].ks.k);else for(E=v[S].ks.k.length,_=0;_<E;_+=1)v[S].ks.k[_].s&&convertPathsToAbsoluteValues(v[S].ks.k[_].s[0]),v[S].ks.k[_].e&&convertPathsToAbsoluteValues(v[S].ks.k[_].e[0]);else"gr"===v[S].ty&&completeShapes(v[S].it)}function convertPathsToAbsoluteValues(v){var S,_=v.i.length;for(S=0;S<_;S+=1)v.i[S][0]+=v.v[S][0],v.i[S][1]+=v.v[S][1],v.o[S][0]+=v.v[S][0],v.o[S][1]+=v.v[S][1]}function checkVersion(v,S){var _=S?S.split("."):[100,100,100];return v[0]>_[0]||!(_[0]>v[0])&&(v[1]>_[1]||!(_[1]>v[1])&&(v[2]>_[2]||!(_[2]>v[2])&&null))}var v,S=function(){var v=[4,4,14];function iterateLayers(v){var S,_,E,P=v.length;for(S=0;S<P;S+=1)5===v[S].ty&&(E=void 0,E=(_=v[S]).t.d,_.t.d={k:[{s:E,t:0}]})}return function(S){if(checkVersion(v,S.v)&&(iterateLayers(S.layers),S.assets)){var _,E=S.assets.length;for(_=0;_<E;_+=1)S.assets[_].layers&&iterateLayers(S.assets[_].layers)}}}(),_=(v=[4,7,99],function(S){if(S.chars&&!checkVersion(v,S.v)){var _,E=S.chars.length;for(_=0;_<E;_+=1){var P=S.chars[_];P.data&&P.data.shapes&&(completeShapes(P.data.shapes),P.data.ip=0,P.data.op=99999,P.data.st=0,P.data.sr=1,P.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},S.chars[_].t||(P.data.shapes.push({ty:"no"}),P.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),E=function(){var v=[5,7,15];function iterateLayers(v){var S,_,E=v.length;for(S=0;S<E;S+=1)5===v[S].ty&&(_=void 0,"number"==typeof(_=v[S].t.p).a&&(_.a={a:0,k:_.a}),"number"==typeof _.p&&(_.p={a:0,k:_.p}),"number"==typeof _.r&&(_.r={a:0,k:_.r}))}return function(S){if(checkVersion(v,S.v)&&(iterateLayers(S.layers),S.assets)){var _,E=S.assets.length;for(_=0;_<E;_+=1)S.assets[_].layers&&iterateLayers(S.assets[_].layers)}}}(),P=function(){var v=[4,1,9];function iterateShapes(v){var S,_,E,P=v.length;for(S=0;S<P;S+=1)if("gr"===v[S].ty)iterateShapes(v[S].it);else if("fl"===v[S].ty||"st"===v[S].ty)if(v[S].c.k&&v[S].c.k[0].i)for(E=v[S].c.k.length,_=0;_<E;_+=1)v[S].c.k[_].s&&(v[S].c.k[_].s[0]/=255,v[S].c.k[_].s[1]/=255,v[S].c.k[_].s[2]/=255,v[S].c.k[_].s[3]/=255),v[S].c.k[_].e&&(v[S].c.k[_].e[0]/=255,v[S].c.k[_].e[1]/=255,v[S].c.k[_].e[2]/=255,v[S].c.k[_].e[3]/=255);else v[S].c.k[0]/=255,v[S].c.k[1]/=255,v[S].c.k[2]/=255,v[S].c.k[3]/=255}function iterateLayers(v){var S,_=v.length;for(S=0;S<_;S+=1)4===v[S].ty&&iterateShapes(v[S].shapes)}return function(S){if(checkVersion(v,S.v)&&(iterateLayers(S.layers),S.assets)){var _,E=S.assets.length;for(_=0;_<E;_+=1)S.assets[_].layers&&iterateLayers(S.assets[_].layers)}}}(),D=function(){var v=[4,4,18];function completeClosingShapes(v){var S,_,E;for(S=v.length-1;S>=0;S-=1)if("sh"===v[S].ty)if(v[S].ks.k.i)v[S].ks.k.c=v[S].closed;else for(E=v[S].ks.k.length,_=0;_<E;_+=1)v[S].ks.k[_].s&&(v[S].ks.k[_].s[0].c=v[S].closed),v[S].ks.k[_].e&&(v[S].ks.k[_].e[0].c=v[S].closed);else"gr"===v[S].ty&&completeClosingShapes(v[S].it)}function iterateLayers(v){var S,_,E,P,D,R,M=v.length;for(_=0;_<M;_+=1){if((S=v[_]).hasMask){var O=S.masksProperties;for(P=O.length,E=0;E<P;E+=1)if(O[E].pt.k.i)O[E].pt.k.c=O[E].cl;else for(R=O[E].pt.k.length,D=0;D<R;D+=1)O[E].pt.k[D].s&&(O[E].pt.k[D].s[0].c=O[E].cl),O[E].pt.k[D].e&&(O[E].pt.k[D].e[0].c=O[E].cl)}4===S.ty&&completeClosingShapes(S.shapes)}}return function(S){if(checkVersion(v,S.v)&&(iterateLayers(S.layers),S.assets)){var _,E=S.assets.length;for(_=0;_<E;_+=1)S.assets[_].layers&&iterateLayers(S.assets[_].layers)}}}();function completeText(v){0===v.t.a.length&&v.t.p}var R={completeData:function completeData(v){v.__complete||(P(v),S(v),_(v),E(v),D(v),completeLayers(v.layers,v.assets),function completeChars(v,S){if(v){var _=0,E=v.length;for(_=0;_<E;_+=1)1===v[_].t&&(v[_].data.layers=findCompLayers(v[_].data.refId,S),completeLayers(v[_].data.layers,S))}}(v.chars,v.assets),v.__complete=!0)}};return R.checkColors=P,R.checkChars=_,R.checkPathProperties=E,R.checkShapes=D,R.completeLayers=completeLayers,R}()),D.assetLoader||(D.assetLoader=function(){function formatResponse(v){var S=v.getResponseHeader("content-type");return S&&"json"===v.responseType&&-1!==S.indexOf("json")||v.response&&"object"===_typeof$5(v.response)?v.response:v.response&&"string"==typeof v.response?JSON.parse(v.response):v.responseText?JSON.parse(v.responseText):null}return{load:function loadAsset(v,S,_,E){var P,D=new XMLHttpRequest;try{D.responseType="json"}catch(v){}D.onreadystatechange=function(){if(4===D.readyState)if(200===D.status)P=formatResponse(D),_(P);else try{P=formatResponse(D),_(P)}catch(v){E&&E(v)}};try{D.open(["G","E","T"].join(""),v,!0)}catch(_){D.open(["G","E","T"].join(""),S+"/"+v,!0)}D.send()}}}()),"loadAnimation"===v.data.type)D.assetLoader.load(v.data.path,v.data.fullPath,(function(S){D.dataManager.completeData(S),D.postMessage({id:v.data.id,payload:S,status:"success"})}),(function(){D.postMessage({id:v.data.id,status:"error"})}));else if("complete"===v.data.type){var S=v.data.animation;D.dataManager.completeData(S),D.postMessage({id:v.data.id,payload:S,status:"success"})}else"loadData"===v.data.type&&D.assetLoader.load(v.data.path,v.data.fullPath,(function(S){D.postMessage({id:v.data.id,payload:S,status:"success"})}),(function(){D.postMessage({id:v.data.id,status:"error"})}))})),S.onmessage=function(v){var S=v.data,_=S.id,P=E[_];E[_]=null,"success"===S.status?P.onComplete(S.payload):P.onError&&P.onError()})}function createProcess(v,S){var P="processId_"+(_+=1);return E[P]={onComplete:v,onError:S},P}return{loadAnimation:function loadAnimation(v,_,E){setupWorker();var P=createProcess(_,E);S.postMessage({type:"loadAnimation",path:v,fullPath:window.location.origin+window.location.pathname,id:P})},loadData:function loadData(v,_,E){setupWorker();var P=createProcess(_,E);S.postMessage({type:"loadData",path:v,fullPath:window.location.origin+window.location.pathname,id:P})},completeAnimation:function completeAnimation(v,_,E){setupWorker();var P=createProcess(_,E);S.postMessage({type:"complete",animation:v,id:P})}}}(),ImagePreloader=function(){var v=function(){var v=createTag("canvas");v.width=1,v.height=1;var S=v.getContext("2d");return S.fillStyle="rgba(0,0,0,0)",S.fillRect(0,0,1,1),v}();function imageLoaded(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function footageLoaded(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function getAssetsPath(v,S,_){var E="";if(v.e)E=v.p;else if(S){var P=v.p;-1!==P.indexOf("images/")&&(P=P.split("/")[1]),E=S+P}else E=_,E+=v.u?v.u:"",E+=v.p;return E}function testImageLoaded(v){var S=0,_=setInterval(function(){(v.getBBox().width||S>500)&&(this._imageLoaded(),clearInterval(_)),S+=1}.bind(this),50)}function createFootageData(v){var S={assetData:v},_=getAssetsPath(v,this.assetsPath,this.path);return dataManager.loadData(_,function(v){S.img=v,this._footageLoaded()}.bind(this),function(){S.img={},this._footageLoaded()}.bind(this)),S}function ImagePreloaderFactory(){this._imageLoaded=imageLoaded.bind(this),this._footageLoaded=footageLoaded.bind(this),this.testImageLoaded=testImageLoaded.bind(this),this.createFootageData=createFootageData.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ImagePreloaderFactory.prototype={loadAssets:function loadAssets(v,S){var _;this.imagesLoadedCb=S;var E=v.length;for(_=0;_<E;_+=1)v[_].layers||(v[_].t&&"seq"!==v[_].t?3===v[_].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(v[_]))):(this.totalImages+=1,this.images.push(this._createImageData(v[_]))))},setAssetsPath:function setAssetsPath(v){this.assetsPath=v||""},setPath:function setPath(v){this.path=v||""},loadedImages:function loadedImages(){return this.totalImages===this.loadedAssets},loadedFootages:function loadedFootages(){return this.totalFootages===this.loadedFootagesCount},destroy:function destroy(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function getAsset(v){for(var S=0,_=this.images.length;S<_;){if(this.images[S].assetData===v)return this.images[S].img;S+=1}return null},createImgData:function createImgData(S){var _=getAssetsPath(S,this.assetsPath,this.path),E=createTag("img");E.crossOrigin="anonymous",E.addEventListener("load",this._imageLoaded,!1),E.addEventListener("error",function(){P.img=v,this._imageLoaded()}.bind(this),!1),E.src=_;var P={img:E,assetData:S};return P},createImageData:function createImageData(S){var _=getAssetsPath(S,this.assetsPath,this.path),E=createNS("image");isSafari?this.testImageLoaded(E):E.addEventListener("load",this._imageLoaded,!1),E.addEventListener("error",function(){P.img=v,this._imageLoaded()}.bind(this),!1),E.setAttributeNS("http://www.w3.org/1999/xlink","href",_),this._elementHelper.append?this._elementHelper.append(E):this._elementHelper.appendChild(E);var P={img:E,assetData:S};return P},imageLoaded,footageLoaded,setCacheType:function setCacheType(v,S){"svg"===v?(this._elementHelper=S,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},ImagePreloaderFactory}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function triggerEvent(v,S){if(this._cbs[v])for(var _=this._cbs[v],E=0;E<_.length;E+=1)_[E](S)},addEventListener:function addEventListener(v,S){return this._cbs[v]||(this._cbs[v]=[]),this._cbs[v].push(S),function(){this.removeEventListener(v,S)}.bind(this)},removeEventListener:function removeEventListener(v,S){if(S){if(this._cbs[v]){for(var _=0,E=this._cbs[v].length;_<E;)this._cbs[v][_]===S&&(this._cbs[v].splice(_,1),_-=1,E-=1),_+=1;this._cbs[v].length||(this._cbs[v]=null)}}else this._cbs[v]=null}};var markerParser=function(){function parsePayloadLines(v){for(var S,_=v.split("\r\n"),E={},P=0,D=0;D<_.length;D+=1)2===(S=_[D].split(":")).length&&(E[S[0]]=S[1].trim(),P+=1);if(0===P)throw new Error;return E}return function(v){for(var S=[],_=0;_<v.length;_+=1){var E=v[_],P={time:E.tm,duration:E.dr};try{P.payload=JSON.parse(v[_].cm)}catch(S){try{P.payload=parsePayloadLines(v[_].cm)}catch(S){P.payload={name:v[_].cm}}}S.push(P)}return S}}(),ProjectInterface=function(){function registerComposition(v){this.compositions.push(v)}return function(){function _thisProjectFunction(v){for(var S=0,_=this.compositions.length;S<_;){if(this.compositions[S].data&&this.compositions[S].data.nm===v)return this.compositions[S].prepareFrame&&this.compositions[S].data.xt&&this.compositions[S].prepareFrame(this.currentFrame),this.compositions[S].compInterface;S+=1}return null}return _thisProjectFunction.compositions=[],_thisProjectFunction.currentFrame=0,_thisProjectFunction.registerComposition=registerComposition,_thisProjectFunction}}(),renderers={},registerRenderer=function registerRenderer(v,S){renderers[v]=S};function getRenderer(v){return renderers[v]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var v in renderers)if(renderers[v])return v;return""}function _typeof$4(v){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(v){return typeof v}:function _typeof(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},_typeof$4(v)}var AnimationItem=function AnimationItem(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(v){(v.wrapper||v.container)&&(this.wrapper=v.wrapper||v.container);var S="svg";v.animType?S=v.animType:v.renderer&&(S=v.renderer);var _=getRenderer(S);this.renderer=new _(this,v.rendererSettings),this.imagePreloader.setCacheType(S,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=S,""===v.loop||null===v.loop||void 0===v.loop||!0===v.loop?this.loop=!0:!1===v.loop?this.loop=!1:this.loop=parseInt(v.loop,10),this.autoplay=!("autoplay"in v)||v.autoplay,this.name=v.name?v.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(v,"autoloadSegments")||v.autoloadSegments,this.assetsPath=v.assetsPath,this.initialSegment=v.initialSegment,v.audioFactory&&this.audioController.setAudioFactory(v.audioFactory),v.animationData?this.setupAnimation(v.animationData):v.path&&(-1!==v.path.lastIndexOf("\\")?this.path=v.path.substr(0,v.path.lastIndexOf("\\")+1):this.path=v.path.substr(0,v.path.lastIndexOf("/")+1),this.fileName=v.path.substr(v.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(v.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(v){dataManager.completeAnimation(v,this.configAnimation)},AnimationItem.prototype.setData=function(v,S){S&&"object"!==_typeof$4(S)&&(S=JSON.parse(S));var _={wrapper:v,animationData:S},E=v.attributes;_.path=E.getNamedItem("data-animation-path")?E.getNamedItem("data-animation-path").value:E.getNamedItem("data-bm-path")?E.getNamedItem("data-bm-path").value:E.getNamedItem("bm-path")?E.getNamedItem("bm-path").value:"",_.animType=E.getNamedItem("data-anim-type")?E.getNamedItem("data-anim-type").value:E.getNamedItem("data-bm-type")?E.getNamedItem("data-bm-type").value:E.getNamedItem("bm-type")?E.getNamedItem("bm-type").value:E.getNamedItem("data-bm-renderer")?E.getNamedItem("data-bm-renderer").value:E.getNamedItem("bm-renderer")?E.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var P=E.getNamedItem("data-anim-loop")?E.getNamedItem("data-anim-loop").value:E.getNamedItem("data-bm-loop")?E.getNamedItem("data-bm-loop").value:E.getNamedItem("bm-loop")?E.getNamedItem("bm-loop").value:"";"false"===P?_.loop=!1:"true"===P?_.loop=!0:""!==P&&(_.loop=parseInt(P,10));var D=E.getNamedItem("data-anim-autoplay")?E.getNamedItem("data-anim-autoplay").value:E.getNamedItem("data-bm-autoplay")?E.getNamedItem("data-bm-autoplay").value:!E.getNamedItem("bm-autoplay")||E.getNamedItem("bm-autoplay").value;_.autoplay="false"!==D,_.name=E.getNamedItem("data-name")?E.getNamedItem("data-name").value:E.getNamedItem("data-bm-name")?E.getNamedItem("data-bm-name").value:E.getNamedItem("bm-name")?E.getNamedItem("bm-name").value:"","false"===(E.getNamedItem("data-anim-prerender")?E.getNamedItem("data-anim-prerender").value:E.getNamedItem("data-bm-prerender")?E.getNamedItem("data-bm-prerender").value:E.getNamedItem("bm-prerender")?E.getNamedItem("bm-prerender").value:"")&&(_.prerender=!1),_.path?this.setParams(_):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(v){v.op>this.animationData.op&&(this.animationData.op=v.op,this.totalFrames=Math.floor(v.op-this.animationData.ip));var S,_,E=this.animationData.layers,P=E.length,D=v.layers,R=D.length;for(_=0;_<R;_+=1)for(S=0;S<P;){if(E[S].id===D[_].id){E[S]=D[_];break}S+=1}if((v.chars||v.fonts)&&(this.renderer.globalData.fontManager.addChars(v.chars),this.renderer.globalData.fontManager.addFonts(v.fonts,this.renderer.globalData.defs)),v.assets)for(P=v.assets.length,S=0;S<P;S+=1)this.animationData.assets.push(v.assets[S]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(v){this.animationData=v;var S=getExpressionsPlugin();S&&S.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var v=this.animationData.segments;if(!v||0===v.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var S=v.shift();this.timeCompleted=S.time*this.frameRate;var _=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(_,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(v){if(this.renderer)try{this.animationData=v,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(v),v.assets||(v.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(v.assets),this.markers=markerParser(v.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(v){this.triggerConfigError(v)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var v=getExpressionsPlugin();v&&v.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(v,S){var _="number"==typeof v?v:void 0,E="number"==typeof S?S:void 0;this.renderer.updateContainerSize(_,E)},AnimationItem.prototype.setSubframe=function(v){this.isSubframeEnabled=!!v},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(v){this.triggerRenderFrameError(v)}},AnimationItem.prototype.play=function(v){v&&this.name!==v||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(v){v&&this.name!==v||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(v){v&&this.name!==v||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(v){v&&this.name!==v||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(v){for(var S,_=0;_<this.markers.length;_+=1)if((S=this.markers[_]).payload&&S.payload.name===v)return S;return null},AnimationItem.prototype.goToAndStop=function(v,S,_){if(!_||this.name===_){var E=Number(v);if(isNaN(E)){var P=this.getMarkerData(v);P&&this.goToAndStop(P.time,!0)}else S?this.setCurrentRawFrameValue(v):this.setCurrentRawFrameValue(v*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(v,S,_){if(!_||this.name===_){var E=Number(v);if(isNaN(E)){var P=this.getMarkerData(v);P&&(P.duration?this.playSegments([P.time,P.time+P.duration],!0):this.goToAndStop(P.time,!0))}else this.goToAndStop(E,S,_);this.play()}},AnimationItem.prototype.advanceTime=function(v){if(!0!==this.isPaused&&!1!==this.isLoaded){var S=this.currentRawFrame+v*this.frameModifier,_=!1;S>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?S>=this.totalFrames?(this.playCount+=1,this.checkSegments(S%this.totalFrames)||(this.setCurrentRawFrameValue(S%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(S):this.checkSegments(S>this.totalFrames?S%this.totalFrames:0)||(_=!0,S=this.totalFrames-1):S<0?this.checkSegments(S%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(_=!0,S=0):(this.setCurrentRawFrameValue(this.totalFrames+S%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(S),_&&(this.setCurrentRawFrameValue(S),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(v,S){this.playCount=0,v[1]<v[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=v[0]-v[1],this.timeCompleted=this.totalFrames,this.firstFrame=v[1],this.setCurrentRawFrameValue(this.totalFrames-.001-S)):v[1]>v[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=v[1]-v[0],this.timeCompleted=this.totalFrames,this.firstFrame=v[0],this.setCurrentRawFrameValue(.001+S)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(v,S){var _=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<v?_=v:this.currentRawFrame+this.firstFrame>S&&(_=S-v)),this.firstFrame=v,this.totalFrames=S-v,this.timeCompleted=this.totalFrames,-1!==_&&this.goToAndStop(_,!0)},AnimationItem.prototype.playSegments=function(v,S){if(S&&(this.segments.length=0),"object"===_typeof$4(v[0])){var _,E=v.length;for(_=0;_<E;_+=1)this.segments.push(v[_])}else this.segments.push(v);this.segments.length&&S&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(v){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),v&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(v){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),v),!0)},AnimationItem.prototype.destroy=function(v){v&&this.name!==v||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(v){this.currentRawFrame=v,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(v){this.playSpeed=v,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(v){this.playDirection=v<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(v){this.loop=v},AnimationItem.prototype.setVolume=function(v,S){S&&this.name!==S||this.audioController.setVolume(v)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(v){v&&this.name!==v||this.audioController.mute()},AnimationItem.prototype.unmute=function(v){v&&this.name!==v||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(v){var S="";if(v.e)S=v.p;else if(this.assetsPath){var _=v.p;-1!==_.indexOf("images/")&&(_=_.split("/")[1]),S=this.assetsPath+_}else S=this.path,S+=v.u?v.u:"",S+=v.p;return S},AnimationItem.prototype.getAssetData=function(v){for(var S=0,_=this.assets.length;S<_;){if(v===this.assets[S].id)return this.assets[S];S+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(v){return v?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(v,S,_){try{this.renderer.getElementByPath(v).updateDocumentData(S,_)}catch(v){}},AnimationItem.prototype.trigger=function(v){if(this._cbs&&this._cbs[v])switch(v){case"enterFrame":this.triggerEvent(v,new BMEnterFrameEvent(v,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(v,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(v,new BMCompleteLoopEvent(v,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(v,new BMCompleteEvent(v,this.frameMult));break;case"segmentStart":this.triggerEvent(v,new BMSegmentStartEvent(v,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(v,new BMDestroyEvent(v,this));break;default:this.triggerEvent(v)}"enterFrame"===v&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(v,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===v&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(v,this.loop,this.playCount,this.frameMult)),"complete"===v&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(v,this.frameMult)),"segmentStart"===v&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(v,this.firstFrame,this.totalFrames)),"destroy"===v&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(v,this))},AnimationItem.prototype.triggerRenderFrameError=function(v){var S=new BMRenderFrameErrorEvent(v,this.currentFrame);this.triggerEvent("error",S),this.onError&&this.onError.call(this,S)},AnimationItem.prototype.triggerConfigError=function(v){var S=new BMConfigErrorEvent(v,this.currentFrame);this.triggerEvent("error",S),this.onError&&this.onError.call(this,S)};var animationManager=function(){var v={},S=[],_=0,E=0,P=0,D=!0,R=!1;function removeElement(v){for(var _=0,P=v.target;_<E;)S[_].animation===P&&(S.splice(_,1),_-=1,E-=1,P.isPaused||subtractPlayingCount()),_+=1}function registerAnimation(v,_){if(!v)return null;for(var P=0;P<E;){if(S[P].elem===v&&null!==S[P].elem)return S[P].animation;P+=1}var D=new AnimationItem;return setupAnimation(D,v),D.setData(v,_),D}function addPlayingCount(){P+=1,activate()}function subtractPlayingCount(){P-=1}function setupAnimation(v,_){v.addEventListener("destroy",removeElement),v.addEventListener("_active",addPlayingCount),v.addEventListener("_idle",subtractPlayingCount),S.push({elem:_,animation:v}),E+=1}function resume(v){var M,O=v-_;for(M=0;M<E;M+=1)S[M].animation.advanceTime(O);_=v,P&&!R?window.requestAnimationFrame(resume):D=!0}function first(v){_=v,window.requestAnimationFrame(resume)}function activate(){!R&&P&&D&&(window.requestAnimationFrame(first),D=!1)}return v.registerAnimation=registerAnimation,v.loadAnimation=function loadAnimation(v){var S=new AnimationItem;return setupAnimation(S,null),S.setParams(v),S},v.setSpeed=function setSpeed(v,_){var P;for(P=0;P<E;P+=1)S[P].animation.setSpeed(v,_)},v.setDirection=function setDirection(v,_){var P;for(P=0;P<E;P+=1)S[P].animation.setDirection(v,_)},v.play=function play(v){var _;for(_=0;_<E;_+=1)S[_].animation.play(v)},v.pause=function pause(v){var _;for(_=0;_<E;_+=1)S[_].animation.pause(v)},v.stop=function stop(v){var _;for(_=0;_<E;_+=1)S[_].animation.stop(v)},v.togglePause=function togglePause(v){var _;for(_=0;_<E;_+=1)S[_].animation.togglePause(v)},v.searchAnimations=function searchAnimations(v,S,_){var E,P=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),D=P.length;for(E=0;E<D;E+=1)_&&P[E].setAttribute("data-bm-type",_),registerAnimation(P[E],v);if(S&&0===D){_||(_="svg");var R=document.getElementsByTagName("body")[0];R.innerText="";var M=createTag("div");M.style.width="100%",M.style.height="100%",M.setAttribute("data-bm-type",_),R.appendChild(M),registerAnimation(M,v)}},v.resize=function resize(){var v;for(v=0;v<E;v+=1)S[v].animation.resize()},v.goToAndStop=function goToAndStop(v,_,P){var D;for(D=0;D<E;D+=1)S[D].animation.goToAndStop(v,_,P)},v.destroy=function destroy(v){var _;for(_=E-1;_>=0;_-=1)S[_].animation.destroy(v)},v.freeze=function freeze(){R=!0},v.unfreeze=function unfreeze(){R=!1,activate()},v.setVolume=function setVolume(v,_){var P;for(P=0;P<E;P+=1)S[P].animation.setVolume(v,_)},v.mute=function mute(v){var _;for(_=0;_<E;_+=1)S[_].animation.mute(v)},v.unmute=function unmute(v){var _;for(_=0;_<E;_+=1)S[_].animation.unmute(v)},v.getRegisteredAnimations=function getRegisteredAnimations(){var v,_=S.length,E=[];for(v=0;v<_;v+=1)E.push(S[v].animation);return E},v}(),BezierFactory=function(){var v={getBezierEasing:function getBezierEasing(v,_,E,P,D){var R=D||("bez_"+v+"_"+_+"_"+E+"_"+P).replace(/\./g,"p");if(S[R])return S[R];var M=new BezierEasing([v,_,E,P]);return S[R]=M,M}},S={},_=11,E=1/(_-1),P="function"==typeof Float32Array;function A(v,S){return 1-3*S+3*v}function B(v,S){return 3*S-6*v}function C(v){return 3*v}function calcBezier(v,S,_){return((A(S,_)*v+B(S,_))*v+C(S))*v}function getSlope(v,S,_){return 3*A(S,_)*v*v+2*B(S,_)*v+C(S)}function BezierEasing(v){this._p=v,this._mSampleValues=P?new Float32Array(_):new Array(_),this._precomputed=!1,this.get=this.get.bind(this)}return BezierEasing.prototype={get:function get(v){var S=this._p[0],_=this._p[1],E=this._p[2],P=this._p[3];return this._precomputed||this._precompute(),S===_&&E===P?v:0===v?0:1===v?1:calcBezier(this._getTForX(v),_,P)},_precompute:function _precompute(){var v=this._p[0],S=this._p[1],_=this._p[2],E=this._p[3];this._precomputed=!0,v===S&&_===E||this._calcSampleValues()},_calcSampleValues:function _calcSampleValues(){for(var v=this._p[0],S=this._p[2],P=0;P<_;++P)this._mSampleValues[P]=calcBezier(P*E,v,S)},_getTForX:function _getTForX(v){for(var S=this._p[0],P=this._p[2],D=this._mSampleValues,R=0,M=1,O=_-1;M!==O&&D[M]<=v;++M)R+=E;var F=R+(v-D[--M])/(D[M+1]-D[M])*E,N=getSlope(F,S,P);return N>=.001?function newtonRaphsonIterate(v,S,_,E){for(var P=0;P<4;++P){var D=getSlope(S,_,E);if(0===D)return S;S-=(calcBezier(S,_,E)-v)/D}return S}(v,F,S,P):0===N?F:function binarySubdivide(v,S,_,E,P){var D,R,M=0;do{(D=calcBezier(R=S+(_-S)/2,E,P)-v)>0?_=R:S=R}while(Math.abs(D)>1e-7&&++M<10);return R}(v,R,R+E,S,P)}},v}(),pooling={double:function _double(v){return v.concat(createSizedArray(v.length))}},poolFactory=function(v,S,_){var E=0,P=v,D=createSizedArray(P);return{newElement:function newElement(){return E?D[E-=1]:S()},release:function release(v){E===P&&(D=pooling.double(D),P*=2),_&&_(v),D[E]=v,E+=1}}},bezierLengthPool=poolFactory(8,(function create(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function create(){return{lengths:[],totalLength:0}}),(function release(v){var S,_=v.lengths.length;for(S=0;S<_;S+=1)bezierLengthPool.release(v.lengths[S]);v.lengths.length=0}));function bezFunction(){var v=Math;function pointOnLine2D(v,S,_,E,P,D){var R=v*E+S*P+_*D-P*E-D*v-_*S;return R>-.001&&R<.001}var getBezierLength=function(v,S,_,E){var P,D,R,M,O,F,N=getDefaultCurveSegments(),L=0,U=[],V=[],G=bezierLengthPool.newElement();for(R=_.length,P=0;P<N;P+=1){for(O=P/(N-1),F=0,D=0;D<R;D+=1)M=bmPow(1-O,3)*v[D]+3*bmPow(1-O,2)*O*_[D]+3*(1-O)*bmPow(O,2)*E[D]+bmPow(O,3)*S[D],U[D]=M,null!==V[D]&&(F+=bmPow(U[D]-V[D],2)),V[D]=U[D];F&&(L+=F=bmSqrt(F)),G.percents[P]=O,G.lengths[P]=L}return G.addedLength=L,G};function BezierData(v){this.segmentLength=0,this.points=new Array(v)}function PointData(v,S){this.partialLength=v,this.point=S}var S,_=(S={},function(v,_,E,P){var D=(v[0]+"_"+v[1]+"_"+_[0]+"_"+_[1]+"_"+E[0]+"_"+E[1]+"_"+P[0]+"_"+P[1]).replace(/\./g,"p");if(!S[D]){var R,M,O,F,N,L,U,V=getDefaultCurveSegments(),G=0,W=null;2===v.length&&(v[0]!==_[0]||v[1]!==_[1])&&pointOnLine2D(v[0],v[1],_[0],_[1],v[0]+E[0],v[1]+E[1])&&pointOnLine2D(v[0],v[1],_[0],_[1],_[0]+P[0],_[1]+P[1])&&(V=2);var $=new BezierData(V);for(O=E.length,R=0;R<V;R+=1){for(U=createSizedArray(O),N=R/(V-1),L=0,M=0;M<O;M+=1)F=bmPow(1-N,3)*v[M]+3*bmPow(1-N,2)*N*(v[M]+E[M])+3*(1-N)*bmPow(N,2)*(_[M]+P[M])+bmPow(N,3)*_[M],U[M]=F,null!==W&&(L+=bmPow(U[M]-W[M],2));G+=L=bmSqrt(L),$.points[R]=new PointData(L,U),W=U}$.segmentLength=G,S[D]=$}return S[D]});function getDistancePerc(v,S){var _=S.percents,E=S.lengths,P=_.length,D=bmFloor((P-1)*v),R=v*S.addedLength,M=0;if(D===P-1||0===D||R===E[D])return _[D];for(var O=E[D]>R?-1:1,F=!0;F;)if(E[D]<=R&&E[D+1]>R?(M=(R-E[D])/(E[D+1]-E[D]),F=!1):D+=O,D<0||D>=P-1){if(D===P-1)return _[D];F=!1}return _[D]+(_[D+1]-_[D])*M}var E=createTypedArray("float32",8);return{getSegmentsLength:function getSegmentsLength(v){var S,_=segmentsLengthPool.newElement(),E=v.c,P=v.v,D=v.o,R=v.i,M=v._length,O=_.lengths,F=0;for(S=0;S<M-1;S+=1)O[S]=getBezierLength(P[S],P[S+1],D[S],R[S+1]),F+=O[S].addedLength;return E&&M&&(O[S]=getBezierLength(P[S],P[0],D[S],R[0]),F+=O[S].addedLength),_.totalLength=F,_},getNewSegment:function getNewSegment(S,_,P,D,R,M,O){R<0?R=0:R>1&&(R=1);var F,N=getDistancePerc(R,O),L=getDistancePerc(M=M>1?1:M,O),U=S.length,V=1-N,G=1-L,W=V*V*V,$=N*V*V*3,X=N*N*V*3,Y=N*N*N,J=V*V*G,Z=N*V*G+V*N*G+V*V*L,Q=N*N*G+V*N*L+N*V*L,tt=N*N*L,et=V*G*G,rt=N*G*G+V*L*G+V*G*L,nt=N*L*G+V*L*L+N*G*L,it=N*L*L,st=G*G*G,ot=L*G*G+G*L*G+G*G*L,at=L*L*G+G*L*L+L*G*L,ct=L*L*L;for(F=0;F<U;F+=1)E[4*F]=v.round(1e3*(W*S[F]+$*P[F]+X*D[F]+Y*_[F]))/1e3,E[4*F+1]=v.round(1e3*(J*S[F]+Z*P[F]+Q*D[F]+tt*_[F]))/1e3,E[4*F+2]=v.round(1e3*(et*S[F]+rt*P[F]+nt*D[F]+it*_[F]))/1e3,E[4*F+3]=v.round(1e3*(st*S[F]+ot*P[F]+at*D[F]+ct*_[F]))/1e3;return E},getPointInSegment:function getPointInSegment(S,_,E,P,D,R){var M=getDistancePerc(D,R),O=1-M;return[v.round(1e3*(O*O*O*S[0]+(M*O*O+O*M*O+O*O*M)*E[0]+(M*M*O+O*M*M+M*O*M)*P[0]+M*M*M*_[0]))/1e3,v.round(1e3*(O*O*O*S[1]+(M*O*O+O*M*O+O*O*M)*E[1]+(M*M*O+O*M*M+M*O*M)*P[1]+M*M*M*_[1]))/1e3]},buildBezierData:_,pointOnLine2D,pointOnLine3D:function pointOnLine3D(S,_,E,P,D,R,M,O,F){if(0===E&&0===R&&0===F)return pointOnLine2D(S,_,P,D,M,O);var N,L=v.sqrt(v.pow(P-S,2)+v.pow(D-_,2)+v.pow(R-E,2)),U=v.sqrt(v.pow(M-S,2)+v.pow(O-_,2)+v.pow(F-E,2)),V=v.sqrt(v.pow(M-P,2)+v.pow(O-D,2)+v.pow(F-R,2));return(N=L>U?L>V?L-U-V:V-U-L:V>U?V-U-L:U-L-V)>-1e-4&&N<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(v,S){var _,E=this.offsetTime;"multidimensional"===this.propType&&(_=createTypedArray("float32",this.pv.length));for(var P,D,R,M,O,F,N,L,U,V=S.lastIndex,G=V,W=this.keyframes.length-1,$=!0;$;){if(P=this.keyframes[G],D=this.keyframes[G+1],G===W-1&&v>=D.t-E){P.h&&(P=D),V=0;break}if(D.t-E>v){V=G;break}G<W-1?G+=1:(V=0,$=!1)}R=this.keyframesMetadata[G]||{};var X,Y=D.t-E,J=P.t-E;if(P.to){R.bezierData||(R.bezierData=bez.buildBezierData(P.s,D.s||P.e,P.to,P.ti));var Z=R.bezierData;if(v>=Y||v<J){var Q=v>=Y?Z.points.length-1:0;for(O=Z.points[Q].point.length,M=0;M<O;M+=1)_[M]=Z.points[Q].point[M]}else{R.__fnct?U=R.__fnct:(U=BezierFactory.getBezierEasing(P.o.x,P.o.y,P.i.x,P.i.y,P.n).get,R.__fnct=U),F=U((v-J)/(Y-J));var tt,et=Z.segmentLength*F,rt=S.lastFrame<v&&S._lastKeyframeIndex===G?S._lastAddedLength:0;for(L=S.lastFrame<v&&S._lastKeyframeIndex===G?S._lastPoint:0,$=!0,N=Z.points.length;$;){if(rt+=Z.points[L].partialLength,0===et||0===F||L===Z.points.length-1){for(O=Z.points[L].point.length,M=0;M<O;M+=1)_[M]=Z.points[L].point[M];break}if(et>=rt&&et<rt+Z.points[L+1].partialLength){for(tt=(et-rt)/Z.points[L+1].partialLength,O=Z.points[L].point.length,M=0;M<O;M+=1)_[M]=Z.points[L].point[M]+(Z.points[L+1].point[M]-Z.points[L].point[M])*tt;break}L<N-1?L+=1:$=!1}S._lastPoint=L,S._lastAddedLength=rt-Z.points[L].partialLength,S._lastKeyframeIndex=G}}else{var nt,it,st,ot,at;if(W=P.s.length,X=D.s||P.e,this.sh&&1!==P.h)v>=Y?(_[0]=X[0],_[1]=X[1],_[2]=X[2]):v<=J?(_[0]=P.s[0],_[1]=P.s[1],_[2]=P.s[2]):quaternionToEuler(_,slerp(createQuaternion(P.s),createQuaternion(X),(v-J)/(Y-J)));else for(G=0;G<W;G+=1)1!==P.h&&(v>=Y?F=1:v<J?F=0:(P.o.x.constructor===Array?(R.__fnct||(R.__fnct=[]),R.__fnct[G]?U=R.__fnct[G]:(nt=void 0===P.o.x[G]?P.o.x[0]:P.o.x[G],it=void 0===P.o.y[G]?P.o.y[0]:P.o.y[G],st=void 0===P.i.x[G]?P.i.x[0]:P.i.x[G],ot=void 0===P.i.y[G]?P.i.y[0]:P.i.y[G],U=BezierFactory.getBezierEasing(nt,it,st,ot).get,R.__fnct[G]=U)):R.__fnct?U=R.__fnct:(nt=P.o.x,it=P.o.y,st=P.i.x,ot=P.i.y,U=BezierFactory.getBezierEasing(nt,it,st,ot).get,P.keyframeMetadata=U),F=U((v-J)/(Y-J)))),X=D.s||P.e,at=1===P.h?P.s[G]:P.s[G]+(X[G]-P.s[G])*F,"multidimensional"===this.propType?_[G]=at:_=at}return S.lastIndex=V,_}function slerp(v,S,_){var E,P,D,R,M,O=[],F=v[0],N=v[1],L=v[2],U=v[3],V=S[0],G=S[1],W=S[2],$=S[3];return(P=F*V+N*G+L*W+U*$)<0&&(P=-P,V=-V,G=-G,W=-W,$=-$),1-P>1e-6?(E=Math.acos(P),D=Math.sin(E),R=Math.sin((1-_)*E)/D,M=Math.sin(_*E)/D):(R=1-_,M=_),O[0]=R*F+M*V,O[1]=R*N+M*G,O[2]=R*L+M*W,O[3]=R*U+M*$,O}function quaternionToEuler(v,S){var _=S[0],E=S[1],P=S[2],D=S[3],R=Math.atan2(2*E*D-2*_*P,1-2*E*E-2*P*P),M=Math.asin(2*_*E+2*P*D),O=Math.atan2(2*_*D-2*E*P,1-2*_*_-2*P*P);v[0]=R/degToRads,v[1]=M/degToRads,v[2]=O/degToRads}function createQuaternion(v){var S=v[0]*degToRads,_=v[1]*degToRads,E=v[2]*degToRads,P=Math.cos(S/2),D=Math.cos(_/2),R=Math.cos(E/2),M=Math.sin(S/2),O=Math.sin(_/2),F=Math.sin(E/2);return[M*O*R+P*D*F,M*D*R+P*O*F,P*O*R-M*D*F,P*D*R-M*O*F]}function getValueAtCurrentTime(){var v=this.comp.renderedFrame-this.offsetTime,S=this.keyframes[0].t-this.offsetTime,_=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(v===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=_&&v>=_||this._caching.lastFrame<S&&v<S))){this._caching.lastFrame>=v&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var E=this.interpolateValue(v,this._caching);this.pv=E}return this._caching.lastFrame=v,this.pv}function setVValue(v){var S;if("unidimensional"===this.propType)S=v*this.mult,mathAbs(this.v-S)>1e-5&&(this.v=S,this._mdf=!0);else for(var _=0,E=this.v.length;_<E;)S=v[_]*this.mult,mathAbs(this.v[_]-S)>1e-5&&(this.v[_]=S,this._mdf=!0),_+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var v;this.lock=!0,this._mdf=this._isFirstFrame;var S=this.effectsSequence.length,_=this.kf?this.pv:this.data.k;for(v=0;v<S;v+=1)_=this.effectsSequence[v](_);this.setVValue(_),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(v){this.effectsSequence.push(v),this.container.addDynamicProperty(this)}function ValueProperty(v,S,_,E){this.propType="unidimensional",this.mult=_||1,this.data=S,this.v=_?S.k*_:S.k,this.pv=S.k,this._mdf=!1,this.elem=v,this.container=E,this.comp=v.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(v,S,_,E){var P;this.propType="multidimensional",this.mult=_||1,this.data=S,this._mdf=!1,this.elem=v,this.container=E,this.comp=v.comp,this.k=!1,this.kf=!1,this.frameId=-1;var D=S.k.length;for(this.v=createTypedArray("float32",D),this.pv=createTypedArray("float32",D),this.vel=createTypedArray("float32",D),P=0;P<D;P+=1)this.v[P]=S.k[P]*this.mult,this.pv[P]=S.k[P];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(v,S,_,E){this.propType="unidimensional",this.keyframes=S.k,this.keyframesMetadata=[],this.offsetTime=v.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=S,this.mult=_||1,this.elem=v,this.container=E,this.comp=v.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(v,S,_,E){var P;this.propType="multidimensional";var D,R,M,O,F=S.k.length;for(P=0;P<F-1;P+=1)S.k[P].to&&S.k[P].s&&S.k[P+1]&&S.k[P+1].s&&(D=S.k[P].s,R=S.k[P+1].s,M=S.k[P].to,O=S.k[P].ti,(2===D.length&&(D[0]!==R[0]||D[1]!==R[1])&&bez.pointOnLine2D(D[0],D[1],R[0],R[1],D[0]+M[0],D[1]+M[1])&&bez.pointOnLine2D(D[0],D[1],R[0],R[1],R[0]+O[0],R[1]+O[1])||3===D.length&&(D[0]!==R[0]||D[1]!==R[1]||D[2]!==R[2])&&bez.pointOnLine3D(D[0],D[1],D[2],R[0],R[1],R[2],D[0]+M[0],D[1]+M[1],D[2]+M[2])&&bez.pointOnLine3D(D[0],D[1],D[2],R[0],R[1],R[2],R[0]+O[0],R[1]+O[1],R[2]+O[2]))&&(S.k[P].to=null,S.k[P].ti=null),D[0]===R[0]&&D[1]===R[1]&&0===M[0]&&0===M[1]&&0===O[0]&&0===O[1]&&(2===D.length||D[2]===R[2]&&0===M[2]&&0===O[2])&&(S.k[P].to=null,S.k[P].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=S,this.keyframes=S.k,this.keyframesMetadata=[],this.offsetTime=v.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=_||1,this.elem=v,this.container=E,this.comp=v.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var N=S.k[0].s.length;for(this.v=createTypedArray("float32",N),this.pv=createTypedArray("float32",N),P=0;P<N;P+=1)this.v[P]=initFrame,this.pv[P]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",N)},this.addEffect=addEffect}var PropertyFactory={getProp:function getProp(v,S,_,E,P){var D;if(S.sid&&(S=v.globalData.slotManager.getProp(S)),S.k.length)if("number"==typeof S.k[0])D=new MultiDimensionalProperty(v,S,E,P);else switch(_){case 0:D=new KeyframedValueProperty(v,S,E,P);break;case 1:D=new KeyframedMultidimensionalProperty(v,S,E,P)}else D=new ValueProperty(v,S,E,P);return D.effectsSequence.length&&P.addDynamicProperty(D),D}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function addDynamicProperty(v){-1===this.dynamicProperties.indexOf(v)&&(this.dynamicProperties.push(v),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function iterateDynamicProperties(){var v;this._mdf=!1;var S=this.dynamicProperties.length;for(v=0;v<S;v+=1)this.dynamicProperties[v].getValue(),this.dynamicProperties[v]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function initDynamicPropertyContainer(v){this.container=v,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function create(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(v,S){this.c=v,this.setLength(S);for(var _=0;_<S;)this.v[_]=pointPool.newElement(),this.o[_]=pointPool.newElement(),this.i[_]=pointPool.newElement(),_+=1},ShapePath.prototype.setLength=function(v){for(;this._maxLength<v;)this.doubleArrayLength();this._length=v},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(v,S,_,E,P){var D;switch(this._length=Math.max(this._length,E+1),this._length>=this._maxLength&&this.doubleArrayLength(),_){case"v":D=this.v;break;case"i":D=this.i;break;case"o":D=this.o;break;default:D=[]}(!D[E]||D[E]&&!P)&&(D[E]=pointPool.newElement()),D[E][0]=v,D[E][1]=S},ShapePath.prototype.setTripleAt=function(v,S,_,E,P,D,R,M){this.setXYAt(v,S,"v",R,M),this.setXYAt(_,E,"o",R,M),this.setXYAt(P,D,"i",R,M)},ShapePath.prototype.reverse=function(){var v=new ShapePath;v.setPathData(this.c,this._length);var S=this.v,_=this.o,E=this.i,P=0;this.c&&(v.setTripleAt(S[0][0],S[0][1],E[0][0],E[0][1],_[0][0],_[0][1],0,!1),P=1);var D,R=this._length-1,M=this._length;for(D=P;D<M;D+=1)v.setTripleAt(S[R][0],S[R][1],E[R][0],E[R][1],_[R][0],_[R][1],D,!1),R-=1;return v},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function create(){return new ShapePath}),(function release(v){var S,_=v._length;for(S=0;S<_;S+=1)pointPool.release(v.v[S]),pointPool.release(v.i[S]),pointPool.release(v.o[S]),v.v[S]=null,v.i[S]=null,v.o[S]=null;v._length=0,v.c=!1})),factory.clone=function clone(v){var S,_=factory.newElement(),E=void 0===v._length?v.v.length:v._length;for(_.setLength(E),_.c=v.c,S=0;S<E;S+=1)_.setTripleAt(v.v[S][0],v.v[S][1],v.o[S][0],v.o[S][1],v.i[S][0],v.i[S][1],S);return _},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(v){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=v,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var v;for(v=0;v<this._length;v+=1)shapePool.release(this.shapes[v]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function newShapeCollection(){return _length?pool[_length-=1]:new ShapeCollection},release:function release(v){var S,_=v._length;for(S=0;S<_;S+=1)shapePool.release(v.shapes[S]);v._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=v,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var v=-999999;function interpolateShape(v,S,_){var E,P,D,R,M,O,F,N,L,U=_.lastIndex,V=this.keyframes;if(v<V[0].t-this.offsetTime)E=V[0].s[0],D=!0,U=0;else if(v>=V[V.length-1].t-this.offsetTime)E=V[V.length-1].s?V[V.length-1].s[0]:V[V.length-2].e[0],D=!0;else{for(var G,W,$,X=U,Y=V.length-1,J=!0;J&&(G=V[X],!((W=V[X+1]).t-this.offsetTime>v));)X<Y-1?X+=1:J=!1;if($=this.keyframesMetadata[X]||{},U=X,!(D=1===G.h)){if(v>=W.t-this.offsetTime)N=1;else if(v<G.t-this.offsetTime)N=0;else{var Z;$.__fnct?Z=$.__fnct:(Z=BezierFactory.getBezierEasing(G.o.x,G.o.y,G.i.x,G.i.y).get,$.__fnct=Z),N=Z((v-(G.t-this.offsetTime))/(W.t-this.offsetTime-(G.t-this.offsetTime)))}P=W.s?W.s[0]:G.e[0]}E=G.s[0]}for(O=S._length,F=E.i[0].length,_.lastIndex=U,R=0;R<O;R+=1)for(M=0;M<F;M+=1)L=D?E.i[R][M]:E.i[R][M]+(P.i[R][M]-E.i[R][M])*N,S.i[R][M]=L,L=D?E.o[R][M]:E.o[R][M]+(P.o[R][M]-E.o[R][M])*N,S.o[R][M]=L,L=D?E.v[R][M]:E.v[R][M]+(P.v[R][M]-E.v[R][M])*N,S.v[R][M]=L}function interpolateShapeCurrentTime(){var S=this.comp.renderedFrame-this.offsetTime,_=this.keyframes[0].t-this.offsetTime,E=this.keyframes[this.keyframes.length-1].t-this.offsetTime,P=this._caching.lastFrame;return P!==v&&(P<_&&S<_||P>E&&S>E)||(this._caching.lastIndex=P<S?this._caching.lastIndex:0,this.interpolateShape(S,this.pv,this._caching)),this._caching.lastFrame=S,this.pv}function resetShape(){this.paths=this.localShapeCollection}function setVValue(v){(function shapesEqual(v,S){if(v._length!==S._length||v.c!==S.c)return!1;var _,E=v._length;for(_=0;_<E;_+=1)if(v.v[_][0]!==S.v[_][0]||v.v[_][1]!==S.v[_][1]||v.o[_][0]!==S.o[_][0]||v.o[_][1]!==S.o[_][1]||v.i[_][0]!==S.i[_][0]||v.i[_][1]!==S.i[_][1])return!1;return!0})(this.v,v)||(this.v=shapePool.clone(v),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var v,S;this.lock=!0,this._mdf=!1,v=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var _=this.effectsSequence.length;for(S=0;S<_;S+=1)v=this.effectsSequence[S](v);this.setVValue(v),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function ShapeProperty(v,S,_){this.propType="shape",this.comp=v.comp,this.container=v,this.elem=v,this.data=S,this.k=!1,this.kf=!1,this._mdf=!1;var E=3===_?S.pt.k:S.ks.k;this.v=shapePool.clone(E),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=resetShape,this.effectsSequence=[]}function addEffect(v){this.effectsSequence.push(v),this.container.addDynamicProperty(this)}function KeyframedShapeProperty(S,_,E){this.propType="shape",this.comp=S.comp,this.elem=S,this.container=S,this.offsetTime=S.data.st,this.keyframes=3===E?_.pt.k:_.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var P=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,P),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=v,this.reset=resetShape,this._caching={lastFrame:v,lastIndex:0},this.effectsSequence=[interpolateShapeCurrentTime.bind(this)]}ShapeProperty.prototype.interpolateShape=interpolateShape,ShapeProperty.prototype.getValue=processEffectsSequence,ShapeProperty.prototype.setVValue=setVValue,ShapeProperty.prototype.addEffect=addEffect,KeyframedShapeProperty.prototype.getValue=processEffectsSequence,KeyframedShapeProperty.prototype.interpolateShape=interpolateShape,KeyframedShapeProperty.prototype.setVValue=setVValue,KeyframedShapeProperty.prototype.addEffect=addEffect;var S=function(){var v=roundCorner;function EllShapePropertyFactory(v,S){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=S.d,this.elem=v,this.comp=v.comp,this.frameId=-1,this.initDynamicPropertyContainer(v),this.p=PropertyFactory.getProp(v,S.p,1,0,this),this.s=PropertyFactory.getProp(v,S.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return EllShapePropertyFactory.prototype={reset:resetShape,getValue:function getValue(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function convertEllToPath(){var S=this.p.v[0],_=this.p.v[1],E=this.s.v[0]/2,P=this.s.v[1]/2,D=3!==this.d,R=this.v;R.v[0][0]=S,R.v[0][1]=_-P,R.v[1][0]=D?S+E:S-E,R.v[1][1]=_,R.v[2][0]=S,R.v[2][1]=_+P,R.v[3][0]=D?S-E:S+E,R.v[3][1]=_,R.i[0][0]=D?S-E*v:S+E*v,R.i[0][1]=_-P,R.i[1][0]=D?S+E:S-E,R.i[1][1]=_-P*v,R.i[2][0]=D?S+E*v:S-E*v,R.i[2][1]=_+P,R.i[3][0]=D?S-E:S+E,R.i[3][1]=_+P*v,R.o[0][0]=D?S+E*v:S-E*v,R.o[0][1]=_-P,R.o[1][0]=D?S+E:S-E,R.o[1][1]=_+P*v,R.o[2][0]=D?S-E*v:S+E*v,R.o[2][1]=_+P,R.o[3][0]=D?S-E:S+E,R.o[3][1]=_-P*v}},extendPrototype([DynamicPropertyContainer],EllShapePropertyFactory),EllShapePropertyFactory}(),_=function(){function StarShapePropertyFactory(v,S){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=v,this.comp=v.comp,this.data=S,this.frameId=-1,this.d=S.d,this.initDynamicPropertyContainer(v),1===S.sy?(this.ir=PropertyFactory.getProp(v,S.ir,0,0,this),this.is=PropertyFactory.getProp(v,S.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(v,S.pt,0,0,this),this.p=PropertyFactory.getProp(v,S.p,1,0,this),this.r=PropertyFactory.getProp(v,S.r,0,degToRads,this),this.or=PropertyFactory.getProp(v,S.or,0,0,this),this.os=PropertyFactory.getProp(v,S.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return StarShapePropertyFactory.prototype={reset:resetShape,getValue:function getValue(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function convertStarToPath(){var v,S,_,E,P=2*Math.floor(this.pt.v),D=2*Math.PI/P,R=!0,M=this.or.v,O=this.ir.v,F=this.os.v,N=this.is.v,L=2*Math.PI*M/(2*P),U=2*Math.PI*O/(2*P),V=-Math.PI/2;V+=this.r.v;var G=3===this.data.d?-1:1;for(this.v._length=0,v=0;v<P;v+=1){_=R?F:N,E=R?L:U;var W=(S=R?M:O)*Math.cos(V),$=S*Math.sin(V),X=0===W&&0===$?0:$/Math.sqrt(W*W+$*$),Y=0===W&&0===$?0:-W/Math.sqrt(W*W+$*$);W+=+this.p.v[0],$+=+this.p.v[1],this.v.setTripleAt(W,$,W-X*E*_*G,$-Y*E*_*G,W+X*E*_*G,$+Y*E*_*G,v,!0),R=!R,V+=D*G}},convertPolygonToPath:function convertPolygonToPath(){var v,S=Math.floor(this.pt.v),_=2*Math.PI/S,E=this.or.v,P=this.os.v,D=2*Math.PI*E/(4*S),R=.5*-Math.PI,M=3===this.data.d?-1:1;for(R+=this.r.v,this.v._length=0,v=0;v<S;v+=1){var O=E*Math.cos(R),F=E*Math.sin(R),N=0===O&&0===F?0:F/Math.sqrt(O*O+F*F),L=0===O&&0===F?0:-O/Math.sqrt(O*O+F*F);O+=+this.p.v[0],F+=+this.p.v[1],this.v.setTripleAt(O,F,O-N*D*P*M,F-L*D*P*M,O+N*D*P*M,F+L*D*P*M,v,!0),R+=_*M}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],StarShapePropertyFactory),StarShapePropertyFactory}(),E=function(){function RectShapePropertyFactory(v,S){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=v,this.comp=v.comp,this.frameId=-1,this.d=S.d,this.initDynamicPropertyContainer(v),this.p=PropertyFactory.getProp(v,S.p,1,0,this),this.s=PropertyFactory.getProp(v,S.s,1,0,this),this.r=PropertyFactory.getProp(v,S.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return RectShapePropertyFactory.prototype={convertRectToPath:function convertRectToPath(){var v=this.p.v[0],S=this.p.v[1],_=this.s.v[0]/2,E=this.s.v[1]/2,P=bmMin(_,E,this.r.v),D=P*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(v+_,S-E+P,v+_,S-E+P,v+_,S-E+D,0,!0),this.v.setTripleAt(v+_,S+E-P,v+_,S+E-D,v+_,S+E-P,1,!0),0!==P?(this.v.setTripleAt(v+_-P,S+E,v+_-P,S+E,v+_-D,S+E,2,!0),this.v.setTripleAt(v-_+P,S+E,v-_+D,S+E,v-_+P,S+E,3,!0),this.v.setTripleAt(v-_,S+E-P,v-_,S+E-P,v-_,S+E-D,4,!0),this.v.setTripleAt(v-_,S-E+P,v-_,S-E+D,v-_,S-E+P,5,!0),this.v.setTripleAt(v-_+P,S-E,v-_+P,S-E,v-_+D,S-E,6,!0),this.v.setTripleAt(v+_-P,S-E,v+_-D,S-E,v+_-P,S-E,7,!0)):(this.v.setTripleAt(v-_,S+E,v-_+D,S+E,v-_,S+E,2),this.v.setTripleAt(v-_,S-E,v-_,S-E+D,v-_,S-E,3))):(this.v.setTripleAt(v+_,S-E+P,v+_,S-E+D,v+_,S-E+P,0,!0),0!==P?(this.v.setTripleAt(v+_-P,S-E,v+_-P,S-E,v+_-D,S-E,1,!0),this.v.setTripleAt(v-_+P,S-E,v-_+D,S-E,v-_+P,S-E,2,!0),this.v.setTripleAt(v-_,S-E+P,v-_,S-E+P,v-_,S-E+D,3,!0),this.v.setTripleAt(v-_,S+E-P,v-_,S+E-D,v-_,S+E-P,4,!0),this.v.setTripleAt(v-_+P,S+E,v-_+P,S+E,v-_+D,S+E,5,!0),this.v.setTripleAt(v+_-P,S+E,v+_-D,S+E,v+_-P,S+E,6,!0),this.v.setTripleAt(v+_,S+E-P,v+_,S+E-P,v+_,S+E-D,7,!0)):(this.v.setTripleAt(v-_,S-E,v-_+D,S-E,v-_,S-E,1,!0),this.v.setTripleAt(v-_,S+E,v-_,S+E-D,v-_,S+E,2,!0),this.v.setTripleAt(v+_,S+E,v+_-D,S+E,v+_,S+E,3,!0)))},getValue:function getValue(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:resetShape},extendPrototype([DynamicPropertyContainer],RectShapePropertyFactory),RectShapePropertyFactory}(),P={getShapeProp:function getShapeProp(v,P,D){var R;return 3===D||4===D?R=(3===D?P.pt:P.ks).k.length?new KeyframedShapeProperty(v,P,D):new ShapeProperty(v,P,D):5===D?R=new E(v,P):6===D?R=new S(v,P):7===D&&(R=new _(v,P)),R.k&&v.addDynamicProperty(R),R},getConstructorFunction:function getConstructorFunction(){return ShapeProperty},getKeyframedConstructorFunction:function getKeyframedConstructorFunction(){return KeyframedShapeProperty}};return P}(),Matrix=function(){var v=Math.cos,S=Math.sin,_=Math.tan,E=Math.round;function reset(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function rotate(_){if(0===_)return this;var E=v(_),P=S(_);return this._t(E,-P,0,0,P,E,0,0,0,0,1,0,0,0,0,1)}function rotateX(_){if(0===_)return this;var E=v(_),P=S(_);return this._t(1,0,0,0,0,E,-P,0,0,P,E,0,0,0,0,1)}function rotateY(_){if(0===_)return this;var E=v(_),P=S(_);return this._t(E,0,P,0,0,1,0,0,-P,0,E,0,0,0,0,1)}function rotateZ(_){if(0===_)return this;var E=v(_),P=S(_);return this._t(E,-P,0,0,P,E,0,0,0,0,1,0,0,0,0,1)}function shear(v,S){return this._t(1,S,v,1,0,0)}function skew(v,S){return this.shear(_(v),_(S))}function skewFromAxis(E,P){var D=v(P),R=S(P);return this._t(D,R,0,0,-R,D,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,_(E),1,0,0,0,0,1,0,0,0,0,1)._t(D,-R,0,0,R,D,0,0,0,0,1,0,0,0,0,1)}function scale(v,S,_){return _||0===_||(_=1),1===v&&1===S&&1===_?this:this._t(v,0,0,0,0,S,0,0,0,0,_,0,0,0,0,1)}function setTransform(v,S,_,E,P,D,R,M,O,F,N,L,U,V,G,W){return this.props[0]=v,this.props[1]=S,this.props[2]=_,this.props[3]=E,this.props[4]=P,this.props[5]=D,this.props[6]=R,this.props[7]=M,this.props[8]=O,this.props[9]=F,this.props[10]=N,this.props[11]=L,this.props[12]=U,this.props[13]=V,this.props[14]=G,this.props[15]=W,this}function translate(v,S,_){return _=_||0,0!==v||0!==S||0!==_?this._t(1,0,0,0,0,1,0,0,0,0,1,0,v,S,_,1):this}function transform(v,S,_,E,P,D,R,M,O,F,N,L,U,V,G,W){var $=this.props;if(1===v&&0===S&&0===_&&0===E&&0===P&&1===D&&0===R&&0===M&&0===O&&0===F&&1===N&&0===L)return $[12]=$[12]*v+$[15]*U,$[13]=$[13]*D+$[15]*V,$[14]=$[14]*N+$[15]*G,$[15]*=W,this._identityCalculated=!1,this;var X=$[0],Y=$[1],J=$[2],Z=$[3],Q=$[4],tt=$[5],et=$[6],rt=$[7],nt=$[8],it=$[9],st=$[10],ot=$[11],at=$[12],ct=$[13],ut=$[14],ht=$[15];return $[0]=X*v+Y*P+J*O+Z*U,$[1]=X*S+Y*D+J*F+Z*V,$[2]=X*_+Y*R+J*N+Z*G,$[3]=X*E+Y*M+J*L+Z*W,$[4]=Q*v+tt*P+et*O+rt*U,$[5]=Q*S+tt*D+et*F+rt*V,$[6]=Q*_+tt*R+et*N+rt*G,$[7]=Q*E+tt*M+et*L+rt*W,$[8]=nt*v+it*P+st*O+ot*U,$[9]=nt*S+it*D+st*F+ot*V,$[10]=nt*_+it*R+st*N+ot*G,$[11]=nt*E+it*M+st*L+ot*W,$[12]=at*v+ct*P+ut*O+ht*U,$[13]=at*S+ct*D+ut*F+ht*V,$[14]=at*_+ct*R+ut*N+ht*G,$[15]=at*E+ct*M+ut*L+ht*W,this._identityCalculated=!1,this}function multiply(v){var S=v.props;return this.transform(S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],S[8],S[9],S[10],S[11],S[12],S[13],S[14],S[15])}function isIdentity(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function equals(v){for(var S=0;S<16;){if(v.props[S]!==this.props[S])return!1;S+=1}return!0}function clone(v){var S;for(S=0;S<16;S+=1)v.props[S]=this.props[S];return v}function cloneFromProps(v){var S;for(S=0;S<16;S+=1)this.props[S]=v[S]}function applyToPoint(v,S,_){return{x:v*this.props[0]+S*this.props[4]+_*this.props[8]+this.props[12],y:v*this.props[1]+S*this.props[5]+_*this.props[9]+this.props[13],z:v*this.props[2]+S*this.props[6]+_*this.props[10]+this.props[14]}}function applyToX(v,S,_){return v*this.props[0]+S*this.props[4]+_*this.props[8]+this.props[12]}function applyToY(v,S,_){return v*this.props[1]+S*this.props[5]+_*this.props[9]+this.props[13]}function applyToZ(v,S,_){return v*this.props[2]+S*this.props[6]+_*this.props[10]+this.props[14]}function getInverseMatrix(){var v=this.props[0]*this.props[5]-this.props[1]*this.props[4],S=this.props[5]/v,_=-this.props[1]/v,E=-this.props[4]/v,P=this.props[0]/v,D=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/v,R=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/v,M=new Matrix;return M.props[0]=S,M.props[1]=_,M.props[4]=E,M.props[5]=P,M.props[12]=D,M.props[13]=R,M}function inversePoint(v){return this.getInverseMatrix().applyToPointArray(v[0],v[1],v[2]||0)}function inversePoints(v){var S,_=v.length,E=[];for(S=0;S<_;S+=1)E[S]=inversePoint(v[S]);return E}function applyToTriplePoints(v,S,_){var E=createTypedArray("float32",6);if(this.isIdentity())E[0]=v[0],E[1]=v[1],E[2]=S[0],E[3]=S[1],E[4]=_[0],E[5]=_[1];else{var P=this.props[0],D=this.props[1],R=this.props[4],M=this.props[5],O=this.props[12],F=this.props[13];E[0]=v[0]*P+v[1]*R+O,E[1]=v[0]*D+v[1]*M+F,E[2]=S[0]*P+S[1]*R+O,E[3]=S[0]*D+S[1]*M+F,E[4]=_[0]*P+_[1]*R+O,E[5]=_[0]*D+_[1]*M+F}return E}function applyToPointArray(v,S,_){return this.isIdentity()?[v,S,_]:[v*this.props[0]+S*this.props[4]+_*this.props[8]+this.props[12],v*this.props[1]+S*this.props[5]+_*this.props[9]+this.props[13],v*this.props[2]+S*this.props[6]+_*this.props[10]+this.props[14]]}function applyToPointStringified(v,S){if(this.isIdentity())return v+","+S;var _=this.props;return Math.round(100*(v*_[0]+S*_[4]+_[12]))/100+","+Math.round(100*(v*_[1]+S*_[5]+_[13]))/100}function toCSS(){for(var v=0,S=this.props,_="matrix3d(";v<16;)_+=E(1e4*S[v])/1e4,_+=15===v?")":",",v+=1;return _}function roundMatrixProperty(v){return v<1e-6&&v>0||v>-1e-6&&v<0?E(1e4*v)/1e4:v}function to2dCSS(){var v=this.props;return"matrix("+roundMatrixProperty(v[0])+","+roundMatrixProperty(v[1])+","+roundMatrixProperty(v[4])+","+roundMatrixProperty(v[5])+","+roundMatrixProperty(v[12])+","+roundMatrixProperty(v[13])+")"}return function(){this.reset=reset,this.rotate=rotate,this.rotateX=rotateX,this.rotateY=rotateY,this.rotateZ=rotateZ,this.skew=skew,this.skewFromAxis=skewFromAxis,this.shear=shear,this.scale=scale,this.setTransform=setTransform,this.translate=translate,this.transform=transform,this.multiply=multiply,this.applyToPoint=applyToPoint,this.applyToX=applyToX,this.applyToY=applyToY,this.applyToZ=applyToZ,this.applyToPointArray=applyToPointArray,this.applyToTriplePoints=applyToTriplePoints,this.applyToPointStringified=applyToPointStringified,this.toCSS=toCSS,this.to2dCSS=to2dCSS,this.clone=clone,this.cloneFromProps=cloneFromProps,this.equals=equals,this.inversePoints=inversePoints,this.inversePoint=inversePoint,this.getInverseMatrix=getInverseMatrix,this._t=this.transform,this.isIdentity=isIdentity,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(v){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(v){return typeof v}:function _typeof(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},_typeof$3(v)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(v){setLocationHref(v)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(v){setSubframeEnabled(v)}function setPrefix(v){setIdPrefix(v)}function loadAnimation(v){return!0===standalone&&(v.animationData=JSON.parse(animationData)),animationManager.loadAnimation(v)}function setQuality(v){if("string"==typeof v)switch(v){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(v)&&v>1&&setDefaultCurveSegments(v);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(v,S){"expressions"===v&&setExpressionsPlugin(S)}function getFactory(v){switch(v){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(v){for(var S=queryString.split("&"),_=0;_<S.length;_+=1){var E=S[_].split("=");if(decodeURIComponent(E[0])==v)return decodeURIComponent(E[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(v){}var ShapeModifiers=function(){var v={},S={};return v.registerModifier=function registerModifier(v,_){S[v]||(S[v]=_)},v.getModifier=function getModifier(v,_,E){return new S[v](_,E)},v}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(v){if(!this.closed){v.sh.container.addDynamicProperty(v.sh);var S={shape:v.sh,data:v,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(S),this.addShapeToModifier(S),this._isAnimated&&v.setAsAnimated()}},ShapeModifier.prototype.init=function(v,S){this.shapes=[],this.elem=v,this.initDynamicPropertyContainer(v),this.initModifierProperties(v,S),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(v,S){this.s=PropertyFactory.getProp(v,S.s,0,.01,this),this.e=PropertyFactory.getProp(v,S.e,0,.01,this),this.o=PropertyFactory.getProp(v,S.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=S.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(v){v.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(v,S,_,E,P){var D=[];S<=1?D.push({s:v,e:S}):v>=1?D.push({s:v-1,e:S-1}):(D.push({s:v,e:1}),D.push({s:0,e:S-1}));var R,M,O=[],F=D.length;for(R=0;R<F;R+=1){var N,L;(M=D[R]).e*P<E||M.s*P>E+_||(N=M.s*P<=E?0:(M.s*P-E)/_,L=M.e*P>=E+_?1:(M.e*P-E)/_,O.push([N,L]))}return O.length||O.push([0,0]),O},TrimModifier.prototype.releasePathsData=function(v){var S,_=v.length;for(S=0;S<_;S+=1)segmentsLengthPool.release(v[S]);return v.length=0,v},TrimModifier.prototype.processShapes=function(v){var S,_,E,P;if(this._mdf||v){var D=this.o.v%360/360;if(D<0&&(D+=1),(S=this.s.v>1?1+D:this.s.v<0?0+D:this.s.v+D)>(_=this.e.v>1?1+D:this.e.v<0?0+D:this.e.v+D)){var R=S;S=_,_=R}S=1e-4*Math.round(1e4*S),_=1e-4*Math.round(1e4*_),this.sValue=S,this.eValue=_}else S=this.sValue,_=this.eValue;var M,O,F,N,L,U=this.shapes.length,V=0;if(_===S)for(P=0;P<U;P+=1)this.shapes[P].localShapeCollection.releaseShapes(),this.shapes[P].shape._mdf=!0,this.shapes[P].shape.paths=this.shapes[P].localShapeCollection,this._mdf&&(this.shapes[P].pathsData.length=0);else if(1===_&&0===S||0===_&&1===S){if(this._mdf)for(P=0;P<U;P+=1)this.shapes[P].pathsData.length=0,this.shapes[P].shape._mdf=!0}else{var G,W,$=[];for(P=0;P<U;P+=1)if((G=this.shapes[P]).shape._mdf||this._mdf||v||2===this.m){if(O=(E=G.shape.paths)._length,L=0,!G.shape._mdf&&G.pathsData.length)L=G.totalShapeLength;else{for(F=this.releasePathsData(G.pathsData),M=0;M<O;M+=1)N=bez.getSegmentsLength(E.shapes[M]),F.push(N),L+=N.totalLength;G.totalShapeLength=L,G.pathsData=F}V+=L,G.shape._mdf=!0}else G.shape.paths=G.localShapeCollection;var X,Y=S,J=_,Z=0;for(P=U-1;P>=0;P-=1)if((G=this.shapes[P]).shape._mdf){for((W=G.localShapeCollection).releaseShapes(),2===this.m&&U>1?(X=this.calculateShapeEdges(S,_,G.totalShapeLength,Z,V),Z+=G.totalShapeLength):X=[[Y,J]],O=X.length,M=0;M<O;M+=1){Y=X[M][0],J=X[M][1],$.length=0,J<=1?$.push({s:G.totalShapeLength*Y,e:G.totalShapeLength*J}):Y>=1?$.push({s:G.totalShapeLength*(Y-1),e:G.totalShapeLength*(J-1)}):($.push({s:G.totalShapeLength*Y,e:G.totalShapeLength}),$.push({s:0,e:G.totalShapeLength*(J-1)}));var Q=this.addShapes(G,$[0]);if($[0].s!==$[0].e){if($.length>1)if(G.shape.paths.shapes[G.shape.paths._length-1].c){var tt=Q.pop();this.addPaths(Q,W),Q=this.addShapes(G,$[1],tt)}else this.addPaths(Q,W),Q=this.addShapes(G,$[1]);this.addPaths(Q,W)}}G.shape.paths=W}}},TrimModifier.prototype.addPaths=function(v,S){var _,E=v.length;for(_=0;_<E;_+=1)S.addShape(v[_])},TrimModifier.prototype.addSegment=function(v,S,_,E,P,D,R){P.setXYAt(S[0],S[1],"o",D),P.setXYAt(_[0],_[1],"i",D+1),R&&P.setXYAt(v[0],v[1],"v",D),P.setXYAt(E[0],E[1],"v",D+1)},TrimModifier.prototype.addSegmentFromArray=function(v,S,_,E){S.setXYAt(v[1],v[5],"o",_),S.setXYAt(v[2],v[6],"i",_+1),E&&S.setXYAt(v[0],v[4],"v",_),S.setXYAt(v[3],v[7],"v",_+1)},TrimModifier.prototype.addShapes=function(v,S,_){var E,P,D,R,M,O,F,N,L=v.pathsData,U=v.shape.paths.shapes,V=v.shape.paths._length,G=0,W=[],$=!0;for(_?(M=_._length,N=_._length):(_=shapePool.newElement(),M=0,N=0),W.push(_),E=0;E<V;E+=1){for(O=L[E].lengths,_.c=U[E].c,D=U[E].c?O.length:O.length+1,P=1;P<D;P+=1)if(G+(R=O[P-1]).addedLength<S.s)G+=R.addedLength,_.c=!1;else{if(G>S.e){_.c=!1;break}S.s<=G&&S.e>=G+R.addedLength?(this.addSegment(U[E].v[P-1],U[E].o[P-1],U[E].i[P],U[E].v[P],_,M,$),$=!1):(F=bez.getNewSegment(U[E].v[P-1],U[E].v[P],U[E].o[P-1],U[E].i[P],(S.s-G)/R.addedLength,(S.e-G)/R.addedLength,O[P-1]),this.addSegmentFromArray(F,_,M,$),$=!1,_.c=!1),G+=R.addedLength,M+=1}if(U[E].c&&O.length){if(R=O[P-1],G<=S.e){var X=O[P-1].addedLength;S.s<=G&&S.e>=G+X?(this.addSegment(U[E].v[P-1],U[E].o[P-1],U[E].i[0],U[E].v[0],_,M,$),$=!1):(F=bez.getNewSegment(U[E].v[P-1],U[E].v[0],U[E].o[P-1],U[E].i[0],(S.s-G)/X,(S.e-G)/X,O[P-1]),this.addSegmentFromArray(F,_,M,$),$=!1,_.c=!1)}else _.c=!1;G+=R.addedLength,M+=1}if(_._length&&(_.setXYAt(_.v[N][0],_.v[N][1],"i",N),_.setXYAt(_.v[_._length-1][0],_.v[_._length-1][1],"o",_._length-1)),G>S.e)break;E<V-1&&(_=shapePool.newElement(),$=!0,W.push(_),M=0)}return W},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(v,S){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(v,S.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(v,S){var _=S/100,E=[0,0],P=v._length,D=0;for(D=0;D<P;D+=1)E[0]+=v.v[D][0],E[1]+=v.v[D][1];E[0]/=P,E[1]/=P;var R,M,O,F,N,L,U=shapePool.newElement();for(U.c=v.c,D=0;D<P;D+=1)R=v.v[D][0]+(E[0]-v.v[D][0])*_,M=v.v[D][1]+(E[1]-v.v[D][1])*_,O=v.o[D][0]+(E[0]-v.o[D][0])*-_,F=v.o[D][1]+(E[1]-v.o[D][1])*-_,N=v.i[D][0]+(E[0]-v.i[D][0])*-_,L=v.i[D][1]+(E[1]-v.i[D][1])*-_,U.setTripleAt(R,M,O,F,N,L,D);return U},PuckerAndBloatModifier.prototype.processShapes=function(v){var S,_,E,P,D,R,M=this.shapes.length,O=this.amount.v;if(0!==O)for(_=0;_<M;_+=1){if(R=(D=this.shapes[_]).localShapeCollection,D.shape._mdf||this._mdf||v)for(R.releaseShapes(),D.shape._mdf=!0,S=D.shape.paths.shapes,P=D.shape.paths._length,E=0;E<P;E+=1)R.addShape(this.processPath(S[E],O));D.shape.paths=D.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var v=[0,0];function TransformProperty(v,S,_){if(this.elem=v,this.frameId=-1,this.propType="transform",this.data=S,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(_||v),S.p&&S.p.s?(this.px=PropertyFactory.getProp(v,S.p.x,0,0,this),this.py=PropertyFactory.getProp(v,S.p.y,0,0,this),S.p.z&&(this.pz=PropertyFactory.getProp(v,S.p.z,0,0,this))):this.p=PropertyFactory.getProp(v,S.p||{k:[0,0,0]},1,0,this),S.rx){if(this.rx=PropertyFactory.getProp(v,S.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(v,S.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(v,S.rz,0,degToRads,this),S.or.k[0].ti){var E,P=S.or.k.length;for(E=0;E<P;E+=1)S.or.k[E].to=null,S.or.k[E].ti=null}this.or=PropertyFactory.getProp(v,S.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(v,S.r||{k:0},0,degToRads,this);S.sk&&(this.sk=PropertyFactory.getProp(v,S.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(v,S.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(v,S.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(v,S.s||{k:[100,100,100]},1,.01,this),S.o?this.o=PropertyFactory.getProp(v,S.o,0,.01,v):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return TransformProperty.prototype={applyToMatrix:function applyToMatrix(v){var S=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||S,this.a&&v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&v.skewFromAxis(-this.sk.v,this.sa.v),this.r?v.rotate(-this.r.v):v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?v.translate(this.px.v,this.py.v,-this.pz.v):v.translate(this.px.v,this.py.v,0):v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function processKeys(S){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||S){var _;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var E,P;if(_=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(E=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/_,0),P=this.p.getValueAtTime(this.p.keyframes[0].t/_,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(E=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/_,0),P=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/_,0)):(E=this.p.pv,P=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/_,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){E=[],P=[];var D=this.px,R=this.py;D._caching.lastFrame+D.offsetTime<=D.keyframes[0].t?(E[0]=D.getValueAtTime((D.keyframes[0].t+.01)/_,0),E[1]=R.getValueAtTime((R.keyframes[0].t+.01)/_,0),P[0]=D.getValueAtTime(D.keyframes[0].t/_,0),P[1]=R.getValueAtTime(R.keyframes[0].t/_,0)):D._caching.lastFrame+D.offsetTime>=D.keyframes[D.keyframes.length-1].t?(E[0]=D.getValueAtTime(D.keyframes[D.keyframes.length-1].t/_,0),E[1]=R.getValueAtTime(R.keyframes[R.keyframes.length-1].t/_,0),P[0]=D.getValueAtTime((D.keyframes[D.keyframes.length-1].t-.01)/_,0),P[1]=R.getValueAtTime((R.keyframes[R.keyframes.length-1].t-.01)/_,0)):(E=[D.pv,R.pv],P[0]=D.getValueAtTime((D._caching.lastFrame+D.offsetTime-.01)/_,D.offsetTime),P[1]=R.getValueAtTime((R._caching.lastFrame+R.offsetTime-.01)/_,R.offsetTime))}else E=P=v;this.v.rotate(-Math.atan2(E[1]-P[1],E[0]-P[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function precalculateMatrix(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function autoOrient(){}},extendPrototype([DynamicPropertyContainer],TransformProperty),TransformProperty.prototype.addDynamicProperty=function addDynamicProperty(v){this._addDynamicProperty(v),this.elem.addDynamicProperty(v),this._isDirty=!0},TransformProperty.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function getTransformProperty(v,S,_){return new TransformProperty(v,S,_)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(v,S){return 1e5*Math.abs(v-S)<=Math.min(Math.abs(v),Math.abs(S))}function floatZero(v){return Math.abs(v)<=1e-5}function lerp(v,S,_){return v*(1-_)+S*_}function lerpPoint(v,S,_){return[lerp(v[0],S[0],_),lerp(v[1],S[1],_)]}function quadRoots(v,S,_){if(0===v)return[];var E=S*S-4*v*_;if(E<0)return[];var P=-S/(2*v);if(0===E)return[P];var D=Math.sqrt(E)/(2*v);return[P-D,P+D]}function polynomialCoefficients(v,S,_,E){return[3*S-v-3*_+E,3*v-6*S+3*_,-3*v+3*S,v]}function singlePoint(v){return new PolynomialBezier(v,v,v,v,!1)}function PolynomialBezier(v,S,_,E,P){P&&pointEqual(v,S)&&(S=lerpPoint(v,E,1/3)),P&&pointEqual(_,E)&&(_=lerpPoint(v,E,2/3));var D=polynomialCoefficients(v[0],S[0],_[0],E[0]),R=polynomialCoefficients(v[1],S[1],_[1],E[1]);this.a=[D[0],R[0]],this.b=[D[1],R[1]],this.c=[D[2],R[2]],this.d=[D[3],R[3]],this.points=[v,S,_,E]}function extrema(v,S){var _=v.points[0][S],E=v.points[v.points.length-1][S];if(_>E){var P=E;E=_,_=P}for(var D=quadRoots(3*v.a[S],2*v.b[S],v.c[S]),R=0;R<D.length;R+=1)if(D[R]>0&&D[R]<1){var M=v.point(D[R])[S];M<_?_=M:M>E&&(E=M)}return{min:_,max:E}}function intersectData(v,S,_){var E=v.boundingBox();return{cx:E.cx,cy:E.cy,width:E.width,height:E.height,bez:v,t:(S+_)/2,t1:S,t2:_}}function splitData(v){var S=v.bez.split(.5);return[intersectData(S[0],v.t1,v.t),intersectData(S[1],v.t,v.t2)]}function boxIntersect(v,S){return 2*Math.abs(v.cx-S.cx)<v.width+S.width&&2*Math.abs(v.cy-S.cy)<v.height+S.height}function intersectsImpl(v,S,_,E,P,D){if(boxIntersect(v,S))if(_>=D||v.width<=E&&v.height<=E&&S.width<=E&&S.height<=E)P.push([v.t,S.t]);else{var R=splitData(v),M=splitData(S);intersectsImpl(R[0],M[0],_+1,E,P,D),intersectsImpl(R[0],M[1],_+1,E,P,D),intersectsImpl(R[1],M[0],_+1,E,P,D),intersectsImpl(R[1],M[1],_+1,E,P,D)}}function crossProduct(v,S){return[v[1]*S[2]-v[2]*S[1],v[2]*S[0]-v[0]*S[2],v[0]*S[1]-v[1]*S[0]]}function lineIntersection(v,S,_,E){var P=[v[0],v[1],1],D=[S[0],S[1],1],R=[_[0],_[1],1],M=[E[0],E[1],1],O=crossProduct(crossProduct(P,D),crossProduct(R,M));return floatZero(O[2])?null:[O[0]/O[2],O[1]/O[2]]}function polarOffset(v,S,_){return[v[0]+Math.cos(S)*_,v[1]-Math.sin(S)*_]}function pointDistance(v,S){return Math.hypot(v[0]-S[0],v[1]-S[1])}function pointEqual(v,S){return floatEqual(v[0],S[0])&&floatEqual(v[1],S[1])}function ZigZagModifier(){}function setPoint(v,S,_,E,P,D,R){var M=_-Math.PI/2,O=_+Math.PI/2,F=S[0]+Math.cos(_)*E*P,N=S[1]-Math.sin(_)*E*P;v.setTripleAt(F,N,F+Math.cos(M)*D,N-Math.sin(M)*D,F+Math.cos(O)*R,N-Math.sin(O)*R,v.length())}function getPerpendicularVector(v,S){var _=[S[0]-v[0],S[1]-v[1]],E=.5*-Math.PI;return[Math.cos(E)*_[0]-Math.sin(E)*_[1],Math.sin(E)*_[0]+Math.cos(E)*_[1]]}function getProjectingAngle(v,S){var _=0===S?v.length()-1:S-1,E=(S+1)%v.length(),P=getPerpendicularVector(v.v[_],v.v[E]);return Math.atan2(0,1)-Math.atan2(P[1],P[0])}function zigZagCorner(v,S,_,E,P,D,R){var M=getProjectingAngle(S,_),O=S.v[_%S._length],F=S.v[0===_?S._length-1:_-1],N=S.v[(_+1)%S._length],L=2===D?Math.sqrt(Math.pow(O[0]-F[0],2)+Math.pow(O[1]-F[1],2)):0,U=2===D?Math.sqrt(Math.pow(O[0]-N[0],2)+Math.pow(O[1]-N[1],2)):0;setPoint(v,S.v[_%S._length],M,R,E,U/(2*(P+1)),L/(2*(P+1)),D)}function zigZagSegment(v,S,_,E,P,D){for(var R=0;R<E;R+=1){var M=(R+1)/(E+1),O=2===P?Math.sqrt(Math.pow(S.points[3][0]-S.points[0][0],2)+Math.pow(S.points[3][1]-S.points[0][1],2)):0,F=S.normalAngle(M);setPoint(v,S.point(M),F,D,_,O/(2*(E+1)),O/(2*(E+1)),P),D=-D}return D}function linearOffset(v,S,_){var E=Math.atan2(S[0]-v[0],S[1]-v[1]);return[polarOffset(v,E,_),polarOffset(S,E,_)]}function offsetSegment(v,S){var _,E,P,D,R,M,O;_=(O=linearOffset(v.points[0],v.points[1],S))[0],E=O[1],P=(O=linearOffset(v.points[1],v.points[2],S))[0],D=O[1],R=(O=linearOffset(v.points[2],v.points[3],S))[0],M=O[1];var F=lineIntersection(_,E,P,D);null===F&&(F=E);var N=lineIntersection(R,M,P,D);return null===N&&(N=R),new PolynomialBezier(_,F,N,M)}function joinLines(v,S,_,E,P){var D=S.points[3],R=_.points[0];if(3===E)return D;if(pointEqual(D,R))return D;if(2===E){var M=-S.tangentAngle(1),O=-_.tangentAngle(0)+Math.PI,F=lineIntersection(D,polarOffset(D,M+Math.PI/2,100),R,polarOffset(R,M+Math.PI/2,100)),N=F?pointDistance(F,D):pointDistance(D,R)/2,L=polarOffset(D,M,2*N*roundCorner);return v.setXYAt(L[0],L[1],"o",v.length()-1),L=polarOffset(R,O,2*N*roundCorner),v.setTripleAt(R[0],R[1],R[0],R[1],L[0],L[1],v.length()),R}var U=lineIntersection(pointEqual(D,S.points[2])?S.points[0]:S.points[2],D,R,pointEqual(R,_.points[1])?_.points[3]:_.points[1]);return U&&pointDistance(U,D)<P?(v.setTripleAt(U[0],U[1],U[0],U[1],U[0],U[1],v.length()),U):D}function getIntersection(v,S){var _=v.intersections(S);return _.length&&floatEqual(_[0][0],1)&&_.shift(),_.length?_[0]:null}function pruneSegmentIntersection(v,S){var _=v.slice(),E=S.slice(),P=getIntersection(v[v.length-1],S[0]);return P&&(_[v.length-1]=v[v.length-1].split(P[0])[0],E[0]=S[0].split(P[1])[1]),v.length>1&&S.length>1&&(P=getIntersection(v[0],S[S.length-1]))?[[v[0].split(P[0])[0]],[S[S.length-1].split(P[1])[1]]]:[_,E]}function pruneIntersections(v){for(var S,_=1;_<v.length;_+=1)S=pruneSegmentIntersection(v[_-1],v[_]),v[_-1]=S[0],v[_]=S[1];return v.length>1&&(S=pruneSegmentIntersection(v[v.length-1],v[0]),v[v.length-1]=S[0],v[0]=S[1]),v}function offsetSegmentSplit(v,S){var _,E,P,D,R=v.inflectionPoints();if(0===R.length)return[offsetSegment(v,S)];if(1===R.length||floatEqual(R[1],1))return _=(P=v.split(R[0]))[0],E=P[1],[offsetSegment(_,S),offsetSegment(E,S)];_=(P=v.split(R[0]))[0];var M=(R[1]-R[0])/(1-R[0]);return D=(P=P[1].split(M))[0],E=P[1],[offsetSegment(_,S),offsetSegment(D,S),offsetSegment(E,S)]}function OffsetPathModifier(){}function getFontProperties(v){for(var S=v.fStyle?v.fStyle.split(" "):[],_="normal",E="normal",P=S.length,D=0;D<P;D+=1)switch(S[D].toLowerCase()){case"italic":E="italic";break;case"bold":_="700";break;case"black":_="900";break;case"medium":_="500";break;case"regular":case"normal":_="400";break;case"light":case"thin":_="200"}return{style:E,weight:v.fWeight||_}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(v,S){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(v,S.c,0,null,this),this.o=PropertyFactory.getProp(v,S.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(v,S.tr,this),this.so=PropertyFactory.getProp(v,S.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(v,S.tr.eo,0,.01,this),this.data=S,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(v,S,_,E,P,D){var R=D?-1:1,M=E.s.v[0]+(1-E.s.v[0])*(1-P),O=E.s.v[1]+(1-E.s.v[1])*(1-P);v.translate(E.p.v[0]*R*P,E.p.v[1]*R*P,E.p.v[2]),S.translate(-E.a.v[0],-E.a.v[1],E.a.v[2]),S.rotate(-E.r.v*R*P),S.translate(E.a.v[0],E.a.v[1],E.a.v[2]),_.translate(-E.a.v[0],-E.a.v[1],E.a.v[2]),_.scale(D?1/M:M,D?1/O:O),_.translate(E.a.v[0],E.a.v[1],E.a.v[2])},RepeaterModifier.prototype.init=function(v,S,_,E){for(this.elem=v,this.arr=S,this.pos=_,this.elemsData=E,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(v),this.initModifierProperties(v,S[_]);_>0;)_-=1,this._elements.unshift(S[_]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(v){var S,_=v.length;for(S=0;S<_;S+=1)v[S]._processed=!1,"gr"===v[S].ty&&this.resetElements(v[S].it)},RepeaterModifier.prototype.cloneElements=function(v){var S=JSON.parse(JSON.stringify(v));return this.resetElements(S),S},RepeaterModifier.prototype.changeGroupRender=function(v,S){var _,E=v.length;for(_=0;_<E;_+=1)v[_]._render=S,"gr"===v[_].ty&&this.changeGroupRender(v[_].it,S)},RepeaterModifier.prototype.processShapes=function(v){var S,_,E,P,D,R=!1;if(this._mdf||v){var M,O=Math.ceil(this.c.v);if(this._groups.length<O){for(;this._groups.length<O;){var F={it:this.cloneElements(this._elements),ty:"gr"};F.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,F),this._groups.splice(0,0,F),this._currentCopies+=1}this.elem.reloadShapes(),R=!0}for(D=0,E=0;E<=this._groups.length-1;E+=1){if(M=D<O,this._groups[E]._render=M,this.changeGroupRender(this._groups[E].it,M),!M){var N=this.elemsData[E].it,L=N[N.length-1];0!==L.transform.op.v?(L.transform.op._mdf=!0,L.transform.op.v=0):L.transform.op._mdf=!1}D+=1}this._currentCopies=O;var U=this.o.v,V=U%1,G=U>0?Math.floor(U):Math.ceil(U),W=this.pMatrix.props,$=this.rMatrix.props,X=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Y,J,Z=0;if(U>0){for(;Z<G;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Z+=1;V&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,V,!1),Z+=V)}else if(U<0){for(;Z>G;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Z-=1;V&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-V,!0),Z-=V)}for(E=1===this.data.m?0:this._currentCopies-1,P=1===this.data.m?1:-1,D=this._currentCopies;D;){if(J=(_=(S=this.elemsData[E].it)[S.length-1].transform.mProps.v.props).length,S[S.length-1].transform.mProps._mdf=!0,S[S.length-1].transform.op._mdf=!0,S[S.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(E/(this._currentCopies-1)),0!==Z){for((0!==E&&1===P||E!==this._currentCopies-1&&-1===P)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform($[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],$[8],$[9],$[10],$[11],$[12],$[13],$[14],$[15]),this.matrix.transform(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8],X[9],X[10],X[11],X[12],X[13],X[14],X[15]),this.matrix.transform(W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],W[8],W[9],W[10],W[11],W[12],W[13],W[14],W[15]),Y=0;Y<J;Y+=1)_[Y]=this.matrix.props[Y];this.matrix.reset()}else for(this.matrix.reset(),Y=0;Y<J;Y+=1)_[Y]=this.matrix.props[Y];Z+=1,D-=1,E+=P}}else for(D=this._currentCopies,E=0,P=1;D;)_=(S=this.elemsData[E].it)[S.length-1].transform.mProps.v.props,S[S.length-1].transform.mProps._mdf=!1,S[S.length-1].transform.op._mdf=!1,D-=1,E+=P;return R},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(v,S){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(v,S.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(v,S){var _,E=shapePool.newElement();E.c=v.c;var P,D,R,M,O,F,N,L,U,V,G,W,$=v._length,X=0;for(_=0;_<$;_+=1)P=v.v[_],R=v.o[_],D=v.i[_],P[0]===R[0]&&P[1]===R[1]&&P[0]===D[0]&&P[1]===D[1]?0!==_&&_!==$-1||v.c?(M=0===_?v.v[$-1]:v.v[_-1],F=(O=Math.sqrt(Math.pow(P[0]-M[0],2)+Math.pow(P[1]-M[1],2)))?Math.min(O/2,S)/O:0,N=G=P[0]+(M[0]-P[0])*F,L=W=P[1]-(P[1]-M[1])*F,U=N-(N-P[0])*roundCorner,V=L-(L-P[1])*roundCorner,E.setTripleAt(N,L,U,V,G,W,X),X+=1,M=_===$-1?v.v[0]:v.v[_+1],F=(O=Math.sqrt(Math.pow(P[0]-M[0],2)+Math.pow(P[1]-M[1],2)))?Math.min(O/2,S)/O:0,N=U=P[0]+(M[0]-P[0])*F,L=V=P[1]+(M[1]-P[1])*F,G=N-(N-P[0])*roundCorner,W=L-(L-P[1])*roundCorner,E.setTripleAt(N,L,U,V,G,W,X),X+=1):(E.setTripleAt(P[0],P[1],R[0],R[1],D[0],D[1],X),X+=1):(E.setTripleAt(v.v[_][0],v.v[_][1],v.o[_][0],v.o[_][1],v.i[_][0],v.i[_][1],X),X+=1);return E},RoundCornersModifier.prototype.processShapes=function(v){var S,_,E,P,D,R,M=this.shapes.length,O=this.rd.v;if(0!==O)for(_=0;_<M;_+=1){if(R=(D=this.shapes[_]).localShapeCollection,D.shape._mdf||this._mdf||v)for(R.releaseShapes(),D.shape._mdf=!0,S=D.shape.paths.shapes,P=D.shape.paths._length,E=0;E<P;E+=1)R.addShape(this.processPath(S[E],O));D.shape.paths=D.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(v){return[((this.a[0]*v+this.b[0])*v+this.c[0])*v+this.d[0],((this.a[1]*v+this.b[1])*v+this.c[1])*v+this.d[1]]},PolynomialBezier.prototype.derivative=function(v){return[(3*v*this.a[0]+2*this.b[0])*v+this.c[0],(3*v*this.a[1]+2*this.b[1])*v+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(v){var S=this.derivative(v);return Math.atan2(S[1],S[0])},PolynomialBezier.prototype.normalAngle=function(v){var S=this.derivative(v);return Math.atan2(S[0],S[1])},PolynomialBezier.prototype.inflectionPoints=function(){var v=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(v))return[];var S=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/v,_=S*S-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/v;if(_<0)return[];var E=Math.sqrt(_);return floatZero(E)?E>0&&E<1?[S]:[]:[S-E,S+E].filter((function(v){return v>0&&v<1}))},PolynomialBezier.prototype.split=function(v){if(v<=0)return[singlePoint(this.points[0]),this];if(v>=1)return[this,singlePoint(this.points[this.points.length-1])];var S=lerpPoint(this.points[0],this.points[1],v),_=lerpPoint(this.points[1],this.points[2],v),E=lerpPoint(this.points[2],this.points[3],v),P=lerpPoint(S,_,v),D=lerpPoint(_,E,v),R=lerpPoint(P,D,v);return[new PolynomialBezier(this.points[0],S,P,R,!0),new PolynomialBezier(R,D,E,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var v=this.bounds();return{left:v.x.min,right:v.x.max,top:v.y.min,bottom:v.y.max,width:v.x.max-v.x.min,height:v.y.max-v.y.min,cx:(v.x.max+v.x.min)/2,cy:(v.y.max+v.y.min)/2}},PolynomialBezier.prototype.intersections=function(v,S,_){void 0===S&&(S=2),void 0===_&&(_=7);var E=[];return intersectsImpl(intersectData(this,0,1),intersectData(v,0,1),0,S,E,_),E},PolynomialBezier.shapeSegment=function(v,S){var _=(S+1)%v.length();return new PolynomialBezier(v.v[S],v.o[S],v.i[_],v.v[_],!0)},PolynomialBezier.shapeSegmentInverted=function(v,S){var _=(S+1)%v.length();return new PolynomialBezier(v.v[_],v.i[_],v.o[S],v.v[S],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(v,S){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(v,S.s,0,null,this),this.frequency=PropertyFactory.getProp(v,S.r,0,null,this),this.pointsType=PropertyFactory.getProp(v,S.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(v,S,_,E){var P=v._length,D=shapePool.newElement();if(D.c=v.c,v.c||(P-=1),0===P)return D;var R=-1,M=PolynomialBezier.shapeSegment(v,0);zigZagCorner(D,v,0,S,_,E,R);for(var O=0;O<P;O+=1)R=zigZagSegment(D,M,S,_,E,-R),M=O!==P-1||v.c?PolynomialBezier.shapeSegment(v,(O+1)%P):null,zigZagCorner(D,v,O+1,S,_,E,R);return D},ZigZagModifier.prototype.processShapes=function(v){var S,_,E,P,D,R,M=this.shapes.length,O=this.amplitude.v,F=Math.max(0,Math.round(this.frequency.v)),N=this.pointsType.v;if(0!==O)for(_=0;_<M;_+=1){if(R=(D=this.shapes[_]).localShapeCollection,D.shape._mdf||this._mdf||v)for(R.releaseShapes(),D.shape._mdf=!0,S=D.shape.paths.shapes,P=D.shape.paths._length,E=0;E<P;E+=1)R.addShape(this.processPath(S[E],O,F,N));D.shape.paths=D.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(v,S){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(v,S.a,0,null,this),this.miterLimit=PropertyFactory.getProp(v,S.ml,0,null,this),this.lineJoin=S.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(v,S,_,E){var P=shapePool.newElement();P.c=v.c;var D,R,M,O=v.length();v.c||(O-=1);var F=[];for(D=0;D<O;D+=1)M=PolynomialBezier.shapeSegment(v,D),F.push(offsetSegmentSplit(M,S));if(!v.c)for(D=O-1;D>=0;D-=1)M=PolynomialBezier.shapeSegmentInverted(v,D),F.push(offsetSegmentSplit(M,S));F=pruneIntersections(F);var N=null,L=null;for(D=0;D<F.length;D+=1){var U=F[D];for(L&&(N=joinLines(P,L,U[0],_,E)),L=U[U.length-1],R=0;R<U.length;R+=1)M=U[R],N&&pointEqual(M.points[0],N)?P.setXYAt(M.points[1][0],M.points[1][1],"o",P.length()-1):P.setTripleAt(M.points[0][0],M.points[0][1],M.points[1][0],M.points[1][1],M.points[0][0],M.points[0][1],P.length()),P.setTripleAt(M.points[3][0],M.points[3][1],M.points[3][0],M.points[3][1],M.points[2][0],M.points[2][1],P.length()),N=M.points[3]}return F.length&&joinLines(P,L,F[0][0],_,E),P},OffsetPathModifier.prototype.processShapes=function(v){var S,_,E,P,D,R,M=this.shapes.length,O=this.amount.v,F=this.miterLimit.v,N=this.lineJoin;if(0!==O)for(_=0;_<M;_+=1){if(R=(D=this.shapes[_]).localShapeCollection,D.shape._mdf||this._mdf||v)for(R.releaseShapes(),D.shape._mdf=!0,S=D.shape.paths.shapes,P=D.shape.paths._length,E=0;E<P;E+=1)R.addShape(this.processPath(S[E],O,N,F));D.shape.paths=D.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var v={w:0,size:0,shapes:[],data:{shapes:[]}},S=[];S=S.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var _=127988,E=127462,P=127487,D=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function setUpNode(v,S){var _=createTag("span");_.setAttribute("aria-hidden",!0),_.style.fontFamily=S;var E=createTag("span");E.innerText="giItT1WQy@!-/#",_.style.position="absolute",_.style.left="-10000px",_.style.top="-10000px",_.style.fontSize="300px",_.style.fontVariant="normal",_.style.fontStyle="normal",_.style.fontWeight="normal",_.style.letterSpacing="0",_.appendChild(E),document.body.appendChild(_);var P=E.offsetWidth;return E.style.fontFamily=function trimFontOptions(v){var S,_=v.split(","),E=_.length,P=[];for(S=0;S<E;S+=1)"sans-serif"!==_[S]&&"monospace"!==_[S]&&P.push(_[S]);return P.join(",")}(v)+", "+S,{node:E,w:P,parent:_}}function createHelper(v,S){var _,E=document.body&&S?"svg":"canvas",P=getFontProperties(v);if("svg"===E){var D=createNS("text");D.style.fontSize="100px",D.setAttribute("font-family",v.fFamily),D.setAttribute("font-style",P.style),D.setAttribute("font-weight",P.weight),D.textContent="1",v.fClass?(D.style.fontFamily="inherit",D.setAttribute("class",v.fClass)):D.style.fontFamily=v.fFamily,S.appendChild(D),_=D}else{var R=new OffscreenCanvas(500,500).getContext("2d");R.font=P.style+" "+P.weight+" 100px "+v.fFamily,_=R}return{measureText:function measure(v){return"svg"===E?(_.textContent=v,_.getComputedTextLength()):_.measureText(v).width}}}function getCodePoint(v){var S=0,_=v.charCodeAt(0);if(_>=55296&&_<=56319){var E=v.charCodeAt(1);E>=56320&&E<=57343&&(S=1024*(_-55296)+E-56320+65536)}return S}function isRegionalCode(v){var S=getCodePoint(v);return S>=E&&S<=P}var R=function Font(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};R.isModifier=function isModifier(v,S){var _=v.toString(16)+S.toString(16);return-1!==D.indexOf(_)},R.isZeroWidthJoiner=function isZeroWidthJoiner(v){return 8205===v},R.isFlagEmoji=function isFlagEmoji(v){return isRegionalCode(v.substr(0,2))&&isRegionalCode(v.substr(2,2))},R.isRegionalCode=isRegionalCode,R.isCombinedCharacter=function isCombinedCharacter(v){return-1!==S.indexOf(v)},R.isRegionalFlag=function isRegionalFlag(v,S){var E=getCodePoint(v.substr(S,2));if(E!==_)return!1;var P=0;for(S+=2;P<5;){if((E=getCodePoint(v.substr(S,2)))<917601||E>917626)return!1;P+=1,S+=2}return 917631===getCodePoint(v.substr(S,2))},R.isVariationSelector=function isVariationSelector(v){return 65039===v},R.BLACK_FLAG_CODE_POINT=_;var M={addChars:function addChars(v){if(v){var S;this.chars||(this.chars=[]);var _,E,P=v.length,D=this.chars.length;for(S=0;S<P;S+=1){for(_=0,E=!1;_<D;)this.chars[_].style===v[S].style&&this.chars[_].fFamily===v[S].fFamily&&this.chars[_].ch===v[S].ch&&(E=!0),_+=1;E||(this.chars.push(v[S]),D+=1)}}},addFonts:function addFonts(v,S){if(v){if(this.chars)return this.isLoaded=!0,void(this.fonts=v.list);if(!document.body)return this.isLoaded=!0,v.list.forEach((function(v){v.helper=createHelper(v),v.cache={}})),void(this.fonts=v.list);var _,E=v.list,P=E.length,D=P;for(_=0;_<P;_+=1){var R,M,O=!0;if(E[_].loaded=!1,E[_].monoCase=setUpNode(E[_].fFamily,"monospace"),E[_].sansCase=setUpNode(E[_].fFamily,"sans-serif"),E[_].fPath){if("p"===E[_].fOrigin||3===E[_].origin){if((R=document.querySelectorAll('style[f-forigin="p"][f-family="'+E[_].fFamily+'"], style[f-origin="3"][f-family="'+E[_].fFamily+'"]')).length>0&&(O=!1),O){var F=createTag("style");F.setAttribute("f-forigin",E[_].fOrigin),F.setAttribute("f-origin",E[_].origin),F.setAttribute("f-family",E[_].fFamily),F.type="text/css",F.innerText="@font-face {font-family: "+E[_].fFamily+"; font-style: normal; src: url('"+E[_].fPath+"');}",S.appendChild(F)}}else if("g"===E[_].fOrigin||1===E[_].origin){for(R=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),M=0;M<R.length;M+=1)-1!==R[M].href.indexOf(E[_].fPath)&&(O=!1);if(O){var N=createTag("link");N.setAttribute("f-forigin",E[_].fOrigin),N.setAttribute("f-origin",E[_].origin),N.type="text/css",N.rel="stylesheet",N.href=E[_].fPath,document.body.appendChild(N)}}else if("t"===E[_].fOrigin||2===E[_].origin){for(R=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),M=0;M<R.length;M+=1)E[_].fPath===R[M].src&&(O=!1);if(O){var L=createTag("link");L.setAttribute("f-forigin",E[_].fOrigin),L.setAttribute("f-origin",E[_].origin),L.setAttribute("rel","stylesheet"),L.setAttribute("href",E[_].fPath),S.appendChild(L)}}}else E[_].loaded=!0,D-=1;E[_].helper=createHelper(E[_],S),E[_].cache={},this.fonts.push(E[_])}0===D?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function getCharData(S,_,E){for(var P=0,D=this.chars.length;P<D;){if(this.chars[P].ch===S&&this.chars[P].style===_&&this.chars[P].fFamily===E)return this.chars[P];P+=1}return("string"==typeof S&&13!==S.charCodeAt(0)||!S)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",S,_,E)),v},getFontByName:function getFontByName(v){for(var S=0,_=this.fonts.length;S<_;){if(this.fonts[S].fName===v)return this.fonts[S];S+=1}return this.fonts[0]},measureText:function measureText(v,S,_){var E=this.getFontByName(S),P=v;if(!E.cache[P]){var D=E.helper;if(" "===v){var R=D.measureText("|"+v+"|"),M=D.measureText("||");E.cache[P]=(R-M)/100}else E.cache[P]=D.measureText(v)/100}return E.cache[P]*_},checkLoadedFonts:function checkLoadedFonts(){var v,S,_,E=this.fonts.length,P=E;for(v=0;v<E;v+=1)this.fonts[v].loaded?P-=1:"n"===this.fonts[v].fOrigin||0===this.fonts[v].origin?this.fonts[v].loaded=!0:(S=this.fonts[v].monoCase.node,_=this.fonts[v].monoCase.w,S.offsetWidth!==_?(P-=1,this.fonts[v].loaded=!0):(S=this.fonts[v].sansCase.node,_=this.fonts[v].sansCase.w,S.offsetWidth!==_&&(P-=1,this.fonts[v].loaded=!0)),this.fonts[v].loaded&&(this.fonts[v].sansCase.parent.parentNode.removeChild(this.fonts[v].sansCase.parent),this.fonts[v].monoCase.parent.parentNode.removeChild(this.fonts[v].monoCase.parent)));0!==P&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function setIsLoaded(){this.isLoaded=!0}};return R.prototype=M,R}();function SlotManager(v){this.animationData=v}function slotFactory(v){return new SlotManager(v)}function RenderableElement(){}SlotManager.prototype.getProp=function(v){return this.animationData.slots&&this.animationData.slots[v.sid]?Object.assign(v,this.animationData.slots[v.sid].p):v},RenderableElement.prototype={initRenderable:function initRenderable(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function addRenderableComponent(v){-1===this.renderableComponents.indexOf(v)&&this.renderableComponents.push(v)},removeRenderableComponent:function removeRenderableComponent(v){-1!==this.renderableComponents.indexOf(v)&&this.renderableComponents.splice(this.renderableComponents.indexOf(v),1)},prepareRenderableFrame:function prepareRenderableFrame(v){this.checkLayerLimits(v)},checkTransparency:function checkTransparency(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function checkLayerLimits(v){this.data.ip-this.data.st<=v&&this.data.op-this.data.st>v?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function renderRenderable(){var v,S=this.renderableComponents.length;for(v=0;v<S;v+=1)this.renderableComponents[v].renderFrame(this._isFirstFrame)},sourceRectAtTime:function sourceRectAtTime(){return{top:0,left:0,width:100,height:100}},getLayerSize:function getLayerSize(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(v){return blendModeEnums[v]||""}),blendModeEnums;function SliderEffect(v,S,_){this.p=PropertyFactory.getProp(S,v.v,0,0,_)}function AngleEffect(v,S,_){this.p=PropertyFactory.getProp(S,v.v,0,0,_)}function ColorEffect(v,S,_){this.p=PropertyFactory.getProp(S,v.v,1,0,_)}function PointEffect(v,S,_){this.p=PropertyFactory.getProp(S,v.v,1,0,_)}function LayerIndexEffect(v,S,_){this.p=PropertyFactory.getProp(S,v.v,0,0,_)}function MaskIndexEffect(v,S,_){this.p=PropertyFactory.getProp(S,v.v,0,0,_)}function CheckboxEffect(v,S,_){this.p=PropertyFactory.getProp(S,v.v,0,0,_)}function NoValueEffect(){this.p={}}function EffectsManager(v,S){var _,E=v.ef||[];this.effectElements=[];var P,D=E.length;for(_=0;_<D;_+=1)P=new GroupEffect(E[_],S),this.effectElements.push(P)}function GroupEffect(v,S){this.init(v,S)}function BaseElement(){}function FrameElement(){}function FootageElement(v,S,_){this.initFrame(),this.initRenderable(),this.assetData=S.getAssetData(v.refId),this.footageData=S.imageLoader.getAsset(this.assetData),this.initBaseData(v,S,_)}function AudioElement(v,S,_){this.initFrame(),this.initRenderable(),this.assetData=S.getAssetData(v.refId),this.initBaseData(v,S,_),this._isPlaying=!1,this._canPlay=!1;var E=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(E),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=v.tm?PropertyFactory.getProp(this,v.tm,0,S.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,v.au&&v.au.lv?v.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(v,S){var _;this.data=v,this.effectElements=[],this.initDynamicPropertyContainer(S);var E,P=this.data.ef.length,D=this.data.ef;for(_=0;_<P;_+=1){switch(E=null,D[_].ty){case 0:E=new SliderEffect(D[_],S,this);break;case 1:E=new AngleEffect(D[_],S,this);break;case 2:E=new ColorEffect(D[_],S,this);break;case 3:E=new PointEffect(D[_],S,this);break;case 4:case 7:E=new CheckboxEffect(D[_],S,this);break;case 10:E=new LayerIndexEffect(D[_],S,this);break;case 11:E=new MaskIndexEffect(D[_],S,this);break;case 5:E=new EffectsManager(D[_],S,this);break;default:E=new NoValueEffect(D[_],S,this)}E&&this.effectElements.push(E)}},BaseElement.prototype={checkMasks:function checkMasks(){if(!this.data.hasMask)return!1;for(var v=0,S=this.data.masksProperties.length;v<S;){if("n"!==this.data.masksProperties[v].mode&&!1!==this.data.masksProperties[v].cl)return!0;v+=1}return!1},initExpressions:function initExpressions(){var v=getExpressionInterfaces();if(v){var S=v("layer"),_=v("effects"),E=v("shape"),P=v("text"),D=v("comp");this.layerInterface=S(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var R=_.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(R),0===this.data.ty||this.data.xt?this.compInterface=D(this):4===this.data.ty?(this.layerInterface.shapeInterface=E(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=P(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function setBlendMode(){var v=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=v},initBaseData:function initBaseData(v,S,_){this.globalData=S,this.comp=_,this.data=v,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function getType(){return this.type},sourceRectAtTime:function sourceRectAtTime(){}},FrameElement.prototype={initFrame:function initFrame(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function prepareProperties(v,S){var _,E=this.dynamicProperties.length;for(_=0;_<E;_+=1)(S||this._isParent&&"transform"===this.dynamicProperties[_].propType)&&(this.dynamicProperties[_].getValue(),this.dynamicProperties[_]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function addDynamicProperty(v){-1===this.dynamicProperties.indexOf(v)&&this.dynamicProperties.push(v)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var v=getExpressionInterfaces();if(v){var S=v("footage");this.layerInterface=S(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(v){if(this.prepareRenderableFrame(v,!0),this.prepareProperties(v,!0),this.tm._placeholder)this._currentTime=v/this.data.sr;else{var S=this.tm.v;this._currentTime=S}this._volume=this.lv.v[0];var _=this._volume*this._volumeMultiplier;this._previousVolume!==_&&(this._previousVolume=_,this.audio.volume(_))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(v){this.audio.rate(v)},AudioElement.prototype.volume=function(v){this._volumeMultiplier=v,this._previousVolume=v*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(v){var S,_,E=this.layers.length;for(this.completeLayers=!0,S=E-1;S>=0;S-=1)this.elements[S]||(_=this.layers[S]).ip-_.st<=v-this.layers[S].st&&_.op-_.st>v-this.layers[S].st&&this.buildItem(S),this.completeLayers=!!this.elements[S]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(v){switch(v.ty){case 2:return this.createImage(v);case 0:return this.createComp(v);case 1:return this.createSolid(v);case 3:default:return this.createNull(v);case 4:return this.createShape(v);case 5:return this.createText(v);case 6:return this.createAudio(v);case 13:return this.createCamera(v);case 15:return this.createFootage(v)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(v){return new AudioElement(v,this.globalData,this)},BaseRenderer.prototype.createFootage=function(v){return new FootageElement(v,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var v,S=this.layers.length;for(v=0;v<S;v+=1)this.buildItem(v);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(v){var S;this.completeLayers=!1;var _,E=v.length,P=this.layers.length;for(S=0;S<E;S+=1)for(_=0;_<P;){if(this.layers[_].id===v[S].id){this.layers[_]=v[S];break}_+=1}},BaseRenderer.prototype.setProjectInterface=function(v){this.globalData.projectInterface=v},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(v,S,_){for(var E=this.elements,P=this.layers,D=0,R=P.length;D<R;)P[D].ind==S&&(E[D]&&!0!==E[D]?(_.push(E[D]),E[D].setAsParent(),void 0!==P[D].parent?this.buildElementParenting(v,P[D].parent,_):v.setHierarchy(_)):(this.buildItem(D),this.addPendingElement(v))),D+=1},BaseRenderer.prototype.addPendingElement=function(v){this.pendingElements.push(v)},BaseRenderer.prototype.searchExtraCompositions=function(v){var S,_=v.length;for(S=0;S<_;S+=1)if(v[S].xt){var E=this.createComp(v[S]);E.initExpressions(),this.globalData.projectInterface.registerComposition(E)}},BaseRenderer.prototype.getElementById=function(v){var S,_=this.elements.length;for(S=0;S<_;S+=1)if(this.elements[S].data.ind===v)return this.elements[S];return null},BaseRenderer.prototype.getElementByPath=function(v){var S,_=v.shift();if("number"==typeof _)S=this.elements[_];else{var E,P=this.elements.length;for(E=0;E<P;E+=1)if(this.elements[E].data.nm===_){S=this.elements[E];break}}return 0===v.length?S:S.getElementByPath(v)},BaseRenderer.prototype.setupGlobalData=function(v,S){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(v),this.globalData.fontManager.addChars(v.chars),this.globalData.fontManager.addFonts(v.fonts,S),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=v.fr,this.globalData.nm=v.nm,this.globalData.compSize={w:v.w,h:v.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(v,S,_){this.data=v,this.element=S,this.globalData=_,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var E,P,D=this.globalData.defs,R=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(R),this.solidPath="";var M,O,F,N,L,U,V=this.masksProperties,G=0,W=[],$=createElementID(),X="clipPath",Y="clip-path";for(E=0;E<R;E+=1)if(("a"!==V[E].mode&&"n"!==V[E].mode||V[E].inv||100!==V[E].o.k||V[E].o.x)&&(X="mask",Y="mask"),"s"!==V[E].mode&&"i"!==V[E].mode||0!==G?F=null:((F=createNS("rect")).setAttribute("fill","#ffffff"),F.setAttribute("width",this.element.comp.data.w||0),F.setAttribute("height",this.element.comp.data.h||0),W.push(F)),P=createNS("path"),"n"===V[E].mode)this.viewData[E]={op:PropertyFactory.getProp(this.element,V[E].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,V[E],3),elem:P,lastPath:""},D.appendChild(P);else{var J;if(G+=1,P.setAttribute("fill","s"===V[E].mode?"#000000":"#ffffff"),P.setAttribute("clip-rule","nonzero"),0!==V[E].x.k?(X="mask",Y="mask",U=PropertyFactory.getProp(this.element,V[E].x,0,null,this.element),J=createElementID(),(N=createNS("filter")).setAttribute("id",J),(L=createNS("feMorphology")).setAttribute("operator","erode"),L.setAttribute("in","SourceGraphic"),L.setAttribute("radius","0"),N.appendChild(L),D.appendChild(N),P.setAttribute("stroke","s"===V[E].mode?"#000000":"#ffffff")):(L=null,U=null),this.storedData[E]={elem:P,x:U,expan:L,lastPath:"",lastOperator:"",filterId:J,lastRadius:0},"i"===V[E].mode){O=W.length;var Z=createNS("g");for(M=0;M<O;M+=1)Z.appendChild(W[M]);var Q=createNS("mask");Q.setAttribute("mask-type","alpha"),Q.setAttribute("id",$+"_"+G),Q.appendChild(P),D.appendChild(Q),Z.setAttribute("mask","url("+getLocationHref()+"#"+$+"_"+G+")"),W.length=0,W.push(Z)}else W.push(P);V[E].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[E]={elem:P,lastPath:"",op:PropertyFactory.getProp(this.element,V[E].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,V[E],3),invRect:F},this.viewData[E].prop.k||this.drawPath(V[E],this.viewData[E].prop.v,this.viewData[E])}for(this.maskElement=createNS(X),R=W.length,E=0;E<R;E+=1)this.maskElement.appendChild(W[E]);G>0&&(this.maskElement.setAttribute("id",$),this.element.maskedElement.setAttribute(Y,"url("+getLocationHref()+"#"+$+")"),D.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function initTransform(){var v=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:v,localMat:v,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function renderTransform(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var v,S=this.finalTransform.mat,_=0,E=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;_<E;){if(this.hierarchy[_].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}_+=1}if(this.finalTransform._matMdf)for(v=this.finalTransform.mProp.v.props,S.cloneFromProps(v),_=0;_<E;_+=1)S.multiply(this.hierarchy[_].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function renderLocalTransform(){if(this.localTransforms){var v=0,S=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;v<S;)this.localTransforms[v]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[v]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),v+=1;if(this.finalTransform._localMatMdf){var _=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(_),v=1;v<S;v+=1){var E=this.localTransforms[v].matrix;_.multiply(E)}_.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var P=this.finalTransform.localOpacity;for(v=0;v<S;v+=1)P*=.01*this.localTransforms[v].opacity;this.finalTransform.localOpacity=P}}},searchEffectTransforms:function searchEffectTransforms(){if(this.renderableEffectsManager){var v=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(v.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var S=0,_=v.length;for(S=0;S<_;S+=1)this.localTransforms.push(v[S])}}},globalToLocal:function globalToLocal(v){var S=[];S.push(this.finalTransform);for(var _,E=!0,P=this.comp;E;)P.finalTransform?(P.data.hasMask&&S.splice(0,0,P.finalTransform),P=P.comp):E=!1;var D,R=S.length;for(_=0;_<R;_+=1)D=S[_].mat.applyToPointArray(0,0,0),v=[v[0]-D[0],v[1]-D[1],0];return v},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(v){return this.viewData[v].prop},MaskElement.prototype.renderFrame=function(v){var S,_=this.element.finalTransform.mat,E=this.masksProperties.length;for(S=0;S<E;S+=1)if((this.viewData[S].prop._mdf||v)&&this.drawPath(this.masksProperties[S],this.viewData[S].prop.v,this.viewData[S]),(this.viewData[S].op._mdf||v)&&this.viewData[S].elem.setAttribute("fill-opacity",this.viewData[S].op.v),"n"!==this.masksProperties[S].mode&&(this.viewData[S].invRect&&(this.element.finalTransform.mProp._mdf||v)&&this.viewData[S].invRect.setAttribute("transform",_.getInverseMatrix().to2dCSS()),this.storedData[S].x&&(this.storedData[S].x._mdf||v))){var P=this.storedData[S].expan;this.storedData[S].x.v<0?("erode"!==this.storedData[S].lastOperator&&(this.storedData[S].lastOperator="erode",this.storedData[S].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[S].filterId+")")),P.setAttribute("radius",-this.storedData[S].x.v)):("dilate"!==this.storedData[S].lastOperator&&(this.storedData[S].lastOperator="dilate",this.storedData[S].elem.setAttribute("filter",null)),this.storedData[S].elem.setAttribute("stroke-width",2*this.storedData[S].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var v="M0,0 ";return v+=" h"+this.globalData.compSize.w,v+=" v"+this.globalData.compSize.h,v+=" h-"+this.globalData.compSize.w,v+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(v,S,_){var E,P,D=" M"+S.v[0][0]+","+S.v[0][1];for(P=S._length,E=1;E<P;E+=1)D+=" C"+S.o[E-1][0]+","+S.o[E-1][1]+" "+S.i[E][0]+","+S.i[E][1]+" "+S.v[E][0]+","+S.v[E][1];if(S.c&&P>1&&(D+=" C"+S.o[E-1][0]+","+S.o[E-1][1]+" "+S.i[0][0]+","+S.i[0][1]+" "+S.v[0][0]+","+S.v[0][1]),_.lastPath!==D){var R="";_.elem&&(S.c&&(R=v.inv?this.solidPath+D:D),_.elem.setAttribute("d",R)),_.lastPath=D}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var v={createFilter:function createFilter(v,S){var _=createNS("filter");return _.setAttribute("id",v),!0!==S&&(_.setAttribute("filterUnits","objectBoundingBox"),_.setAttribute("x","0%"),_.setAttribute("y","0%"),_.setAttribute("width","100%"),_.setAttribute("height","100%")),_},createAlphaToLuminanceFilter:function createAlphaToLuminanceFilter(){var v=createNS("feColorMatrix");return v.setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","sRGB"),v.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),v}};return v}(),featureSupport=function(){var v={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(v.maskType=!1),/firefox/i.test(navigator.userAgent)&&(v.svgLumaHidden=!1),v}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(v){var S,_,E="SourceGraphic",P=v.data.ef?v.data.ef.length:0,D=createElementID(),R=filtersFactory.createFilter(D,!0),M=0;for(this.filters=[],S=0;S<P;S+=1){_=null;var O=v.data.ef[S].ty;registeredEffects$1[O]&&(_=new(0,registeredEffects$1[O].effect)(R,v.effectsManager.effectElements[S],v,idPrefix+M,E),E=idPrefix+M,registeredEffects$1[O].countsAsEffect&&(M+=1)),_&&this.filters.push(_)}M&&(v.globalData.defs.appendChild(R),v.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+D+")")),this.filters.length&&v.addRenderableComponent(this)}function registerEffect$1(v,S,_){registeredEffects$1[v]={effect:S,countsAsEffect:_}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(v,S,_){this.assetData=S.getAssetData(v.refId),this.assetData&&this.assetData.sid&&(this.assetData=S.slotManager.getProp(this.assetData)),this.initElement(v,S,_),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(v,S){this.elem=v,this.pos=S}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(v){var S,_=this.filters.length;for(S=0;S<_;S+=1)this.filters[S].renderFrame(v)},SVGEffects.prototype.getEffects=function(v){var S,_=this.filters.length,E=[];for(S=0;S<_;S+=1)this.filters[S].type===v&&E.push(this.filters[S]);return E},SVGBaseElement.prototype={initRendererElement:function initRendererElement(){this.layerElement=createNS("g")},createContainerElements:function createContainerElements(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var v=null;if(this.data.td){this.matteMasks={};var S=createNS("g");S.setAttribute("id",this.layerId),S.appendChild(this.layerElement),v=S,this.globalData.defs.appendChild(S)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),v=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var _=createNS("clipPath"),E=createNS("path");E.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var P=createElementID();if(_.setAttribute("id",P),_.appendChild(E),this.globalData.defs.appendChild(_),this.checkMasks()){var D=createNS("g");D.setAttribute("clip-path","url("+getLocationHref()+"#"+P+")"),D.appendChild(this.layerElement),this.transformedElement=D,v?v.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+P+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function renderElement(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function destroyBaseElement(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function getBaseElement(){return this.data.hd?null:this.baseElement},createRenderableComponents:function createRenderableComponents(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function getMatte(v){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[v]){var S,_,E,P,D=this.layerId+"_"+v;if(1===v||3===v){var R=createNS("mask");R.setAttribute("id",D),R.setAttribute("mask-type",3===v?"luminance":"alpha"),(E=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),R.appendChild(E),this.globalData.defs.appendChild(R),featureSupport.maskType||1!==v||(R.setAttribute("mask-type","luminance"),S=createElementID(),_=filtersFactory.createFilter(S),this.globalData.defs.appendChild(_),_.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(P=createNS("g")).appendChild(E),R.appendChild(P),P.setAttribute("filter","url("+getLocationHref()+"#"+S+")"))}else if(2===v){var M=createNS("mask");M.setAttribute("id",D),M.setAttribute("mask-type","alpha");var O=createNS("g");M.appendChild(O),S=createElementID(),_=filtersFactory.createFilter(S);var F=createNS("feComponentTransfer");F.setAttribute("in","SourceGraphic"),_.appendChild(F);var N=createNS("feFuncA");N.setAttribute("type","table"),N.setAttribute("tableValues","1.0 0.0"),F.appendChild(N),this.globalData.defs.appendChild(_);var L=createNS("rect");L.setAttribute("width",this.comp.data.w),L.setAttribute("height",this.comp.data.h),L.setAttribute("x","0"),L.setAttribute("y","0"),L.setAttribute("fill","#ffffff"),L.setAttribute("opacity","0"),O.setAttribute("filter","url("+getLocationHref()+"#"+S+")"),O.appendChild(L),(E=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),O.appendChild(E),featureSupport.maskType||(M.setAttribute("mask-type","luminance"),_.appendChild(filtersFactory.createAlphaToLuminanceFilter()),P=createNS("g"),O.appendChild(L),P.appendChild(this.layerElement),O.appendChild(P)),this.globalData.defs.appendChild(M)}this.matteMasks[v]=D}return this.matteMasks[v]},setMatte:function setMatte(v){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+v+")")}},HierarchyElement.prototype={initHierarchy:function initHierarchy(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function setHierarchy(v){this.hierarchy=v},setAsParent:function setAsParent(){this._isParent=!0},checkParenting:function checkParenting(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function initElement(v,S,_){this.initFrame(),this.initBaseData(v,S,_),this.initTransform(v,S,_),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function hide(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function show(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function renderFrame(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function renderInnerContent(){},prepareFrame:function prepareFrame(v){this._mdf=!1,this.prepareRenderableFrame(v),this.prepareProperties(v,this.isInRange),this.checkTransparency()},destroy:function destroy(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var v=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",v),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function addShapeToModifiers(v){var S,_=this.shapeModifiers.length;for(S=0;S<_;S+=1)this.shapeModifiers[S].addShape(v)},isShapeInAnimatedModifiers:function isShapeInAnimatedModifiers(v){for(var S=this.shapeModifiers.length;0<S;)if(this.shapeModifiers[0].isAnimatedWithShape(v))return!0;return!1},renderModifiers:function renderModifiers(){if(this.shapeModifiers.length){var v,S=this.shapes.length;for(v=0;v<S;v+=1)this.shapes[v].sh.reset();for(v=(S=this.shapeModifiers.length)-1;v>=0&&!this.shapeModifiers[v].processShapes(this._isFirstFrame);v-=1);}},searchProcessedElement:function searchProcessedElement(v){for(var S=this.processedElements,_=0,E=S.length;_<E;){if(S[_].elem===v)return S[_].pos;_+=1}return 0},addProcessedElement:function addProcessedElement(v,S){for(var _=this.processedElements,E=_.length;E;)if(_[E-=1].elem===v)return void(_[E].pos=S);_.push(new ProcessedElement(v,S))},prepareFrame:function prepareFrame(v){this.prepareRenderableFrame(v),this.prepareProperties(v,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(v,S,_){this.caches=[],this.styles=[],this.transformers=v,this.lStr="",this.sh=_,this.lvl=S,this._isAnimated=!!_.k;for(var E=0,P=v.length;E<P;){if(v[E].mProps.dynamicProperties.length){this._isAnimated=!0;break}E+=1}}function SVGStyleData(v,S){this.data=v,this.type=v.ty,this.d="",this.lvl=S,this._mdf=!1,this.closed=!0===v.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(v,S,_,E){var P;this.elem=v,this.frameId=-1,this.dataProps=createSizedArray(S.length),this.renderer=_,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",S.length?S.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(E);var D,R=S.length||0;for(P=0;P<R;P+=1)D=PropertyFactory.getProp(v,S[P].v,0,0,this),this.k=D.k||this.k,this.dataProps[P]={n:S[P].n,p:D};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(v,S,_){this.initDynamicPropertyContainer(v),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(v,S.o,0,.01,this),this.w=PropertyFactory.getProp(v,S.w,0,null,this),this.d=new DashProperty(v,S.d||{},"svg",this),this.c=PropertyFactory.getProp(v,S.c,1,255,this),this.style=_,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(v,S,_){this.initDynamicPropertyContainer(v),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(v,S.o,0,.01,this),this.c=PropertyFactory.getProp(v,S.c,1,255,this),this.style=_}function SVGNoStyleData(v,S,_){this.initDynamicPropertyContainer(v),this.getValue=this.iterateDynamicProperties,this.style=_}function GradientProperty(v,S,_){this.data=S,this.c=createTypedArray("uint8c",4*S.p);var E=S.k.k[0].s?S.k.k[0].s.length-4*S.p:S.k.k.length-4*S.p;this.o=createTypedArray("float32",E),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=E,this.initDynamicPropertyContainer(_),this.prop=PropertyFactory.getProp(v,S.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(v,S,_){this.initDynamicPropertyContainer(v),this.getValue=this.iterateDynamicProperties,this.initGradientData(v,S,_)}function SVGGradientStrokeStyleData(v,S,_){this.initDynamicPropertyContainer(v),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(v,S.w,0,null,this),this.d=new DashProperty(v,S.d||{},"svg",this),this.initGradientData(v,S,_),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(v,S,_){this.transform={mProps:v,op:S,container:_},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(v){if((this.elem.globalData.frameId!==this.frameId||v)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||v,this._mdf)){var S=0,_=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),S=0;S<_;S+=1)"o"!==this.dataProps[S].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[S].p.v:this.dashArray[S]=this.dataProps[S].p.v:this.dashoffset[0]=this.dataProps[S].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(v,S){for(var _=0,E=this.o.length/2;_<E;){if(Math.abs(v[4*_]-v[4*S+2*_])>.01)return!1;_+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var v=0,S=this.data.k.k.length;v<S;){if(!this.comparePoints(this.data.k.k[v].s,this.data.p))return!1;v+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(v){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||v){var S,_,E,P=4*this.data.p;for(S=0;S<P;S+=1)_=S%4==0?100:255,E=Math.round(this.prop.v[S]*_),this.c[S]!==E&&(this.c[S]=E,this._cmdf=!v);if(this.o.length)for(P=this.prop.v.length,S=4*this.data.p;S<P;S+=1)_=S%2==0?100:1,E=S%2==0?Math.round(100*this.prop.v[S]):this.prop.v[S],this.o[S-4*this.data.p]!==E&&(this.o[S-4*this.data.p]=E,this._omdf=!v);this._mdf=!v}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(v,S,_){this.o=PropertyFactory.getProp(v,S.o,0,.01,this),this.s=PropertyFactory.getProp(v,S.s,1,null,this),this.e=PropertyFactory.getProp(v,S.e,1,null,this),this.h=PropertyFactory.getProp(v,S.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(v,S.a||{k:0},0,degToRads,this),this.g=new GradientProperty(v,S.g,this),this.style=_,this.stops=[],this.setGradientData(_.pElem,S),this.setGradientOpacity(S,_),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(v,S){var _=createElementID(),E=createNS(1===S.t?"linearGradient":"radialGradient");E.setAttribute("id",_),E.setAttribute("spreadMethod","pad"),E.setAttribute("gradientUnits","userSpaceOnUse");var P,D,R,M=[];for(R=4*S.g.p,D=0;D<R;D+=4)P=createNS("stop"),E.appendChild(P),M.push(P);v.setAttribute("gf"===S.ty?"fill":"stroke","url("+getLocationHref()+"#"+_+")"),this.gf=E,this.cst=M},SVGGradientFillStyleData.prototype.setGradientOpacity=function(v,S){if(this.g._hasOpacity&&!this.g._collapsable){var _,E,P,D=createNS("mask"),R=createNS("path");D.appendChild(R);var M=createElementID(),O=createElementID();D.setAttribute("id",O);var F=createNS(1===v.t?"linearGradient":"radialGradient");F.setAttribute("id",M),F.setAttribute("spreadMethod","pad"),F.setAttribute("gradientUnits","userSpaceOnUse"),P=v.g.k.k[0].s?v.g.k.k[0].s.length:v.g.k.k.length;var N=this.stops;for(E=4*v.g.p;E<P;E+=2)(_=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),F.appendChild(_),N.push(_);R.setAttribute("gf"===v.ty?"fill":"stroke","url("+getLocationHref()+"#"+M+")"),"gs"===v.ty&&(R.setAttribute("stroke-linecap",lineCapEnum[v.lc||2]),R.setAttribute("stroke-linejoin",lineJoinEnum[v.lj||2]),1===v.lj&&R.setAttribute("stroke-miterlimit",v.ml)),this.of=F,this.ms=D,this.ost=N,this.maskId=O,S.msElem=R}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function buildShapeString(v,S,_,E){if(0===S)return"";var P,D=v.o,R=v.i,M=v.v,O=" M"+E.applyToPointStringified(M[0][0],M[0][1]);for(P=1;P<S;P+=1)O+=" C"+E.applyToPointStringified(D[P-1][0],D[P-1][1])+" "+E.applyToPointStringified(R[P][0],R[P][1])+" "+E.applyToPointStringified(M[P][0],M[P][1]);return _&&S&&(O+=" C"+E.applyToPointStringified(D[P-1][0],D[P-1][1])+" "+E.applyToPointStringified(R[0][0],R[0][1])+" "+E.applyToPointStringified(M[0][0],M[0][1]),O+="z"),O},SVGElementsRenderer=function(){var v=new Matrix,S=new Matrix;function renderContentTransform(v,S,_){(_||S.transform.op._mdf)&&S.transform.container.setAttribute("opacity",S.transform.op.v),(_||S.transform.mProps._mdf)&&S.transform.container.setAttribute("transform",S.transform.mProps.v.to2dCSS())}function renderNoop(){}function renderPath(_,E,P){var D,R,M,O,F,N,L,U,V,G,W=E.styles.length,$=E.lvl;for(N=0;N<W;N+=1){if(O=E.sh._mdf||P,E.styles[N].lvl<$){for(U=S.reset(),V=$-E.styles[N].lvl,G=E.transformers.length-1;!O&&V>0;)O=E.transformers[G].mProps._mdf||O,V-=1,G-=1;if(O)for(V=$-E.styles[N].lvl,G=E.transformers.length-1;V>0;)U.multiply(E.transformers[G].mProps.v),V-=1,G-=1}else U=v;if(R=(L=E.sh.paths)._length,O){for(M="",D=0;D<R;D+=1)(F=L.shapes[D])&&F._length&&(M+=buildShapeString(F,F._length,F.c,U));E.caches[N]=M}else M=E.caches[N];E.styles[N].d+=!0===_.hd?"":M,E.styles[N]._mdf=O||E.styles[N]._mdf}}function renderFill(v,S,_){var E=S.style;(S.c._mdf||_)&&E.pElem.setAttribute("fill","rgb("+bmFloor(S.c.v[0])+","+bmFloor(S.c.v[1])+","+bmFloor(S.c.v[2])+")"),(S.o._mdf||_)&&E.pElem.setAttribute("fill-opacity",S.o.v)}function renderGradientStroke(v,S,_){renderGradient(v,S,_),renderStroke(0,S,_)}function renderGradient(v,S,_){var E,P,D,R,M,O=S.gf,F=S.g._hasOpacity,N=S.s.v,L=S.e.v;if(S.o._mdf||_){var U="gf"===v.ty?"fill-opacity":"stroke-opacity";S.style.pElem.setAttribute(U,S.o.v)}if(S.s._mdf||_){var V=1===v.t?"x1":"cx",G="x1"===V?"y1":"cy";O.setAttribute(V,N[0]),O.setAttribute(G,N[1]),F&&!S.g._collapsable&&(S.of.setAttribute(V,N[0]),S.of.setAttribute(G,N[1]))}if(S.g._cmdf||_){E=S.cst;var W=S.g.c;for(D=E.length,P=0;P<D;P+=1)(R=E[P]).setAttribute("offset",W[4*P]+"%"),R.setAttribute("stop-color","rgb("+W[4*P+1]+","+W[4*P+2]+","+W[4*P+3]+")")}if(F&&(S.g._omdf||_)){var $=S.g.o;for(D=(E=S.g._collapsable?S.cst:S.ost).length,P=0;P<D;P+=1)R=E[P],S.g._collapsable||R.setAttribute("offset",$[2*P]+"%"),R.setAttribute("stop-opacity",$[2*P+1])}if(1===v.t)(S.e._mdf||_)&&(O.setAttribute("x2",L[0]),O.setAttribute("y2",L[1]),F&&!S.g._collapsable&&(S.of.setAttribute("x2",L[0]),S.of.setAttribute("y2",L[1])));else if((S.s._mdf||S.e._mdf||_)&&(M=Math.sqrt(Math.pow(N[0]-L[0],2)+Math.pow(N[1]-L[1],2)),O.setAttribute("r",M),F&&!S.g._collapsable&&S.of.setAttribute("r",M)),S.e._mdf||S.h._mdf||S.a._mdf||_){M||(M=Math.sqrt(Math.pow(N[0]-L[0],2)+Math.pow(N[1]-L[1],2)));var X=Math.atan2(L[1]-N[1],L[0]-N[0]),Y=S.h.v;Y>=1?Y=.99:Y<=-1&&(Y=-.99);var J=M*Y,Z=Math.cos(X+S.a.v)*J+N[0],Q=Math.sin(X+S.a.v)*J+N[1];O.setAttribute("fx",Z),O.setAttribute("fy",Q),F&&!S.g._collapsable&&(S.of.setAttribute("fx",Z),S.of.setAttribute("fy",Q))}}function renderStroke(v,S,_){var E=S.style,P=S.d;P&&(P._mdf||_)&&P.dashStr&&(E.pElem.setAttribute("stroke-dasharray",P.dashStr),E.pElem.setAttribute("stroke-dashoffset",P.dashoffset[0])),S.c&&(S.c._mdf||_)&&E.pElem.setAttribute("stroke","rgb("+bmFloor(S.c.v[0])+","+bmFloor(S.c.v[1])+","+bmFloor(S.c.v[2])+")"),(S.o._mdf||_)&&E.pElem.setAttribute("stroke-opacity",S.o.v),(S.w._mdf||_)&&(E.pElem.setAttribute("stroke-width",S.w.v),E.msElem&&E.msElem.setAttribute("stroke-width",S.w.v))}return{createRenderFunction:function createRenderFunction(v){switch(v.ty){case"fl":return renderFill;case"gf":return renderGradient;case"gs":return renderGradientStroke;case"st":return renderStroke;case"sh":case"el":case"rc":case"sr":return renderPath;case"tr":return renderContentTransform;case"no":return renderNoop;default:return null}}}}();function SVGShapeElement(v,S,_){this.shapes=[],this.shapesData=v.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(v,S,_),this.prevViewData=[]}function LetterProps(v,S,_,E,P,D){this.o=v,this.sw=S,this.sc=_,this.fc=E,this.m=P,this.p=D,this._mdf={o:!0,sw:!!S,sc:!!_,fc:!!E,m:!0,p:!0}}function TextProperty(v,S){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,S.d&&S.d.sid&&(S.d=v.globalData.slotManager.getProp(S.d)),this.data=S,this.elem=v,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var v,S,_,E,P=this.shapes.length,D=this.stylesList.length,R=[],M=!1;for(_=0;_<D;_+=1){for(E=this.stylesList[_],M=!1,R.length=0,v=0;v<P;v+=1)-1!==(S=this.shapes[v]).styles.indexOf(E)&&(R.push(S),M=S._isAnimated||M);R.length>1&&M&&this.setShapesAsAnimated(R)}},SVGShapeElement.prototype.setShapesAsAnimated=function(v){var S,_=v.length;for(S=0;S<_;S+=1)v[S].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(v,S){var _,E=new SVGStyleData(v,S),P=E.pElem;return"st"===v.ty?_=new SVGStrokeStyleData(this,v,E):"fl"===v.ty?_=new SVGFillStyleData(this,v,E):"gf"===v.ty||"gs"===v.ty?(_=new("gf"===v.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,v,E),this.globalData.defs.appendChild(_.gf),_.maskId&&(this.globalData.defs.appendChild(_.ms),this.globalData.defs.appendChild(_.of),P.setAttribute("mask","url("+getLocationHref()+"#"+_.maskId+")"))):"no"===v.ty&&(_=new SVGNoStyleData(this,v,E)),"st"!==v.ty&&"gs"!==v.ty||(P.setAttribute("stroke-linecap",lineCapEnum[v.lc||2]),P.setAttribute("stroke-linejoin",lineJoinEnum[v.lj||2]),P.setAttribute("fill-opacity","0"),1===v.lj&&P.setAttribute("stroke-miterlimit",v.ml)),2===v.r&&P.setAttribute("fill-rule","evenodd"),v.ln&&P.setAttribute("id",v.ln),v.cl&&P.setAttribute("class",v.cl),v.bm&&(P.style["mix-blend-mode"]=getBlendMode(v.bm)),this.stylesList.push(E),this.addToAnimatedContents(v,_),_},SVGShapeElement.prototype.createGroupElement=function(v){var S=new ShapeGroupData;return v.ln&&S.gr.setAttribute("id",v.ln),v.cl&&S.gr.setAttribute("class",v.cl),v.bm&&(S.gr.style["mix-blend-mode"]=getBlendMode(v.bm)),S},SVGShapeElement.prototype.createTransformElement=function(v,S){var _=TransformPropertyFactory.getTransformProperty(this,v,this),E=new SVGTransformData(_,_.o,S);return this.addToAnimatedContents(v,E),E},SVGShapeElement.prototype.createShapeElement=function(v,S,_){var E=4;"rc"===v.ty?E=5:"el"===v.ty?E=6:"sr"===v.ty&&(E=7);var P=new SVGShapeData(S,_,ShapePropertyFactory.getShapeProp(this,v,E,this));return this.shapes.push(P),this.addShapeToModifiers(P),this.addToAnimatedContents(v,P),P},SVGShapeElement.prototype.addToAnimatedContents=function(v,S){for(var _=0,E=this.animatedContents.length;_<E;){if(this.animatedContents[_].element===S)return;_+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(v),element:S,data:v})},SVGShapeElement.prototype.setElementStyles=function(v){var S,_=v.styles,E=this.stylesList.length;for(S=0;S<E;S+=1)this.stylesList[S].closed||_.push(this.stylesList[S])},SVGShapeElement.prototype.reloadShapes=function(){var v;this._isFirstFrame=!0;var S=this.itemsData.length;for(v=0;v<S;v+=1)this.prevViewData[v]=this.itemsData[v];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),S=this.dynamicProperties.length,v=0;v<S;v+=1)this.dynamicProperties[v].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(v,S,_,E,P,D,R){var M,O,F,N,L,U,V=[].concat(D),G=v.length-1,W=[],$=[];for(M=G;M>=0;M-=1){if((U=this.searchProcessedElement(v[M]))?S[M]=_[U-1]:v[M]._render=R,"fl"===v[M].ty||"st"===v[M].ty||"gf"===v[M].ty||"gs"===v[M].ty||"no"===v[M].ty)U?S[M].style.closed=!1:S[M]=this.createStyleElement(v[M],P),v[M]._render&&S[M].style.pElem.parentNode!==E&&E.appendChild(S[M].style.pElem),W.push(S[M].style);else if("gr"===v[M].ty){if(U)for(F=S[M].it.length,O=0;O<F;O+=1)S[M].prevViewData[O]=S[M].it[O];else S[M]=this.createGroupElement(v[M]);this.searchShapes(v[M].it,S[M].it,S[M].prevViewData,S[M].gr,P+1,V,R),v[M]._render&&S[M].gr.parentNode!==E&&E.appendChild(S[M].gr)}else"tr"===v[M].ty?(U||(S[M]=this.createTransformElement(v[M],E)),N=S[M].transform,V.push(N)):"sh"===v[M].ty||"rc"===v[M].ty||"el"===v[M].ty||"sr"===v[M].ty?(U||(S[M]=this.createShapeElement(v[M],V,P)),this.setElementStyles(S[M])):"tm"===v[M].ty||"rd"===v[M].ty||"ms"===v[M].ty||"pb"===v[M].ty||"zz"===v[M].ty||"op"===v[M].ty?(U?(L=S[M]).closed=!1:((L=ShapeModifiers.getModifier(v[M].ty)).init(this,v[M]),S[M]=L,this.shapeModifiers.push(L)),$.push(L)):"rp"===v[M].ty&&(U?(L=S[M]).closed=!0:(L=ShapeModifiers.getModifier(v[M].ty),S[M]=L,L.init(this,v,M,S),this.shapeModifiers.push(L),R=!1),$.push(L));this.addProcessedElement(v[M],M+1)}for(G=W.length,M=0;M<G;M+=1)W[M].closed=!0;for(G=$.length,M=0;M<G;M+=1)$[M].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var v;this.renderModifiers();var S=this.stylesList.length;for(v=0;v<S;v+=1)this.stylesList[v].reset();for(this.renderShape(),v=0;v<S;v+=1)(this.stylesList[v]._mdf||this._isFirstFrame)&&(this.stylesList[v].msElem&&(this.stylesList[v].msElem.setAttribute("d",this.stylesList[v].d),this.stylesList[v].d="M0 0"+this.stylesList[v].d),this.stylesList[v].pElem.setAttribute("d",this.stylesList[v].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var v,S,_=this.animatedContents.length;for(v=0;v<_;v+=1)S=this.animatedContents[v],(this._isFirstFrame||S.element._isAnimated)&&!0!==S.data&&S.fn(S.data,S.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(v,S,_,E,P,D){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var R=!1;return this.o!==v&&(this.o=v,this._mdf.o=!0,R=!0),this.sw!==S&&(this.sw=S,this._mdf.sw=!0,R=!0),this.sc!==_&&(this.sc=_,this._mdf.sc=!0,R=!0),this.fc!==E&&(this.fc=E,this._mdf.fc=!0,R=!0),this.m!==P&&(this.m=P,this._mdf.m=!0,R=!0),!D.length||this.p[0]===D[0]&&this.p[1]===D[1]&&this.p[4]===D[4]&&this.p[5]===D[5]&&this.p[12]===D[12]&&this.p[13]===D[13]||(this.p=D,this._mdf.p=!0,R=!0),R},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(v,S){for(var _ in S)Object.prototype.hasOwnProperty.call(S,_)&&(v[_]=S[_]);return v},TextProperty.prototype.setCurrentData=function(v){v.__complete||this.completeTextData(v),this.currentData=v,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(v){this.effectsSequence.push(v),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(v){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||v){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var S=this.currentData,_=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var E;this.lock=!0,this._mdf=!1;var P=this.effectsSequence.length,D=v||this.data.d.k[this.keysIndex].s;for(E=0;E<P;E+=1)D=_!==this.keysIndex?this.effectsSequence[E](D,D.t):this.effectsSequence[E](this.currentData,D.t);S!==D&&this.setCurrentData(D),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var v=this.data.d.k,S=this.elem.comp.renderedFrame,_=0,E=v.length;_<=E-1&&!(_===E-1||v[_+1].t>S);)_+=1;return this.keysIndex!==_&&(this.keysIndex=_),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(v){for(var S,_,E=[],P=0,D=v.length,R=!1,M=!1,O="";P<D;)R=M,M=!1,S=v.charCodeAt(P),O=v.charAt(P),FontManager.isCombinedCharacter(S)?R=!0:S>=55296&&S<=56319?FontManager.isRegionalFlag(v,P)?O=v.substr(P,14):(_=v.charCodeAt(P+1))>=56320&&_<=57343&&(FontManager.isModifier(S,_)?(O=v.substr(P,2),R=!0):O=FontManager.isFlagEmoji(v.substr(P,4))?v.substr(P,4):v.substr(P,2)):S>56319?(_=v.charCodeAt(P+1),FontManager.isVariationSelector(S)&&(R=!0)):FontManager.isZeroWidthJoiner(S)&&(R=!0,M=!0),R?(E[E.length-1]+=O,R=!1):E.push(O),P+=O.length;return E},TextProperty.prototype.completeTextData=function(v){v.__complete=!0;var S,_,E,P,D,R,M,O=this.elem.globalData.fontManager,F=this.data,N=[],L=0,U=F.m.g,V=0,G=0,W=0,$=[],X=0,Y=0,J=O.getFontByName(v.f),Z=0,Q=getFontProperties(J);v.fWeight=Q.weight,v.fStyle=Q.style,v.finalSize=v.s,v.finalText=this.buildFinalText(v.t),_=v.finalText.length,v.finalLineHeight=v.lh;var tt,et=v.tr/1e3*v.finalSize;if(v.sz)for(var rt,nt,it=!0,st=v.sz[0],ot=v.sz[1];it;){rt=0,X=0,_=(nt=this.buildFinalText(v.t)).length,et=v.tr/1e3*v.finalSize;var at=-1;for(S=0;S<_;S+=1)tt=nt[S].charCodeAt(0),E=!1," "===nt[S]?at=S:13!==tt&&3!==tt||(X=0,E=!0,rt+=v.finalLineHeight||1.2*v.finalSize),O.chars?(M=O.getCharData(nt[S],J.fStyle,J.fFamily),Z=E?0:M.w*v.finalSize/100):Z=O.measureText(nt[S],v.f,v.finalSize),X+Z>st&&" "!==nt[S]?(-1===at?_+=1:S=at,rt+=v.finalLineHeight||1.2*v.finalSize,nt.splice(S,at===S?1:0,"\r"),at=-1,X=0):(X+=Z,X+=et);rt+=J.ascent*v.finalSize/100,this.canResize&&v.finalSize>this.minimumFontSize&&ot<rt?(v.finalSize-=1,v.finalLineHeight=v.finalSize*v.lh/v.s):(v.finalText=nt,_=v.finalText.length,it=!1)}X=-et,Z=0;var ct,ut=0;for(S=0;S<_;S+=1)if(E=!1,13===(tt=(ct=v.finalText[S]).charCodeAt(0))||3===tt?(ut=0,$.push(X),Y=X>Y?X:Y,X=-2*et,P="",E=!0,W+=1):P=ct,O.chars?(M=O.getCharData(ct,J.fStyle,O.getFontByName(v.f).fFamily),Z=E?0:M.w*v.finalSize/100):Z=O.measureText(P,v.f,v.finalSize)," "===ct?ut+=Z+et:(X+=Z+et+ut,ut=0),N.push({l:Z,an:Z,add:V,n:E,anIndexes:[],val:P,line:W,animatorJustifyOffset:0}),2==U){if(V+=Z,""===P||" "===P||S===_-1){for(""!==P&&" "!==P||(V-=Z);G<=S;)N[G].an=V,N[G].ind=L,N[G].extra=Z,G+=1;L+=1,V=0}}else if(3==U){if(V+=Z,""===P||S===_-1){for(""===P&&(V-=Z);G<=S;)N[G].an=V,N[G].ind=L,N[G].extra=Z,G+=1;V=0,L+=1}}else N[L].ind=L,N[L].extra=0,L+=1;if(v.l=N,Y=X>Y?X:Y,$.push(X),v.sz)v.boxWidth=v.sz[0],v.justifyOffset=0;else switch(v.boxWidth=Y,v.j){case 1:v.justifyOffset=-v.boxWidth;break;case 2:v.justifyOffset=-v.boxWidth/2;break;default:v.justifyOffset=0}v.lineWidths=$;var ht,dt,ft,pt,mt=F.a;R=mt.length;var yt=[];for(D=0;D<R;D+=1){for((ht=mt[D]).a.sc&&(v.strokeColorAnim=!0),ht.a.sw&&(v.strokeWidthAnim=!0),(ht.a.fc||ht.a.fh||ht.a.fs||ht.a.fb)&&(v.fillColorAnim=!0),pt=0,ft=ht.s.b,S=0;S<_;S+=1)(dt=N[S]).anIndexes[D]=pt,(1==ft&&""!==dt.val||2==ft&&""!==dt.val&&" "!==dt.val||3==ft&&(dt.n||" "==dt.val||S==_-1)||4==ft&&(dt.n||S==_-1))&&(1===ht.s.rn&&yt.push(pt),pt+=1);F.a[D].s.totalChars=pt;var vt,bt=-1;if(1===ht.s.rn)for(S=0;S<_;S+=1)bt!=(dt=N[S]).anIndexes[D]&&(bt=dt.anIndexes[D],vt=yt.splice(Math.floor(Math.random()*yt.length),1)[0]),dt.anIndexes[D]=vt}v.yOffset=v.finalLineHeight||1.2*v.finalSize,v.ls=v.ls||0,v.ascent=J.ascent*v.finalSize/100},TextProperty.prototype.updateDocumentData=function(v,S){S=void 0===S?this.keysIndex:S;var _=this.copyData({},this.data.d.k[S].s);_=this.copyData(_,v),this.data.d.k[S].s=_,this.recalculate(S),this.setCurrentData(_),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(v){var S=this.data.d.k[v].s;S.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(S)},TextProperty.prototype.canResizeFont=function(v){this.canResize=v,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(v){this.minimumFontSize=Math.floor(v)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var v=Math.max,S=Math.min,_=Math.floor;function TextSelectorPropFactory(v,S){this._currentTextLength=-1,this.k=!1,this.data=S,this.elem=v,this.comp=v.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(v),this.s=PropertyFactory.getProp(v,S.s||{k:0},0,0,this),this.e="e"in S?PropertyFactory.getProp(v,S.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(v,S.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(v,S.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(v,S.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(v,S.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(v,S.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return TextSelectorPropFactory.prototype={getMult:function getMult(E){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var P=0,D=0,R=1,M=1;this.ne.v>0?P=this.ne.v/100:D=-this.ne.v/100,this.xe.v>0?R=1-this.xe.v/100:M=1+this.xe.v/100;var O=BezierFactory.getBezierEasing(P,D,R,M).get,F=0,N=this.finalS,L=this.finalE,U=this.data.sh;if(2===U)F=O(F=L===N?E>=L?1:0:v(0,S(.5/(L-N)+(E-N)/(L-N),1)));else if(3===U)F=O(F=L===N?E>=L?0:1:1-v(0,S(.5/(L-N)+(E-N)/(L-N),1)));else if(4===U)L===N?F=0:(F=v(0,S(.5/(L-N)+(E-N)/(L-N),1)))<.5?F*=2:F=1-2*(F-.5),F=O(F);else if(5===U){if(L===N)F=0;else{var V=L-N,G=-V/2+(E=S(v(0,E+.5-N),L-N)),W=V/2;F=Math.sqrt(1-G*G/(W*W))}F=O(F)}else 6===U?(L===N?F=0:(E=S(v(0,E+.5-N),L-N),F=(1+Math.cos(Math.PI+2*Math.PI*E/(L-N)))/2),F=O(F)):(E>=_(N)&&(F=v(0,S(E-N<0?S(L,1)-(N-E):L-E,1))),F=O(F));if(100!==this.sm.v){var $=.01*this.sm.v;0===$&&($=1e-8);var X=.5-.5*$;F<X?F=0:(F=(F-X)/$)>1&&(F=1)}return F*this.a.v},getValue:function getValue(v){this.iterateDynamicProperties(),this._mdf=v||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,v&&2===this.data.r&&(this.e.v=this._currentTextLength);var S=2===this.data.r?1:100/this.data.totalChars,_=this.o.v/S,E=this.s.v/S+_,P=this.e.v/S+_;if(E>P){var D=E;E=P,P=D}this.finalS=E,this.finalE=P}},extendPrototype([DynamicPropertyContainer],TextSelectorPropFactory),{getTextSelectorProp:function getTextSelectorProp(v,S,_){return new TextSelectorPropFactory(v,S,_)}}}();function TextAnimatorDataProperty(v,S,_){var E={propType:!1},P=PropertyFactory.getProp,D=S.a;this.a={r:D.r?P(v,D.r,0,degToRads,_):E,rx:D.rx?P(v,D.rx,0,degToRads,_):E,ry:D.ry?P(v,D.ry,0,degToRads,_):E,sk:D.sk?P(v,D.sk,0,degToRads,_):E,sa:D.sa?P(v,D.sa,0,degToRads,_):E,s:D.s?P(v,D.s,1,.01,_):E,a:D.a?P(v,D.a,1,0,_):E,o:D.o?P(v,D.o,0,.01,_):E,p:D.p?P(v,D.p,1,0,_):E,sw:D.sw?P(v,D.sw,0,0,_):E,sc:D.sc?P(v,D.sc,1,0,_):E,fc:D.fc?P(v,D.fc,1,0,_):E,fh:D.fh?P(v,D.fh,0,0,_):E,fs:D.fs?P(v,D.fs,0,.01,_):E,fb:D.fb?P(v,D.fb,0,.01,_):E,t:D.t?P(v,D.t,0,0,_):E},this.s=TextSelectorProp.getTextSelectorProp(v,S.s,_),this.s.t=S.s.t}function TextAnimatorProperty(v,S,_){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=v,this._renderType=S,this._elem=_,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(_)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var v,S,_=this._textData.a.length,E=PropertyFactory.getProp;for(v=0;v<_;v+=1)S=this._textData.a[v],this._animatorsData[v]=new TextAnimatorDataProperty(this._elem,S,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:E(this._elem,this._textData.p.a,0,0,this),f:E(this._elem,this._textData.p.f,0,0,this),l:E(this._elem,this._textData.p.l,0,0,this),r:E(this._elem,this._textData.p.r,0,0,this),p:E(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=E(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(v,S){if(this.lettersChangedFlag=S,this._mdf||this._isFirstFrame||S||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var _,E,P,D,R,M,O,F,N,L,U,V,G,W,$,X,Y,J,Z,Q=this._moreOptions.alignment.v,tt=this._animatorsData,et=this._textData,rt=this.mHelper,nt=this._renderType,it=this.renderedLetters.length,st=v.l;if(this._hasMaskedPath){if(Z=this._pathData.m,!this._pathData.n||this._pathData._mdf){var ot,at=Z.v;for(this._pathData.r.v&&(at=at.reverse()),R={tLength:0,segments:[]},D=at._length-1,X=0,P=0;P<D;P+=1)ot=bez.buildBezierData(at.v[P],at.v[P+1],[at.o[P][0]-at.v[P][0],at.o[P][1]-at.v[P][1]],[at.i[P+1][0]-at.v[P+1][0],at.i[P+1][1]-at.v[P+1][1]]),R.tLength+=ot.segmentLength,R.segments.push(ot),X+=ot.segmentLength;P=D,Z.v.c&&(ot=bez.buildBezierData(at.v[P],at.v[0],[at.o[P][0]-at.v[P][0],at.o[P][1]-at.v[P][1]],[at.i[0][0]-at.v[0][0],at.i[0][1]-at.v[0][1]]),R.tLength+=ot.segmentLength,R.segments.push(ot),X+=ot.segmentLength),this._pathData.pi=R}if(R=this._pathData.pi,M=this._pathData.f.v,U=0,L=1,F=0,N=!0,W=R.segments,M<0&&Z.v.c)for(R.tLength<Math.abs(M)&&(M=-Math.abs(M)%R.tLength),L=(G=W[U=W.length-1].points).length-1;M<0;)M+=G[L].partialLength,(L-=1)<0&&(L=(G=W[U-=1].points).length-1);V=(G=W[U].points)[L-1],$=(O=G[L]).partialLength}D=st.length,_=0,E=0;var ct,ut,ht,dt,ft,pt=1.2*v.finalSize*.714,mt=!0;ht=tt.length;var yt,vt,bt,St,wt,Tt,xt,_t,Et,Ct,At,It,Pt=-1,Dt=M,Bt=U,Rt=L,Mt=-1,Ot="",kt=this.defaultPropsArray;if(2===v.j||1===v.j){var Ft=0,Nt=0,Ht=2===v.j?-.5:-1,Lt=0,jt=!0;for(P=0;P<D;P+=1)if(st[P].n){for(Ft&&(Ft+=Nt);Lt<P;)st[Lt].animatorJustifyOffset=Ft,Lt+=1;Ft=0,jt=!0}else{for(ut=0;ut<ht;ut+=1)(ct=tt[ut].a).t.propType&&(jt&&2===v.j&&(Nt+=ct.t.v*Ht),(ft=tt[ut].s.getMult(st[P].anIndexes[ut],et.a[ut].s.totalChars)).length?Ft+=ct.t.v*ft[0]*Ht:Ft+=ct.t.v*ft*Ht);jt=!1}for(Ft&&(Ft+=Nt);Lt<P;)st[Lt].animatorJustifyOffset=Ft,Lt+=1}for(P=0;P<D;P+=1){if(rt.reset(),St=1,st[P].n)_=0,E+=v.yOffset,E+=mt?1:0,M=Dt,mt=!1,this._hasMaskedPath&&(L=Rt,V=(G=W[U=Bt].points)[L-1],$=(O=G[L]).partialLength,F=0),Ot="",At="",Et="",It="",kt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Mt!==st[P].line){switch(v.j){case 1:M+=X-v.lineWidths[st[P].line];break;case 2:M+=(X-v.lineWidths[st[P].line])/2}Mt=st[P].line}Pt!==st[P].ind&&(st[Pt]&&(M+=st[Pt].extra),M+=st[P].an/2,Pt=st[P].ind),M+=Q[0]*st[P].an*.005;var Kt=0;for(ut=0;ut<ht;ut+=1)(ct=tt[ut].a).p.propType&&((ft=tt[ut].s.getMult(st[P].anIndexes[ut],et.a[ut].s.totalChars)).length?Kt+=ct.p.v[0]*ft[0]:Kt+=ct.p.v[0]*ft),ct.a.propType&&((ft=tt[ut].s.getMult(st[P].anIndexes[ut],et.a[ut].s.totalChars)).length?Kt+=ct.a.v[0]*ft[0]:Kt+=ct.a.v[0]*ft);for(N=!0,this._pathData.a.v&&(M=.5*st[0].an+(X-this._pathData.f.v-.5*st[0].an-.5*st[st.length-1].an)*Pt/(D-1),M+=this._pathData.f.v);N;)F+$>=M+Kt||!G?(Y=(M+Kt-F)/O.partialLength,vt=V.point[0]+(O.point[0]-V.point[0])*Y,bt=V.point[1]+(O.point[1]-V.point[1])*Y,rt.translate(-Q[0]*st[P].an*.005,-Q[1]*pt*.01),N=!1):G&&(F+=O.partialLength,(L+=1)>=G.length&&(L=0,W[U+=1]?G=W[U].points:Z.v.c?(L=0,G=W[U=0].points):(F-=O.partialLength,G=null)),G&&(V=O,$=(O=G[L]).partialLength));yt=st[P].an/2-st[P].add,rt.translate(-yt,0,0)}else yt=st[P].an/2-st[P].add,rt.translate(-yt,0,0),rt.translate(-Q[0]*st[P].an*.005,-Q[1]*pt*.01,0);for(ut=0;ut<ht;ut+=1)(ct=tt[ut].a).t.propType&&(ft=tt[ut].s.getMult(st[P].anIndexes[ut],et.a[ut].s.totalChars),0===_&&0===v.j||(this._hasMaskedPath?ft.length?M+=ct.t.v*ft[0]:M+=ct.t.v*ft:ft.length?_+=ct.t.v*ft[0]:_+=ct.t.v*ft));for(v.strokeWidthAnim&&(Tt=v.sw||0),v.strokeColorAnim&&(wt=v.sc?[v.sc[0],v.sc[1],v.sc[2]]:[0,0,0]),v.fillColorAnim&&v.fc&&(xt=[v.fc[0],v.fc[1],v.fc[2]]),ut=0;ut<ht;ut+=1)(ct=tt[ut].a).a.propType&&((ft=tt[ut].s.getMult(st[P].anIndexes[ut],et.a[ut].s.totalChars)).length?rt.translate(-ct.a.v[0]*ft[0],-ct.a.v[1]*ft[1],ct.a.v[2]*ft[2]):rt.translate(-ct.a.v[0]*ft,-ct.a.v[1]*ft,ct.a.v[2]*ft));for(ut=0;ut<ht;ut+=1)(ct=tt[ut].a).s.propType&&((ft=tt[ut].s.getMult(st[P].anIndexes[ut],et.a[ut].s.totalChars)).length?rt.scale(1+(ct.s.v[0]-1)*ft[0],1+(ct.s.v[1]-1)*ft[1],1):rt.scale(1+(ct.s.v[0]-1)*ft,1+(ct.s.v[1]-1)*ft,1));for(ut=0;ut<ht;ut+=1){if(ct=tt[ut].a,ft=tt[ut].s.getMult(st[P].anIndexes[ut],et.a[ut].s.totalChars),ct.sk.propType&&(ft.length?rt.skewFromAxis(-ct.sk.v*ft[0],ct.sa.v*ft[1]):rt.skewFromAxis(-ct.sk.v*ft,ct.sa.v*ft)),ct.r.propType&&(ft.length?rt.rotateZ(-ct.r.v*ft[2]):rt.rotateZ(-ct.r.v*ft)),ct.ry.propType&&(ft.length?rt.rotateY(ct.ry.v*ft[1]):rt.rotateY(ct.ry.v*ft)),ct.rx.propType&&(ft.length?rt.rotateX(ct.rx.v*ft[0]):rt.rotateX(ct.rx.v*ft)),ct.o.propType&&(ft.length?St+=(ct.o.v*ft[0]-St)*ft[0]:St+=(ct.o.v*ft-St)*ft),v.strokeWidthAnim&&ct.sw.propType&&(ft.length?Tt+=ct.sw.v*ft[0]:Tt+=ct.sw.v*ft),v.strokeColorAnim&&ct.sc.propType)for(_t=0;_t<3;_t+=1)ft.length?wt[_t]+=(ct.sc.v[_t]-wt[_t])*ft[0]:wt[_t]+=(ct.sc.v[_t]-wt[_t])*ft;if(v.fillColorAnim&&v.fc){if(ct.fc.propType)for(_t=0;_t<3;_t+=1)ft.length?xt[_t]+=(ct.fc.v[_t]-xt[_t])*ft[0]:xt[_t]+=(ct.fc.v[_t]-xt[_t])*ft;ct.fh.propType&&(xt=ft.length?addHueToRGB(xt,ct.fh.v*ft[0]):addHueToRGB(xt,ct.fh.v*ft)),ct.fs.propType&&(xt=ft.length?addSaturationToRGB(xt,ct.fs.v*ft[0]):addSaturationToRGB(xt,ct.fs.v*ft)),ct.fb.propType&&(xt=ft.length?addBrightnessToRGB(xt,ct.fb.v*ft[0]):addBrightnessToRGB(xt,ct.fb.v*ft))}}for(ut=0;ut<ht;ut+=1)(ct=tt[ut].a).p.propType&&(ft=tt[ut].s.getMult(st[P].anIndexes[ut],et.a[ut].s.totalChars),this._hasMaskedPath?ft.length?rt.translate(0,ct.p.v[1]*ft[0],-ct.p.v[2]*ft[1]):rt.translate(0,ct.p.v[1]*ft,-ct.p.v[2]*ft):ft.length?rt.translate(ct.p.v[0]*ft[0],ct.p.v[1]*ft[1],-ct.p.v[2]*ft[2]):rt.translate(ct.p.v[0]*ft,ct.p.v[1]*ft,-ct.p.v[2]*ft));if(v.strokeWidthAnim&&(Et=Tt<0?0:Tt),v.strokeColorAnim&&(Ct="rgb("+Math.round(255*wt[0])+","+Math.round(255*wt[1])+","+Math.round(255*wt[2])+")"),v.fillColorAnim&&v.fc&&(At="rgb("+Math.round(255*xt[0])+","+Math.round(255*xt[1])+","+Math.round(255*xt[2])+")"),this._hasMaskedPath){if(rt.translate(0,-v.ls),rt.translate(0,Q[1]*pt*.01+E,0),this._pathData.p.v){J=(O.point[1]-V.point[1])/(O.point[0]-V.point[0]);var Ut=180*Math.atan(J)/Math.PI;O.point[0]<V.point[0]&&(Ut+=180),rt.rotate(-Ut*Math.PI/180)}rt.translate(vt,bt,0),M-=Q[0]*st[P].an*.005,st[P+1]&&Pt!==st[P+1].ind&&(M+=st[P].an/2,M+=.001*v.tr*v.finalSize)}else{switch(rt.translate(_,E,0),v.ps&&rt.translate(v.ps[0],v.ps[1]+v.ascent,0),v.j){case 1:rt.translate(st[P].animatorJustifyOffset+v.justifyOffset+(v.boxWidth-v.lineWidths[st[P].line]),0,0);break;case 2:rt.translate(st[P].animatorJustifyOffset+v.justifyOffset+(v.boxWidth-v.lineWidths[st[P].line])/2,0,0)}rt.translate(0,-v.ls),rt.translate(yt,0,0),rt.translate(Q[0]*st[P].an*.005,Q[1]*pt*.01,0),_+=st[P].l+.001*v.tr*v.finalSize}"html"===nt?Ot=rt.toCSS():"svg"===nt?Ot=rt.to2dCSS():kt=[rt.props[0],rt.props[1],rt.props[2],rt.props[3],rt.props[4],rt.props[5],rt.props[6],rt.props[7],rt.props[8],rt.props[9],rt.props[10],rt.props[11],rt.props[12],rt.props[13],rt.props[14],rt.props[15]],It=St}it<=P?(dt=new LetterProps(It,Et,Ct,At,Ot,kt),this.renderedLetters.push(dt),it+=1,this.lettersChangedFlag=!0):(dt=this.renderedLetters[P],this.lettersChangedFlag=dt.update(It,Et,Ct,At,Ot,kt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(v,S,_){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(v,S,_),this.textProperty=new TextProperty(this,v.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(v.t,this.renderType,this),this.initTransform(v,S,_),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(v){this._mdf=!1,this.prepareRenderableFrame(v),this.prepareProperties(v,this.isInRange)},ITextElement.prototype.createPathShape=function(v,S){var _,E,P=S.length,D="";for(_=0;_<P;_+=1)"sh"===S[_].ty&&(E=S[_].ks.k,D+=buildShapeString(E,E.i.length,!0,v));return D},ITextElement.prototype.updateDocumentData=function(v,S){this.textProperty.updateDocumentData(v,S)},ITextElement.prototype.canResizeFont=function(v){this.textProperty.canResizeFont(v)},ITextElement.prototype.setMinimumFontSize=function(v){this.textProperty.setMinimumFontSize(v)},ITextElement.prototype.applyTextPropertiesToMatrix=function(v,S,_,E,P){switch(v.ps&&S.translate(v.ps[0],v.ps[1]+v.ascent,0),S.translate(0,-v.ls,0),v.j){case 1:S.translate(v.justifyOffset+(v.boxWidth-v.lineWidths[_]),0,0);break;case 2:S.translate(v.justifyOffset+(v.boxWidth-v.lineWidths[_])/2,0,0)}S.translate(E,P,0)},ITextElement.prototype.buildColor=function(v){return"rgb("+Math.round(255*v[0])+","+Math.round(255*v[1])+","+Math.round(255*v[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(v,S,_){this.textSpans=[],this.renderType="svg",this.initElement(v,S,_)}function ISolidElement(v,S,_){this.initElement(v,S,_)}function NullElement(v,S,_){this.initFrame(),this.initBaseData(v,S,_),this.initFrame(),this.initTransform(v,S,_),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(v,S,_){this.layers=v.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(v,S,_),this.tm=v.tm?PropertyFactory.getProp(this,v.tm,0,S.frameRate,this):{_placeholder:!0}}function SVGRenderer(v,S){this.animationItem=v,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var _="";if(S&&S.title){var E=createNS("title"),P=createElementID();E.setAttribute("id",P),E.textContent=S.title,this.svgElement.appendChild(E),_+=P}if(S&&S.description){var D=createNS("desc"),R=createElementID();D.setAttribute("id",R),D.textContent=S.description,this.svgElement.appendChild(D),_+=" "+R}_&&this.svgElement.setAttribute("aria-labelledby",_);var M=createNS("defs");this.svgElement.appendChild(M);var O=createNS("g");this.svgElement.appendChild(O),this.layerElement=O,this.renderConfig={preserveAspectRatio:S&&S.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:S&&S.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:S&&S.contentVisibility||"visible",progressiveLoad:S&&S.progressiveLoad||!1,hideOnTransparent:!(S&&!1===S.hideOnTransparent),viewBoxOnly:S&&S.viewBoxOnly||!1,viewBoxSize:S&&S.viewBoxSize||!1,className:S&&S.className||"",id:S&&S.id||"",focusable:S&&S.focusable,filterSize:{width:S&&S.filterSize&&S.filterSize.width||"100%",height:S&&S.filterSize&&S.filterSize.height||"100%",x:S&&S.filterSize&&S.filterSize.x||"0%",y:S&&S.filterSize&&S.filterSize.y||"0%"},width:S&&S.width,height:S&&S.height,runExpressions:!S||void 0===S.runExpressions||S.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:M,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(v){for(var S=0,_=v.length,E=[],P="";S<_;)v[S]===String.fromCharCode(13)||v[S]===String.fromCharCode(3)?(E.push(P),P=""):P+=v[S],S+=1;return E.push(P),E},SVGTextLottieElement.prototype.buildShapeData=function(v,S){if(v.shapes&&v.shapes.length){var _=v.shapes[0];if(_.it){var E=_.it[_.it.length-1];E.s&&(E.s.k[0]=S,E.s.k[1]=S)}}return v},SVGTextLottieElement.prototype.buildNewText=function(){var v,S;this.addDynamicProperty(this);var _=this.textProperty.currentData;this.renderedLetters=createSizedArray(_?_.l.length:0),_.fc?this.layerElement.setAttribute("fill",this.buildColor(_.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),_.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(_.sc)),this.layerElement.setAttribute("stroke-width",_.sw)),this.layerElement.setAttribute("font-size",_.finalSize);var E=this.globalData.fontManager.getFontByName(_.f);if(E.fClass)this.layerElement.setAttribute("class",E.fClass);else{this.layerElement.setAttribute("font-family",E.fFamily);var P=_.fWeight,D=_.fStyle;this.layerElement.setAttribute("font-style",D),this.layerElement.setAttribute("font-weight",P)}this.layerElement.setAttribute("aria-label",_.t);var R,M=_.l||[],O=!!this.globalData.fontManager.chars;S=M.length;var F=this.mHelper,N=this.data.singleShape,L=0,U=0,V=!0,G=.001*_.tr*_.finalSize;if(!N||O||_.sz){var W,$=this.textSpans.length;for(v=0;v<S;v+=1){if(this.textSpans[v]||(this.textSpans[v]={span:null,childSpan:null,glyph:null}),!O||!N||0===v){if(R=$>v?this.textSpans[v].span:createNS(O?"g":"text"),$<=v){if(R.setAttribute("stroke-linecap","butt"),R.setAttribute("stroke-linejoin","round"),R.setAttribute("stroke-miterlimit","4"),this.textSpans[v].span=R,O){var X=createNS("g");R.appendChild(X),this.textSpans[v].childSpan=X}this.textSpans[v].span=R,this.layerElement.appendChild(R)}R.style.display="inherit"}if(F.reset(),N&&(M[v].n&&(L=-G,U+=_.yOffset,U+=V?1:0,V=!1),this.applyTextPropertiesToMatrix(_,F,M[v].line,L,U),L+=M[v].l||0,L+=G),O){var Y;if(1===(W=this.globalData.fontManager.getCharData(_.finalText[v],E.fStyle,this.globalData.fontManager.getFontByName(_.f).fFamily)).t)Y=new SVGCompElement(W.data,this.globalData,this);else{var J=emptyShapeData;W.data&&W.data.shapes&&(J=this.buildShapeData(W.data,_.finalSize)),Y=new SVGShapeElement(J,this.globalData,this)}if(this.textSpans[v].glyph){var Z=this.textSpans[v].glyph;this.textSpans[v].childSpan.removeChild(Z.layerElement),Z.destroy()}this.textSpans[v].glyph=Y,Y._debug=!0,Y.prepareFrame(0),Y.renderFrame(),this.textSpans[v].childSpan.appendChild(Y.layerElement),1===W.t&&this.textSpans[v].childSpan.setAttribute("transform","scale("+_.finalSize/100+","+_.finalSize/100+")")}else N&&R.setAttribute("transform","translate("+F.props[12]+","+F.props[13]+")"),R.textContent=M[v].val,R.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}N&&R&&R.setAttribute("d","")}else{var Q=this.textContainer,tt="start";switch(_.j){case 1:tt="end";break;case 2:tt="middle";break;default:tt="start"}Q.setAttribute("text-anchor",tt),Q.setAttribute("letter-spacing",G);var et=this.buildTextContents(_.finalText);for(S=et.length,U=_.ps?_.ps[1]+_.ascent:0,v=0;v<S;v+=1)(R=this.textSpans[v].span||createNS("tspan")).textContent=et[v],R.setAttribute("x",0),R.setAttribute("y",U),R.style.display="inherit",Q.appendChild(R),this.textSpans[v]||(this.textSpans[v]={span:null,glyph:null}),this.textSpans[v].span=R,U+=_.finalLineHeight;this.layerElement.appendChild(Q)}for(;v<this.textSpans.length;)this.textSpans[v].span.style.display="none",v+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var v=this.layerElement.getBBox();this.bbox={top:v.y,left:v.x,width:v.width,height:v.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var v,S,_=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,v=0;v<_;v+=1)(S=this.textSpans[v].glyph)&&(S.prepareFrame(this.comp.renderedFrame-this.data.st),S._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var v,S;this._sizeChanged=!0;var _,E,P,D=this.textAnimator.renderedLetters,R=this.textProperty.currentData.l;for(S=R.length,v=0;v<S;v+=1)R[v].n||(_=D[v],E=this.textSpans[v].span,(P=this.textSpans[v].glyph)&&P.renderFrame(),_._mdf.m&&E.setAttribute("transform",_.m),_._mdf.o&&E.setAttribute("opacity",_.o),_._mdf.sw&&E.setAttribute("stroke-width",_.sw),_._mdf.sc&&E.setAttribute("stroke",_.sc),_._mdf.fc&&E.setAttribute("fill",_.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var v=createNS("rect");v.setAttribute("width",this.data.sw),v.setAttribute("height",this.data.sh),v.setAttribute("fill",this.data.sc),this.layerElement.appendChild(v)},NullElement.prototype.prepareFrame=function(v){this.prepareProperties(v,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(v){return new NullElement(v,this.globalData,this)},SVGRendererBase.prototype.createShape=function(v){return new SVGShapeElement(v,this.globalData,this)},SVGRendererBase.prototype.createText=function(v){return new SVGTextLottieElement(v,this.globalData,this)},SVGRendererBase.prototype.createImage=function(v){return new IImageElement(v,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(v){return new ISolidElement(v,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(v){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+v.w+" "+v.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",v.w),this.svgElement.setAttribute("height",v.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var S=this.globalData.defs;this.setupGlobalData(v,S),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=v;var _=createNS("clipPath"),E=createNS("rect");E.setAttribute("width",v.w),E.setAttribute("height",v.h),E.setAttribute("x",0),E.setAttribute("y",0);var P=createElementID();_.setAttribute("id",P),_.appendChild(E),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+P+")"),S.appendChild(_),this.layers=v.layers,this.elements=createSizedArray(v.layers.length)},SVGRendererBase.prototype.destroy=function(){var v;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var S=this.layers?this.layers.length:0;for(v=0;v<S;v+=1)this.elements[v]&&this.elements[v].destroy&&this.elements[v].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(v){var S=0,_=this.layers.length;for(S=0;S<_;S+=1)if(this.layers[S].ind===v)return S;return-1},SVGRendererBase.prototype.buildItem=function(v){var S=this.elements;if(!S[v]&&99!==this.layers[v].ty){S[v]=!0;var _=this.createItem(this.layers[v]);if(S[v]=_,getExpressionsPlugin()&&(0===this.layers[v].ty&&this.globalData.projectInterface.registerComposition(_),_.initExpressions()),this.appendElementInPos(_,v),this.layers[v].tt){var E="tp"in this.layers[v]?this.findIndexByInd(this.layers[v].tp):v-1;if(-1===E)return;if(this.elements[E]&&!0!==this.elements[E]){var P=S[E].getMatte(this.layers[v].tt);_.setMatte(P)}else this.buildItem(E),this.addPendingElement(_)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var v=this.pendingElements.pop();if(v.checkParenting(),v.data.tt)for(var S=0,_=this.elements.length;S<_;){if(this.elements[S]===v){var E="tp"in v.data?this.findIndexByInd(v.data.tp):S-1,P=this.elements[E].getMatte(this.layers[S].tt);v.setMatte(P);break}S+=1}}},SVGRendererBase.prototype.renderFrame=function(v){if(this.renderedFrame!==v&&!this.destroyed){var S;null===v?v=this.renderedFrame:this.renderedFrame=v,this.globalData.frameNum=v,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=v,this.globalData._mdf=!1;var _=this.layers.length;for(this.completeLayers||this.checkLayers(v),S=_-1;S>=0;S-=1)(this.completeLayers||this.elements[S])&&this.elements[S].prepareFrame(v-this.layers[S].st);if(this.globalData._mdf)for(S=0;S<_;S+=1)(this.completeLayers||this.elements[S])&&this.elements[S].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(v,S){var _=v.getBaseElement();if(_){for(var E,P=0;P<S;)this.elements[P]&&!0!==this.elements[P]&&this.elements[P].getBaseElement()&&(E=this.elements[P].getBaseElement()),P+=1;E?this.layerElement.insertBefore(_,E):this.layerElement.appendChild(_)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(v,S,_){this.initFrame(),this.initBaseData(v,S,_),this.initTransform(v,S,_),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&S.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(v){if(this._mdf=!1,this.prepareRenderableFrame(v),this.prepareProperties(v,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=v/this.data.sr;else{var S=this.tm.v;S===this.data.op&&(S=this.data.op-1),this.renderedFrame=S}var _,E=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),_=E-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&(this.elements[_].prepareFrame(this.renderedFrame-this.layers[_].st),this.elements[_]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var v,S=this.layers.length;for(v=0;v<S;v+=1)(this.completeLayers||this.elements[v])&&this.elements[v].renderFrame()},ICompElement.prototype.setElements=function(v){this.elements=v},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var v,S=this.layers.length;for(v=0;v<S;v+=1)this.elements[v]&&this.elements[v].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(v){return new SVGCompElement(v,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(v){return new SVGCompElement(v,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function addTransformSequence(v){var S,_=v.length,E="_";for(S=0;S<_;S+=1)E+=v[S].transform.key+"_";var P=this.sequences[E];return P||(P={transforms:[].concat(v),finalTransform:new Matrix,_mdf:!1},this.sequences[E]=P,this.sequenceList.push(P)),P},processSequence:function processSequence(v,S){for(var _=0,E=v.transforms.length,P=S;_<E&&!S;){if(v.transforms[_].transform.mProps._mdf){P=!0;break}_+=1}if(P)for(v.finalTransform.reset(),_=E-1;_>=0;_-=1)v.finalTransform.multiply(v.transforms[_].transform.mProps.v);v._mdf=P},processSequences:function processSequences(v){var S,_=this.sequenceList.length;for(S=0;S<_;S+=1)this.processSequence(this.sequenceList[S],v)},getNewKey:function getNewKey(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function lumaLoader(){var v="__lottie_element_luma_buffer",S=null,_=null,E=null;function loadLuma(){S||(E=function createLumaSvgFilter(){var S=createNS("svg"),_=createNS("filter"),E=createNS("feColorMatrix");return _.setAttribute("id",v),E.setAttribute("type","matrix"),E.setAttribute("color-interpolation-filters","sRGB"),E.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),_.appendChild(E),S.appendChild(_),S.setAttribute("id",v+"_svg"),featureSupport.svgLumaHidden&&(S.style.display="none"),S}(),document.body.appendChild(E),S=createTag("canvas"),(_=S.getContext("2d")).filter="url(#"+v+")",_.fillStyle="rgba(0,0,0,0)",_.fillRect(0,0,1,1))}return{load:loadLuma,get:function getLuma(E){return S||loadLuma(),S.width=E.width,S.height=E.height,_.filter="url(#"+v+")",S}}};function createCanvas(v,S){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(v,S);var _=createTag("canvas");return _.width=v,_.height=S,_}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(v){var S,_,E=v.data.ef?v.data.ef.length:0;for(this.filters=[],S=0;S<E;S+=1){_=null;var P=v.data.ef[S].ty;registeredEffects[P]&&(_=new(0,registeredEffects[P].effect)(v.effectsManager.effectElements[S],v)),_&&this.filters.push(_)}this.filters.length&&v.addRenderableComponent(this)}function registerEffect(v,S){registeredEffects[v]={effect:S}}function CVMaskElement(v,S){var _;this.data=v,this.element=S,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var E=this.masksProperties.length,P=!1;for(_=0;_<E;_+=1)"n"!==this.masksProperties[_].mode&&(P=!0),this.viewData[_]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[_],3);this.hasMasks=P,P&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(v){var S,_=this.filters.length;for(S=0;S<_;S+=1)this.filters[S].renderFrame(v)},CVEffects.prototype.getEffects=function(v){var S,_=this.filters.length,E=[];for(S=0;S<_;S+=1)this.filters[S].type===v&&E.push(this.filters[S]);return E},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var v,S,_,E,P=this.element.finalTransform.mat,D=this.element.canvasContext,R=this.masksProperties.length;for(D.beginPath(),v=0;v<R;v+=1)if("n"!==this.masksProperties[v].mode){var M;this.masksProperties[v].inv&&(D.moveTo(0,0),D.lineTo(this.element.globalData.compSize.w,0),D.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),D.lineTo(0,this.element.globalData.compSize.h),D.lineTo(0,0)),E=this.viewData[v].v,S=P.applyToPointArray(E.v[0][0],E.v[0][1],0),D.moveTo(S[0],S[1]);var O=E._length;for(M=1;M<O;M+=1)_=P.applyToTriplePoints(E.o[M-1],E.i[M],E.v[M]),D.bezierCurveTo(_[0],_[1],_[2],_[3],_[4],_[5]);_=P.applyToTriplePoints(E.o[M-1],E.i[0],E.v[0]),D.bezierCurveTo(_[0],_[1],_[2],_[3],_[4],_[5])}this.element.globalData.renderer.save(!0),D.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(v,S,_,E){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var P,D=4;"rc"===S.ty?D=5:"el"===S.ty?D=6:"sr"===S.ty&&(D=7),this.sh=ShapePropertyFactory.getShapeProp(v,S,D,v);var R,M=_.length;for(P=0;P<M;P+=1)_[P].closed||(R={transforms:E.addTransformSequence(_[P].transforms),trNodes:[]},this.styledShapes.push(R),_[P].elements.push(R))}function CVShapeElement(v,S,_){this.shapes=[],this.shapesData=v.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(v,S,_)}function CVTextElement(v,S,_){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(v,S,_)}function CVImageElement(v,S,_){this.assetData=S.getAssetData(v.refId),this.img=S.imageLoader.getAsset(this.assetData),this.initElement(v,S,_)}function CVSolidElement(v,S,_){this.initElement(v,S,_)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var v;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,v=0;v<15;v+=1){var S=new CanvasContext;this.stack[v]=S}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(v,S,_){this.completeLayers=!1,this.layers=v.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(v,S,_),this.tm=v.tm?PropertyFactory.getProp(this,v.tm,0,S.frameRate,this):{_placeholder:!0}}function CanvasRenderer(v,S){this.animationItem=v,this.renderConfig={clearCanvas:!S||void 0===S.clearCanvas||S.clearCanvas,context:S&&S.context||null,progressiveLoad:S&&S.progressiveLoad||!1,preserveAspectRatio:S&&S.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:S&&S.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:S&&S.contentVisibility||"visible",className:S&&S.className||"",id:S&&S.id||"",runExpressions:!S||void 0===S.runExpressions||S.runExpressions},this.renderConfig.dpr=S&&S.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=S&&S.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(v,S,_){this.initElement(v,S,_)}function HShapeElement(v,S,_){this.shapes=[],this.shapesData=v.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(v,S,_),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(v,S,_){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(v,S,_)}function HCameraElement(v,S,_){this.initFrame(),this.initBaseData(v,S,_),this.initHierarchy();var E=PropertyFactory.getProp;if(this.pe=E(this,v.pe,0,0,this),v.ks.p.s?(this.px=E(this,v.ks.p.x,1,0,this),this.py=E(this,v.ks.p.y,1,0,this),this.pz=E(this,v.ks.p.z,1,0,this)):this.p=E(this,v.ks.p,1,0,this),v.ks.a&&(this.a=E(this,v.ks.a,1,0,this)),v.ks.or.k.length&&v.ks.or.k[0].to){var P,D=v.ks.or.k.length;for(P=0;P<D;P+=1)v.ks.or.k[P].to=null,v.ks.or.k[P].ti=null}this.or=E(this,v.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=E(this,v.ks.rx,0,degToRads,this),this.ry=E(this,v.ks.ry,0,degToRads,this),this.rz=E(this,v.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(v,S,_){this.assetData=S.getAssetData(v.refId),this.initElement(v,S,_)}function HybridRendererBase(v,S){this.animationItem=v,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:S&&S.className||"",imagePreserveAspectRatio:S&&S.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(S&&!1===S.hideOnTransparent),filterSize:{width:S&&S.filterSize&&S.filterSize.width||"400%",height:S&&S.filterSize&&S.filterSize.height||"400%",x:S&&S.filterSize&&S.filterSize.x||"-100%",y:S&&S.filterSize&&S.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(v,S,_){this.layers=v.layers,this.supports3d=!v.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(v,S,_),this.tm=v.tm?PropertyFactory.getProp(this,v.tm,0,S.frameRate,this):{_placeholder:!0}}function HybridRenderer(v,S){this.animationItem=v,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:S&&S.className||"",imagePreserveAspectRatio:S&&S.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(S&&!1===S.hideOnTransparent),filterSize:{width:S&&S.filterSize&&S.filterSize.width||"400%",height:S&&S.filterSize&&S.filterSize.height||"400%",x:S&&S.filterSize&&S.filterSize.x||"-100%",y:S&&S.filterSize&&S.filterSize.y||"-100%"},runExpressions:!S||void 0===S.runExpressions||S.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function createElements(){},initRendererElement:function initRendererElement(){},createContainerElements:function createContainerElements(){if(this.data.tt>=1){this.buffers=[];var v=this.globalData.canvasContext,S=assetLoader.createCanvas(v.canvas.width,v.canvas.height);this.buffers.push(S);var _=assetLoader.createCanvas(v.canvas.width,v.canvas.height);this.buffers.push(_),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function createContent(){},setBlendMode:function setBlendMode(){var v=this.globalData;if(v.blendMode!==this.data.bm){v.blendMode=this.data.bm;var S=getBlendMode(this.data.bm);v.canvasContext.globalCompositeOperation=S}},createRenderableComponents:function createRenderableComponents(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function hideElement(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function showElement(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function clearCanvas(v){v.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function prepareLayer(){if(this.data.tt>=1){var v=this.buffers[0].getContext("2d");this.clearCanvas(v),v.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function exitLayer(){if(this.data.tt>=1){var v=this.buffers[1],S=v.getContext("2d");if(this.clearCanvas(S),S.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var _=assetLoader.getLumaCanvas(this.canvasContext.canvas);_.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(_,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(v,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function renderFrame(v){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||v)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var S=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(S),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(S),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function destroy(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(v,S){var _={data:v,type:v.ty,preTransforms:this.transformsManager.addTransformSequence(S),transforms:[],elements:[],closed:!0===v.hd},E={};if("fl"===v.ty||"st"===v.ty?(E.c=PropertyFactory.getProp(this,v.c,1,255,this),E.c.k||(_.co="rgb("+bmFloor(E.c.v[0])+","+bmFloor(E.c.v[1])+","+bmFloor(E.c.v[2])+")")):"gf"!==v.ty&&"gs"!==v.ty||(E.s=PropertyFactory.getProp(this,v.s,1,null,this),E.e=PropertyFactory.getProp(this,v.e,1,null,this),E.h=PropertyFactory.getProp(this,v.h||{k:0},0,.01,this),E.a=PropertyFactory.getProp(this,v.a||{k:0},0,degToRads,this),E.g=new GradientProperty(this,v.g,this)),E.o=PropertyFactory.getProp(this,v.o,0,.01,this),"st"===v.ty||"gs"===v.ty){if(_.lc=lineCapEnum[v.lc||2],_.lj=lineJoinEnum[v.lj||2],1==v.lj&&(_.ml=v.ml),E.w=PropertyFactory.getProp(this,v.w,0,null,this),E.w.k||(_.wi=E.w.v),v.d){var P=new DashProperty(this,v.d,"canvas",this);E.d=P,E.d.k||(_.da=E.d.dashArray,_.do=E.d.dashoffset[0])}}else _.r=2===v.r?"evenodd":"nonzero";return this.stylesList.push(_),E.style=_,E},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(v){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,v.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,v,this)}}},CVShapeElement.prototype.createShapeElement=function(v){var S=new CVShapeData(this,v,this.stylesList,this.transformsManager);return this.shapes.push(S),this.addShapeToModifiers(S),S},CVShapeElement.prototype.reloadShapes=function(){var v;this._isFirstFrame=!0;var S=this.itemsData.length;for(v=0;v<S;v+=1)this.prevViewData[v]=this.itemsData[v];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),S=this.dynamicProperties.length,v=0;v<S;v+=1)this.dynamicProperties[v].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(v){var S,_=this.stylesList.length;for(S=0;S<_;S+=1)this.stylesList[S].closed||this.stylesList[S].transforms.push(v)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var v,S=this.stylesList.length;for(v=0;v<S;v+=1)this.stylesList[v].closed||this.stylesList[v].transforms.pop()},CVShapeElement.prototype.closeStyles=function(v){var S,_=v.length;for(S=0;S<_;S+=1)v[S].closed=!0},CVShapeElement.prototype.searchShapes=function(v,S,_,E,P){var D,R,M,O,F,N,L=v.length-1,U=[],V=[],G=[].concat(P);for(D=L;D>=0;D-=1){if((O=this.searchProcessedElement(v[D]))?S[D]=_[O-1]:v[D]._shouldRender=E,"fl"===v[D].ty||"st"===v[D].ty||"gf"===v[D].ty||"gs"===v[D].ty)O?S[D].style.closed=!1:S[D]=this.createStyleElement(v[D],G),U.push(S[D].style);else if("gr"===v[D].ty){if(O)for(M=S[D].it.length,R=0;R<M;R+=1)S[D].prevViewData[R]=S[D].it[R];else S[D]=this.createGroupElement(v[D]);this.searchShapes(v[D].it,S[D].it,S[D].prevViewData,E,G)}else"tr"===v[D].ty?(O||(N=this.createTransformElement(v[D]),S[D]=N),G.push(S[D]),this.addTransformToStyleList(S[D])):"sh"===v[D].ty||"rc"===v[D].ty||"el"===v[D].ty||"sr"===v[D].ty?O||(S[D]=this.createShapeElement(v[D])):"tm"===v[D].ty||"rd"===v[D].ty||"pb"===v[D].ty||"zz"===v[D].ty||"op"===v[D].ty?(O?(F=S[D]).closed=!1:((F=ShapeModifiers.getModifier(v[D].ty)).init(this,v[D]),S[D]=F,this.shapeModifiers.push(F)),V.push(F)):"rp"===v[D].ty&&(O?(F=S[D]).closed=!0:(F=ShapeModifiers.getModifier(v[D].ty),S[D]=F,F.init(this,v,D,S),this.shapeModifiers.push(F),E=!1),V.push(F));this.addProcessedElement(v[D],D+1)}for(this.removeTransformFromStyleList(),this.closeStyles(U),L=V.length,D=0;D<L;D+=1)V[D].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(v,S){(v._opMdf||S.op._mdf||this._isFirstFrame)&&(S.opacity=v.opacity,S.opacity*=S.op.v,S._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var v,S,_,E,P,D,R,M,O,F=this.stylesList.length,N=this.globalData.renderer,L=this.globalData.canvasContext;for(v=0;v<F;v+=1)if(("st"!==(M=(O=this.stylesList[v]).type)&&"gs"!==M||0!==O.wi)&&O.data._shouldRender&&0!==O.coOp&&0!==this.globalData.currentGlobalAlpha){for(N.save(),D=O.elements,"st"===M||"gs"===M?(N.ctxStrokeStyle("st"===M?O.co:O.grd),N.ctxLineWidth(O.wi),N.ctxLineCap(O.lc),N.ctxLineJoin(O.lj),N.ctxMiterLimit(O.ml||0)):N.ctxFillStyle("fl"===M?O.co:O.grd),N.ctxOpacity(O.coOp),"st"!==M&&"gs"!==M&&L.beginPath(),N.ctxTransform(O.preTransforms.finalTransform.props),_=D.length,S=0;S<_;S+=1){for("st"!==M&&"gs"!==M||(L.beginPath(),O.da&&(L.setLineDash(O.da),L.lineDashOffset=O.do)),P=(R=D[S].trNodes).length,E=0;E<P;E+=1)"m"===R[E].t?L.moveTo(R[E].p[0],R[E].p[1]):"c"===R[E].t?L.bezierCurveTo(R[E].pts[0],R[E].pts[1],R[E].pts[2],R[E].pts[3],R[E].pts[4],R[E].pts[5]):L.closePath();"st"!==M&&"gs"!==M||(N.ctxStroke(),O.da&&L.setLineDash(this.dashResetter))}"st"!==M&&"gs"!==M&&this.globalData.renderer.ctxFill(O.r),N.restore()}},CVShapeElement.prototype.renderShape=function(v,S,_,E){var P,D;for(D=v,P=S.length-1;P>=0;P-=1)"tr"===S[P].ty?(D=_[P].transform,this.renderShapeTransform(v,D)):"sh"===S[P].ty||"el"===S[P].ty||"rc"===S[P].ty||"sr"===S[P].ty?this.renderPath(S[P],_[P]):"fl"===S[P].ty?this.renderFill(S[P],_[P],D):"st"===S[P].ty?this.renderStroke(S[P],_[P],D):"gf"===S[P].ty||"gs"===S[P].ty?this.renderGradientFill(S[P],_[P],D):"gr"===S[P].ty?this.renderShape(D,S[P].it,_[P].it):S[P].ty;E&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(v,S){if(this._isFirstFrame||S._mdf||v.transforms._mdf){var _,E,P,D=v.trNodes,R=S.paths,M=R._length;D.length=0;var O=v.transforms.finalTransform;for(P=0;P<M;P+=1){var F=R.shapes[P];if(F&&F.v){for(E=F._length,_=1;_<E;_+=1)1===_&&D.push({t:"m",p:O.applyToPointArray(F.v[0][0],F.v[0][1],0)}),D.push({t:"c",pts:O.applyToTriplePoints(F.o[_-1],F.i[_],F.v[_])});1===E&&D.push({t:"m",p:O.applyToPointArray(F.v[0][0],F.v[0][1],0)}),F.c&&E&&(D.push({t:"c",pts:O.applyToTriplePoints(F.o[_-1],F.i[0],F.v[0])}),D.push({t:"z"}))}}v.trNodes=D}},CVShapeElement.prototype.renderPath=function(v,S){if(!0!==v.hd&&v._shouldRender){var _,E=S.styledShapes.length;for(_=0;_<E;_+=1)this.renderStyledShape(S.styledShapes[_],S.sh)}},CVShapeElement.prototype.renderFill=function(v,S,_){var E=S.style;(S.c._mdf||this._isFirstFrame)&&(E.co="rgb("+bmFloor(S.c.v[0])+","+bmFloor(S.c.v[1])+","+bmFloor(S.c.v[2])+")"),(S.o._mdf||_._opMdf||this._isFirstFrame)&&(E.coOp=S.o.v*_.opacity)},CVShapeElement.prototype.renderGradientFill=function(v,S,_){var E,P=S.style;if(!P.grd||S.g._mdf||S.s._mdf||S.e._mdf||1!==v.t&&(S.h._mdf||S.a._mdf)){var D,R=this.globalData.canvasContext,M=S.s.v,O=S.e.v;if(1===v.t)E=R.createLinearGradient(M[0],M[1],O[0],O[1]);else{var F=Math.sqrt(Math.pow(M[0]-O[0],2)+Math.pow(M[1]-O[1],2)),N=Math.atan2(O[1]-M[1],O[0]-M[0]),L=S.h.v;L>=1?L=.99:L<=-1&&(L=-.99);var U=F*L,V=Math.cos(N+S.a.v)*U+M[0],G=Math.sin(N+S.a.v)*U+M[1];E=R.createRadialGradient(V,G,0,M[0],M[1],F)}var W=v.g.p,$=S.g.c,X=1;for(D=0;D<W;D+=1)S.g._hasOpacity&&S.g._collapsable&&(X=S.g.o[2*D+1]),E.addColorStop($[4*D]/100,"rgba("+$[4*D+1]+","+$[4*D+2]+","+$[4*D+3]+","+X+")");P.grd=E}P.coOp=S.o.v*_.opacity},CVShapeElement.prototype.renderStroke=function(v,S,_){var E=S.style,P=S.d;P&&(P._mdf||this._isFirstFrame)&&(E.da=P.dashArray,E.do=P.dashoffset[0]),(S.c._mdf||this._isFirstFrame)&&(E.co="rgb("+bmFloor(S.c.v[0])+","+bmFloor(S.c.v[1])+","+bmFloor(S.c.v[2])+")"),(S.o._mdf||_._opMdf||this._isFirstFrame)&&(E.coOp=S.o.v*_.opacity),(S.w._mdf||this._isFirstFrame)&&(E.wi=S.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var v=this.textProperty.currentData;this.renderedLetters=createSizedArray(v.l?v.l.length:0);var S=!1;v.fc?(S=!0,this.values.fill=this.buildColor(v.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=S;var _=!1;v.sc&&(_=!0,this.values.stroke=this.buildColor(v.sc),this.values.sWidth=v.sw);var E,P,D,R,M,O,F,N,L,U,V,G,W=this.globalData.fontManager.getFontByName(v.f),$=v.l,X=this.mHelper;this.stroke=_,this.values.fValue=v.finalSize+"px "+this.globalData.fontManager.getFontByName(v.f).fFamily,P=v.finalText.length;var Y=this.data.singleShape,J=.001*v.tr*v.finalSize,Z=0,Q=0,tt=!0,et=0;for(E=0;E<P;E+=1){R=(D=this.globalData.fontManager.getCharData(v.finalText[E],W.fStyle,this.globalData.fontManager.getFontByName(v.f).fFamily))&&D.data||{},X.reset(),Y&&$[E].n&&(Z=-J,Q+=v.yOffset,Q+=tt?1:0,tt=!1),L=(F=R.shapes?R.shapes[0].it:[]).length,X.scale(v.finalSize/100,v.finalSize/100),Y&&this.applyTextPropertiesToMatrix(v,X,$[E].line,Z,Q),V=createSizedArray(L-1);var rt=0;for(N=0;N<L;N+=1)if("sh"===F[N].ty){for(O=F[N].ks.k.i.length,U=F[N].ks.k,G=[],M=1;M<O;M+=1)1===M&&G.push(X.applyToX(U.v[0][0],U.v[0][1],0),X.applyToY(U.v[0][0],U.v[0][1],0)),G.push(X.applyToX(U.o[M-1][0],U.o[M-1][1],0),X.applyToY(U.o[M-1][0],U.o[M-1][1],0),X.applyToX(U.i[M][0],U.i[M][1],0),X.applyToY(U.i[M][0],U.i[M][1],0),X.applyToX(U.v[M][0],U.v[M][1],0),X.applyToY(U.v[M][0],U.v[M][1],0));G.push(X.applyToX(U.o[M-1][0],U.o[M-1][1],0),X.applyToY(U.o[M-1][0],U.o[M-1][1],0),X.applyToX(U.i[0][0],U.i[0][1],0),X.applyToY(U.i[0][0],U.i[0][1],0),X.applyToX(U.v[0][0],U.v[0][1],0),X.applyToY(U.v[0][0],U.v[0][1],0)),V[rt]=G,rt+=1}Y&&(Z+=$[E].l,Z+=J),this.textSpans[et]?this.textSpans[et].elem=V:this.textSpans[et]={elem:V},et+=1}},CVTextElement.prototype.renderInnerContent=function(){var v,S,_,E,P,D;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var R,M=this.textAnimator.renderedLetters,O=this.textProperty.currentData.l;S=O.length;var F,N,L=null,U=null,V=null,G=this.globalData.renderer;for(v=0;v<S;v+=1)if(!O[v].n){if((R=M[v])&&(G.save(),G.ctxTransform(R.p),G.ctxOpacity(R.o)),this.fill){for(R&&R.fc?L!==R.fc&&(G.ctxFillStyle(R.fc),L=R.fc):L!==this.values.fill&&(L=this.values.fill,G.ctxFillStyle(this.values.fill)),E=(F=this.textSpans[v].elem).length,this.globalData.canvasContext.beginPath(),_=0;_<E;_+=1)for(D=(N=F[_]).length,this.globalData.canvasContext.moveTo(N[0],N[1]),P=2;P<D;P+=6)this.globalData.canvasContext.bezierCurveTo(N[P],N[P+1],N[P+2],N[P+3],N[P+4],N[P+5]);this.globalData.canvasContext.closePath(),G.ctxFill()}if(this.stroke){for(R&&R.sw?V!==R.sw&&(V=R.sw,G.ctxLineWidth(R.sw)):V!==this.values.sWidth&&(V=this.values.sWidth,G.ctxLineWidth(this.values.sWidth)),R&&R.sc?U!==R.sc&&(U=R.sc,G.ctxStrokeStyle(R.sc)):U!==this.values.stroke&&(U=this.values.stroke,G.ctxStrokeStyle(this.values.stroke)),E=(F=this.textSpans[v].elem).length,this.globalData.canvasContext.beginPath(),_=0;_<E;_+=1)for(D=(N=F[_]).length,this.globalData.canvasContext.moveTo(N[0],N[1]),P=2;P<D;P+=6)this.globalData.canvasContext.bezierCurveTo(N[P],N[P+1],N[P+2],N[P+3],N[P+4],N[P+5]);this.globalData.canvasContext.closePath(),G.ctxStroke()}R&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var v=createTag("canvas");v.width=this.assetData.w,v.height=this.assetData.h;var S,_,E=v.getContext("2d"),P=this.img.width,D=this.img.height,R=P/D,M=this.assetData.w/this.assetData.h,O=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;R>M&&"xMidYMid slice"===O||R<M&&"xMidYMid slice"!==O?S=(_=D)*M:_=(S=P)/M,E.drawImage(this.img,(P-S)/2,(D-_)/2,S,_,0,0,this.assetData.w,this.assetData.h),this.img=v}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(v){return new CVShapeElement(v,this.globalData,this)},CanvasRendererBase.prototype.createText=function(v){return new CVTextElement(v,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(v){return new CVImageElement(v,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(v){return new CVSolidElement(v,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(v){1===v[0]&&0===v[1]&&0===v[4]&&1===v[5]&&0===v[12]&&0===v[13]||this.canvasContext.transform(v[0],v[1],v[4],v[5],v[12],v[13])},CanvasRendererBase.prototype.ctxOpacity=function(v){this.canvasContext.globalAlpha*=v<0?0:v},CanvasRendererBase.prototype.ctxFillStyle=function(v){this.canvasContext.fillStyle=v},CanvasRendererBase.prototype.ctxStrokeStyle=function(v){this.canvasContext.strokeStyle=v},CanvasRendererBase.prototype.ctxLineWidth=function(v){this.canvasContext.lineWidth=v},CanvasRendererBase.prototype.ctxLineCap=function(v){this.canvasContext.lineCap=v},CanvasRendererBase.prototype.ctxLineJoin=function(v){this.canvasContext.lineJoin=v},CanvasRendererBase.prototype.ctxMiterLimit=function(v){this.canvasContext.miterLimit=v},CanvasRendererBase.prototype.ctxFill=function(v){this.canvasContext.fill(v)},CanvasRendererBase.prototype.ctxFillRect=function(v,S,_,E){this.canvasContext.fillRect(v,S,_,E)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(v){this.renderConfig.clearCanvas?(v&&(this.globalData.blendMode="source-over"),this.contextData.restore(v)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(v){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var S=this.animationItem.container.style;S.width="100%",S.height="100%";var _="0px 0px 0px";S.transformOrigin=_,S.mozTransformOrigin=_,S.webkitTransformOrigin=_,S["-webkit-transform"]=_,S.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=v,this.layers=v.layers,this.transformCanvas={w:v.w,h:v.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(v,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(v.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(v,S){var _,E,P,D;if(this.reset(),v?(_=v,E=S,this.canvasContext.canvas.width=_,this.canvasContext.canvas.height=E):(this.animationItem.wrapper&&this.animationItem.container?(_=this.animationItem.wrapper.offsetWidth,E=this.animationItem.wrapper.offsetHeight):(_=this.canvasContext.canvas.width,E=this.canvasContext.canvas.height),this.canvasContext.canvas.width=_*this.renderConfig.dpr,this.canvasContext.canvas.height=E*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var R=this.renderConfig.preserveAspectRatio.split(" "),M=R[1]||"meet",O=R[0]||"xMidYMid",F=O.substr(0,4),N=O.substr(4);P=_/E,(D=this.transformCanvas.w/this.transformCanvas.h)>P&&"meet"===M||D<P&&"slice"===M?(this.transformCanvas.sx=_/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=_/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=E/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=E/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===F&&(D<P&&"meet"===M||D>P&&"slice"===M)?(_-this.transformCanvas.w*(E/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===F&&(D<P&&"meet"===M||D>P&&"slice"===M)?(_-this.transformCanvas.w*(E/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===N&&(D>P&&"meet"===M||D<P&&"slice"===M)?(E-this.transformCanvas.h*(_/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===N&&(D>P&&"meet"===M||D<P&&"slice"===M)?(E-this.transformCanvas.h*(_/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=_/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=E/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var v;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),v=(this.layers?this.layers.length:0)-1;v>=0;v-=1)this.elements[v]&&this.elements[v].destroy&&this.elements[v].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(v,S){if((this.renderedFrame!==v||!0!==this.renderConfig.clearCanvas||S)&&!this.destroyed&&-1!==v){var _;this.renderedFrame=v,this.globalData.frameNum=v-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||S,this.globalData.projectInterface.currentFrame=v;var E=this.layers.length;for(this.completeLayers||this.checkLayers(v),_=E-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].prepareFrame(v-this.layers[_].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),_=E-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(v){var S=this.elements;if(!S[v]&&99!==this.layers[v].ty){var _=this.createItem(this.layers[v],this,this.globalData);S[v]=_,_.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var v=2*this._length,S=0;for(S=this._length;S<v;S+=1)this.stack[S]=new CanvasContext;this._length=v},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(v){this.cArrPos-=1;var S,_=this.stack[this.cArrPos],E=_.transform,P=this.cTr.props;for(S=0;S<16;S+=1)P[S]=E[S];if(v){this.nativeContext.restore();var D=this.stack[this.cArrPos+1];this.appliedFillStyle=D.fillStyle,this.appliedStrokeStyle=D.strokeStyle,this.appliedLineWidth=D.lineWidth,this.appliedLineCap=D.lineCap,this.appliedLineJoin=D.lineJoin,this.appliedMiterLimit=D.miterLimit}this.nativeContext.setTransform(E[0],E[1],E[4],E[5],E[12],E[13]),(v||-1!==_.opacity&&this.currentOpacity!==_.opacity)&&(this.nativeContext.globalAlpha=_.opacity,this.currentOpacity=_.opacity),this.currentFillStyle=_.fillStyle,this.currentStrokeStyle=_.strokeStyle,this.currentLineWidth=_.lineWidth,this.currentLineCap=_.lineCap,this.currentLineJoin=_.lineJoin,this.currentMiterLimit=_.miterLimit},CVContextData.prototype.save=function(v){v&&this.nativeContext.save();var S=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var _,E=this.stack[this.cArrPos];for(_=0;_<16;_+=1)E.transform[_]=S[_];this.cArrPos+=1;var P=this.stack[this.cArrPos];P.opacity=E.opacity,P.fillStyle=E.fillStyle,P.strokeStyle=E.strokeStyle,P.lineWidth=E.lineWidth,P.lineCap=E.lineCap,P.lineJoin=E.lineJoin,P.miterLimit=E.miterLimit},CVContextData.prototype.setOpacity=function(v){this.stack[this.cArrPos].opacity=v},CVContextData.prototype.setContext=function(v){this.nativeContext=v},CVContextData.prototype.fillStyle=function(v){this.stack[this.cArrPos].fillStyle!==v&&(this.currentFillStyle=v,this.stack[this.cArrPos].fillStyle=v)},CVContextData.prototype.strokeStyle=function(v){this.stack[this.cArrPos].strokeStyle!==v&&(this.currentStrokeStyle=v,this.stack[this.cArrPos].strokeStyle=v)},CVContextData.prototype.lineWidth=function(v){this.stack[this.cArrPos].lineWidth!==v&&(this.currentLineWidth=v,this.stack[this.cArrPos].lineWidth=v)},CVContextData.prototype.lineCap=function(v){this.stack[this.cArrPos].lineCap!==v&&(this.currentLineCap=v,this.stack[this.cArrPos].lineCap=v)},CVContextData.prototype.lineJoin=function(v){this.stack[this.cArrPos].lineJoin!==v&&(this.currentLineJoin=v,this.stack[this.cArrPos].lineJoin=v)},CVContextData.prototype.miterLimit=function(v){this.stack[this.cArrPos].miterLimit!==v&&(this.currentMiterLimit=v,this.stack[this.cArrPos].miterLimit=v)},CVContextData.prototype.transform=function(v){this.transformMat.cloneFromProps(v);var S=this.cTr;this.transformMat.multiply(S),S.cloneFromProps(this.transformMat.props);var _=S.props;this.nativeContext.setTransform(_[0],_[1],_[4],_[5],_[12],_[13])},CVContextData.prototype.opacity=function(v){var S=this.stack[this.cArrPos].opacity;S*=v<0?0:v,this.stack[this.cArrPos].opacity!==S&&(this.currentOpacity!==v&&(this.nativeContext.globalAlpha=v,this.currentOpacity=v),this.stack[this.cArrPos].opacity=S)},CVContextData.prototype.fill=function(v){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(v)},CVContextData.prototype.fillRect=function(v,S,_,E){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(v,S,_,E)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var v,S=this.canvasContext;for(S.beginPath(),S.moveTo(0,0),S.lineTo(this.data.w,0),S.lineTo(this.data.w,this.data.h),S.lineTo(0,this.data.h),S.lineTo(0,0),S.clip(),v=this.layers.length-1;v>=0;v-=1)(this.completeLayers||this.elements[v])&&this.elements[v].renderFrame()},CVCompElement.prototype.destroy=function(){var v;for(v=this.layers.length-1;v>=0;v-=1)this.elements[v]&&this.elements[v].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(v){return new CVCompElement(v,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(v){return new CVCompElement(v,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function checkBlendMode(){},initRendererElement:function initRendererElement(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function createContainerElements(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function renderElement(){var v=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var S=this.finalTransform.mat.toCSS();v.transform=S,v.webkitTransform=S}this.finalTransform._opMdf&&(v.opacity=this.finalTransform.mProp.o.v)},renderFrame:function renderFrame(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function destroy(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function createRenderableComponents(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function addEffects(){},setMatte:function setMatte(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var v;this.data.hasMask?((v=createNS("rect")).setAttribute("width",this.data.sw),v.setAttribute("height",this.data.sh),v.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((v=createTag("div")).style.width=this.data.sw+"px",v.style.height=this.data.sh+"px",v.style.backgroundColor=this.data.sc),this.layerElement.appendChild(v)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var v;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),v=this.svgElement;else{v=createNS("svg");var S=this.comp.data?this.comp.data:this.globalData.compSize;v.setAttribute("width",S.w),v.setAttribute("height",S.h),v.appendChild(this.shapesContainer),this.layerElement.appendChild(v)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=v},HShapeElement.prototype.getTransformedPoint=function(v,S){var _,E=v.length;for(_=0;_<E;_+=1)S=v[_].mProps.v.applyToPointArray(S[0],S[1],0);return S},HShapeElement.prototype.calculateShapeBoundingBox=function(v,S){var _,E,P,D,R,M=v.sh.v,O=v.transformers,F=M._length;if(!(F<=1)){for(_=0;_<F-1;_+=1)E=this.getTransformedPoint(O,M.v[_]),P=this.getTransformedPoint(O,M.o[_]),D=this.getTransformedPoint(O,M.i[_+1]),R=this.getTransformedPoint(O,M.v[_+1]),this.checkBounds(E,P,D,R,S);M.c&&(E=this.getTransformedPoint(O,M.v[_]),P=this.getTransformedPoint(O,M.o[_]),D=this.getTransformedPoint(O,M.i[0]),R=this.getTransformedPoint(O,M.v[0]),this.checkBounds(E,P,D,R,S))}},HShapeElement.prototype.checkBounds=function(v,S,_,E,P){this.getBoundsOfCurve(v,S,_,E);var D=this.shapeBoundingBox;P.x=bmMin(D.left,P.x),P.xMax=bmMax(D.right,P.xMax),P.y=bmMin(D.top,P.y),P.yMax=bmMax(D.bottom,P.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(v,S,_,E){for(var P,D,R,M,O,F,N,L=[[v[0],E[0]],[v[1],E[1]]],U=0;U<2;++U)D=6*v[U]-12*S[U]+6*_[U],P=-3*v[U]+9*S[U]-9*_[U]+3*E[U],R=3*S[U]-3*v[U],D|=0,R|=0,0==(P|=0)&&0===D||(0===P?(M=-R/D)>0&&M<1&&L[U].push(this.calculateF(M,v,S,_,E,U)):(O=D*D-4*R*P)>=0&&((F=(-D+bmSqrt(O))/(2*P))>0&&F<1&&L[U].push(this.calculateF(F,v,S,_,E,U)),(N=(-D-bmSqrt(O))/(2*P))>0&&N<1&&L[U].push(this.calculateF(N,v,S,_,E,U))));this.shapeBoundingBox.left=bmMin.apply(null,L[0]),this.shapeBoundingBox.top=bmMin.apply(null,L[1]),this.shapeBoundingBox.right=bmMax.apply(null,L[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,L[1])},HShapeElement.prototype.calculateF=function(v,S,_,E,P,D){return bmPow(1-v,3)*S[D]+3*bmPow(1-v,2)*v*_[D]+3*(1-v)*bmPow(v,2)*E[D]+bmPow(v,3)*P[D]},HShapeElement.prototype.calculateBoundingBox=function(v,S){var _,E=v.length;for(_=0;_<E;_+=1)v[_]&&v[_].sh?this.calculateShapeBoundingBox(v[_],S):v[_]&&v[_].it?this.calculateBoundingBox(v[_].it,S):v[_]&&v[_].style&&v[_].w&&this.expandStrokeBoundingBox(v[_].w,S)},HShapeElement.prototype.expandStrokeBoundingBox=function(v,S){var _=0;if(v.keyframes){for(var E=0;E<v.keyframes.length;E+=1){var P=v.keyframes[E].s;P>_&&(_=P)}_*=v.mult}else _=v.v*v.mult;S.x-=_,S.xMax+=_,S.y-=_,S.yMax+=_},HShapeElement.prototype.currentBoxContains=function(v){return this.currentBBox.x<=v.x&&this.currentBBox.y<=v.y&&this.currentBBox.width+this.currentBBox.x>=v.x+v.width&&this.currentBBox.height+this.currentBBox.y>=v.y+v.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var v=this.tempBoundingBox,S=999999;if(v.x=S,v.xMax=-S,v.y=S,v.yMax=-S,this.calculateBoundingBox(this.itemsData,v),v.width=v.xMax<v.x?0:v.xMax-v.x,v.height=v.yMax<v.y?0:v.yMax-v.y,this.currentBoxContains(v))return;var _=!1;if(this.currentBBox.w!==v.width&&(this.currentBBox.w=v.width,this.shapeCont.setAttribute("width",v.width),_=!0),this.currentBBox.h!==v.height&&(this.currentBBox.h=v.height,this.shapeCont.setAttribute("height",v.height),_=!0),_||this.currentBBox.x!==v.x||this.currentBBox.y!==v.y){this.currentBBox.w=v.width,this.currentBBox.h=v.height,this.currentBBox.x=v.x,this.currentBBox.y=v.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var E=this.shapeCont.style,P="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";E.transform=P,E.webkitTransform=P}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var v=createNS("g");this.maskedElement.appendChild(v),this.innerElem=v}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var v=this.textProperty.currentData;this.renderedLetters=createSizedArray(v.l?v.l.length:0);var S=this.innerElem.style,_=v.fc?this.buildColor(v.fc):"rgba(0,0,0,0)";S.fill=_,S.color=_,v.sc&&(S.stroke=this.buildColor(v.sc),S.strokeWidth=v.sw+"px");var E,P,D=this.globalData.fontManager.getFontByName(v.f);if(!this.globalData.fontManager.chars)if(S.fontSize=v.finalSize+"px",S.lineHeight=v.finalSize+"px",D.fClass)this.innerElem.className=D.fClass;else{S.fontFamily=D.fFamily;var R=v.fWeight,M=v.fStyle;S.fontStyle=M,S.fontWeight=R}var O,F,N,L=v.l;P=L.length;var U,V=this.mHelper,G="",W=0;for(E=0;E<P;E+=1){if(this.globalData.fontManager.chars?(this.textPaths[W]?O=this.textPaths[W]:((O=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),O.setAttribute("stroke-linejoin",lineJoinEnum[2]),O.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[W]?N=(F=this.textSpans[W]).children[0]:((F=createTag("div")).style.lineHeight=0,(N=createNS("svg")).appendChild(O),styleDiv(F)))):this.isMasked?O=this.textPaths[W]?this.textPaths[W]:createNS("text"):this.textSpans[W]?(F=this.textSpans[W],O=this.textPaths[W]):(styleDiv(F=createTag("span")),styleDiv(O=createTag("span")),F.appendChild(O)),this.globalData.fontManager.chars){var $,X=this.globalData.fontManager.getCharData(v.finalText[E],D.fStyle,this.globalData.fontManager.getFontByName(v.f).fFamily);if($=X?X.data:null,V.reset(),$&&$.shapes&&$.shapes.length&&(U=$.shapes[0].it,V.scale(v.finalSize/100,v.finalSize/100),G=this.createPathShape(V,U),O.setAttribute("d",G)),this.isMasked)this.innerElem.appendChild(O);else{if(this.innerElem.appendChild(F),$&&$.shapes){document.body.appendChild(N);var Y=N.getBBox();N.setAttribute("width",Y.width+2),N.setAttribute("height",Y.height+2),N.setAttribute("viewBox",Y.x-1+" "+(Y.y-1)+" "+(Y.width+2)+" "+(Y.height+2));var J=N.style,Z="translate("+(Y.x-1)+"px,"+(Y.y-1)+"px)";J.transform=Z,J.webkitTransform=Z,L[E].yOffset=Y.y-1}else N.setAttribute("width",1),N.setAttribute("height",1);F.appendChild(N)}}else if(O.textContent=L[E].val,O.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(O);else{this.innerElem.appendChild(F);var Q=O.style,tt="translate3d(0,"+-v.finalSize/1.2+"px,0)";Q.transform=tt,Q.webkitTransform=tt}this.isMasked?this.textSpans[W]=O:this.textSpans[W]=F,this.textSpans[W].style.display="block",this.textPaths[W]=O,W+=1}for(;W<this.textSpans.length;)this.textSpans[W].style.display="none",W+=1},HTextElement.prototype.renderInnerContent=function(){var v;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),v=this.svgElement.style;var S="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";v.transform=S,v.webkitTransform=S}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var _,E,P,D,R,M=0,O=this.textAnimator.renderedLetters,F=this.textProperty.currentData.l;for(E=F.length,_=0;_<E;_+=1)F[_].n?M+=1:(D=this.textSpans[_],R=this.textPaths[_],P=O[M],M+=1,P._mdf.m&&(this.isMasked?D.setAttribute("transform",P.m):(D.style.webkitTransform=P.m,D.style.transform=P.m)),D.style.opacity=P.o,P.sw&&P._mdf.sw&&R.setAttribute("stroke-width",P.sw),P.sc&&P._mdf.sc&&R.setAttribute("stroke",P.sc),P.fc&&P._mdf.fc&&(R.setAttribute("fill",P.fc),R.style.color=P.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var N=this.innerElem.getBBox();if(this.currentBBox.w!==N.width&&(this.currentBBox.w=N.width,this.svgElement.setAttribute("width",N.width)),this.currentBBox.h!==N.height&&(this.currentBBox.h=N.height,this.svgElement.setAttribute("height",N.height)),this.currentBBox.w!==N.width+2||this.currentBBox.h!==N.height+2||this.currentBBox.x!==N.x-1||this.currentBBox.y!==N.y-1){this.currentBBox.w=N.width+2,this.currentBBox.h=N.height+2,this.currentBBox.x=N.x-1,this.currentBBox.y=N.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),v=this.svgElement.style;var L="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";v.transform=L,v.webkitTransform=L}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var v,S,_,E,P=this.comp.threeDElements.length;for(v=0;v<P;v+=1)if("3d"===(S=this.comp.threeDElements[v]).type){_=S.perspectiveElem.style,E=S.container.style;var D=this.pe.v+"px",R="0px 0px 0px",M="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";_.perspective=D,_.webkitPerspective=D,E.transformOrigin=R,E.mozTransformOrigin=R,E.webkitTransformOrigin=R,_.transform=M,_.webkitTransform=M}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var v,S,_=this._isFirstFrame;if(this.hierarchy)for(S=this.hierarchy.length,v=0;v<S;v+=1)_=this.hierarchy[v].finalTransform.mProp._mdf||_;if(_||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(v=S=this.hierarchy.length-1;v>=0;v-=1){var E=this.hierarchy[v].finalTransform.mProp;this.mat.translate(-E.p.v[0],-E.p.v[1],E.p.v[2]),this.mat.rotateX(-E.or.v[0]).rotateY(-E.or.v[1]).rotateZ(E.or.v[2]),this.mat.rotateX(-E.rx.v).rotateY(-E.ry.v).rotateZ(E.rz.v),this.mat.scale(1/E.s.v[0],1/E.s.v[1],1/E.s.v[2]),this.mat.translate(E.a.v[0],E.a.v[1],E.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var P;P=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var D=Math.sqrt(Math.pow(P[0],2)+Math.pow(P[1],2)+Math.pow(P[2],2)),R=[P[0]/D,P[1]/D,P[2]/D],M=Math.sqrt(R[2]*R[2]+R[0]*R[0]),O=Math.atan2(R[1],M),F=Math.atan2(R[0],-R[2]);this.mat.rotateY(F).rotateX(-O)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var N=!this._prevMat.equals(this.mat);if((N||this.pe._mdf)&&this.comp.threeDElements){var L,U,V;for(S=this.comp.threeDElements.length,v=0;v<S;v+=1)if("3d"===(L=this.comp.threeDElements[v]).type){if(N){var G=this.mat.toCSS();(V=L.container.style).transform=G,V.webkitTransform=G}this.pe._mdf&&((U=L.perspectiveElem.style).perspective=this.pe.v+"px",U.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(v){this.prepareProperties(v,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var v=this.globalData.getAssetsPath(this.assetData),S=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",v),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(S),S.crossOrigin="anonymous",S.src=v,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(v,S){var _=v.getBaseElement();if(_){var E=this.layers[S];if(E.ddd&&this.supports3d)this.addTo3dContainer(_,S);else if(this.threeDElements)this.addTo3dContainer(_,S);else{for(var P,D,R=0;R<S;)this.elements[R]&&!0!==this.elements[R]&&this.elements[R].getBaseElement&&(D=this.elements[R],P=(this.layers[R].ddd?this.getThreeDContainerByPos(R):D.getBaseElement())||P),R+=1;P?E.ddd&&this.supports3d||this.layerElement.insertBefore(_,P):E.ddd&&this.supports3d||this.layerElement.appendChild(_)}}},HybridRendererBase.prototype.createShape=function(v){return this.supports3d?new HShapeElement(v,this.globalData,this):new SVGShapeElement(v,this.globalData,this)},HybridRendererBase.prototype.createText=function(v){return this.supports3d?new HTextElement(v,this.globalData,this):new SVGTextLottieElement(v,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(v){return this.camera=new HCameraElement(v,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(v){return this.supports3d?new HImageElement(v,this.globalData,this):new IImageElement(v,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(v){return this.supports3d?new HSolidElement(v,this.globalData,this):new ISolidElement(v,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(v){for(var S=0,_=this.threeDElements.length;S<_;){if(this.threeDElements[S].startPos<=v&&this.threeDElements[S].endPos>=v)return this.threeDElements[S].perspectiveElem;S+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(v,S){var _,E,P=createTag("div");styleDiv(P);var D=createTag("div");if(styleDiv(D),"3d"===S){(_=P.style).width=this.globalData.compSize.w+"px",_.height=this.globalData.compSize.h+"px";var R="50% 50%";_.webkitTransformOrigin=R,_.mozTransformOrigin=R,_.transformOrigin=R;var M="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(E=D.style).transform=M,E.webkitTransform=M}P.appendChild(D);var O={container:D,perspectiveElem:P,startPos:v,endPos:v,type:S};return this.threeDElements.push(O),O},HybridRendererBase.prototype.build3dContainers=function(){var v,S,_=this.layers.length,E="";for(v=0;v<_;v+=1)this.layers[v].ddd&&3!==this.layers[v].ty?("3d"!==E&&(E="3d",S=this.createThreeDContainer(v,"3d")),S.endPos=Math.max(S.endPos,v)):("2d"!==E&&(E="2d",S=this.createThreeDContainer(v,"2d")),S.endPos=Math.max(S.endPos,v));for(v=(_=this.threeDElements.length)-1;v>=0;v-=1)this.resizerElem.appendChild(this.threeDElements[v].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(v,S){for(var _=0,E=this.threeDElements.length;_<E;){if(S<=this.threeDElements[_].endPos){for(var P,D=this.threeDElements[_].startPos;D<S;)this.elements[D]&&this.elements[D].getBaseElement&&(P=this.elements[D].getBaseElement()),D+=1;P?this.threeDElements[_].container.insertBefore(v,P):this.threeDElements[_].container.appendChild(v);break}_+=1}},HybridRendererBase.prototype.configAnimation=function(v){var S=createTag("div"),_=this.animationItem.wrapper,E=S.style;E.width=v.w+"px",E.height=v.h+"px",this.resizerElem=S,styleDiv(S),E.transformStyle="flat",E.mozTransformStyle="flat",E.webkitTransformStyle="flat",this.renderConfig.className&&S.setAttribute("class",this.renderConfig.className),_.appendChild(S),E.overflow="hidden";var P=createNS("svg");P.setAttribute("width","1"),P.setAttribute("height","1"),styleDiv(P),this.resizerElem.appendChild(P);var D=createNS("defs");P.appendChild(D),this.data=v,this.setupGlobalData(v,P),this.globalData.defs=D,this.layers=v.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var v;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var S=this.layers?this.layers.length:0;for(v=0;v<S;v+=1)this.elements[v]&&this.elements[v].destroy&&this.elements[v].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var v,S,_,E,P=this.animationItem.wrapper.offsetWidth,D=this.animationItem.wrapper.offsetHeight,R=P/D;this.globalData.compSize.w/this.globalData.compSize.h>R?(v=P/this.globalData.compSize.w,S=P/this.globalData.compSize.w,_=0,E=(D-this.globalData.compSize.h*(P/this.globalData.compSize.w))/2):(v=D/this.globalData.compSize.h,S=D/this.globalData.compSize.h,_=(P-this.globalData.compSize.w*(D/this.globalData.compSize.h))/2,E=0);var M=this.resizerElem.style;M.webkitTransform="matrix3d("+v+",0,0,0,0,"+S+",0,0,0,0,1,0,"+_+","+E+",0,1)",M.transform=M.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var v,S=this.globalData.compSize.w,_=this.globalData.compSize.h,E=this.threeDElements.length;for(v=0;v<E;v+=1){var P=this.threeDElements[v].perspectiveElem.style;P.webkitPerspective=Math.sqrt(Math.pow(S,2)+Math.pow(_,2))+"px",P.perspective=P.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(v){var S,_=v.length,E=createTag("div");for(S=0;S<_;S+=1)if(v[S].xt){var P=this.createComp(v[S],E,this.globalData.comp,null);P.initExpressions(),this.globalData.projectInterface.registerComposition(P)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(v,S){for(var _,E=0;E<S;)this.elements[E]&&this.elements[E].getBaseElement&&(_=this.elements[E].getBaseElement()),E+=1;_?this.layerElement.insertBefore(v,_):this.layerElement.appendChild(v)},HCompElement.prototype.createComp=function(v){return this.supports3d?new HCompElement(v,this.globalData,this):new SVGCompElement(v,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(v){return this.supports3d?new HCompElement(v,this.globalData,this):new SVGCompElement(v,this.globalData,this)};var CompExpressionInterface=function(v){function _thisLayerFunction(S){for(var _=0,E=v.layers.length;_<E;){if(v.layers[_].nm===S||v.layers[_].ind===S)return v.elements[_].layerInterface;_+=1}return null}return Object.defineProperty(_thisLayerFunction,"_name",{value:v.data.nm}),_thisLayerFunction.layer=_thisLayerFunction,_thisLayerFunction.pixelAspect=1,_thisLayerFunction.height=v.data.h||v.globalData.compSize.h,_thisLayerFunction.width=v.data.w||v.globalData.compSize.w,_thisLayerFunction.pixelAspect=1,_thisLayerFunction.frameDuration=1/v.globalData.frameRate,_thisLayerFunction.displayStartTime=0,_thisLayerFunction.numLayers=v.layers.length,_thisLayerFunction};function _typeof$2(v){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(v){return typeof v}:function _typeof(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},_typeof$2(v)}function seedRandom(v,S){var _,E=this,P=256,D="random",R=S.pow(P,6),M=S.pow(2,52),O=2*M,F=P-1;function ARC4(v){var S,_=v.length,E=this,D=0,R=E.i=E.j=0,M=E.S=[];for(_||(v=[_++]);D<P;)M[D]=D++;for(D=0;D<P;D++)M[D]=M[R=F&R+v[D%_]+(S=M[D])],M[R]=S;E.g=function(v){for(var S,_=0,D=E.i,R=E.j,M=E.S;v--;)S=M[D=F&D+1],_=_*P+M[F&(M[D]=M[R=F&R+S])+(M[R]=S)];return E.i=D,E.j=R,_}}function copy(v,S){return S.i=v.i,S.j=v.j,S.S=v.S.slice(),S}function flatten(v,S){var _,E=[],P=_typeof$2(v);if(S&&"object"==P)for(_ in v)try{E.push(flatten(v[_],S-1))}catch(v){}return E.length?E:"string"==P?v:v+"\0"}function mixkey(v,S){for(var _,E=v+"",P=0;P<E.length;)S[F&P]=F&(_^=19*S[F&P])+E.charCodeAt(P++);return tostring(S)}function tostring(v){return String.fromCharCode.apply(0,v)}S["seed"+D]=function seedrandom(F,N,L){var U=[],V=mixkey(flatten((N=!0===N?{entropy:!0}:N||{}).entropy?[F,tostring(v)]:null===F?function autoseed(){try{if(_)return tostring(_.randomBytes(P));var S=new Uint8Array(P);return(E.crypto||E.msCrypto).getRandomValues(S),tostring(S)}catch(S){var D=E.navigator,R=D&&D.plugins;return[+new Date,E,R,E.screen,tostring(v)]}}():F,3),U),G=new ARC4(U),W=function prng(){for(var v=G.g(6),S=R,_=0;v<M;)v=(v+_)*P,S*=P,_=G.g(1);for(;v>=O;)v/=2,S/=2,_>>>=1;return(v+_)/S};return W.int32=function(){return 0|G.g(4)},W.quick=function(){return G.g(4)/4294967296},W.double=W,mixkey(tostring(G.S),v),(N.pass||L||function(v,_,E,P){return P&&(P.S&&copy(P,G),v.state=function(){return copy(G,{})}),E?(S[D]=v,_):v})(W,V,"global"in N?N.global:this==S,N.state)},mixkey(S.random(),v)}function initialize$2(v){seedRandom([],v)}var propTypes={SHAPE:"shape"};function _typeof$1(v){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(v){return typeof v}:function _typeof(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},_typeof$1(v)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(v){return v.constructor===Array||v.constructor===Float32Array}function isNumerable(v,S){return"number"===v||S instanceof Number||"boolean"===v||"string"===v}function $bm_neg(v){var S=_typeof$1(v);if("number"===S||v instanceof Number||"boolean"===S)return-v;if($bm_isInstanceOfArray(v)){var _,E=v.length,P=[];for(_=0;_<E;_+=1)P[_]=-v[_];return P}return v.propType?v.v:-v}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(v,S){var _=_typeof$1(v),E=_typeof$1(S);if(isNumerable(_,v)&&isNumerable(E,S)||"string"===_||"string"===E)return v+S;if($bm_isInstanceOfArray(v)&&isNumerable(E,S))return(v=v.slice(0))[0]+=S,v;if(isNumerable(_,v)&&$bm_isInstanceOfArray(S))return(S=S.slice(0))[0]=v+S[0],S;if($bm_isInstanceOfArray(v)&&$bm_isInstanceOfArray(S)){for(var P=0,D=v.length,R=S.length,M=[];P<D||P<R;)("number"==typeof v[P]||v[P]instanceof Number)&&("number"==typeof S[P]||S[P]instanceof Number)?M[P]=v[P]+S[P]:M[P]=void 0===S[P]?v[P]:v[P]||S[P],P+=1;return M}return 0}var add=sum;function sub(v,S){var _=_typeof$1(v),E=_typeof$1(S);if(isNumerable(_,v)&&isNumerable(E,S))return"string"===_&&(v=parseInt(v,10)),"string"===E&&(S=parseInt(S,10)),v-S;if($bm_isInstanceOfArray(v)&&isNumerable(E,S))return(v=v.slice(0))[0]-=S,v;if(isNumerable(_,v)&&$bm_isInstanceOfArray(S))return(S=S.slice(0))[0]=v-S[0],S;if($bm_isInstanceOfArray(v)&&$bm_isInstanceOfArray(S)){for(var P=0,D=v.length,R=S.length,M=[];P<D||P<R;)("number"==typeof v[P]||v[P]instanceof Number)&&("number"==typeof S[P]||S[P]instanceof Number)?M[P]=v[P]-S[P]:M[P]=void 0===S[P]?v[P]:v[P]||S[P],P+=1;return M}return 0}function mul(v,S){var _,E,P,D=_typeof$1(v),R=_typeof$1(S);if(isNumerable(D,v)&&isNumerable(R,S))return v*S;if($bm_isInstanceOfArray(v)&&isNumerable(R,S)){for(P=v.length,_=createTypedArray("float32",P),E=0;E<P;E+=1)_[E]=v[E]*S;return _}if(isNumerable(D,v)&&$bm_isInstanceOfArray(S)){for(P=S.length,_=createTypedArray("float32",P),E=0;E<P;E+=1)_[E]=v*S[E];return _}return 0}function div(v,S){var _,E,P,D=_typeof$1(v),R=_typeof$1(S);if(isNumerable(D,v)&&isNumerable(R,S))return v/S;if($bm_isInstanceOfArray(v)&&isNumerable(R,S)){for(P=v.length,_=createTypedArray("float32",P),E=0;E<P;E+=1)_[E]=v[E]/S;return _}if(isNumerable(D,v)&&$bm_isInstanceOfArray(S)){for(P=S.length,_=createTypedArray("float32",P),E=0;E<P;E+=1)_[E]=v/S[E];return _}return 0}function mod(v,S){return"string"==typeof v&&(v=parseInt(v,10)),"string"==typeof S&&(S=parseInt(S,10)),v%S}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(v,S,_){if(S>_){var E=_;_=S,S=E}return Math.min(Math.max(v,S),_)}function radiansToDegrees(v){return v/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(v){return v*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(v,S){if("number"==typeof v||v instanceof Number)return S=S||0,Math.abs(v-S);var _;S||(S=helperLengthArray);var E=Math.min(v.length,S.length),P=0;for(_=0;_<E;_+=1)P+=Math.pow(S[_]-v[_],2);return Math.sqrt(P)}function normalize(v){return div(v,length(v))}function rgbToHsl(v){var S,_,E=v[0],P=v[1],D=v[2],R=Math.max(E,P,D),M=Math.min(E,P,D),O=(R+M)/2;if(R===M)S=0,_=0;else{var F=R-M;switch(_=O>.5?F/(2-R-M):F/(R+M),R){case E:S=(P-D)/F+(P<D?6:0);break;case P:S=(D-E)/F+2;break;case D:S=(E-P)/F+4}S/=6}return[S,_,O,v[3]]}function hue2rgb(v,S,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?v+6*(S-v)*_:_<.5?S:_<2/3?v+(S-v)*(2/3-_)*6:v}function hslToRgb(v){var S,_,E,P=v[0],D=v[1],R=v[2];if(0===D)S=R,E=R,_=R;else{var M=R<.5?R*(1+D):R+D-R*D,O=2*R-M;S=hue2rgb(O,M,P+1/3),_=hue2rgb(O,M,P),E=hue2rgb(O,M,P-1/3)}return[S,_,E,v[3]]}function linear(v,S,_,E,P){if(void 0!==E&&void 0!==P||(E=S,P=_,S=0,_=1),_<S){var D=_;_=S,S=D}if(v<=S)return E;if(v>=_)return P;var R,M=_===S?0:(v-S)/(_-S);if(!E.length)return E+(P-E)*M;var O=E.length,F=createTypedArray("float32",O);for(R=0;R<O;R+=1)F[R]=E[R]+(P[R]-E[R])*M;return F}function random(v,S){if(void 0===S&&(void 0===v?(v=0,S=1):(S=v,v=void 0)),S.length){var _,E=S.length;v||(v=createTypedArray("float32",E));var P=createTypedArray("float32",E),D=BMMath.random();for(_=0;_<E;_+=1)P[_]=v[_]+D*(S[_]-v[_]);return P}return void 0===v&&(v=0),v+BMMath.random()*(S-v)}function createPath(v,S,_,E){var P,D=v.length,R=shapePool.newElement();R.setPathData(!!E,D);var M,O,F=[0,0];for(P=0;P<D;P+=1)M=S&&S[P]?S[P]:F,O=_&&_[P]?_[P]:F,R.setTripleAt(v[P][0],v[P][1],O[0]+v[P][0],O[1]+v[P][1],M[0]+v[P][0],M[1]+v[P][1],P,!0);return R}function initiateExpression(elem,data,property){function noOp(v){return v}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function get(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function wiggle(v,S){var _,E,P=this.pv.length?this.pv.length:1,D=createTypedArray("float32",P),R=Math.floor(5*time);for(_=0,E=0;_<R;){for(E=0;E<P;E+=1)D[E]+=-S+2*S*BMMath.random();_+=1}var M=5*time,O=M-Math.floor(M),F=createTypedArray("float32",P);if(P>1){for(E=0;E<P;E+=1)F[E]=this.pv[E]+D[E]+(-S+2*S*BMMath.random())*O;return F}return this.pv+D[0]+(-S+2*S*BMMath.random())*O}.bind(this);function loopInDuration(v,S){return loopIn(v,S,!0)}function loopOutDuration(v,S){return loopOut(v,S,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(v,S){var _=[S[0]-v[0],S[1]-v[1],S[2]-v[2]],E=Math.atan2(_[0],Math.sqrt(_[1]*_[1]+_[2]*_[2]))/degToRads;return[-Math.atan2(_[1],_[2])/degToRads,E,0]}function easeOut(v,S,_,E,P){return applyEase(easeOutBez,v,S,_,E,P)}function easeIn(v,S,_,E,P){return applyEase(easeInBez,v,S,_,E,P)}function ease(v,S,_,E,P){return applyEase(easeInOutBez,v,S,_,E,P)}function applyEase(v,S,_,E,P,D){void 0===P?(P=_,D=E):S=(S-_)/(E-_),S>1?S=1:S<0&&(S=0);var R=v(S);if($bm_isInstanceOfArray(P)){var M,O=P.length,F=createTypedArray("float32",O);for(M=0;M<O;M+=1)F[M]=(D[M]-P[M])*R+P[M];return F}return(D-P)*R+P}function nearestKey(v){var S,_,E,P=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(_=-1,(v*=elem.comp.globalData.frameRate)<data.k[0].t)_=1,E=data.k[0].t;else{for(S=0;S<P-1;S+=1){if(v===data.k[S].t){_=S+1,E=data.k[S].t;break}if(v>data.k[S].t&&v<data.k[S+1].t){v-data.k[S].t>data.k[S+1].t-v?(_=S+2,E=data.k[S+1].t):(_=S+1,E=data.k[S].t);break}}-1===_&&(_=S+1,E=data.k[S].t)}else _=0,E=0;var D={};return D.index=_,D.time=E/elem.comp.globalData.frameRate,D}function key(v){var S,_,E;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+v);v-=1,S={time:data.k[v].t/elem.comp.globalData.frameRate,value:[]};var P=Object.prototype.hasOwnProperty.call(data.k[v],"s")?data.k[v].s:data.k[v-1].e;for(E=P.length,_=0;_<E;_+=1)S[_]=P[_],S.value[_]=P[_];return S}function framesToTime(v,S){return S||(S=elem.comp.globalData.frameRate),v/S}function timeToFrames(v,S){return v||0===v||(v=time),S||(S=elem.comp.globalData.frameRate),v*S}function seedRandom(v){BMMath.seedrandom(randSeed+v)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(v,S){return"string"==typeof value?void 0===S?value.substring(v):value.substring(v,S):""}function substr(v,S){return"string"==typeof value?void 0===S?value.substr(v):value.substr(v,S):""}function posterizeTime(v){time=0===v?0:Math.floor(time*v)/v,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(v){return value=v,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var v={initExpressions:function initExpressions(v){var S=0,_=[];v.renderer.compInterface=CompExpressionInterface(v.renderer),v.renderer.globalData.projectInterface.registerComposition(v.renderer),v.renderer.globalData.pushExpression=function pushExpression(){S+=1},v.renderer.globalData.popExpression=function popExpression(){0==(S-=1)&&function releaseInstances(){var v,S=_.length;for(v=0;v<S;v+=1)_[v].release();_.length=0}()},v.renderer.globalData.registerExpressionProperty=function registerExpressionProperty(v){-1===_.indexOf(v)&&_.push(v)}}};return v.resetFrame=ExpressionManager.resetFrame,v}(),MaskManagerInterface=function(){function MaskInterface(v,S){this._mask=v,this._data=S}return Object.defineProperty(MaskInterface.prototype,"maskPath",{get:function get(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(MaskInterface.prototype,"maskOpacity",{get:function get(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function MaskManager(v){var S,_=createSizedArray(v.viewData.length),E=v.viewData.length;for(S=0;S<E;S+=1)_[S]=new MaskInterface(v.viewData[S],v.masksProperties[S]);return function maskFunction(P){for(S=0;S<E;){if(v.masksProperties[S].nm===P)return _[S];S+=1}return null}}}(),ExpressionPropertyInterface=function(){var v={pv:0,v:0,mult:1},S={pv:[0,0,0],v:[0,0,0],mult:1};function completeProperty(v,S,_){Object.defineProperty(v,"velocity",{get:function get(){return S.getVelocityAtTime(S.comp.currentFrame)}}),v.numKeys=S.keyframes?S.keyframes.length:0,v.key=function(E){if(!v.numKeys)return 0;var P="";P="s"in S.keyframes[E-1]?S.keyframes[E-1].s:"e"in S.keyframes[E-2]?S.keyframes[E-2].e:S.keyframes[E-2].s;var D="unidimensional"===_?new Number(P):Object.assign({},P);return D.time=S.keyframes[E-1].t/S.elem.comp.globalData.frameRate,D.value="unidimensional"===_?P[0]:P,D},v.valueAtTime=S.getValueAtTime,v.speedAtTime=S.getSpeedAtTime,v.velocityAtTime=S.getVelocityAtTime,v.propertyGroup=S.propertyGroup}function defaultGetter(){return v}return function(_){return _?"unidimensional"===_.propType?function UnidimensionalPropertyInterface(S){S&&"pv"in S||(S=v);var _=1/S.mult,E=S.pv*_,P=new Number(E);return P.value=E,completeProperty(P,S,"unidimensional"),function(){return S.k&&S.getValue(),E=S.v*_,P.value!==E&&((P=new Number(E)).value=E,completeProperty(P,S,"unidimensional")),P}}(_):function MultidimensionalPropertyInterface(v){v&&"pv"in v||(v=S);var _=1/v.mult,E=v.data&&v.data.l||v.pv.length,P=createTypedArray("float32",E),D=createTypedArray("float32",E);return P.value=D,completeProperty(P,v,"multidimensional"),function(){v.k&&v.getValue();for(var S=0;S<E;S+=1)D[S]=v.v[S]*_,P[S]=D[S];return P}}(_):defaultGetter}}(),TransformExpressionInterface=function(v){function _thisFunction(v){switch(v){case"scale":case"Scale":case"ADBE Scale":case 6:return _thisFunction.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return _thisFunction.rotation;case"ADBE Rotate X":return _thisFunction.xRotation;case"ADBE Rotate Y":return _thisFunction.yRotation;case"position":case"Position":case"ADBE Position":case 2:return _thisFunction.position;case"ADBE Position_0":return _thisFunction.xPosition;case"ADBE Position_1":return _thisFunction.yPosition;case"ADBE Position_2":return _thisFunction.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return _thisFunction.anchorPoint;case"opacity":case"Opacity":case 11:return _thisFunction.opacity;default:return null}}var S,_,E,P;return Object.defineProperty(_thisFunction,"rotation",{get:ExpressionPropertyInterface(v.r||v.rz)}),Object.defineProperty(_thisFunction,"zRotation",{get:ExpressionPropertyInterface(v.rz||v.r)}),Object.defineProperty(_thisFunction,"xRotation",{get:ExpressionPropertyInterface(v.rx)}),Object.defineProperty(_thisFunction,"yRotation",{get:ExpressionPropertyInterface(v.ry)}),Object.defineProperty(_thisFunction,"scale",{get:ExpressionPropertyInterface(v.s)}),v.p?P=ExpressionPropertyInterface(v.p):(S=ExpressionPropertyInterface(v.px),_=ExpressionPropertyInterface(v.py),v.pz&&(E=ExpressionPropertyInterface(v.pz))),Object.defineProperty(_thisFunction,"position",{get:function get(){return v.p?P():[S(),_(),E?E():0]}}),Object.defineProperty(_thisFunction,"xPosition",{get:ExpressionPropertyInterface(v.px)}),Object.defineProperty(_thisFunction,"yPosition",{get:ExpressionPropertyInterface(v.py)}),Object.defineProperty(_thisFunction,"zPosition",{get:ExpressionPropertyInterface(v.pz)}),Object.defineProperty(_thisFunction,"anchorPoint",{get:ExpressionPropertyInterface(v.a)}),Object.defineProperty(_thisFunction,"opacity",{get:ExpressionPropertyInterface(v.o)}),Object.defineProperty(_thisFunction,"skew",{get:ExpressionPropertyInterface(v.sk)}),Object.defineProperty(_thisFunction,"skewAxis",{get:ExpressionPropertyInterface(v.sa)}),Object.defineProperty(_thisFunction,"orientation",{get:ExpressionPropertyInterface(v.or)}),_thisFunction},LayerExpressionInterface=function(){function getMatrix(v){var S=new Matrix;return void 0!==v?this._elem.finalTransform.mProp.getValueAtTime(v).clone(S):this._elem.finalTransform.mProp.applyToMatrix(S),S}function toWorldVec(v,S){var _=this.getMatrix(S);return _.props[12]=0,_.props[13]=0,_.props[14]=0,this.applyPoint(_,v)}function toWorld(v,S){var _=this.getMatrix(S);return this.applyPoint(_,v)}function fromWorldVec(v,S){var _=this.getMatrix(S);return _.props[12]=0,_.props[13]=0,_.props[14]=0,this.invertPoint(_,v)}function fromWorld(v,S){var _=this.getMatrix(S);return this.invertPoint(_,v)}function applyPoint(v,S){if(this._elem.hierarchy&&this._elem.hierarchy.length){var _,E=this._elem.hierarchy.length;for(_=0;_<E;_+=1)this._elem.hierarchy[_].finalTransform.mProp.applyToMatrix(v)}return v.applyToPointArray(S[0],S[1],S[2]||0)}function invertPoint(v,S){if(this._elem.hierarchy&&this._elem.hierarchy.length){var _,E=this._elem.hierarchy.length;for(_=0;_<E;_+=1)this._elem.hierarchy[_].finalTransform.mProp.applyToMatrix(v)}return v.inversePoint(S)}function fromComp(v){var S=new Matrix;if(S.reset(),this._elem.finalTransform.mProp.applyToMatrix(S),this._elem.hierarchy&&this._elem.hierarchy.length){var _,E=this._elem.hierarchy.length;for(_=0;_<E;_+=1)this._elem.hierarchy[_].finalTransform.mProp.applyToMatrix(S);return S.inversePoint(v)}return S.inversePoint(v)}function sampleImage(){return[1,1,1,1]}return function(v){var S;function _thisLayerFunction(v){switch(v){case"ADBE Root Vectors Group":case"Contents":case 2:return _thisLayerFunction.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return S;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return _thisLayerFunction.effect;case"ADBE Text Properties":return _thisLayerFunction.textInterface;default:return null}}_thisLayerFunction.getMatrix=getMatrix,_thisLayerFunction.invertPoint=invertPoint,_thisLayerFunction.applyPoint=applyPoint,_thisLayerFunction.toWorld=toWorld,_thisLayerFunction.toWorldVec=toWorldVec,_thisLayerFunction.fromWorld=fromWorld,_thisLayerFunction.fromWorldVec=fromWorldVec,_thisLayerFunction.toComp=toWorld,_thisLayerFunction.fromComp=fromComp,_thisLayerFunction.sampleImage=sampleImage,_thisLayerFunction.sourceRectAtTime=v.sourceRectAtTime.bind(v),_thisLayerFunction._elem=v;var _=getDescriptor(S=TransformExpressionInterface(v.finalTransform.mProp),"anchorPoint");return Object.defineProperties(_thisLayerFunction,{hasParent:{get:function get(){return v.hierarchy.length}},parent:{get:function get(){return v.hierarchy[0].layerInterface}},rotation:getDescriptor(S,"rotation"),scale:getDescriptor(S,"scale"),position:getDescriptor(S,"position"),opacity:getDescriptor(S,"opacity"),anchorPoint:_,anchor_point:_,transform:{get:function get(){return S}},active:{get:function get(){return v.isInRange}}}),_thisLayerFunction.startTime=v.data.st,_thisLayerFunction.index=v.data.ind,_thisLayerFunction.source=v.data.refId,_thisLayerFunction.height=0===v.data.ty?v.data.h:100,_thisLayerFunction.width=0===v.data.ty?v.data.w:100,_thisLayerFunction.inPoint=v.data.ip/v.comp.globalData.frameRate,_thisLayerFunction.outPoint=v.data.op/v.comp.globalData.frameRate,_thisLayerFunction._name=v.data.nm,_thisLayerFunction.registerMaskInterface=function _registerMaskInterface(S){_thisLayerFunction.mask=new MaskManagerInterface(S,v)},_thisLayerFunction.registerEffectsInterface=function _registerEffectsInterface(v){_thisLayerFunction.effect=v},_thisLayerFunction}}(),propertyGroupFactory=function(v,S){return function(_){return(_=void 0===_?1:_)<=0?v:S(_-1)}},PropertyInterface=function(v,S){var _={_name:v};return function _propertyGroup(v){return(v=void 0===v?1:v)<=0?_:S(v-1)}},EffectsExpressionInterface=function(){function createGroupInterface(v,S,_,E){function groupInterface(S){for(var _=v.ef,E=0,P=_.length;E<P;){if(S===_[E].nm||S===_[E].mn||S===_[E].ix)return 5===_[E].ty?R[E]:R[E]();E+=1}throw new Error}var P,D=propertyGroupFactory(groupInterface,_),R=[],M=v.ef.length;for(P=0;P<M;P+=1)5===v.ef[P].ty?R.push(createGroupInterface(v.ef[P],S.effectElements[P],S.effectElements[P].propertyGroup,E)):R.push(createValueInterface(S.effectElements[P],v.ef[P].ty,E,D));return"ADBE Color Control"===v.mn&&Object.defineProperty(groupInterface,"color",{get:function get(){return R[0]()}}),Object.defineProperties(groupInterface,{numProperties:{get:function get(){return v.np}},_name:{value:v.nm},propertyGroup:{value:D}}),groupInterface.enabled=0!==v.en,groupInterface.active=groupInterface.enabled,groupInterface}function createValueInterface(v,S,_,E){var P=ExpressionPropertyInterface(v.p);return v.p.setGroupProperty&&v.p.setGroupProperty(PropertyInterface("",E)),function interfaceFunction(){return 10===S?_.comp.compInterface(v.p.v):P()}}return{createEffectsInterface:function createEffectsInterface(v,S){if(v.effectsManager){var _,E=[],P=v.data.ef,D=v.effectsManager.effectElements.length;for(_=0;_<D;_+=1)E.push(createGroupInterface(P[_],v.effectsManager.effectElements[_],S,v));var R=v.data.ef||[],M=function groupInterface(v){for(_=0,D=R.length;_<D;){if(v===R[_].nm||v===R[_].mn||v===R[_].ix)return E[_];_+=1}return null};return Object.defineProperty(M,"numProperties",{get:function get(){return R.length}}),M}return null}}}(),ShapePathInterface=function pathInterfaceFactory(v,S,_){var E=S.sh;function interfaceFunction(v){return"Shape"===v||"shape"===v||"Path"===v||"path"===v||"ADBE Vector Shape"===v||2===v?interfaceFunction.path:null}var P=propertyGroupFactory(interfaceFunction,_);return E.setGroupProperty(PropertyInterface("Path",P)),Object.defineProperties(interfaceFunction,{path:{get:function get(){return E.k&&E.getValue(),E}},shape:{get:function get(){return E.k&&E.getValue(),E}},_name:{value:v.nm},ix:{value:v.ix},propertyIndex:{value:v.ix},mn:{value:v.mn},propertyGroup:{value:_}}),interfaceFunction},ShapeExpressionInterface=function(){function iterateElements(v,S,_){var E,P=[],D=v?v.length:0;for(E=0;E<D;E+=1)"gr"===v[E].ty?P.push(groupInterfaceFactory(v[E],S[E],_)):"fl"===v[E].ty?P.push(fillInterfaceFactory(v[E],S[E],_)):"st"===v[E].ty?P.push(strokeInterfaceFactory(v[E],S[E],_)):"tm"===v[E].ty?P.push(trimInterfaceFactory(v[E],S[E],_)):"tr"===v[E].ty||("el"===v[E].ty?P.push(ellipseInterfaceFactory(v[E],S[E],_)):"sr"===v[E].ty?P.push(starInterfaceFactory(v[E],S[E],_)):"sh"===v[E].ty?P.push(ShapePathInterface(v[E],S[E],_)):"rc"===v[E].ty?P.push(rectInterfaceFactory(v[E],S[E],_)):"rd"===v[E].ty?P.push(roundedInterfaceFactory(v[E],S[E],_)):"rp"===v[E].ty?P.push(repeaterInterfaceFactory(v[E],S[E],_)):"gf"===v[E].ty?P.push(gradientFillInterfaceFactory(v[E],S[E],_)):P.push((v[E],S[E],function interfaceFunction(){return null})));return P}function groupInterfaceFactory(v,S,_){var E=function _interfaceFunction(v){switch(v){case"ADBE Vectors Group":case"Contents":case 2:return E.content;default:return E.transform}};E.propertyGroup=propertyGroupFactory(E,_);var P=function contentsInterfaceFactory(v,S,_){var E,P=function _interfaceFunction(v){for(var S=0,_=E.length;S<_;){if(E[S]._name===v||E[S].mn===v||E[S].propertyIndex===v||E[S].ix===v||E[S].ind===v)return E[S];S+=1}return"number"==typeof v?E[v-1]:null};P.propertyGroup=propertyGroupFactory(P,_),E=iterateElements(v.it,S.it,P.propertyGroup),P.numProperties=E.length;var D=transformInterfaceFactory(v.it[v.it.length-1],S.it[S.it.length-1],P.propertyGroup);return P.transform=D,P.propertyIndex=v.cix,P._name=v.nm,P}(v,S,E.propertyGroup),D=transformInterfaceFactory(v.it[v.it.length-1],S.it[S.it.length-1],E.propertyGroup);return E.content=P,E.transform=D,Object.defineProperty(E,"_name",{get:function get(){return v.nm}}),E.numProperties=v.np,E.propertyIndex=v.ix,E.nm=v.nm,E.mn=v.mn,E}function fillInterfaceFactory(v,S,_){function interfaceFunction(v){return"Color"===v||"color"===v?interfaceFunction.color:"Opacity"===v||"opacity"===v?interfaceFunction.opacity:null}return Object.defineProperties(interfaceFunction,{color:{get:ExpressionPropertyInterface(S.c)},opacity:{get:ExpressionPropertyInterface(S.o)},_name:{value:v.nm},mn:{value:v.mn}}),S.c.setGroupProperty(PropertyInterface("Color",_)),S.o.setGroupProperty(PropertyInterface("Opacity",_)),interfaceFunction}function gradientFillInterfaceFactory(v,S,_){function interfaceFunction(v){return"Start Point"===v||"start point"===v?interfaceFunction.startPoint:"End Point"===v||"end point"===v?interfaceFunction.endPoint:"Opacity"===v||"opacity"===v?interfaceFunction.opacity:null}return Object.defineProperties(interfaceFunction,{startPoint:{get:ExpressionPropertyInterface(S.s)},endPoint:{get:ExpressionPropertyInterface(S.e)},opacity:{get:ExpressionPropertyInterface(S.o)},type:{get:function get(){return"a"}},_name:{value:v.nm},mn:{value:v.mn}}),S.s.setGroupProperty(PropertyInterface("Start Point",_)),S.e.setGroupProperty(PropertyInterface("End Point",_)),S.o.setGroupProperty(PropertyInterface("Opacity",_)),interfaceFunction}function strokeInterfaceFactory(v,S,_){var E,P=propertyGroupFactory(interfaceFunction,_),D=propertyGroupFactory(M,P);function addPropertyToDashOb(_){Object.defineProperty(M,v.d[_].nm,{get:ExpressionPropertyInterface(S.d.dataProps[_].p)})}var R=v.d?v.d.length:0,M={};for(E=0;E<R;E+=1)addPropertyToDashOb(E),S.d.dataProps[E].p.setGroupProperty(D);function interfaceFunction(v){return"Color"===v||"color"===v?interfaceFunction.color:"Opacity"===v||"opacity"===v?interfaceFunction.opacity:"Stroke Width"===v||"stroke width"===v?interfaceFunction.strokeWidth:null}return Object.defineProperties(interfaceFunction,{color:{get:ExpressionPropertyInterface(S.c)},opacity:{get:ExpressionPropertyInterface(S.o)},strokeWidth:{get:ExpressionPropertyInterface(S.w)},dash:{get:function get(){return M}},_name:{value:v.nm},mn:{value:v.mn}}),S.c.setGroupProperty(PropertyInterface("Color",P)),S.o.setGroupProperty(PropertyInterface("Opacity",P)),S.w.setGroupProperty(PropertyInterface("Stroke Width",P)),interfaceFunction}function trimInterfaceFactory(v,S,_){function interfaceFunction(S){return S===v.e.ix||"End"===S||"end"===S?interfaceFunction.end:S===v.s.ix?interfaceFunction.start:S===v.o.ix?interfaceFunction.offset:null}var E=propertyGroupFactory(interfaceFunction,_);return interfaceFunction.propertyIndex=v.ix,S.s.setGroupProperty(PropertyInterface("Start",E)),S.e.setGroupProperty(PropertyInterface("End",E)),S.o.setGroupProperty(PropertyInterface("Offset",E)),interfaceFunction.propertyIndex=v.ix,interfaceFunction.propertyGroup=_,Object.defineProperties(interfaceFunction,{start:{get:ExpressionPropertyInterface(S.s)},end:{get:ExpressionPropertyInterface(S.e)},offset:{get:ExpressionPropertyInterface(S.o)},_name:{value:v.nm}}),interfaceFunction.mn=v.mn,interfaceFunction}function transformInterfaceFactory(v,S,_){function interfaceFunction(S){return v.a.ix===S||"Anchor Point"===S?interfaceFunction.anchorPoint:v.o.ix===S||"Opacity"===S?interfaceFunction.opacity:v.p.ix===S||"Position"===S?interfaceFunction.position:v.r.ix===S||"Rotation"===S||"ADBE Vector Rotation"===S?interfaceFunction.rotation:v.s.ix===S||"Scale"===S?interfaceFunction.scale:v.sk&&v.sk.ix===S||"Skew"===S?interfaceFunction.skew:v.sa&&v.sa.ix===S||"Skew Axis"===S?interfaceFunction.skewAxis:null}var E=propertyGroupFactory(interfaceFunction,_);return S.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",E)),S.transform.mProps.p.setGroupProperty(PropertyInterface("Position",E)),S.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",E)),S.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",E)),S.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",E)),S.transform.mProps.sk&&(S.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",E)),S.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",E))),S.transform.op.setGroupProperty(PropertyInterface("Opacity",E)),Object.defineProperties(interfaceFunction,{opacity:{get:ExpressionPropertyInterface(S.transform.mProps.o)},position:{get:ExpressionPropertyInterface(S.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(S.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(S.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(S.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(S.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(S.transform.mProps.sa)},_name:{value:v.nm}}),interfaceFunction.ty="tr",interfaceFunction.mn=v.mn,interfaceFunction.propertyGroup=_,interfaceFunction}function ellipseInterfaceFactory(v,S,_){function interfaceFunction(S){return v.p.ix===S?interfaceFunction.position:v.s.ix===S?interfaceFunction.size:null}var E=propertyGroupFactory(interfaceFunction,_);interfaceFunction.propertyIndex=v.ix;var P="tm"===S.sh.ty?S.sh.prop:S.sh;return P.s.setGroupProperty(PropertyInterface("Size",E)),P.p.setGroupProperty(PropertyInterface("Position",E)),Object.defineProperties(interfaceFunction,{size:{get:ExpressionPropertyInterface(P.s)},position:{get:ExpressionPropertyInterface(P.p)},_name:{value:v.nm}}),interfaceFunction.mn=v.mn,interfaceFunction}function starInterfaceFactory(v,S,_){function interfaceFunction(S){return v.p.ix===S?interfaceFunction.position:v.r.ix===S?interfaceFunction.rotation:v.pt.ix===S?interfaceFunction.points:v.or.ix===S||"ADBE Vector Star Outer Radius"===S?interfaceFunction.outerRadius:v.os.ix===S?interfaceFunction.outerRoundness:!v.ir||v.ir.ix!==S&&"ADBE Vector Star Inner Radius"!==S?v.is&&v.is.ix===S?interfaceFunction.innerRoundness:null:interfaceFunction.innerRadius}var E=propertyGroupFactory(interfaceFunction,_),P="tm"===S.sh.ty?S.sh.prop:S.sh;return interfaceFunction.propertyIndex=v.ix,P.or.setGroupProperty(PropertyInterface("Outer Radius",E)),P.os.setGroupProperty(PropertyInterface("Outer Roundness",E)),P.pt.setGroupProperty(PropertyInterface("Points",E)),P.p.setGroupProperty(PropertyInterface("Position",E)),P.r.setGroupProperty(PropertyInterface("Rotation",E)),v.ir&&(P.ir.setGroupProperty(PropertyInterface("Inner Radius",E)),P.is.setGroupProperty(PropertyInterface("Inner Roundness",E))),Object.defineProperties(interfaceFunction,{position:{get:ExpressionPropertyInterface(P.p)},rotation:{get:ExpressionPropertyInterface(P.r)},points:{get:ExpressionPropertyInterface(P.pt)},outerRadius:{get:ExpressionPropertyInterface(P.or)},outerRoundness:{get:ExpressionPropertyInterface(P.os)},innerRadius:{get:ExpressionPropertyInterface(P.ir)},innerRoundness:{get:ExpressionPropertyInterface(P.is)},_name:{value:v.nm}}),interfaceFunction.mn=v.mn,interfaceFunction}function rectInterfaceFactory(v,S,_){function interfaceFunction(S){return v.p.ix===S?interfaceFunction.position:v.r.ix===S?interfaceFunction.roundness:v.s.ix===S||"Size"===S||"ADBE Vector Rect Size"===S?interfaceFunction.size:null}var E=propertyGroupFactory(interfaceFunction,_),P="tm"===S.sh.ty?S.sh.prop:S.sh;return interfaceFunction.propertyIndex=v.ix,P.p.setGroupProperty(PropertyInterface("Position",E)),P.s.setGroupProperty(PropertyInterface("Size",E)),P.r.setGroupProperty(PropertyInterface("Rotation",E)),Object.defineProperties(interfaceFunction,{position:{get:ExpressionPropertyInterface(P.p)},roundness:{get:ExpressionPropertyInterface(P.r)},size:{get:ExpressionPropertyInterface(P.s)},_name:{value:v.nm}}),interfaceFunction.mn=v.mn,interfaceFunction}function roundedInterfaceFactory(v,S,_){function interfaceFunction(S){return v.r.ix===S||"Round Corners 1"===S?interfaceFunction.radius:null}var E=propertyGroupFactory(interfaceFunction,_),P=S;return interfaceFunction.propertyIndex=v.ix,P.rd.setGroupProperty(PropertyInterface("Radius",E)),Object.defineProperties(interfaceFunction,{radius:{get:ExpressionPropertyInterface(P.rd)},_name:{value:v.nm}}),interfaceFunction.mn=v.mn,interfaceFunction}function repeaterInterfaceFactory(v,S,_){function interfaceFunction(S){return v.c.ix===S||"Copies"===S?interfaceFunction.copies:v.o.ix===S||"Offset"===S?interfaceFunction.offset:null}var E=propertyGroupFactory(interfaceFunction,_),P=S;return interfaceFunction.propertyIndex=v.ix,P.c.setGroupProperty(PropertyInterface("Copies",E)),P.o.setGroupProperty(PropertyInterface("Offset",E)),Object.defineProperties(interfaceFunction,{copies:{get:ExpressionPropertyInterface(P.c)},offset:{get:ExpressionPropertyInterface(P.o)},_name:{value:v.nm}}),interfaceFunction.mn=v.mn,interfaceFunction}return function(v,S,_){var E;function _interfaceFunction(v){if("number"==typeof v)return 0===(v=void 0===v?1:v)?_:E[v-1];for(var S=0,P=E.length;S<P;){if(E[S]._name===v)return E[S];S+=1}return null}return _interfaceFunction.propertyGroup=propertyGroupFactory(_interfaceFunction,(function parentGroupWrapper(){return _})),E=iterateElements(v,S,_interfaceFunction.propertyGroup),_interfaceFunction.numProperties=E.length,_interfaceFunction._name="Contents",_interfaceFunction}}(),TextExpressionInterface=function(v){var S;function _thisLayerFunction(v){return"ADBE Text Document"===v?_thisLayerFunction.sourceText:null}return Object.defineProperty(_thisLayerFunction,"sourceText",{get:function get(){v.textProperty.getValue();var _=v.textProperty.currentData.t;return S&&_===S.value||((S=new String(_)).value=_||new String(_),Object.defineProperty(S,"style",{get:function get(){return{fillColor:v.textProperty.currentData.fc}}})),S}}),_thisLayerFunction};function _typeof(v){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(v){return typeof v}:function _typeof(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},_typeof(v)}var FootageInterface=(dataInterfaceFactory=function dataInterfaceFactory(v){function interfaceFunction(v){return"Outline"===v?interfaceFunction.outlineInterface():null}return interfaceFunction._name="Outline",interfaceFunction.outlineInterface=function outlineInterfaceFactory(v){var S="",_=v.getFootageData();function searchProperty(v){if(_[v])return S=v,"object"===_typeof(_=_[v])?searchProperty:_;var E=v.indexOf(S);if(-1!==E){var P=parseInt(v.substr(E+S.length),10);return"object"===_typeof(_=_[P])?searchProperty:_}return""}return function init(){return S="",_=v.getFootageData(),searchProperty}}(v),interfaceFunction},function(v){function _interfaceFunction(v){return"Data"===v?_interfaceFunction.dataInterface:null}return _interfaceFunction._name="Data",_interfaceFunction.dataInterface=dataInterfaceFactory(v),_interfaceFunction}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(v){return interfaces[v]||null}var expressionHelpers={searchExpressions:function searchExpressions(v,S,_){S.x&&(_.k=!0,_.x=!0,_.initiateExpression=ExpressionManager.initiateExpression,_.effectsSequence.push(_.initiateExpression(v,S,_).bind(_)))},getSpeedAtTime:function getSpeedAtTime(v){var S=this.getValueAtTime(v),_=this.getValueAtTime(v+-.01),E=0;if(S.length){var P;for(P=0;P<S.length;P+=1)E+=Math.pow(_[P]-S[P],2);E=100*Math.sqrt(E)}else E=0;return E},getVelocityAtTime:function getVelocityAtTime(v){if(void 0!==this.vel)return this.vel;var S,_,E=-.001,P=this.getValueAtTime(v),D=this.getValueAtTime(v+E);if(P.length)for(S=createTypedArray("float32",P.length),_=0;_<P.length;_+=1)S[_]=(D[_]-P[_])/E;else S=(D-P)/E;return S},getValueAtTime:function getValueAtTime(v){return v*=this.elem.globalData.frameRate,(v-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<v?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(v,this._cachingAtTime),this._cachingAtTime.lastFrame=v),this._cachingAtTime.value},getStaticValueAtTime:function getStaticValueAtTime(){return this.pv},setGroupProperty:function setGroupProperty(v){this.propertyGroup=v}};function addPropertyDecorator(){function loopOut(v,S,_){if(!this.k||!this.keyframes)return this.pv;v=v?v.toLowerCase():"";var E,P,D,R,M,O=this.comp.renderedFrame,F=this.keyframes,N=F[F.length-1].t;if(O<=N)return this.pv;if(_?P=N-(E=S?Math.abs(N-this.elem.comp.globalData.frameRate*S):Math.max(0,N-this.elem.data.ip)):((!S||S>F.length-1)&&(S=F.length-1),E=N-(P=F[F.length-1-S].t)),"pingpong"===v){if(Math.floor((O-P)/E)%2!=0)return this.getValueAtTime((E-(O-P)%E+P)/this.comp.globalData.frameRate,0)}else{if("offset"===v){var L=this.getValueAtTime(P/this.comp.globalData.frameRate,0),U=this.getValueAtTime(N/this.comp.globalData.frameRate,0),V=this.getValueAtTime(((O-P)%E+P)/this.comp.globalData.frameRate,0),G=Math.floor((O-P)/E);if(this.pv.length){for(R=(M=new Array(L.length)).length,D=0;D<R;D+=1)M[D]=(U[D]-L[D])*G+V[D];return M}return(U-L)*G+V}if("continue"===v){var W=this.getValueAtTime(N/this.comp.globalData.frameRate,0),$=this.getValueAtTime((N-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(R=(M=new Array(W.length)).length,D=0;D<R;D+=1)M[D]=W[D]+(W[D]-$[D])*((O-N)/this.comp.globalData.frameRate)/5e-4;return M}return W+(O-N)/.001*(W-$)}}return this.getValueAtTime(((O-P)%E+P)/this.comp.globalData.frameRate,0)}function loopIn(v,S,_){if(!this.k)return this.pv;v=v?v.toLowerCase():"";var E,P,D,R,M,O=this.comp.renderedFrame,F=this.keyframes,N=F[0].t;if(O>=N)return this.pv;if(_?P=N+(E=S?Math.abs(this.elem.comp.globalData.frameRate*S):Math.max(0,this.elem.data.op-N)):((!S||S>F.length-1)&&(S=F.length-1),E=(P=F[S].t)-N),"pingpong"===v){if(Math.floor((N-O)/E)%2==0)return this.getValueAtTime(((N-O)%E+N)/this.comp.globalData.frameRate,0)}else{if("offset"===v){var L=this.getValueAtTime(N/this.comp.globalData.frameRate,0),U=this.getValueAtTime(P/this.comp.globalData.frameRate,0),V=this.getValueAtTime((E-(N-O)%E+N)/this.comp.globalData.frameRate,0),G=Math.floor((N-O)/E)+1;if(this.pv.length){for(R=(M=new Array(L.length)).length,D=0;D<R;D+=1)M[D]=V[D]-(U[D]-L[D])*G;return M}return V-(U-L)*G}if("continue"===v){var W=this.getValueAtTime(N/this.comp.globalData.frameRate,0),$=this.getValueAtTime((N+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(R=(M=new Array(W.length)).length,D=0;D<R;D+=1)M[D]=W[D]+(W[D]-$[D])*(N-O)/.001;return M}return W+(W-$)*(N-O)/.001}}return this.getValueAtTime((E-((N-O)%E+N))/this.comp.globalData.frameRate,0)}function smooth(v,S){if(!this.k)return this.pv;if(v=.5*(v||.4),(S=Math.floor(S||5))<=1)return this.pv;var _,E,P=this.comp.renderedFrame/this.comp.globalData.frameRate,D=P-v,R=S>1?(P+v-D)/(S-1):1,M=0,O=0;for(_=this.pv.length?createTypedArray("float32",this.pv.length):0;M<S;){if(E=this.getValueAtTime(D+M*R),this.pv.length)for(O=0;O<this.pv.length;O+=1)_[O]+=E[O];else _+=E;M+=1}if(this.pv.length)for(O=0;O<this.pv.length;O+=1)_[O]/=S;else _/=S;return _}function getTransformValueAtTime(v){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var S=this._transformCachingAtTime.v;if(S.cloneFromProps(this.pre.props),this.appliedTransformations<1){var _=this.a.getValueAtTime(v);S.translate(-_[0]*this.a.mult,-_[1]*this.a.mult,_[2]*this.a.mult)}if(this.appliedTransformations<2){var E=this.s.getValueAtTime(v);S.scale(E[0]*this.s.mult,E[1]*this.s.mult,E[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var P=this.sk.getValueAtTime(v),D=this.sa.getValueAtTime(v);S.skewFromAxis(-P*this.sk.mult,D*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var R=this.r.getValueAtTime(v);S.rotate(-R*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var M=this.rz.getValueAtTime(v),O=this.ry.getValueAtTime(v),F=this.rx.getValueAtTime(v),N=this.or.getValueAtTime(v);S.rotateZ(-M*this.rz.mult).rotateY(O*this.ry.mult).rotateX(F*this.rx.mult).rotateZ(-N[2]*this.or.mult).rotateY(N[1]*this.or.mult).rotateX(N[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var L=this.px.getValueAtTime(v),U=this.py.getValueAtTime(v);if(this.data.p.z){var V=this.pz.getValueAtTime(v);S.translate(L*this.px.mult,U*this.py.mult,-V*this.pz.mult)}else S.translate(L*this.px.mult,U*this.py.mult,0)}else{var G=this.p.getValueAtTime(v);S.translate(G[0]*this.p.mult,G[1]*this.p.mult,-G[2]*this.p.mult)}return S}function getTransformStaticValueAtTime(){return this.v.clone(new Matrix)}var v=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(S,_,E){var P=v(S,_,E);return P.dynamicProperties.length?P.getValueAtTime=getTransformValueAtTime.bind(P):P.getValueAtTime=getTransformStaticValueAtTime.bind(P),P.setGroupProperty=expressionHelpers.setGroupProperty,P};var S=PropertyFactory.getProp;PropertyFactory.getProp=function(v,_,E,P,D){var R=S(v,_,E,P,D);R.kf?R.getValueAtTime=expressionHelpers.getValueAtTime.bind(R):R.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(R),R.setGroupProperty=expressionHelpers.setGroupProperty,R.loopOut=loopOut,R.loopIn=loopIn,R.smooth=smooth,R.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(R),R.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(R),R.numKeys=1===_.a?_.k.length:0,R.propertyIndex=_.ix;var M=0;return 0!==E&&(M=createTypedArray("float32",1===_.a?_.k[0].s.length:_.k.length)),R._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:M},expressionHelpers.searchExpressions(v,_,R),R.k&&D.addDynamicProperty(R),R};var _=ShapePropertyFactory.getConstructorFunction(),E=ShapePropertyFactory.getKeyframedConstructorFunction();function ShapeExpressions(){}ShapeExpressions.prototype={vertices:function vertices(v,S){this.k&&this.getValue();var _,E=this.v;void 0!==S&&(E=this.getValueAtTime(S,0));var P=E._length,vertices=E[v],D=E.v,R=createSizedArray(P);for(_=0;_<P;_+=1)R[_]="i"===v||"o"===v?[vertices[_][0]-D[_][0],vertices[_][1]-D[_][1]]:[vertices[_][0],vertices[_][1]];return R},points:function points(v){return this.vertices("v",v)},inTangents:function inTangents(v){return this.vertices("i",v)},outTangents:function outTangents(v){return this.vertices("o",v)},isClosed:function isClosed(){return this.v.c},pointOnPath:function pointOnPath(v,S){var _=this.v;void 0!==S&&(_=this.getValueAtTime(S,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(_));for(var E,P=this._segmentsLength,D=P.lengths,R=P.totalLength*v,M=0,O=D.length,F=0;M<O;){if(F+D[M].addedLength>R){var N=M,L=_.c&&M===O-1?0:M+1,U=(R-F)/D[M].addedLength;E=bez.getPointInSegment(_.v[N],_.v[L],_.o[N],_.i[L],U,D[M]);break}F+=D[M].addedLength,M+=1}return E||(E=_.c?[_.v[0][0],_.v[0][1]]:[_.v[_._length-1][0],_.v[_._length-1][1]]),E},vectorOnPath:function vectorOnPath(v,S,_){1==v?v=this.v.c:0==v&&(v=.999);var E=this.pointOnPath(v,S),P=this.pointOnPath(v+.001,S),D=P[0]-E[0],R=P[1]-E[1],M=Math.sqrt(Math.pow(D,2)+Math.pow(R,2));return 0===M?[0,0]:"tangent"===_?[D/M,R/M]:[-R/M,D/M]},tangentOnPath:function tangentOnPath(v,S){return this.vectorOnPath(v,S,"tangent")},normalOnPath:function normalOnPath(v,S){return this.vectorOnPath(v,S,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ShapeExpressions],_),extendPrototype([ShapeExpressions],E),E.prototype.getValueAtTime=function getShapeValueAtTime(v){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),v*=this.elem.globalData.frameRate,(v-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<v?this._caching.lastIndex:0,this._cachingAtTime.lastTime=v,this.interpolateShape(v,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},E.prototype.initiateExpression=ExpressionManager.initiateExpression;var P=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(v,S,_,E,D){var R=P(v,S,_,E,D);return R.propertyIndex=S.ix,R.lock=!1,3===_?expressionHelpers.searchExpressions(v,S.pt,R):4===_&&expressionHelpers.searchExpressions(v,S.ks,R),R.k&&v.addDynamicProperty(R),R}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(v,S){var _=this.calculateExpression(S);if(v.t!==_){var E={};return this.copyData(E,v),E.t=_.toString(),E.__complete=!1,E}return v},TextProperty.prototype.searchProperty=function(){var v=this.searchKeyframes(),S=this.searchExpressions();return this.kf=v||S,this.kf},TextProperty.prototype.searchExpressions=function searchExpressions(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function createMergeNode(v,S){var _,E,P=createNS("feMerge");for(P.setAttribute("result",v),E=0;E<S.length;E+=1)(_=createNS("feMergeNode")).setAttribute("in",S[E]),P.appendChild(_),P.appendChild(_);return P}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(v,S,_,E,P){this.filterManager=S;var D=createNS("feColorMatrix");D.setAttribute("type","matrix"),D.setAttribute("color-interpolation-filters","linearRGB"),D.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=D,D.setAttribute("result",E+"_tint_1"),v.appendChild(D),(D=createNS("feColorMatrix")).setAttribute("type","matrix"),D.setAttribute("color-interpolation-filters","sRGB"),D.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),D.setAttribute("result",E+"_tint_2"),v.appendChild(D),this.matrixFilter=D;var R=this.createMergeNode(E,[P,E+"_tint_1",E+"_tint_2"]);v.appendChild(R)}function SVGFillFilter(v,S,_,E){this.filterManager=S;var P=createNS("feColorMatrix");P.setAttribute("type","matrix"),P.setAttribute("color-interpolation-filters","sRGB"),P.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),P.setAttribute("result",E),v.appendChild(P),this.matrixFilter=P}function SVGStrokeEffect(v,S,_){this.initialized=!1,this.filterManager=S,this.elem=_,this.paths=[]}function SVGTritoneFilter(v,S,_,E){this.filterManager=S;var P=createNS("feColorMatrix");P.setAttribute("type","matrix"),P.setAttribute("color-interpolation-filters","linearRGB"),P.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),v.appendChild(P);var D=createNS("feComponentTransfer");D.setAttribute("color-interpolation-filters","sRGB"),D.setAttribute("result",E),this.matrixFilter=D;var R=createNS("feFuncR");R.setAttribute("type","table"),D.appendChild(R),this.feFuncR=R;var M=createNS("feFuncG");M.setAttribute("type","table"),D.appendChild(M),this.feFuncG=M;var O=createNS("feFuncB");O.setAttribute("type","table"),D.appendChild(O),this.feFuncB=O,v.appendChild(D)}function SVGProLevelsFilter(v,S,_,E){this.filterManager=S;var P=this.filterManager.effectElements,D=createNS("feComponentTransfer");(P[10].p.k||0!==P[10].p.v||P[11].p.k||1!==P[11].p.v||P[12].p.k||1!==P[12].p.v||P[13].p.k||0!==P[13].p.v||P[14].p.k||1!==P[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",D)),(P[17].p.k||0!==P[17].p.v||P[18].p.k||1!==P[18].p.v||P[19].p.k||1!==P[19].p.v||P[20].p.k||0!==P[20].p.v||P[21].p.k||1!==P[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",D)),(P[24].p.k||0!==P[24].p.v||P[25].p.k||1!==P[25].p.v||P[26].p.k||1!==P[26].p.v||P[27].p.k||0!==P[27].p.v||P[28].p.k||1!==P[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",D)),(P[31].p.k||0!==P[31].p.v||P[32].p.k||1!==P[32].p.v||P[33].p.k||1!==P[33].p.v||P[34].p.k||0!==P[34].p.v||P[35].p.k||1!==P[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",D)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(D.setAttribute("color-interpolation-filters","sRGB"),v.appendChild(D)),(P[3].p.k||0!==P[3].p.v||P[4].p.k||1!==P[4].p.v||P[5].p.k||1!==P[5].p.v||P[6].p.k||0!==P[6].p.v||P[7].p.k||1!==P[7].p.v)&&((D=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),D.setAttribute("result",E),v.appendChild(D),this.feFuncRComposed=this.createFeFunc("feFuncR",D),this.feFuncGComposed=this.createFeFunc("feFuncG",D),this.feFuncBComposed=this.createFeFunc("feFuncB",D))}function SVGDropShadowEffect(v,S,_,E,P){var D=S.container.globalData.renderConfig.filterSize,R=S.data.fs||D;v.setAttribute("x",R.x||D.x),v.setAttribute("y",R.y||D.y),v.setAttribute("width",R.width||D.width),v.setAttribute("height",R.height||D.height),this.filterManager=S;var M=createNS("feGaussianBlur");M.setAttribute("in","SourceAlpha"),M.setAttribute("result",E+"_drop_shadow_1"),M.setAttribute("stdDeviation","0"),this.feGaussianBlur=M,v.appendChild(M);var O=createNS("feOffset");O.setAttribute("dx","25"),O.setAttribute("dy","0"),O.setAttribute("in",E+"_drop_shadow_1"),O.setAttribute("result",E+"_drop_shadow_2"),this.feOffset=O,v.appendChild(O);var F=createNS("feFlood");F.setAttribute("flood-color","#00ff00"),F.setAttribute("flood-opacity","1"),F.setAttribute("result",E+"_drop_shadow_3"),this.feFlood=F,v.appendChild(F);var N=createNS("feComposite");N.setAttribute("in",E+"_drop_shadow_3"),N.setAttribute("in2",E+"_drop_shadow_2"),N.setAttribute("operator","in"),N.setAttribute("result",E+"_drop_shadow_4"),v.appendChild(N);var L=this.createMergeNode(E,[E+"_drop_shadow_4",P]);v.appendChild(L)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(v){if(v||this.filterManager._mdf){var S=this.filterManager.effectElements[0].p.v,_=this.filterManager.effectElements[1].p.v,E=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+E+" 0"),this.matrixFilter.setAttribute("values",_[0]-S[0]+" 0 0 0 "+S[0]+" "+(_[1]-S[1])+" 0 0 0 "+S[1]+" "+(_[2]-S[2])+" 0 0 0 "+S[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(v){if(v||this.filterManager._mdf){var S=this.filterManager.effectElements[2].p.v,_=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+S[0]+" 0 0 0 0 "+S[1]+" 0 0 0 0 "+S[2]+" 0 0 0 "+_+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var v,S,_,E,P=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(E=this.elem.maskManager.masksProperties.length,_=0):E=1+(_=this.filterManager.effectElements[0].p.v-1),(S=createNS("g")).setAttribute("fill","none"),S.setAttribute("stroke-linecap","round"),S.setAttribute("stroke-dashoffset",1);_<E;_+=1)v=createNS("path"),S.appendChild(v),this.paths.push({p:v,m:_});if(3===this.filterManager.effectElements[10].p.v){var D=createNS("mask"),R=createElementID();D.setAttribute("id",R),D.setAttribute("mask-type","alpha"),D.appendChild(S),this.elem.globalData.defs.appendChild(D);var M=createNS("g");for(M.setAttribute("mask","url("+getLocationHref()+"#"+R+")");P[0];)M.appendChild(P[0]);this.elem.layerElement.appendChild(M),this.masker=D,S.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(P=this.elem.layerElement.children||this.elem.layerElement.childNodes;P.length;)this.elem.layerElement.removeChild(P[0]);this.elem.layerElement.appendChild(S),this.elem.layerElement.removeAttribute("mask"),S.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=S},SVGStrokeEffect.prototype.renderFrame=function(v){var S;this.initialized||this.initialize();var _,E,P=this.paths.length;for(S=0;S<P;S+=1)if(-1!==this.paths[S].m&&(_=this.elem.maskManager.viewData[this.paths[S].m],E=this.paths[S].p,(v||this.filterManager._mdf||_.prop._mdf)&&E.setAttribute("d",_.lastPath),v||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||_.prop._mdf)){var D;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var R=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),M=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),O=E.getTotalLength();D="0 0 0 "+O*R+" ";var F,N=O*(M-R),L=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,U=Math.floor(N/L);for(F=0;F<U;F+=1)D+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";D+="0 "+10*O+" 0 0"}else D="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;E.setAttribute("stroke-dasharray",D)}if((v||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(v||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(v||this.filterManager.effectElements[3].p._mdf)){var V=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*V[0])+","+bmFloor(255*V[1])+","+bmFloor(255*V[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(v){if(v||this.filterManager._mdf){var S=this.filterManager.effectElements[0].p.v,_=this.filterManager.effectElements[1].p.v,E=this.filterManager.effectElements[2].p.v,P=E[0]+" "+_[0]+" "+S[0],D=E[1]+" "+_[1]+" "+S[1],R=E[2]+" "+_[2]+" "+S[2];this.feFuncR.setAttribute("tableValues",P),this.feFuncG.setAttribute("tableValues",D),this.feFuncB.setAttribute("tableValues",R)}},SVGProLevelsFilter.prototype.createFeFunc=function(v,S){var _=createNS(v);return _.setAttribute("type","table"),S.appendChild(_),_},SVGProLevelsFilter.prototype.getTableValue=function(v,S,_,E,P){for(var D,R,M=0,O=Math.min(v,S),F=Math.max(v,S),N=Array.call(null,{length:256}),L=0,U=P-E,V=S-v;M<=256;)R=(D=M/256)<=O?V<0?P:E:D>=F?V<0?E:P:E+U*Math.pow((D-v)/V,1/_),N[L]=R,L+=1,M+=256/255;return N.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(v){if(v||this.filterManager._mdf){var S,_=this.filterManager.effectElements;this.feFuncRComposed&&(v||_[3].p._mdf||_[4].p._mdf||_[5].p._mdf||_[6].p._mdf||_[7].p._mdf)&&(S=this.getTableValue(_[3].p.v,_[4].p.v,_[5].p.v,_[6].p.v,_[7].p.v),this.feFuncRComposed.setAttribute("tableValues",S),this.feFuncGComposed.setAttribute("tableValues",S),this.feFuncBComposed.setAttribute("tableValues",S)),this.feFuncR&&(v||_[10].p._mdf||_[11].p._mdf||_[12].p._mdf||_[13].p._mdf||_[14].p._mdf)&&(S=this.getTableValue(_[10].p.v,_[11].p.v,_[12].p.v,_[13].p.v,_[14].p.v),this.feFuncR.setAttribute("tableValues",S)),this.feFuncG&&(v||_[17].p._mdf||_[18].p._mdf||_[19].p._mdf||_[20].p._mdf||_[21].p._mdf)&&(S=this.getTableValue(_[17].p.v,_[18].p.v,_[19].p.v,_[20].p.v,_[21].p.v),this.feFuncG.setAttribute("tableValues",S)),this.feFuncB&&(v||_[24].p._mdf||_[25].p._mdf||_[26].p._mdf||_[27].p._mdf||_[28].p._mdf)&&(S=this.getTableValue(_[24].p.v,_[25].p.v,_[26].p.v,_[27].p.v,_[28].p.v),this.feFuncB.setAttribute("tableValues",S)),this.feFuncA&&(v||_[31].p._mdf||_[32].p._mdf||_[33].p._mdf||_[34].p._mdf||_[35].p._mdf)&&(S=this.getTableValue(_[31].p.v,_[32].p.v,_[33].p.v,_[34].p.v,_[35].p.v),this.feFuncA.setAttribute("tableValues",S))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(v){if(v||this.filterManager._mdf){if((v||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),v||this.filterManager.effectElements[0].p._mdf){var S=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*S[0]),Math.round(255*S[1]),Math.round(255*S[2])))}if((v||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),v||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var _=this.filterManager.effectElements[3].p.v,E=(this.filterManager.effectElements[2].p.v-90)*degToRads,P=_*Math.cos(E),D=_*Math.sin(E);this.feOffset.setAttribute("dx",P),this.feOffset.setAttribute("dy",D)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(v,S,_){this.initialized=!1,this.filterManager=S,this.filterElem=v,this.elem=_,_.matteElement=createNS("g"),_.matteElement.appendChild(_.layerElement),_.matteElement.appendChild(_.transformedElement),_.baseElement=_.matteElement}function SVGGaussianBlurEffect(v,S,_,E){v.setAttribute("x","-100%"),v.setAttribute("y","-100%"),v.setAttribute("width","300%"),v.setAttribute("height","300%"),this.filterManager=S;var P=createNS("feGaussianBlur");P.setAttribute("result",E),v.appendChild(P),this.feGaussianBlur=P}function TransformEffect(){}function SVGTransformEffect(v,S){this.init(S)}function CVTransformEffect(v){this.init(v)}return SVGMatte3Effect.prototype.findSymbol=function(v){for(var S=0,_=_svgMatteSymbols.length;S<_;){if(_svgMatteSymbols[S]===v)return _svgMatteSymbols[S];S+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(v,S){var _=v.layerElement.parentNode;if(_){for(var E,P=_.children,D=0,R=P.length;D<R&&P[D]!==v.layerElement;)D+=1;D<=R-2&&(E=P[D+1]);var M=createNS("use");M.setAttribute("href","#"+S),E?_.insertBefore(M,E):_.appendChild(M)}},SVGMatte3Effect.prototype.setElementAsMask=function(v,S){if(!this.findSymbol(S)){var _=createElementID(),E=createNS("mask");E.setAttribute("id",S.layerId),E.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(S);var P=v.globalData.defs;P.appendChild(E);var D=createNS("symbol");D.setAttribute("id",_),this.replaceInParent(S,_),D.appendChild(S.layerElement),P.appendChild(D);var R=createNS("use");R.setAttribute("href","#"+_),E.appendChild(R),S.data.hd=!1,S.show()}v.setMatte(S.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var v=this.filterManager.effectElements[0].p.v,S=this.elem.comp.elements,_=0,E=S.length;_<E;)S[_]&&S[_].data.ind===v&&this.setElementAsMask(this.elem,S[_]),_+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(v){if(v||this.filterManager._mdf){var S=.3*this.filterManager.effectElements[0].p.v,_=this.filterManager.effectElements[1].p.v,E=3==_?0:S,P=2==_?0:S;this.feGaussianBlur.setAttribute("stdDeviation",E+" "+P);var D=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",D)}},TransformEffect.prototype.init=function(v){this.effectsManager=v,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(v){if(this._opMdf=!1,this._mdf=!1,v||this.effectsManager._mdf){var S=this.effectsManager.effectElements,_=S[0].p.v,E=S[1].p.v,P=1===S[2].p.v,D=S[3].p.v,R=P?D:S[4].p.v,M=S[5].p.v,O=S[6].p.v,F=S[7].p.v;this.matrix.reset(),this.matrix.translate(-_[0],-_[1],_[2]),this.matrix.scale(.01*R,.01*D,1),this.matrix.rotate(-F*degToRads),this.matrix.skewFromAxis(-M*degToRads,(O+90)*degToRads),this.matrix.translate(E[0],E[1],0),this._mdf=!0,this.opacity!==S[8].p.v&&(this.opacity=S[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())},915581:(v,S,_)=>{"use strict";var E=_(487480),P=Object.create,D=Object.prototype.hasOwnProperty;v.exports=function(v){var S,_=0,R=1,M=P(null),O=P(null),F=0;return v=E(v),{hit:function(E){var P=O[E],N=++F;if(M[N]=E,O[E]=N,!P){if(++_<=v)return;return E=M[R],S(E),E}if(delete M[P],R===P)for(;!D.call(M,++R);)continue},delete:S=function(v){var S=O[v];if(S&&(delete M[S],delete O[v],--_,R===S)){if(!_)return F=0,void(R=1);for(;!D.call(M,++R);)continue}},clear:function(){_=0,R=1,M=P(null),O=P(null),F=0}}}},438046:(v,S,_)=>{"use strict";const E=_(772495);v.exports=function mapAgeCleaner(v,S="maxAge"){let _,P,D;const cleanup=async()=>{if(void 0!==_)return;const setupTimer=async R=>{D=E();const M=R[1][S]-Date.now();return M<=0?(v.delete(R[0]),void D.resolve()):(_=R[0],P=setTimeout((()=>{v.delete(R[0]),D&&D.resolve()}),M),"function"==typeof P.unref&&P.unref(),D.promise)};try{for(const S of v)await setupTimer(S)}catch(v){}_=void 0},R=v.set.bind(v);return v.set=(S,E)=>{v.has(S)&&v.delete(S);const M=R(S,E);return _&&_===S&&(_=void 0,void 0!==P&&(clearTimeout(P),P=void 0),void 0!==D&&(D.reject(void 0),D=void 0)),cleanup(),M},cleanup(),v}},176635:(v,S,_)=>{"use strict";v.exports=_(142027)},751126:(v,S,_)=>{"use strict";v.exports=_(65092)},331721:v=>{"use strict";v.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},117410:v=>{"use strict";var S="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",_="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",E=new RegExp("^(?:"+S+"|"+_+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),P=new RegExp("^(?:"+S+"|"+_+")");v.exports.l=E,v.exports.p=P},584892:(v,S,_)=>{"use strict";var E=Object.prototype.hasOwnProperty;function has(v,S){return E.call(v,S)}function isValidEntityCode(v){return!(v>=55296&&v<=57343)&&(!(v>=64976&&v<=65007)&&(!!(65535&~v&&65534!=(65535&v))&&(!(v>=0&&v<=8)&&(11!==v&&(!(v>=14&&v<=31)&&(!(v>=127&&v<=159)&&!(v>1114111)))))))}function fromCodePoint(v){if(v>65535){var S=55296+((v-=65536)>>10),_=56320+(1023&v);return String.fromCharCode(S,_)}return String.fromCharCode(v)}var P=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,D=new RegExp(P.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),R=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,M=_(751126);var O=/[&<>"]/,F=/[&<>"]/g,N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(v){return N[v]}var L=/[.?*+^$[\]\\(){}|-]/g;var U=_(52173);S.lib={},S.lib.mdurl=_(647896),S.lib.ucmicro=_(350316),S.assign=function assign(v){return Array.prototype.slice.call(arguments,1).forEach((function(S){if(S){if("object"!=typeof S)throw new TypeError(S+"must be object");Object.keys(S).forEach((function(_){v[_]=S[_]}))}})),v},S.isString=function isString(v){return"[object String]"===function _class(v){return Object.prototype.toString.call(v)}(v)},S.has=has,S.unescapeMd=function unescapeMd(v){return v.indexOf("\\")<0?v:v.replace(P,"$1")},S.unescapeAll=function unescapeAll(v){return v.indexOf("\\")<0&&v.indexOf("&")<0?v:v.replace(D,(function(v,S,_){return S||function replaceEntityPattern(v,S){var _=0;return has(M,S)?M[S]:35===S.charCodeAt(0)&&R.test(S)&&isValidEntityCode(_="x"===S[1].toLowerCase()?parseInt(S.slice(2),16):parseInt(S.slice(1),10))?fromCodePoint(_):v}(v,_)}))},S.isValidEntityCode=isValidEntityCode,S.fromCodePoint=fromCodePoint,S.escapeHtml=function escapeHtml(v){return O.test(v)?v.replace(F,replaceUnsafeChar):v},S.arrayReplaceAt=function arrayReplaceAt(v,S,_){return[].concat(v.slice(0,S),_,v.slice(S+1))},S.isSpace=function isSpace(v){switch(v){case 9:case 32:return!0}return!1},S.isWhiteSpace=function isWhiteSpace(v){if(v>=8192&&v<=8202)return!0;switch(v){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},S.isMdAsciiPunct=function isMdAsciiPunct(v){switch(v){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},S.isPunctChar=function isPunctChar(v){return U.test(v)},S.escapeRE=function escapeRE(v){return v.replace(L,"\\$&")},S.normalizeReference=function normalizeReference(v){return v=v.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(v=v.replace(//g,"")),v.toLowerCase().toUpperCase()}},266617:(v,S,_)=>{"use strict";S.parseLinkLabel=_(144096),S.parseLinkDestination=_(685874),S.parseLinkTitle=_(532592)},685874:(v,S,_)=>{"use strict";var E=_(584892).unescapeAll;v.exports=function parseLinkDestination(v,S,_){var P,D,R=S,M={ok:!1,pos:0,lines:0,str:""};if(60===v.charCodeAt(S)){for(S++;S<_;){if(10===(P=v.charCodeAt(S)))return M;if(62===P)return M.pos=S+1,M.str=E(v.slice(R+1,S)),M.ok=!0,M;92===P&&S+1<_?S+=2:S++}return M}for(D=0;S<_&&32!==(P=v.charCodeAt(S))&&!(P<32||127===P);)if(92===P&&S+1<_)S+=2;else{if(40===P&&D++,41===P){if(0===D)break;D--}S++}return R===S||0!==D||(M.str=E(v.slice(R,S)),M.lines=0,M.pos=S,M.ok=!0),M}},144096:v=>{"use strict";v.exports=function parseLinkLabel(v,S,_){var E,P,D,R,M=-1,O=v.posMax,F=v.pos;for(v.pos=S+1,E=1;v.pos<O;){if(93===(D=v.src.charCodeAt(v.pos))&&0===--E){P=!0;break}if(R=v.pos,v.md.inline.skipToken(v),91===D)if(R===v.pos-1)E++;else if(_)return v.pos=F,-1}return P&&(M=v.pos),v.pos=F,M}},532592:(v,S,_)=>{"use strict";var E=_(584892).unescapeAll;v.exports=function parseLinkTitle(v,S,_){var P,D,R=0,M=S,O={ok:!1,pos:0,lines:0,str:""};if(S>=_)return O;if(34!==(D=v.charCodeAt(S))&&39!==D&&40!==D)return O;for(S++,40===D&&(D=41);S<_;){if((P=v.charCodeAt(S))===D)return O.pos=S+1,O.lines=R,O.str=E(v.slice(M+1,S)),O.ok=!0,O;10===P?R++:92===P&&S+1<_&&(S++,10===v.charCodeAt(S)&&R++),S++}return O}},142027:(v,S,_)=>{"use strict";var E=_(584892),P=_(266617),D=_(198692),R=_(512692),M=_(413962),O=_(86774),F=_(191982),N=_(647896),L=_(974826),U={default:_(499749),zero:_(656532),commonmark:_(811882)},V=/^(vbscript|javascript|file|data):/,G=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(v){var S=v.trim().toLowerCase();return!V.test(S)||!!G.test(S)}var W=["http:","https:","mailto:"];function normalizeLink(v){var S=N.parse(v,!0);if(S.hostname&&(!S.protocol||W.indexOf(S.protocol)>=0))try{S.hostname=L.toASCII(S.hostname)}catch(v){}return N.encode(N.format(S))}function normalizeLinkText(v){var S=N.parse(v,!0);if(S.hostname&&(!S.protocol||W.indexOf(S.protocol)>=0))try{S.hostname=L.toUnicode(S.hostname)}catch(v){}return N.decode(N.format(S))}function MarkdownIt(v,S){if(!(this instanceof MarkdownIt))return new MarkdownIt(v,S);S||E.isString(v)||(S=v||{},v="default"),this.inline=new O,this.block=new M,this.core=new R,this.renderer=new D,this.linkify=new F,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=E,this.helpers=E.assign({},P),this.options={},this.configure(v),S&&this.set(S)}MarkdownIt.prototype.set=function(v){return E.assign(this.options,v),this},MarkdownIt.prototype.configure=function(v){var S,_=this;if(E.isString(v)&&!(v=U[S=v]))throw new Error('Wrong `markdown-it` preset "'+S+'", check name');if(!v)throw new Error("Wrong `markdown-it` preset, can't be empty");return v.options&&_.set(v.options),v.components&&Object.keys(v.components).forEach((function(S){v.components[S].rules&&_[S].ruler.enableOnly(v.components[S].rules),v.components[S].rules2&&_[S].ruler2.enableOnly(v.components[S].rules2)})),this},MarkdownIt.prototype.enable=function(v,S){var _=[];Array.isArray(v)||(v=[v]),["core","block","inline"].forEach((function(S){_=_.concat(this[S].ruler.enable(v,!0))}),this),_=_.concat(this.inline.ruler2.enable(v,!0));var E=v.filter((function(v){return _.indexOf(v)<0}));if(E.length&&!S)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+E);return this},MarkdownIt.prototype.disable=function(v,S){var _=[];Array.isArray(v)||(v=[v]),["core","block","inline"].forEach((function(S){_=_.concat(this[S].ruler.disable(v,!0))}),this),_=_.concat(this.inline.ruler2.disable(v,!0));var E=v.filter((function(v){return _.indexOf(v)<0}));if(E.length&&!S)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+E);return this},MarkdownIt.prototype.use=function(v){var S=[this].concat(Array.prototype.slice.call(arguments,1));return v.apply(v,S),this},MarkdownIt.prototype.parse=function(v,S){if("string"!=typeof v)throw new Error("Input data should be a String");var _=new this.core.State(v,this,S);return this.core.process(_),_.tokens},MarkdownIt.prototype.render=function(v,S){return S=S||{},this.renderer.render(this.parse(v,S),this.options,S)},MarkdownIt.prototype.parseInline=function(v,S){var _=new this.core.State(v,this,S);return _.inlineMode=!0,this.core.process(_),_.tokens},MarkdownIt.prototype.renderInline=function(v,S){return S=S||{},this.renderer.render(this.parseInline(v,S),this.options,S)},v.exports=MarkdownIt},413962:(v,S,_)=>{"use strict";var E=_(676483),P=[["table",_(710433),["paragraph","reference"]],["code",_(816932)],["fence",_(667264),["paragraph","reference","blockquote","list"]],["blockquote",_(621194),["paragraph","reference","blockquote","list"]],["hr",_(889995),["paragraph","reference","blockquote","list"]],["list",_(572665),["paragraph","reference","blockquote"]],["reference",_(294220)],["heading",_(228299),["paragraph","reference","blockquote"]],["lheading",_(152259)],["html_block",_(699226),["paragraph","reference","blockquote"]],["paragraph",_(873983)]];function ParserBlock(){this.ruler=new E;for(var v=0;v<P.length;v++)this.ruler.push(P[v][0],P[v][1],{alt:(P[v][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(v,S,_){for(var E,P=this.ruler.getRules(""),D=P.length,R=S,M=!1,O=v.md.options.maxNesting;R<_&&(v.line=R=v.skipEmptyLines(R),!(R>=_))&&!(v.sCount[R]<v.blkIndent);){if(v.level>=O){v.line=_;break}for(E=0;E<D&&!P[E](v,R,_,!1);E++);v.tight=!M,v.isEmpty(v.line-1)&&(M=!0),(R=v.line)<_&&v.isEmpty(R)&&(M=!0,R++,v.line=R)}},ParserBlock.prototype.parse=function(v,S,_,E){var P;v&&(P=new this.State(v,S,_,E),this.tokenize(P,P.line,P.lineMax))},ParserBlock.prototype.State=_(639610),v.exports=ParserBlock},512692:(v,S,_)=>{"use strict";var E=_(676483),P=[["normalize",_(697872)],["block",_(569394)],["inline",_(703246)],["linkify",_(432077)],["replacements",_(39302)],["smartquotes",_(100959)]];function Core(){this.ruler=new E;for(var v=0;v<P.length;v++)this.ruler.push(P[v][0],P[v][1])}Core.prototype.process=function(v){var S,_,E;for(S=0,_=(E=this.ruler.getRules("")).length;S<_;S++)E[S](v)},Core.prototype.State=_(52698),v.exports=Core},86774:(v,S,_)=>{"use strict";var E=_(676483),P=[["text",_(3486)],["newline",_(316917)],["escape",_(910802)],["backticks",_(863526)],["strikethrough",_(876326).q],["emphasis",_(801219).q],["link",_(715961)],["image",_(749920)],["autolink",_(914470)],["html_inline",_(189530)],["entity",_(475382)]],D=[["balance_pairs",_(33395)],["strikethrough",_(876326).g],["emphasis",_(801219).g],["text_collapse",_(317378)]];function ParserInline(){var v;for(this.ruler=new E,v=0;v<P.length;v++)this.ruler.push(P[v][0],P[v][1]);for(this.ruler2=new E,v=0;v<D.length;v++)this.ruler2.push(D[v][0],D[v][1])}ParserInline.prototype.skipToken=function(v){var S,_,E=v.pos,P=this.ruler.getRules(""),D=P.length,R=v.md.options.maxNesting,M=v.cache;if(void 0===M[E]){if(v.level<R)for(_=0;_<D&&(v.level++,S=P[_](v,!0),v.level--,!S);_++);else v.pos=v.posMax;S||v.pos++,M[E]=v.pos}else v.pos=M[E]},ParserInline.prototype.tokenize=function(v){for(var S,_,E=this.ruler.getRules(""),P=E.length,D=v.posMax,R=v.md.options.maxNesting;v.pos<D;){if(v.level<R)for(_=0;_<P&&!(S=E[_](v,!1));_++);if(S){if(v.pos>=D)break}else v.pending+=v.src[v.pos++]}v.pending&&v.pushPending()},ParserInline.prototype.parse=function(v,S,_,E){var P,D,R,M=new this.State(v,S,_,E);for(this.tokenize(M),R=(D=this.ruler2.getRules("")).length,P=0;P<R;P++)D[P](M)},ParserInline.prototype.State=_(303954),v.exports=ParserInline},811882:v=>{"use strict";v.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},499749:v=>{"use strict";v.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},656532:v=>{"use strict";v.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},198692:(v,S,_)=>{"use strict";var E=_(584892).assign,P=_(584892).unescapeAll,D=_(584892).escapeHtml,R={};function Renderer(){this.rules=E({},R)}R.code_inline=function(v,S,_,E,P){var R=v[S];return"<code"+P.renderAttrs(R)+">"+D(v[S].content)+"</code>"},R.code_block=function(v,S,_,E,P){var R=v[S];return"<pre"+P.renderAttrs(R)+"><code>"+D(v[S].content)+"</code></pre>\n"},R.fence=function(v,S,_,E,R){var M,O,F,N,L=v[S],U=L.info?P(L.info).trim():"",V="";return U&&(V=U.split(/\s+/g)[0]),0===(M=_.highlight&&_.highlight(L.content,V)||D(L.content)).indexOf("<pre")?M+"\n":U?(O=L.attrIndex("class"),F=L.attrs?L.attrs.slice():[],O<0?F.push(["class",_.langPrefix+V]):F[O][1]+=" "+_.langPrefix+V,N={attrs:F},"<pre><code"+R.renderAttrs(N)+">"+M+"</code></pre>\n"):"<pre><code"+R.renderAttrs(L)+">"+M+"</code></pre>\n"},R.image=function(v,S,_,E,P){var D=v[S];return D.attrs[D.attrIndex("alt")][1]=P.renderInlineAsText(D.children,_,E),P.renderToken(v,S,_)},R.hardbreak=function(v,S,_){return _.xhtmlOut?"<br />\n":"<br>\n"},R.softbreak=function(v,S,_){return _.breaks?_.xhtmlOut?"<br />\n":"<br>\n":"\n"},R.text=function(v,S){return D(v[S].content)},R.html_block=function(v,S){return v[S].content},R.html_inline=function(v,S){return v[S].content},Renderer.prototype.renderAttrs=function renderAttrs(v){var S,_,E;if(!v.attrs)return"";for(E="",S=0,_=v.attrs.length;S<_;S++)E+=" "+D(v.attrs[S][0])+'="'+D(v.attrs[S][1])+'"';return E},Renderer.prototype.renderToken=function renderToken(v,S,_){var E,P="",D=!1,R=v[S];return R.hidden?"":(R.block&&-1!==R.nesting&&S&&v[S-1].hidden&&(P+="\n"),P+=(-1===R.nesting?"</":"<")+R.tag,P+=this.renderAttrs(R),0===R.nesting&&_.xhtmlOut&&(P+=" /"),R.block&&(D=!0,1===R.nesting&&S+1<v.length&&("inline"===(E=v[S+1]).type||E.hidden||-1===E.nesting&&E.tag===R.tag)&&(D=!1)),P+=D?">\n":">")},Renderer.prototype.renderInline=function(v,S,_){for(var E,P="",D=this.rules,R=0,M=v.length;R<M;R++)void 0!==D[E=v[R].type]?P+=D[E](v,R,S,_,this):P+=this.renderToken(v,R,S);return P},Renderer.prototype.renderInlineAsText=function(v,S,_){for(var E="",P=0,D=v.length;P<D;P++)"text"===v[P].type?E+=v[P].content:"image"===v[P].type&&(E+=this.renderInlineAsText(v[P].children,S,_));return E},Renderer.prototype.render=function(v,S,_){var E,P,D,R="",M=this.rules;for(E=0,P=v.length;E<P;E++)"inline"===(D=v[E].type)?R+=this.renderInline(v[E].children,S,_):void 0!==M[D]?R+=M[v[E].type](v,E,S,_,this):R+=this.renderToken(v,E,S,_);return R},v.exports=Renderer},676483:v=>{"use strict";function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(v){for(var S=0;S<this.__rules__.length;S++)if(this.__rules__[S].name===v)return S;return-1},Ruler.prototype.__compile__=function(){var v=this,S=[""];v.__rules__.forEach((function(v){v.enabled&&v.alt.forEach((function(v){S.indexOf(v)<0&&S.push(v)}))})),v.__cache__={},S.forEach((function(S){v.__cache__[S]=[],v.__rules__.forEach((function(_){_.enabled&&(S&&_.alt.indexOf(S)<0||v.__cache__[S].push(_.fn))}))}))},Ruler.prototype.at=function(v,S,_){var E=this.__find__(v),P=_||{};if(-1===E)throw new Error("Parser rule not found: "+v);this.__rules__[E].fn=S,this.__rules__[E].alt=P.alt||[],this.__cache__=null},Ruler.prototype.before=function(v,S,_,E){var P=this.__find__(v),D=E||{};if(-1===P)throw new Error("Parser rule not found: "+v);this.__rules__.splice(P,0,{name:S,enabled:!0,fn:_,alt:D.alt||[]}),this.__cache__=null},Ruler.prototype.after=function(v,S,_,E){var P=this.__find__(v),D=E||{};if(-1===P)throw new Error("Parser rule not found: "+v);this.__rules__.splice(P+1,0,{name:S,enabled:!0,fn:_,alt:D.alt||[]}),this.__cache__=null},Ruler.prototype.push=function(v,S,_){var E=_||{};this.__rules__.push({name:v,enabled:!0,fn:S,alt:E.alt||[]}),this.__cache__=null},Ruler.prototype.enable=function(v,S){Array.isArray(v)||(v=[v]);var _=[];return v.forEach((function(v){var E=this.__find__(v);if(E<0){if(S)return;throw new Error("Rules manager: invalid rule name "+v)}this.__rules__[E].enabled=!0,_.push(v)}),this),this.__cache__=null,_},Ruler.prototype.enableOnly=function(v,S){Array.isArray(v)||(v=[v]),this.__rules__.forEach((function(v){v.enabled=!1})),this.enable(v,S)},Ruler.prototype.disable=function(v,S){Array.isArray(v)||(v=[v]);var _=[];return v.forEach((function(v){var E=this.__find__(v);if(E<0){if(S)return;throw new Error("Rules manager: invalid rule name "+v)}this.__rules__[E].enabled=!1,_.push(v)}),this),this.__cache__=null,_},Ruler.prototype.getRules=function(v){return null===this.__cache__&&this.__compile__(),this.__cache__[v]||[]},v.exports=Ruler},621194:(v,S,_)=>{"use strict";var E=_(584892).isSpace;v.exports=function blockquote(v,S,_,P){var D,R,M,O,F,N,L,U,V,G,W,$,X,Y,J,Z,Q,tt,et,rt,nt=v.lineMax,it=v.bMarks[S]+v.tShift[S],st=v.eMarks[S];if(v.sCount[S]-v.blkIndent>=4)return!1;if(62!==v.src.charCodeAt(it++))return!1;if(P)return!0;for(O=V=v.sCount[S]+it-(v.bMarks[S]+v.tShift[S]),32===v.src.charCodeAt(it)?(it++,O++,V++,D=!1,Z=!0):9===v.src.charCodeAt(it)?(Z=!0,(v.bsCount[S]+V)%4==3?(it++,O++,V++,D=!1):D=!0):Z=!1,G=[v.bMarks[S]],v.bMarks[S]=it;it<st&&(R=v.src.charCodeAt(it),E(R));)9===R?V+=4-(V+v.bsCount[S]+(D?1:0))%4:V++,it++;for(W=[v.bsCount[S]],v.bsCount[S]=v.sCount[S]+1+(Z?1:0),N=it>=st,Y=[v.sCount[S]],v.sCount[S]=V-O,J=[v.tShift[S]],v.tShift[S]=it-v.bMarks[S],tt=v.md.block.ruler.getRules("blockquote"),X=v.parentType,v.parentType="blockquote",rt=!1,U=S+1;U<_&&(v.sCount[U]<v.blkIndent&&(rt=!0),!((it=v.bMarks[U]+v.tShift[U])>=(st=v.eMarks[U])));U++)if(62!==v.src.charCodeAt(it++)||rt){if(N)break;for(Q=!1,M=0,F=tt.length;M<F;M++)if(tt[M](v,U,_,!0)){Q=!0;break}if(Q){v.lineMax=U,0!==v.blkIndent&&(G.push(v.bMarks[U]),W.push(v.bsCount[U]),J.push(v.tShift[U]),Y.push(v.sCount[U]),v.sCount[U]-=v.blkIndent);break}G.push(v.bMarks[U]),W.push(v.bsCount[U]),J.push(v.tShift[U]),Y.push(v.sCount[U]),v.sCount[U]=-1}else{for(O=V=v.sCount[U]+it-(v.bMarks[U]+v.tShift[U]),32===v.src.charCodeAt(it)?(it++,O++,V++,D=!1,Z=!0):9===v.src.charCodeAt(it)?(Z=!0,(v.bsCount[U]+V)%4==3?(it++,O++,V++,D=!1):D=!0):Z=!1,G.push(v.bMarks[U]),v.bMarks[U]=it;it<st&&(R=v.src.charCodeAt(it),E(R));)9===R?V+=4-(V+v.bsCount[U]+(D?1:0))%4:V++,it++;N=it>=st,W.push(v.bsCount[U]),v.bsCount[U]=v.sCount[U]+1+(Z?1:0),Y.push(v.sCount[U]),v.sCount[U]=V-O,J.push(v.tShift[U]),v.tShift[U]=it-v.bMarks[U]}for($=v.blkIndent,v.blkIndent=0,(et=v.push("blockquote_open","blockquote",1)).markup=">",et.map=L=[S,0],v.md.block.tokenize(v,S,U),(et=v.push("blockquote_close","blockquote",-1)).markup=">",v.lineMax=nt,v.parentType=X,L[1]=v.line,M=0;M<J.length;M++)v.bMarks[M+S]=G[M],v.tShift[M+S]=J[M],v.sCount[M+S]=Y[M],v.bsCount[M+S]=W[M];return v.blkIndent=$,!0}},816932:v=>{"use strict";v.exports=function code(v,S,_){var E,P,D;if(v.sCount[S]-v.blkIndent<4)return!1;for(P=E=S+1;E<_;)if(v.isEmpty(E))E++;else{if(!(v.sCount[E]-v.blkIndent>=4))break;P=++E}return v.line=P,(D=v.push("code_block","code",0)).content=v.getLines(S,P,4+v.blkIndent,!0),D.map=[S,v.line],!0}},667264:v=>{"use strict";v.exports=function fence(v,S,_,E){var P,D,R,M,O,F,N,L=!1,U=v.bMarks[S]+v.tShift[S],V=v.eMarks[S];if(v.sCount[S]-v.blkIndent>=4)return!1;if(U+3>V)return!1;if(126!==(P=v.src.charCodeAt(U))&&96!==P)return!1;if(O=U,(D=(U=v.skipChars(U,P))-O)<3)return!1;if(N=v.src.slice(O,U),R=v.src.slice(U,V),96===P&&R.indexOf(String.fromCharCode(P))>=0)return!1;if(E)return!0;for(M=S;!(++M>=_)&&!((U=O=v.bMarks[M]+v.tShift[M])<(V=v.eMarks[M])&&v.sCount[M]<v.blkIndent);)if(v.src.charCodeAt(U)===P&&!(v.sCount[M]-v.blkIndent>=4||(U=v.skipChars(U,P))-O<D||(U=v.skipSpaces(U))<V)){L=!0;break}return D=v.sCount[S],v.line=M+(L?1:0),(F=v.push("fence","code",0)).info=R,F.content=v.getLines(S+1,M,D,!0),F.markup=N,F.map=[S,v.line],!0}},228299:(v,S,_)=>{"use strict";var E=_(584892).isSpace;v.exports=function heading(v,S,_,P){var D,R,M,O,F=v.bMarks[S]+v.tShift[S],N=v.eMarks[S];if(v.sCount[S]-v.blkIndent>=4)return!1;if(35!==(D=v.src.charCodeAt(F))||F>=N)return!1;for(R=1,D=v.src.charCodeAt(++F);35===D&&F<N&&R<=6;)R++,D=v.src.charCodeAt(++F);return!(R>6||F<N&&!E(D))&&(P||(N=v.skipSpacesBack(N,F),(M=v.skipCharsBack(N,35,F))>F&&E(v.src.charCodeAt(M-1))&&(N=M),v.line=S+1,(O=v.push("heading_open","h"+String(R),1)).markup="########".slice(0,R),O.map=[S,v.line],(O=v.push("inline","",0)).content=v.src.slice(F,N).trim(),O.map=[S,v.line],O.children=[],(O=v.push("heading_close","h"+String(R),-1)).markup="########".slice(0,R)),!0)}},889995:(v,S,_)=>{"use strict";var E=_(584892).isSpace;v.exports=function hr(v,S,_,P){var D,R,M,O,F=v.bMarks[S]+v.tShift[S],N=v.eMarks[S];if(v.sCount[S]-v.blkIndent>=4)return!1;if(42!==(D=v.src.charCodeAt(F++))&&45!==D&&95!==D)return!1;for(R=1;F<N;){if((M=v.src.charCodeAt(F++))!==D&&!E(M))return!1;M===D&&R++}return!(R<3)&&(P||(v.line=S+1,(O=v.push("hr","hr",0)).map=[S,v.line],O.markup=Array(R+1).join(String.fromCharCode(D))),!0)}},699226:(v,S,_)=>{"use strict";var E=_(331721),P=_(117410).p,D=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+E.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(P.source+"\\s*$"),/^$/,!1]];v.exports=function html_block(v,S,_,E){var P,R,M,O,F=v.bMarks[S]+v.tShift[S],N=v.eMarks[S];if(v.sCount[S]-v.blkIndent>=4)return!1;if(!v.md.options.html)return!1;if(60!==v.src.charCodeAt(F))return!1;for(O=v.src.slice(F,N),P=0;P<D.length&&!D[P][0].test(O);P++);if(P===D.length)return!1;if(E)return D[P][2];if(R=S+1,!D[P][1].test(O))for(;R<_&&!(v.sCount[R]<v.blkIndent);R++)if(F=v.bMarks[R]+v.tShift[R],N=v.eMarks[R],O=v.src.slice(F,N),D[P][1].test(O)){0!==O.length&&R++;break}return v.line=R,(M=v.push("html_block","",0)).map=[S,R],M.content=v.getLines(S,R,v.blkIndent,!0),!0}},152259:v=>{"use strict";v.exports=function lheading(v,S,_){var E,P,D,R,M,O,F,N,L,U,V=S+1,G=v.md.block.ruler.getRules("paragraph");if(v.sCount[S]-v.blkIndent>=4)return!1;for(U=v.parentType,v.parentType="paragraph";V<_&&!v.isEmpty(V);V++)if(!(v.sCount[V]-v.blkIndent>3)){if(v.sCount[V]>=v.blkIndent&&(O=v.bMarks[V]+v.tShift[V])<(F=v.eMarks[V])&&(45===(L=v.src.charCodeAt(O))||61===L)&&(O=v.skipChars(O,L),(O=v.skipSpaces(O))>=F)){N=61===L?1:2;break}if(!(v.sCount[V]<0)){for(P=!1,D=0,R=G.length;D<R;D++)if(G[D](v,V,_,!0)){P=!0;break}if(P)break}}return!!N&&(E=v.getLines(S,V,v.blkIndent,!1).trim(),v.line=V+1,(M=v.push("heading_open","h"+String(N),1)).markup=String.fromCharCode(L),M.map=[S,v.line],(M=v.push("inline","",0)).content=E,M.map=[S,v.line-1],M.children=[],(M=v.push("heading_close","h"+String(N),-1)).markup=String.fromCharCode(L),v.parentType=U,!0)}},572665:(v,S,_)=>{"use strict";var E=_(584892).isSpace;function skipBulletListMarker(v,S){var _,P,D,R;return P=v.bMarks[S]+v.tShift[S],D=v.eMarks[S],42!==(_=v.src.charCodeAt(P++))&&45!==_&&43!==_||P<D&&(R=v.src.charCodeAt(P),!E(R))?-1:P}function skipOrderedListMarker(v,S){var _,P=v.bMarks[S]+v.tShift[S],D=P,R=v.eMarks[S];if(D+1>=R)return-1;if((_=v.src.charCodeAt(D++))<48||_>57)return-1;for(;;){if(D>=R)return-1;if(!((_=v.src.charCodeAt(D++))>=48&&_<=57)){if(41===_||46===_)break;return-1}if(D-P>=10)return-1}return D<R&&(_=v.src.charCodeAt(D),!E(_))?-1:D}v.exports=function list(v,S,_,E){var P,D,R,M,O,F,N,L,U,V,G,W,$,X,Y,J,Z,Q,tt,et,rt,nt,it,st,ot,at,ct,ut,ht=!1,dt=!0;if(v.sCount[S]-v.blkIndent>=4)return!1;if(v.listIndent>=0&&v.sCount[S]-v.listIndent>=4&&v.sCount[S]<v.blkIndent)return!1;if(E&&"paragraph"===v.parentType&&v.tShift[S]>=v.blkIndent&&(ht=!0),(it=skipOrderedListMarker(v,S))>=0){if(N=!0,ot=v.bMarks[S]+v.tShift[S],$=Number(v.src.substr(ot,it-ot-1)),ht&&1!==$)return!1}else{if(!((it=skipBulletListMarker(v,S))>=0))return!1;N=!1}if(ht&&v.skipSpaces(it)>=v.eMarks[S])return!1;if(W=v.src.charCodeAt(it-1),E)return!0;for(G=v.tokens.length,N?(ut=v.push("ordered_list_open","ol",1),1!==$&&(ut.attrs=[["start",$]])):ut=v.push("bullet_list_open","ul",1),ut.map=V=[S,0],ut.markup=String.fromCharCode(W),Y=S,st=!1,ct=v.md.block.ruler.getRules("list"),Q=v.parentType,v.parentType="list";Y<_;){for(nt=it,X=v.eMarks[Y],F=J=v.sCount[Y]+it-(v.bMarks[S]+v.tShift[S]);nt<X;){if(9===(P=v.src.charCodeAt(nt)))J+=4-(J+v.bsCount[Y])%4;else{if(32!==P)break;J++}nt++}if((O=(D=nt)>=X?1:J-F)>4&&(O=1),M=F+O,(ut=v.push("list_item_open","li",1)).markup=String.fromCharCode(W),ut.map=L=[S,0],rt=v.tight,et=v.tShift[S],tt=v.sCount[S],Z=v.listIndent,v.listIndent=v.blkIndent,v.blkIndent=M,v.tight=!0,v.tShift[S]=D-v.bMarks[S],v.sCount[S]=J,D>=X&&v.isEmpty(S+1)?v.line=Math.min(v.line+2,_):v.md.block.tokenize(v,S,_,!0),v.tight&&!st||(dt=!1),st=v.line-S>1&&v.isEmpty(v.line-1),v.blkIndent=v.listIndent,v.listIndent=Z,v.tShift[S]=et,v.sCount[S]=tt,v.tight=rt,(ut=v.push("list_item_close","li",-1)).markup=String.fromCharCode(W),Y=S=v.line,L[1]=Y,D=v.bMarks[S],Y>=_)break;if(v.sCount[Y]<v.blkIndent)break;if(v.sCount[S]-v.blkIndent>=4)break;for(at=!1,R=0,U=ct.length;R<U;R++)if(ct[R](v,Y,_,!0)){at=!0;break}if(at)break;if(N){if((it=skipOrderedListMarker(v,Y))<0)break}else if((it=skipBulletListMarker(v,Y))<0)break;if(W!==v.src.charCodeAt(it-1))break}return(ut=N?v.push("ordered_list_close","ol",-1):v.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(W),V[1]=Y,v.line=Y,v.parentType=Q,dt&&function markTightParagraphs(v,S){var _,E,P=v.level+2;for(_=S+2,E=v.tokens.length-2;_<E;_++)v.tokens[_].level===P&&"paragraph_open"===v.tokens[_].type&&(v.tokens[_+2].hidden=!0,v.tokens[_].hidden=!0,_+=2)}(v,G),!0}},873983:v=>{"use strict";v.exports=function paragraph(v,S){var _,E,P,D,R,M,O=S+1,F=v.md.block.ruler.getRules("paragraph"),N=v.lineMax;for(M=v.parentType,v.parentType="paragraph";O<N&&!v.isEmpty(O);O++)if(!(v.sCount[O]-v.blkIndent>3||v.sCount[O]<0)){for(E=!1,P=0,D=F.length;P<D;P++)if(F[P](v,O,N,!0)){E=!0;break}if(E)break}return _=v.getLines(S,O,v.blkIndent,!1).trim(),v.line=O,(R=v.push("paragraph_open","p",1)).map=[S,v.line],(R=v.push("inline","",0)).content=_,R.map=[S,v.line],R.children=[],R=v.push("paragraph_close","p",-1),v.parentType=M,!0}},294220:(v,S,_)=>{"use strict";var E=_(584892).normalizeReference,P=_(584892).isSpace;v.exports=function reference(v,S,_,D){var R,M,O,F,N,L,U,V,G,W,$,X,Y,J,Z,Q,tt=0,et=v.bMarks[S]+v.tShift[S],rt=v.eMarks[S],nt=S+1;if(v.sCount[S]-v.blkIndent>=4)return!1;if(91!==v.src.charCodeAt(et))return!1;for(;++et<rt;)if(93===v.src.charCodeAt(et)&&92!==v.src.charCodeAt(et-1)){if(et+1===rt)return!1;if(58!==v.src.charCodeAt(et+1))return!1;break}for(F=v.lineMax,Z=v.md.block.ruler.getRules("reference"),W=v.parentType,v.parentType="reference";nt<F&&!v.isEmpty(nt);nt++)if(!(v.sCount[nt]-v.blkIndent>3||v.sCount[nt]<0)){for(J=!1,L=0,U=Z.length;L<U;L++)if(Z[L](v,nt,F,!0)){J=!0;break}if(J)break}for(rt=(Y=v.getLines(S,nt,v.blkIndent,!1).trim()).length,et=1;et<rt;et++){if(91===(R=Y.charCodeAt(et)))return!1;if(93===R){G=et;break}(10===R||92===R&&++et<rt&&10===Y.charCodeAt(et))&&tt++}if(G<0||58!==Y.charCodeAt(G+1))return!1;for(et=G+2;et<rt;et++)if(10===(R=Y.charCodeAt(et)))tt++;else if(!P(R))break;if(!($=v.md.helpers.parseLinkDestination(Y,et,rt)).ok)return!1;if(N=v.md.normalizeLink($.str),!v.md.validateLink(N))return!1;for(M=et=$.pos,O=tt+=$.lines,X=et;et<rt;et++)if(10===(R=Y.charCodeAt(et)))tt++;else if(!P(R))break;for($=v.md.helpers.parseLinkTitle(Y,et,rt),et<rt&&X!==et&&$.ok?(Q=$.str,et=$.pos,tt+=$.lines):(Q="",et=M,tt=O);et<rt&&(R=Y.charCodeAt(et),P(R));)et++;if(et<rt&&10!==Y.charCodeAt(et)&&Q)for(Q="",et=M,tt=O;et<rt&&(R=Y.charCodeAt(et),P(R));)et++;return!(et<rt&&10!==Y.charCodeAt(et))&&(!!(V=E(Y.slice(1,G)))&&(D||(void 0===v.env.references&&(v.env.references={}),void 0===v.env.references[V]&&(v.env.references[V]={title:Q,href:N}),v.parentType=W,v.line=S+tt+1),!0))}},639610:(v,S,_)=>{"use strict";var E=_(665398),P=_(584892).isSpace;function StateBlock(v,S,_,E){var D,R,M,O,F,N,L,U;for(this.src=v,this.md=S,this.env=_,this.tokens=E,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",U=!1,M=O=N=L=0,F=(R=this.src).length;O<F;O++){if(D=R.charCodeAt(O),!U){if(P(D)){N++,9===D?L+=4-L%4:L++;continue}U=!0}10!==D&&O!==F-1||(10!==D&&O++,this.bMarks.push(M),this.eMarks.push(O),this.tShift.push(N),this.sCount.push(L),this.bsCount.push(0),U=!1,N=0,L=0,M=O+1)}this.bMarks.push(R.length),this.eMarks.push(R.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(v,S,_){var P=new E(v,S,_);return P.block=!0,_<0&&this.level--,P.level=this.level,_>0&&this.level++,this.tokens.push(P),P},StateBlock.prototype.isEmpty=function isEmpty(v){return this.bMarks[v]+this.tShift[v]>=this.eMarks[v]},StateBlock.prototype.skipEmptyLines=function skipEmptyLines(v){for(var S=this.lineMax;v<S&&!(this.bMarks[v]+this.tShift[v]<this.eMarks[v]);v++);return v},StateBlock.prototype.skipSpaces=function skipSpaces(v){for(var S,_=this.src.length;v<_&&(S=this.src.charCodeAt(v),P(S));v++);return v},StateBlock.prototype.skipSpacesBack=function skipSpacesBack(v,S){if(v<=S)return v;for(;v>S;)if(!P(this.src.charCodeAt(--v)))return v+1;return v},StateBlock.prototype.skipChars=function skipChars(v,S){for(var _=this.src.length;v<_&&this.src.charCodeAt(v)===S;v++);return v},StateBlock.prototype.skipCharsBack=function skipCharsBack(v,S,_){if(v<=_)return v;for(;v>_;)if(S!==this.src.charCodeAt(--v))return v+1;return v},StateBlock.prototype.getLines=function getLines(v,S,_,E){var D,R,M,O,F,N,L,U=v;if(v>=S)return"";for(N=new Array(S-v),D=0;U<S;U++,D++){for(R=0,L=O=this.bMarks[U],F=U+1<S||E?this.eMarks[U]+1:this.eMarks[U];O<F&&R<_;){if(M=this.src.charCodeAt(O),P(M))9===M?R+=4-(R+this.bsCount[U])%4:R++;else{if(!(O-L<this.tShift[U]))break;R++}O++}N[D]=R>_?new Array(R-_+1).join(" ")+this.src.slice(O,F):this.src.slice(O,F)}return N.join("")},StateBlock.prototype.Token=E,v.exports=StateBlock},710433:(v,S,_)=>{"use strict";var E=_(584892).isSpace;function getLine(v,S){var _=v.bMarks[S]+v.blkIndent,E=v.eMarks[S];return v.src.substr(_,E-_)}function escapedSplit(v){var S,_=[],E=0,P=v.length,D=0,R=0,M=!1,O=0;for(S=v.charCodeAt(E);E<P;)96===S?M?(M=!1,O=E):D%2==0&&(M=!0,O=E):124!==S||D%2!=0||M||(_.push(v.substring(R,E)),R=E+1),92===S?D++:D=0,++E===P&&M&&(M=!1,E=O+1),S=v.charCodeAt(E);return _.push(v.substring(R)),_}v.exports=function table(v,S,_,P){var D,R,M,O,F,N,L,U,V,G,W,$;if(S+2>_)return!1;if(F=S+1,v.sCount[F]<v.blkIndent)return!1;if(v.sCount[F]-v.blkIndent>=4)return!1;if((M=v.bMarks[F]+v.tShift[F])>=v.eMarks[F])return!1;if(124!==(D=v.src.charCodeAt(M++))&&45!==D&&58!==D)return!1;for(;M<v.eMarks[F];){if(124!==(D=v.src.charCodeAt(M))&&45!==D&&58!==D&&!E(D))return!1;M++}for(N=(R=getLine(v,S+1)).split("|"),V=[],O=0;O<N.length;O++){if(!(G=N[O].trim())){if(0===O||O===N.length-1)continue;return!1}if(!/^:?-+:?$/.test(G))return!1;58===G.charCodeAt(G.length-1)?V.push(58===G.charCodeAt(0)?"center":"right"):58===G.charCodeAt(0)?V.push("left"):V.push("")}if(-1===(R=getLine(v,S).trim()).indexOf("|"))return!1;if(v.sCount[S]-v.blkIndent>=4)return!1;if((L=(N=escapedSplit(R.replace(/^\||\|$/g,""))).length)>V.length)return!1;if(P)return!0;for((U=v.push("table_open","table",1)).map=W=[S,0],(U=v.push("thead_open","thead",1)).map=[S,S+1],(U=v.push("tr_open","tr",1)).map=[S,S+1],O=0;O<N.length;O++)(U=v.push("th_open","th",1)).map=[S,S+1],V[O]&&(U.attrs=[["style","text-align:"+V[O]]]),(U=v.push("inline","",0)).content=N[O].trim(),U.map=[S,S+1],U.children=[],U=v.push("th_close","th",-1);for(U=v.push("tr_close","tr",-1),U=v.push("thead_close","thead",-1),(U=v.push("tbody_open","tbody",1)).map=$=[S+2,0],F=S+2;F<_&&!(v.sCount[F]<v.blkIndent)&&-1!==(R=getLine(v,F).trim()).indexOf("|")&&!(v.sCount[F]-v.blkIndent>=4);F++){for(N=escapedSplit(R.replace(/^\||\|$/g,"")),U=v.push("tr_open","tr",1),O=0;O<L;O++)U=v.push("td_open","td",1),V[O]&&(U.attrs=[["style","text-align:"+V[O]]]),(U=v.push("inline","",0)).content=N[O]?N[O].trim():"",U.children=[],U=v.push("td_close","td",-1);U=v.push("tr_close","tr",-1)}return U=v.push("tbody_close","tbody",-1),U=v.push("table_close","table",-1),W[1]=$[1]=F,v.line=F,!0}},569394:v=>{"use strict";v.exports=function block(v){var S;v.inlineMode?((S=new v.Token("inline","",0)).content=v.src,S.map=[0,1],S.children=[],v.tokens.push(S)):v.md.block.parse(v.src,v.md,v.env,v.tokens)}},703246:v=>{"use strict";v.exports=function inline(v){var S,_,E,P=v.tokens;for(_=0,E=P.length;_<E;_++)"inline"===(S=P[_]).type&&v.md.inline.parse(S.content,v.md,v.env,S.children)}},432077:(v,S,_)=>{"use strict";var E=_(584892).arrayReplaceAt;function isLinkClose(v){return/^<\/a\s*>/i.test(v)}v.exports=function linkify(v){var S,_,P,D,R,M,O,F,N,L,U,V,G,W,$,X,Y,J,Z=v.tokens;if(v.md.options.linkify)for(_=0,P=Z.length;_<P;_++)if("inline"===Z[_].type&&v.md.linkify.pretest(Z[_].content))for(G=0,S=(D=Z[_].children).length-1;S>=0;S--)if("link_close"!==(M=D[S]).type){if("html_inline"===M.type&&(J=M.content,/^<a[>\s]/i.test(J)&&G>0&&G--,isLinkClose(M.content)&&G++),!(G>0)&&"text"===M.type&&v.md.linkify.test(M.content)){for(N=M.content,Y=v.md.linkify.match(N),O=[],V=M.level,U=0,F=0;F<Y.length;F++)W=Y[F].url,$=v.md.normalizeLink(W),v.md.validateLink($)&&(X=Y[F].text,X=Y[F].schema?"mailto:"!==Y[F].schema||/^mailto:/i.test(X)?v.md.normalizeLinkText(X):v.md.normalizeLinkText("mailto:"+X).replace(/^mailto:/,""):v.md.normalizeLinkText("http://"+X).replace(/^http:\/\//,""),(L=Y[F].index)>U&&((R=new v.Token("text","",0)).content=N.slice(U,L),R.level=V,O.push(R)),(R=new v.Token("link_open","a",1)).attrs=[["href",$]],R.level=V++,R.markup="linkify",R.info="auto",O.push(R),(R=new v.Token("text","",0)).content=X,R.level=V,O.push(R),(R=new v.Token("link_close","a",-1)).level=--V,R.markup="linkify",R.info="auto",O.push(R),U=Y[F].lastIndex);U<N.length&&((R=new v.Token("text","",0)).content=N.slice(U),R.level=V,O.push(R)),Z[_].children=D=E(D,S,O)}}else for(S--;D[S].level!==M.level&&"link_open"!==D[S].type;)S--}},697872:v=>{"use strict";var S=/\r\n?|\n/g,_=/\0/g;v.exports=function normalize(v){var E;E=(E=v.src.replace(S,"\n")).replace(_,""),v.src=E}},39302:v=>{"use strict";var S=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,_=/\((c|tm|r|p)\)/i,E=/\((c|tm|r|p)\)/gi,P={c:"",r:"",p:"",tm:""};function replaceFn(v,S){return P[S.toLowerCase()]}function replace_scoped(v){var S,_,P=0;for(S=v.length-1;S>=0;S--)"text"!==(_=v[S]).type||P||(_.content=_.content.replace(E,replaceFn)),"link_open"===_.type&&"auto"===_.info&&P--,"link_close"===_.type&&"auto"===_.info&&P++}function replace_rare(v){var _,E,P=0;for(_=v.length-1;_>=0;_--)"text"!==(E=v[_]).type||P||S.test(E.content)&&(E.content=E.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1$2").replace(/(^|\s)--(\s|$)/gm,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1$2")),"link_open"===E.type&&"auto"===E.info&&P--,"link_close"===E.type&&"auto"===E.info&&P++}v.exports=function replace(v){var E;if(v.md.options.typographer)for(E=v.tokens.length-1;E>=0;E--)"inline"===v.tokens[E].type&&(_.test(v.tokens[E].content)&&replace_scoped(v.tokens[E].children),S.test(v.tokens[E].content)&&replace_rare(v.tokens[E].children))}},100959:(v,S,_)=>{"use strict";var E=_(584892).isWhiteSpace,P=_(584892).isPunctChar,D=_(584892).isMdAsciiPunct,R=/['"]/,M=/['"]/g;function replaceAt(v,S,_){return v.substr(0,S)+_+v.substr(S+1)}function process_inlines(v,S){var _,R,O,F,N,L,U,V,G,W,$,X,Y,J,Z,Q,tt,et,rt,nt,it;for(rt=[],_=0;_<v.length;_++){for(R=v[_],U=v[_].level,tt=rt.length-1;tt>=0&&!(rt[tt].level<=U);tt--);if(rt.length=tt+1,"text"===R.type){N=0,L=(O=R.content).length;t:for(;N<L&&(M.lastIndex=N,F=M.exec(O));){if(Z=Q=!0,N=F.index+1,et="'"===F[0],G=32,F.index-1>=0)G=O.charCodeAt(F.index-1);else for(tt=_-1;tt>=0&&("softbreak"!==v[tt].type&&"hardbreak"!==v[tt].type);tt--)if("text"===v[tt].type){G=v[tt].content.charCodeAt(v[tt].content.length-1);break}if(W=32,N<L)W=O.charCodeAt(N);else for(tt=_+1;tt<v.length&&("softbreak"!==v[tt].type&&"hardbreak"!==v[tt].type);tt++)if("text"===v[tt].type){W=v[tt].content.charCodeAt(0);break}if($=D(G)||P(String.fromCharCode(G)),X=D(W)||P(String.fromCharCode(W)),Y=E(G),(J=E(W))?Z=!1:X&&(Y||$||(Z=!1)),Y?Q=!1:$&&(J||X||(Q=!1)),34===W&&'"'===F[0]&&G>=48&&G<=57&&(Q=Z=!1),Z&&Q&&(Z=!1,Q=X),Z||Q){if(Q)for(tt=rt.length-1;tt>=0&&(V=rt[tt],!(rt[tt].level<U));tt--)if(V.single===et&&rt[tt].level===U){V=rt[tt],et?(nt=S.md.options.quotes[2],it=S.md.options.quotes[3]):(nt=S.md.options.quotes[0],it=S.md.options.quotes[1]),R.content=replaceAt(R.content,F.index,it),v[V.token].content=replaceAt(v[V.token].content,V.pos,nt),N+=it.length-1,V.token===_&&(N+=nt.length-1),L=(O=R.content).length,rt.length=tt;continue t}Z?rt.push({token:_,pos:F.index,single:et,level:U}):Q&&et&&(R.content=replaceAt(R.content,F.index,""))}else et&&(R.content=replaceAt(R.content,F.index,""))}}}}v.exports=function smartquotes(v){var S;if(v.md.options.typographer)for(S=v.tokens.length-1;S>=0;S--)"inline"===v.tokens[S].type&&R.test(v.tokens[S].content)&&process_inlines(v.tokens[S].children,v)}},52698:(v,S,_)=>{"use strict";var E=_(665398);function StateCore(v,S,_){this.src=v,this.env=_,this.tokens=[],this.inlineMode=!1,this.md=S}StateCore.prototype.Token=E,v.exports=StateCore},914470:v=>{"use strict";var S=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,_=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;v.exports=function autolink(v,E){var P,D,R,M,O,F,N=v.pos;return 60===v.src.charCodeAt(N)&&(!((P=v.src.slice(N)).indexOf(">")<0)&&(_.test(P)?(M=(D=P.match(_))[0].slice(1,-1),O=v.md.normalizeLink(M),!!v.md.validateLink(O)&&(E||((F=v.push("link_open","a",1)).attrs=[["href",O]],F.markup="autolink",F.info="auto",(F=v.push("text","",0)).content=v.md.normalizeLinkText(M),(F=v.push("link_close","a",-1)).markup="autolink",F.info="auto"),v.pos+=D[0].length,!0)):!!S.test(P)&&(M=(R=P.match(S))[0].slice(1,-1),O=v.md.normalizeLink("mailto:"+M),!!v.md.validateLink(O)&&(E||((F=v.push("link_open","a",1)).attrs=[["href",O]],F.markup="autolink",F.info="auto",(F=v.push("text","",0)).content=v.md.normalizeLinkText(M),(F=v.push("link_close","a",-1)).markup="autolink",F.info="auto"),v.pos+=R[0].length,!0))))}},863526:v=>{"use strict";v.exports=function backtick(v,S){var _,E,P,D,R,M,O=v.pos;if(96!==v.src.charCodeAt(O))return!1;for(_=O,O++,E=v.posMax;O<E&&96===v.src.charCodeAt(O);)O++;for(P=v.src.slice(_,O),D=R=O;-1!==(D=v.src.indexOf("`",R));){for(R=D+1;R<E&&96===v.src.charCodeAt(R);)R++;if(R-D===P.length)return S||((M=v.push("code_inline","code",0)).markup=P,M.content=v.src.slice(O,D).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),v.pos=R,!0}return S||(v.pending+=P),v.pos+=P.length,!0}},33395:v=>{"use strict";function processDelimiters(v,S){var _,E,P,D,R,M,O,F,N={},L=S.length;for(_=0;_<L;_++)if((P=S[_]).length=P.length||0,P.close){for(N.hasOwnProperty(P.marker)||(N[P.marker]=[-1,-1,-1]),R=N[P.marker][P.length%3],M=-1,E=_-P.jump-1;E>R;E-=D.jump+1)if((D=S[E]).marker===P.marker&&(-1===M&&(M=E),D.open&&D.end<0&&D.level===P.level&&(O=!1,(D.close||P.open)&&(D.length+P.length)%3==0&&(D.length%3==0&&P.length%3==0||(O=!0)),!O))){F=E>0&&!S[E-1].open?S[E-1].jump+1:0,P.jump=_-E+F,P.open=!1,D.end=_,D.jump=F,D.close=!1,M=-1;break}-1!==M&&(N[P.marker][(P.length||0)%3]=M)}}v.exports=function link_pairs(v){var S,_=v.tokens_meta,E=v.tokens_meta.length;for(processDelimiters(0,v.delimiters),S=0;S<E;S++)_[S]&&_[S].delimiters&&processDelimiters(0,_[S].delimiters)}},801219:v=>{"use strict";function postProcess(v,S){var _,E,P,D,R,M;for(_=S.length-1;_>=0;_--)95!==(E=S[_]).marker&&42!==E.marker||-1!==E.end&&(P=S[E.end],M=_>0&&S[_-1].end===E.end+1&&S[_-1].token===E.token-1&&S[E.end+1].token===P.token+1&&S[_-1].marker===E.marker,R=String.fromCharCode(E.marker),(D=v.tokens[E.token]).type=M?"strong_open":"em_open",D.tag=M?"strong":"em",D.nesting=1,D.markup=M?R+R:R,D.content="",(D=v.tokens[P.token]).type=M?"strong_close":"em_close",D.tag=M?"strong":"em",D.nesting=-1,D.markup=M?R+R:R,D.content="",M&&(v.tokens[S[_-1].token].content="",v.tokens[S[E.end+1].token].content="",_--))}v.exports.q=function emphasis(v,S){var _,E,P=v.pos,D=v.src.charCodeAt(P);if(S)return!1;if(95!==D&&42!==D)return!1;for(E=v.scanDelims(v.pos,42===D),_=0;_<E.length;_++)v.push("text","",0).content=String.fromCharCode(D),v.delimiters.push({marker:D,length:E.length,jump:_,token:v.tokens.length-1,end:-1,open:E.can_open,close:E.can_close});return v.pos+=E.length,!0},v.exports.g=function emphasis(v){var S,_=v.tokens_meta,E=v.tokens_meta.length;for(postProcess(v,v.delimiters),S=0;S<E;S++)_[S]&&_[S].delimiters&&postProcess(v,_[S].delimiters)}},475382:(v,S,_)=>{"use strict";var E=_(751126),P=_(584892).has,D=_(584892).isValidEntityCode,R=_(584892).fromCodePoint,M=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,O=/^&([a-z][a-z0-9]{1,31});/i;v.exports=function entity(v,S){var _,F,N=v.pos,L=v.posMax;if(38!==v.src.charCodeAt(N))return!1;if(N+1<L)if(35===v.src.charCodeAt(N+1)){if(F=v.src.slice(N).match(M))return S||(_="x"===F[1][0].toLowerCase()?parseInt(F[1].slice(1),16):parseInt(F[1],10),v.pending+=D(_)?R(_):R(65533)),v.pos+=F[0].length,!0}else if((F=v.src.slice(N).match(O))&&P(E,F[1]))return S||(v.pending+=E[F[1]]),v.pos+=F[0].length,!0;return S||(v.pending+="&"),v.pos++,!0}},910802:(v,S,_)=>{"use strict";for(var E=_(584892).isSpace,P=[],D=0;D<256;D++)P.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(v){P[v.charCodeAt(0)]=1})),v.exports=function escape(v,S){var _,D=v.pos,R=v.posMax;if(92!==v.src.charCodeAt(D))return!1;if(++D<R){if((_=v.src.charCodeAt(D))<256&&0!==P[_])return S||(v.pending+=v.src[D]),v.pos+=2,!0;if(10===_){for(S||v.push("hardbreak","br",0),D++;D<R&&(_=v.src.charCodeAt(D),E(_));)D++;return v.pos=D,!0}}return S||(v.pending+="\\"),v.pos++,!0}},189530:(v,S,_)=>{"use strict";var E=_(117410).l;v.exports=function html_inline(v,S){var _,P,D,R=v.pos;return!!v.md.options.html&&(D=v.posMax,!(60!==v.src.charCodeAt(R)||R+2>=D)&&(!(33!==(_=v.src.charCodeAt(R+1))&&63!==_&&47!==_&&!function isLetter(v){var S=32|v;return S>=97&&S<=122}(_))&&(!!(P=v.src.slice(R).match(E))&&(S||(v.push("html_inline","",0).content=v.src.slice(R,R+P[0].length)),v.pos+=P[0].length,!0))))}},749920:(v,S,_)=>{"use strict";var E=_(584892).normalizeReference,P=_(584892).isSpace;v.exports=function image(v,S){var _,D,R,M,O,F,N,L,U,V,G,W,$,X="",Y=v.pos,J=v.posMax;if(33!==v.src.charCodeAt(v.pos))return!1;if(91!==v.src.charCodeAt(v.pos+1))return!1;if(F=v.pos+2,(O=v.md.helpers.parseLinkLabel(v,v.pos+1,!1))<0)return!1;if((N=O+1)<J&&40===v.src.charCodeAt(N)){for(N++;N<J&&(D=v.src.charCodeAt(N),P(D)||10===D);N++);if(N>=J)return!1;for($=N,(U=v.md.helpers.parseLinkDestination(v.src,N,v.posMax)).ok&&(X=v.md.normalizeLink(U.str),v.md.validateLink(X)?N=U.pos:X=""),$=N;N<J&&(D=v.src.charCodeAt(N),P(D)||10===D);N++);if(U=v.md.helpers.parseLinkTitle(v.src,N,v.posMax),N<J&&$!==N&&U.ok)for(V=U.str,N=U.pos;N<J&&(D=v.src.charCodeAt(N),P(D)||10===D);N++);else V="";if(N>=J||41!==v.src.charCodeAt(N))return v.pos=Y,!1;N++}else{if(void 0===v.env.references)return!1;if(N<J&&91===v.src.charCodeAt(N)?($=N+1,(N=v.md.helpers.parseLinkLabel(v,N))>=0?M=v.src.slice($,N++):N=O+1):N=O+1,M||(M=v.src.slice(F,O)),!(L=v.env.references[E(M)]))return v.pos=Y,!1;X=L.href,V=L.title}return S||(R=v.src.slice(F,O),v.md.inline.parse(R,v.md,v.env,W=[]),(G=v.push("image","img",0)).attrs=_=[["src",X],["alt",""]],G.children=W,G.content=R,V&&_.push(["title",V])),v.pos=N,v.posMax=J,!0}},715961:(v,S,_)=>{"use strict";var E=_(584892).normalizeReference,P=_(584892).isSpace;v.exports=function link(v,S){var _,D,R,M,O,F,N,L,U,V="",G=v.pos,W=v.posMax,$=v.pos,X=!0;if(91!==v.src.charCodeAt(v.pos))return!1;if(O=v.pos+1,(M=v.md.helpers.parseLinkLabel(v,v.pos,!0))<0)return!1;if((F=M+1)<W&&40===v.src.charCodeAt(F)){for(X=!1,F++;F<W&&(D=v.src.charCodeAt(F),P(D)||10===D);F++);if(F>=W)return!1;for($=F,(N=v.md.helpers.parseLinkDestination(v.src,F,v.posMax)).ok&&(V=v.md.normalizeLink(N.str),v.md.validateLink(V)?F=N.pos:V=""),$=F;F<W&&(D=v.src.charCodeAt(F),P(D)||10===D);F++);if(N=v.md.helpers.parseLinkTitle(v.src,F,v.posMax),F<W&&$!==F&&N.ok)for(U=N.str,F=N.pos;F<W&&(D=v.src.charCodeAt(F),P(D)||10===D);F++);else U="";(F>=W||41!==v.src.charCodeAt(F))&&(X=!0),F++}if(X){if(void 0===v.env.references)return!1;if(F<W&&91===v.src.charCodeAt(F)?($=F+1,(F=v.md.helpers.parseLinkLabel(v,F))>=0?R=v.src.slice($,F++):F=M+1):F=M+1,R||(R=v.src.slice(O,M)),!(L=v.env.references[E(R)]))return v.pos=G,!1;V=L.href,U=L.title}return S||(v.pos=O,v.posMax=M,v.push("link_open","a",1).attrs=_=[["href",V]],U&&_.push(["title",U]),v.md.inline.tokenize(v),v.push("link_close","a",-1)),v.pos=F,v.posMax=W,!0}},316917:(v,S,_)=>{"use strict";var E=_(584892).isSpace;v.exports=function newline(v,S){var _,P,D=v.pos;if(10!==v.src.charCodeAt(D))return!1;for(_=v.pending.length-1,P=v.posMax,S||(_>=0&&32===v.pending.charCodeAt(_)?_>=1&&32===v.pending.charCodeAt(_-1)?(v.pending=v.pending.replace(/ +$/,""),v.push("hardbreak","br",0)):(v.pending=v.pending.slice(0,-1),v.push("softbreak","br",0)):v.push("softbreak","br",0)),D++;D<P&&E(v.src.charCodeAt(D));)D++;return v.pos=D,!0}},303954:(v,S,_)=>{"use strict";var E=_(665398),P=_(584892).isWhiteSpace,D=_(584892).isPunctChar,R=_(584892).isMdAsciiPunct;function StateInline(v,S,_,E){this.src=v,this.env=_,this.md=S,this.tokens=E,this.tokens_meta=Array(E.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[]}StateInline.prototype.pushPending=function(){var v=new E("text","",0);return v.content=this.pending,v.level=this.pendingLevel,this.tokens.push(v),this.pending="",v},StateInline.prototype.push=function(v,S,_){this.pending&&this.pushPending();var P=new E(v,S,_),D=null;return _<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),P.level=this.level,_>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],D={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(P),this.tokens_meta.push(D),P},StateInline.prototype.scanDelims=function(v,S){var _,E,M,O,F,N,L,U,V,G=v,W=!0,$=!0,X=this.posMax,Y=this.src.charCodeAt(v);for(_=v>0?this.src.charCodeAt(v-1):32;G<X&&this.src.charCodeAt(G)===Y;)G++;return M=G-v,E=G<X?this.src.charCodeAt(G):32,L=R(_)||D(String.fromCharCode(_)),V=R(E)||D(String.fromCharCode(E)),N=P(_),(U=P(E))?W=!1:V&&(N||L||(W=!1)),N?$=!1:L&&(U||V||($=!1)),S?(O=W,F=$):(O=W&&(!$||L),F=$&&(!W||V)),{can_open:O,can_close:F,length:M}},StateInline.prototype.Token=E,v.exports=StateInline},876326:v=>{"use strict";function postProcess(v,S){var _,E,P,D,R,M=[],O=S.length;for(_=0;_<O;_++)126===(P=S[_]).marker&&-1!==P.end&&(D=S[P.end],(R=v.tokens[P.token]).type="s_open",R.tag="s",R.nesting=1,R.markup="~~",R.content="",(R=v.tokens[D.token]).type="s_close",R.tag="s",R.nesting=-1,R.markup="~~",R.content="","text"===v.tokens[D.token-1].type&&"~"===v.tokens[D.token-1].content&&M.push(D.token-1));for(;M.length;){for(E=(_=M.pop())+1;E<v.tokens.length&&"s_close"===v.tokens[E].type;)E++;_!==--E&&(R=v.tokens[E],v.tokens[E]=v.tokens[_],v.tokens[_]=R)}}v.exports.q=function strikethrough(v,S){var _,E,P,D,R=v.pos,M=v.src.charCodeAt(R);if(S)return!1;if(126!==M)return!1;if(P=(E=v.scanDelims(v.pos,!0)).length,D=String.fromCharCode(M),P<2)return!1;for(P%2&&(v.push("text","",0).content=D,P--),_=0;_<P;_+=2)v.push("text","",0).content=D+D,v.delimiters.push({marker:M,length:0,jump:_,token:v.tokens.length-1,end:-1,open:E.can_open,close:E.can_close});return v.pos+=E.length,!0},v.exports.g=function strikethrough(v){var S,_=v.tokens_meta,E=v.tokens_meta.length;for(postProcess(v,v.delimiters),S=0;S<E;S++)_[S]&&_[S].delimiters&&postProcess(v,_[S].delimiters)}},3486:v=>{"use strict";function isTerminatorChar(v){switch(v){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}v.exports=function text(v,S){for(var _=v.pos;_<v.posMax&&!isTerminatorChar(v.src.charCodeAt(_));)_++;return _!==v.pos&&(S||(v.pending+=v.src.slice(v.pos,_)),v.pos=_,!0)}},317378:v=>{"use strict";v.exports=function text_collapse(v){var S,_,E=0,P=v.tokens,D=v.tokens.length;for(S=_=0;S<D;S++)P[S].nesting<0&&E--,P[S].level=E,P[S].nesting>0&&E++,"text"===P[S].type&&S+1<D&&"text"===P[S+1].type?P[S+1].content=P[S].content+P[S+1].content:(S!==_&&(P[_]=P[S]),_++);S!==_&&(P.length=_)}},665398:v=>{"use strict";function Token(v,S,_){this.type=v,this.tag=S,this.attrs=null,this.map=null,this.nesting=_,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function attrIndex(v){var S,_,E;if(!this.attrs)return-1;for(_=0,E=(S=this.attrs).length;_<E;_++)if(S[_][0]===v)return _;return-1},Token.prototype.attrPush=function attrPush(v){this.attrs?this.attrs.push(v):this.attrs=[v]},Token.prototype.attrSet=function attrSet(v,S){var _=this.attrIndex(v),E=[v,S];_<0?this.attrPush(E):this.attrs[_]=E},Token.prototype.attrGet=function attrGet(v){var S=this.attrIndex(v),_=null;return S>=0&&(_=this.attrs[S][1]),_},Token.prototype.attrJoin=function attrJoin(v,S){var _=this.attrIndex(v);_<0?this.attrPush([v,S]):this.attrs[_][1]=this.attrs[_][1]+" "+S},v.exports=Token},863275:(v,S,_)=>{"use strict";var E=_(435615),P=_(121848),D=_(825636).Buffer,R=new Array(16);function MD5(){P.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function rotl(v,S){return v<<S|v>>>32-S}function fnF(v,S,_,E,P,D,R){return rotl(v+(S&_|~S&E)+P+D|0,R)+S|0}function fnG(v,S,_,E,P,D,R){return rotl(v+(S&E|_&~E)+P+D|0,R)+S|0}function fnH(v,S,_,E,P,D,R){return rotl(v+(S^_^E)+P+D|0,R)+S|0}function fnI(v,S,_,E,P,D,R){return rotl(v+(_^(S|~E))+P+D|0,R)+S|0}E(MD5,P),MD5.prototype._update=function(){for(var v=R,S=0;S<16;++S)v[S]=this._block.readInt32LE(4*S);var _=this._a,E=this._b,P=this._c,D=this._d;_=fnF(_,E,P,D,v[0],3614090360,7),D=fnF(D,_,E,P,v[1],3905402710,12),P=fnF(P,D,_,E,v[2],606105819,17),E=fnF(E,P,D,_,v[3],3250441966,22),_=fnF(_,E,P,D,v[4],4118548399,7),D=fnF(D,_,E,P,v[5],1200080426,12),P=fnF(P,D,_,E,v[6],2821735955,17),E=fnF(E,P,D,_,v[7],4249261313,22),_=fnF(_,E,P,D,v[8],1770035416,7),D=fnF(D,_,E,P,v[9],2336552879,12),P=fnF(P,D,_,E,v[10],4294925233,17),E=fnF(E,P,D,_,v[11],2304563134,22),_=fnF(_,E,P,D,v[12],1804603682,7),D=fnF(D,_,E,P,v[13],4254626195,12),P=fnF(P,D,_,E,v[14],2792965006,17),_=fnG(_,E=fnF(E,P,D,_,v[15],1236535329,22),P,D,v[1],4129170786,5),D=fnG(D,_,E,P,v[6],3225465664,9),P=fnG(P,D,_,E,v[11],643717713,14),E=fnG(E,P,D,_,v[0],3921069994,20),_=fnG(_,E,P,D,v[5],3593408605,5),D=fnG(D,_,E,P,v[10],38016083,9),P=fnG(P,D,_,E,v[15],3634488961,14),E=fnG(E,P,D,_,v[4],3889429448,20),_=fnG(_,E,P,D,v[9],568446438,5),D=fnG(D,_,E,P,v[14],3275163606,9),P=fnG(P,D,_,E,v[3],4107603335,14),E=fnG(E,P,D,_,v[8],1163531501,20),_=fnG(_,E,P,D,v[13],2850285829,5),D=fnG(D,_,E,P,v[2],4243563512,9),P=fnG(P,D,_,E,v[7],1735328473,14),_=fnH(_,E=fnG(E,P,D,_,v[12],2368359562,20),P,D,v[5],4294588738,4),D=fnH(D,_,E,P,v[8],2272392833,11),P=fnH(P,D,_,E,v[11],1839030562,16),E=fnH(E,P,D,_,v[14],4259657740,23),_=fnH(_,E,P,D,v[1],2763975236,4),D=fnH(D,_,E,P,v[4],1272893353,11),P=fnH(P,D,_,E,v[7],4139469664,16),E=fnH(E,P,D,_,v[10],3200236656,23),_=fnH(_,E,P,D,v[13],681279174,4),D=fnH(D,_,E,P,v[0],3936430074,11),P=fnH(P,D,_,E,v[3],3572445317,16),E=fnH(E,P,D,_,v[6],76029189,23),_=fnH(_,E,P,D,v[9],3654602809,4),D=fnH(D,_,E,P,v[12],3873151461,11),P=fnH(P,D,_,E,v[15],530742520,16),_=fnI(_,E=fnH(E,P,D,_,v[2],3299628645,23),P,D,v[0],4096336452,6),D=fnI(D,_,E,P,v[7],1126891415,10),P=fnI(P,D,_,E,v[14],2878612391,15),E=fnI(E,P,D,_,v[5],4237533241,21),_=fnI(_,E,P,D,v[12],1700485571,6),D=fnI(D,_,E,P,v[3],2399980690,10),P=fnI(P,D,_,E,v[10],4293915773,15),E=fnI(E,P,D,_,v[1],2240044497,21),_=fnI(_,E,P,D,v[8],1873313359,6),D=fnI(D,_,E,P,v[15],4264355552,10),P=fnI(P,D,_,E,v[6],2734768916,15),E=fnI(E,P,D,_,v[13],1309151649,21),_=fnI(_,E,P,D,v[4],4149444226,6),D=fnI(D,_,E,P,v[11],3174756917,10),P=fnI(P,D,_,E,v[2],718787259,15),E=fnI(E,P,D,_,v[9],3951481745,21),this._a=this._a+_|0,this._b=this._b+E|0,this._c=this._c+P|0,this._d=this._d+D|0},MD5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var v=D.allocUnsafe(16);return v.writeInt32LE(this._a,0),v.writeInt32LE(this._b,4),v.writeInt32LE(this._c,8),v.writeInt32LE(this._d,12),v},v.exports=MD5},331548:v=>{"use strict";var S={};function decode(v,_){var E;return"string"!=typeof _&&(_=decode.defaultChars),E=function getDecodeCache(v){var _,E,P=S[v];if(P)return P;for(P=S[v]=[],_=0;_<128;_++)E=String.fromCharCode(_),P.push(E);for(_=0;_<v.length;_++)P[E=v.charCodeAt(_)]="%"+("0"+E.toString(16).toUpperCase()).slice(-2);return P}(_),v.replace(/(%[a-f0-9]{2})+/gi,(function(v){var S,_,P,D,R,M,O,F="";for(S=0,_=v.length;S<_;S+=3)(P=parseInt(v.slice(S+1,S+3),16))<128?F+=E[P]:192==(224&P)&&S+3<_&&128==(192&(D=parseInt(v.slice(S+4,S+6),16)))?(F+=(O=P<<6&1984|63&D)<128?"":String.fromCharCode(O),S+=3):224==(240&P)&&S+6<_&&(D=parseInt(v.slice(S+4,S+6),16),R=parseInt(v.slice(S+7,S+9),16),128==(192&D)&&128==(192&R))?(F+=(O=P<<12&61440|D<<6&4032|63&R)<2048||O>=55296&&O<=57343?"":String.fromCharCode(O),S+=6):240==(248&P)&&S+9<_&&(D=parseInt(v.slice(S+4,S+6),16),R=parseInt(v.slice(S+7,S+9),16),M=parseInt(v.slice(S+10,S+12),16),128==(192&D)&&128==(192&R)&&128==(192&M))?((O=P<<18&1835008|D<<12&258048|R<<6&4032|63&M)<65536||O>1114111?F+="":(O-=65536,F+=String.fromCharCode(55296+(O>>10),56320+(1023&O))),S+=9):F+="";return F}))}decode.defaultChars=";/?:@&=+$,#",decode.componentChars="",v.exports=decode},459444:v=>{"use strict";var S={};function encode(v,_,E){var P,D,R,M,O,F="";for("string"!=typeof _&&(E=_,_=encode.defaultChars),void 0===E&&(E=!0),O=function getEncodeCache(v){var _,E,P=S[v];if(P)return P;for(P=S[v]=[],_=0;_<128;_++)E=String.fromCharCode(_),/^[0-9a-z]$/i.test(E)?P.push(E):P.push("%"+("0"+_.toString(16).toUpperCase()).slice(-2));for(_=0;_<v.length;_++)P[v.charCodeAt(_)]=v[_];return P}(_),P=0,D=v.length;P<D;P++)if(R=v.charCodeAt(P),E&&37===R&&P+2<D&&/^[0-9a-f]{2}$/i.test(v.slice(P+1,P+3)))F+=v.slice(P,P+3),P+=2;else if(R<128)F+=O[R];else if(R>=55296&&R<=57343){if(R>=55296&&R<=56319&&P+1<D&&(M=v.charCodeAt(P+1))>=56320&&M<=57343){F+=encodeURIComponent(v[P]+v[P+1]),P++;continue}F+="%EF%BF%BD"}else F+=encodeURIComponent(v[P]);return F}encode.defaultChars=";/?:@&=+$,-_.!~*'()#",encode.componentChars="-_.!~*'()",v.exports=encode},975757:v=>{"use strict";v.exports=function format(v){var S="";return S+=v.protocol||"",S+=v.slashes?"//":"",S+=v.auth?v.auth+"@":"",v.hostname&&-1!==v.hostname.indexOf(":")?S+="["+v.hostname+"]":S+=v.hostname||"",S+=v.port?":"+v.port:"",S+=v.pathname||"",S+=v.search||"",S+=v.hash||""}},647896:(v,S,_)=>{"use strict";v.exports.encode=_(459444),v.exports.decode=_(331548),v.exports.format=_(975757),v.exports.parse=_(948235)},948235:v=>{"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var S=/^([a-z0-9.+-]+:)/i,_=/:[0-9]*$/,E=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,P=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),D=["'"].concat(P),R=["%","/","?",";","#"].concat(D),M=["/","?","#"],O=/^[+a-z0-9A-Z_-]{0,63}$/,F=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,N={javascript:!0,"javascript:":!0},L={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};Url.prototype.parse=function(v,_){var P,D,U,V,G,W=v;if(W=W.trim(),!_&&1===v.split("#").length){var $=E.exec(W);if($)return this.pathname=$[1],$[2]&&(this.search=$[2]),this}var X=S.exec(W);if(X&&(U=(X=X[0]).toLowerCase(),this.protocol=X,W=W.substr(X.length)),(_||X||W.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(G="//"===W.substr(0,2))||X&&N[X]||(W=W.substr(2),this.slashes=!0)),!N[X]&&(G||X&&!L[X])){var Y,J,Z=-1;for(P=0;P<M.length;P++)-1!==(V=W.indexOf(M[P]))&&(-1===Z||V<Z)&&(Z=V);for(-1!==(J=-1===Z?W.lastIndexOf("@"):W.lastIndexOf("@",Z))&&(Y=W.slice(0,J),W=W.slice(J+1),this.auth=Y),Z=-1,P=0;P<R.length;P++)-1!==(V=W.indexOf(R[P]))&&(-1===Z||V<Z)&&(Z=V);-1===Z&&(Z=W.length),":"===W[Z-1]&&Z--;var Q=W.slice(0,Z);W=W.slice(Z),this.parseHost(Q),this.hostname=this.hostname||"";var tt="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!tt){var et=this.hostname.split(/\./);for(P=0,D=et.length;P<D;P++){var rt=et[P];if(rt&&!rt.match(O)){for(var nt="",it=0,st=rt.length;it<st;it++)rt.charCodeAt(it)>127?nt+="x":nt+=rt[it];if(!nt.match(O)){var ot=et.slice(0,P),at=et.slice(P+1),ct=rt.match(F);ct&&(ot.push(ct[1]),at.unshift(ct[2])),at.length&&(W=at.join(".")+W),this.hostname=ot.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),tt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var ut=W.indexOf("#");-1!==ut&&(this.hash=W.substr(ut),W=W.slice(0,ut));var ht=W.indexOf("?");return-1!==ht&&(this.search=W.substr(ht),W=W.slice(0,ht)),W&&(this.pathname=W),L[U]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Url.prototype.parseHost=function(v){var S=_.exec(v);S&&(":"!==(S=S[0])&&(this.port=S.substr(1)),v=v.substr(0,v.length-S.length)),v&&(this.hostname=v)},v.exports=function urlParse(v,S){if(v&&v instanceof Url)return v;var _=new Url;return _.parse(v,S),_}},267289:(v,S,_)=>{"use strict";var E=_(868686),P=_(778353),D=_(181482),R=_(659335),M=_(596763),O=Array.prototype.slice,F=Function.prototype.apply,N=Object.create;_(749160).async=function(v,S){var _,L,U,V=N(null),G=N(null),W=S.memoized,$=S.original;S.memoized=R((function(v){var S=arguments,E=S[S.length-1];return"function"==typeof E&&(_=E,S=O.call(S,0,-1)),W.apply(L=this,U=S)}),W);try{D(S.memoized,W)}catch(v){}S.on("get",(function(v){var E,P,D;if(_){if(V[v])return"function"==typeof V[v]?V[v]=[V[v],_]:V[v].push(_),void(_=null);E=_,P=L,D=U,_=L=U=null,M((function(){var R;hasOwnProperty.call(G,v)?(R=G[v],S.emit("getasync",v,D,P),F.call(E,R.context,R.args)):(_=E,L=P,U=D,W.apply(P,D))}))}})),S.original=function(){var v,P,D,R;return _?(v=E(arguments),P=function self(v){var _,P,D=self.id;if(null!=D){if(delete self.id,_=V[D],delete V[D],_)return P=E(arguments),S.has(D)&&(v?S.delete(D):(G[D]={context:this,args:P},S.emit("setasync",D,"function"==typeof _?1:_.length))),"function"==typeof _?R=F.call(_,this,P):_.forEach((function(v){R=F.call(v,this,P)}),this),R}else M(F.bind(self,this,arguments))},D=_,_=L=U=null,v.push(P),R=F.call($,this,v),P.cb=D,_=P,R):F.call($,this,arguments)},S.on("set",(function(v){_?(V[v]?"function"==typeof V[v]?V[v]=[V[v],_.cb]:V[v].push(_.cb):V[v]=_.cb,delete _.cb,_.id=v,_=null):S.delete(v)})),S.on("delete",(function(v){var _;hasOwnProperty.call(V,v)||G[v]&&(_=G[v],delete G[v],S.emit("deleteasync",v,O.call(_.args,1)))})),S.on("clear",(function(){var v=G;G=N(null),S.emit("clearasync",P(v,(function(v){return O.call(v.args,1)})))}))}},482872:(v,S,_)=>{"use strict";var E=_(381498),P=_(50432),D=_(749160),R=Function.prototype.apply;D.dispose=function(v,S,_){var M;if(E(v),_.async&&D.async||_.promise&&D.promise)return S.on("deleteasync",M=function(S,_){R.call(v,null,_)}),void S.on("clearasync",(function(v){P(v,(function(v,S){M(S,v)}))}));S.on("delete",M=function(S,_){v(_)}),S.on("clear",(function(v){P(v,(function(v,S){M(S,v)}))}))}},260157:(v,S,_)=>{"use strict";var E=_(868686),P=_(50432),D=_(596763),R=_(120878),M=_(636914),O=_(749160),F=Function.prototype,N=Math.max,L=Math.min,U=Object.create;O.maxAge=function(v,S,_){var V,G,W,$;(v=M(v))&&(V=U(null),G=_.async&&O.async||_.promise&&O.promise?"async":"",S.on("set"+G,(function(_){V[_]=setTimeout((function(){S.delete(_)}),v),"function"==typeof V[_].unref&&V[_].unref(),$&&($[_]&&"nextTick"!==$[_]&&clearTimeout($[_]),$[_]=setTimeout((function(){delete $[_]}),W),"function"==typeof $[_].unref&&$[_].unref())})),S.on("delete"+G,(function(v){clearTimeout(V[v]),delete V[v],$&&("nextTick"!==$[v]&&clearTimeout($[v]),delete $[v])})),_.preFetch&&(W=!0===_.preFetch||isNaN(_.preFetch)?.333:N(L(Number(_.preFetch),1),0))&&($={},W=(1-W)*v,S.on("get"+G,(function(v,P,M){$[v]||($[v]="nextTick",D((function(){var D;"nextTick"===$[v]&&(delete $[v],S.delete(v),_.async&&(P=E(P)).push(F),D=S.memoized.apply(M,P),_.promise&&R(D)&&("function"==typeof D.done?D.done(F,F):D.then(F,F)))})))}))),S.on("clear"+G,(function(){P(V,(function(v){clearTimeout(v)})),V={},$&&(P($,(function(v){"nextTick"!==v&&clearTimeout(v)})),$={})})))}},373155:(v,S,_)=>{"use strict";var E=_(487480),P=_(915581),D=_(749160);D.max=function(v,S,_){var R,M,O;(v=E(v))&&(M=P(v),R=_.async&&D.async||_.promise&&D.promise?"async":"",S.on("set"+R,O=function(v){void 0!==(v=M.hit(v))&&S.delete(v)}),S.on("get"+R,O),S.on("delete"+R,M.delete),S.on("clear"+R,M.clear))}},655344:(v,S,_)=>{"use strict";var E=_(778353),P=_(411379),D=_(248725),R=_(629409),M=_(120878),O=_(596763),F=Object.create,N=P("then","then:finally","done","done:finally");_(749160).promise=function(v,S){var _=F(null),P=F(null),L=F(null);if(!0===v)v=null;else if(v=D(v),!N[v])throw new TypeError("'"+R(v)+"' is not valid promise mode");S.on("set",(function(E,D,R){var F=!1;if(!M(R))return P[E]=R,void S.emit("setasync",E,1);_[E]=1,L[E]=R;var onSuccess=function(v){var D=_[E];if(F)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");D&&(delete _[E],P[E]=v,S.emit("setasync",E,D))},onFailure=function(){F=!0,_[E]&&(delete _[E],delete L[E],S.delete(E))},N=v;if(N||(N="then"),"then"===N){var nextTickFailure=function(){O(onFailure)};"function"==typeof(R=R.then((function(v){O(onSuccess.bind(this,v))}),nextTickFailure)).finally&&R.finally(nextTickFailure)}else if("done"===N){if("function"!=typeof R.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");R.done(onSuccess,onFailure)}else if("done:finally"===N){if("function"!=typeof R.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof R.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");R.done(onSuccess),R.finally(onFailure)}})),S.on("get",(function(v,E,P){var D;if(_[v])++_[v];else{D=L[v];var emit=function(){S.emit("getasync",v,E,P)};M(D)?"function"==typeof D.done?D.done(emit):D.then((function(){O(emit)})):emit()}})),S.on("delete",(function(v){if(delete L[v],_[v])delete _[v];else if(hasOwnProperty.call(P,v)){var E=P[v];delete P[v],S.emit("deleteasync",v,[E])}})),S.on("clear",(function(){var v=P;P=F(null),_=F(null),L=F(null),S.emit("clearasync",E(v,(function(v){return[v]})))}))}},387061:(v,S,_)=>{"use strict";var E=_(570),P=_(749160),D=Object.create,R=Object.defineProperties;P.refCounter=function(v,S,_){var M,O;M=D(null),O=_.async&&P.async||_.promise&&P.promise?"async":"",S.on("set"+O,(function(v,S){M[v]=S||1})),S.on("get"+O,(function(v){++M[v]})),S.on("delete"+O,(function(v){delete M[v]})),S.on("clear"+O,(function(){M={}})),R(S.memoized,{deleteRef:E((function(){var v=S.get(arguments);return null===v?null:M[v]?! --M[v]&&(S.delete(v),!0):null})),getRefCount:E((function(){var v=S.get(arguments);return null===v?0:M[v]?M[v]:0}))})}},344145:(v,S,_)=>{"use strict";var E=_(862939),P=_(388014),D=_(443737);v.exports=function(v){var S,R=E(arguments[1]);return R.normalizer||0!==(S=R.length=P(R.length,v.length,R.async))&&(R.primitive?!1===S?R.normalizer=_(471647):S>1&&(R.normalizer=_(433673)(S)):R.normalizer=!1===S?_(410902)():1===S?_(917576)():_(20901)(S)),R.async&&_(267289),R.promise&&_(655344),R.dispose&&_(482872),R.maxAge&&_(260157),R.max&&_(373155),R.refCounter&&_(387061),D(v,R)}},700618:(v,S,_)=>{"use strict";var E=_(702479),P=_(659335),D=_(570),R=_(292933).methods,M=_(76072),O=_(488131),F=Function.prototype.apply,N=Function.prototype.call,L=Object.create,U=Object.defineProperties,V=R.on,G=R.emit;v.exports=function(v,S,_){var R,W,$,X,Y,J,Z,Q,tt,et,rt,nt,it,st,ot,at=L(null);return W=!1!==S?S:isNaN(v.length)?1:v.length,_.normalizer&&(et=O(_.normalizer),$=et.get,X=et.set,Y=et.delete,J=et.clear),null!=_.resolvers&&(ot=M(_.resolvers)),st=$?P((function(S){var _,P,D=arguments;if(ot&&(D=ot(D)),null!==(_=$(D))&&hasOwnProperty.call(at,_))return rt&&R.emit("get",_,D,this),at[_];if(P=1===D.length?N.call(v,this,D[0]):F.call(v,this,D),null===_){if(null!==(_=$(D)))throw E("Circular invocation","CIRCULAR_INVOCATION");_=X(D)}else if(hasOwnProperty.call(at,_))throw E("Circular invocation","CIRCULAR_INVOCATION");return at[_]=P,nt&&R.emit("set",_,null,P),P}),W):0===S?function(){var S;if(hasOwnProperty.call(at,"data"))return rt&&R.emit("get","data",arguments,this),at.data;if(S=arguments.length?F.call(v,this,arguments):N.call(v,this),hasOwnProperty.call(at,"data"))throw E("Circular invocation","CIRCULAR_INVOCATION");return at.data=S,nt&&R.emit("set","data",null,S),S}:function(S){var _,P,D=arguments;if(ot&&(D=ot(arguments)),P=String(D[0]),hasOwnProperty.call(at,P))return rt&&R.emit("get",P,D,this),at[P];if(_=1===D.length?N.call(v,this,D[0]):F.call(v,this,D),hasOwnProperty.call(at,P))throw E("Circular invocation","CIRCULAR_INVOCATION");return at[P]=_,nt&&R.emit("set",P,null,_),_},R={original:v,memoized:st,profileName:_.profileName,get:function(v){return ot&&(v=ot(v)),$?$(v):String(v[0])},has:function(v){return hasOwnProperty.call(at,v)},delete:function(v){var S;hasOwnProperty.call(at,v)&&(Y&&Y(v),S=at[v],delete at[v],it&&R.emit("delete",v,S))},clear:function(){var v=at;J&&J(),at=L(null),R.emit("clear",v)},on:function(v,S){return"get"===v?rt=!0:"set"===v?nt=!0:"delete"===v&&(it=!0),V.call(this,v,S)},emit:G,updateEnv:function(){v=R.original}},Z=$?P((function(v){var S,_=arguments;ot&&(_=ot(_)),null!==(S=$(_))&&R.delete(S)}),W):0===S?function(){return R.delete("data")}:function(v){return ot&&(v=ot(arguments)[0]),R.delete(v)},Q=P((function(){var v,_=arguments;return 0===S?at.data:(ot&&(_=ot(_)),v=$?$(_):String(_[0]),at[v])})),tt=P((function(){var v,_=arguments;return 0===S?R.has("data"):(ot&&(_=ot(_)),null!==(v=$?$(_):String(_[0]))&&R.has(v))})),U(st,{__memoized__:D(!0),delete:D(Z),clear:D(R.clear),_get:D(Q),_has:D(tt)}),R}},749160:()=>{},388014:(v,S,_)=>{"use strict";var E=_(487480);v.exports=function(v,S,_){var P;return isNaN(v)?(P=S)>=0?_&&P?P-1:P:1:!1!==v&&E(v)}},488131:(v,S,_)=>{"use strict";var E=_(381498);v.exports=function(v){var S;return"function"==typeof v?{set:v,get:v}:(S={get:E(v.get)},void 0!==v.set?(S.set=E(v.set),v.delete&&(S.delete=E(v.delete)),v.clear&&(S.clear=E(v.clear)),S):(S.set=S.get,S))}},76072:(v,S,_)=>{"use strict";var E,P=_(514168),D=_(470291),R=_(381498),M=Array.prototype.slice;E=function(v){return this.map((function(S,_){return S?S(v[_]):v[_]})).concat(M.call(v,this.length))},v.exports=function(v){return(v=P(v)).forEach((function(v){D(v)&&R(v)})),E.bind(v)}},917576:(v,S,_)=>{"use strict";var E=_(76747);v.exports=function(){var v=0,S=[],_=[];return{get:function(v){var P=E.call(S,v[0]);return-1===P?null:_[P]},set:function(E){return S.push(E[0]),_.push(++v),v},delete:function(v){var P=E.call(_,v);-1!==P&&(S.splice(P,1),_.splice(P,1))},clear:function(){S=[],_=[]}}}},20901:(v,S,_)=>{"use strict";var E=_(76747),P=Object.create;v.exports=function(v){var S=0,_=[[],[]],D=P(null);return{get:function(S){for(var P,D=0,R=_;D<v-1;){if(-1===(P=E.call(R[0],S[D])))return null;R=R[1][P],++D}return-1===(P=E.call(R[0],S[D]))?null:R[1][P]||null},set:function(P){for(var R,M=0,O=_;M<v-1;)-1===(R=E.call(O[0],P[M]))&&(R=O[0].push(P[M])-1,O[1].push([[],[]])),O=O[1][R],++M;return-1===(R=E.call(O[0],P[M]))&&(R=O[0].push(P[M])-1),O[1][R]=++S,D[S]=P,S},delete:function(S){for(var P,R=0,M=_,O=[],F=D[S];R<v-1;){if(-1===(P=E.call(M[0],F[R])))return;O.push(M,P),M=M[1][P],++R}if(-1!==(P=E.call(M[0],F[R]))){for(S=M[1][P],M[0].splice(P,1),M[1].splice(P,1);!M[0].length&&O.length;)P=O.pop(),(M=O.pop())[0].splice(P,1),M[1].splice(P,1);delete D[S]}},clear:function(){_=[[],[]],D=P(null)}}}},433673:v=>{"use strict";v.exports=function(v){return v?function(S){for(var _=String(S[0]),E=0,P=v;--P;)_+=""+S[++E];return _}:function(){return""}}},410902:(v,S,_)=>{"use strict";var E=_(76747),P=Object.create;v.exports=function(){var v=0,S=[],_=P(null);return{get:function(v){var _,P=0,D=S,R=v.length;if(0===R)return D[R]||null;if(D=D[R]){for(;P<R-1;){if(-1===(_=E.call(D[0],v[P])))return null;D=D[1][_],++P}return-1===(_=E.call(D[0],v[P]))?null:D[1][_]||null}return null},set:function(P){var D,R=0,M=S,O=P.length;if(0===O)M[O]=++v;else{for(M[O]||(M[O]=[[],[]]),M=M[O];R<O-1;)-1===(D=E.call(M[0],P[R]))&&(D=M[0].push(P[R])-1,M[1].push([[],[]])),M=M[1][D],++R;-1===(D=E.call(M[0],P[R]))&&(D=M[0].push(P[R])-1),M[1][D]=++v}return _[v]=P,v},delete:function(v){var P,D=0,R=S,M=_[v],O=M.length,F=[];if(0===O)delete R[O];else if(R=R[O]){for(;D<O-1;){if(-1===(P=E.call(R[0],M[D])))return;F.push(R,P),R=R[1][P],++D}if(-1===(P=E.call(R[0],M[D])))return;for(v=R[1][P],R[0].splice(P,1),R[1].splice(P,1);!R[0].length&&F.length;)P=F.pop(),(R=F.pop())[0].splice(P,1),R[1].splice(P,1)}delete _[v]},clear:function(){S=[],_=P(null)}}}},471647:v=>{"use strict";v.exports=function(v){var S,_,E=v.length;if(!E)return"";for(S=String(v[_=0]);--E;)S+=""+v[++_];return S}},443737:(v,S,_)=>{"use strict";var E=_(381498),P=_(50432),D=_(749160),R=_(700618),M=_(388014);v.exports=function self(v){var S,_,O;if(E(v),(S=Object(arguments[1])).async&&S.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(v,"__memoized__")&&!S.force?v:(_=M(S.length,v.length,S.async&&D.async),O=R(v,_,S),P(D,(function(v,_){S[_]&&v(S[_],O,S)})),self.__profiler__&&self.__profiler__(O),O.updateEnv(),O.memoized)}},394220:(v,S,_)=>{"use strict";var E=_(901048).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.InvalidStatusCodeError=S.InvalidCertError=void 0;const P=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class InvalidCertError extends Error{constructor(v,S){super(v),this.fingerprint256=S}}S.InvalidCertError=InvalidCertError;class InvalidStatusCodeError extends Error{constructor(v){super(`Request Failed. Status Code: ${v}`),this.statusCode=v}}function detectType(v,S){if(!S||"text"===S||"json"===S)try{let _=new TextDecoder("utf8",{fatal:!0}).decode(v);if("text"===S)return _;try{return JSON.parse(_)}catch(v){if("json"===S)throw v;return _}}catch(v){if("text"===S||"json"===S)throw v}return v}S.InvalidStatusCodeError=InvalidStatusCodeError;let D={};function fetchNode(v,S){let R={...P,...S};const M=_(998938),O=_(715413),F=_(309193),{promisify:N}=_(749208),{resolve:L}=_(775442),U=!!/^https/.test(v);let V={method:R.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const compactFP=v=>v.replace(/:| /g,"").toLowerCase();if(R.keepAlive){const v={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},S=[U,U&&R.sslPinnedCertificates?.map((v=>compactFP(v))).sort()].join();V.agent=D[S]||(D[S]=new(U?O:M).Agent(v))}"json"===R.type&&(V.headers["Content-Type"]="application/json"),R.data&&(R.method||(V.method="POST"),V.body="json"===R.type?JSON.stringify(R.data):R.data),V.headers={...V.headers,...R.headers},R.sslAllowSelfSigned&&(V.rejectUnauthorized=!1);return new Promise(((S,_)=>{const handleError=async S=>{if(S&&"DEPTH_ZERO_SELF_SIGNED_CERT"===S.code)try{await fetchNode(v,{...R,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(v){v&&v.fingerprint256&&(S=new InvalidCertError(`Self-signed SSL certificate: ${v.fingerprint256}`,v.fingerprint256))}_(S)},P=(U?O:M).request(v,V,(P=>{P.on("error",handleError),(async()=>{try{S(await(async S=>{const _=S.statusCode;if(R.redirect&&300<=_&&_<400&&S.headers.location){if(10==R._redirectCount)throw new Error("Request failed. Too much redirects.");return R._redirectCount+=1,await fetchNode(L(v,S.headers.location),R)}if(R.expectStatusCode&&_!==R.expectStatusCode)throw S.resume(),new InvalidStatusCodeError(_);let P=[];for await(const v of S)P.push(v);let D=E.concat(P);const M=S.headers["content-encoding"];"br"===M&&(D=await N(F.brotliDecompress)(D)),"gzip"!==M&&"deflate"!==M||(D=await N(F.unzip)(D));const O=detectType(D,R.type);return R.full?{headers:S.headers,status:_,body:O}:O})(P))}catch(v){_(v)}})()}));P.on("error",handleError);const D=R.sslPinnedCertificates?.map((v=>compactFP(v))),mfetchSecureConnect=v=>{const S=compactFP(v.getPeerCertificate()?.fingerprint256||"");if((S||!v.isSessionReused())&&!D.includes(S))return P.emit("error",new InvalidCertError(`Invalid SSL certificate: ${S} Expected: ${D}`,S)),P.abort()};R.sslPinnedCertificates&&P.on("socket",(v=>{v.listeners("secureConnect").map((v=>(v.name||"").replace("bound ",""))).includes("mfetchSecureConnect")||v.on("secureConnect",mfetchSecureConnect.bind(null,v))})),R.keepAlive&&P.setNoDelay(!0),V.body&&P.write(V.body),P.end()}))}const R=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map((v=>v.toLowerCase()))),M=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map((v=>v.toLowerCase())));async function fetchBrowser(v,S){let _={...P,...S};const E=new Headers;"json"===_.type&&E.set("Content-Type","application/json");let D=new URL(v);if(D.username){const v=btoa(`${D.username}:${D.password}`);E.set("Authorization",`Basic ${v}`),D.username="",D.password=""}v=""+D;for(let v in _.headers){const S=v.toLowerCase();(R.has(S)||_.cors&&!M.has(S))&&E.set(v,_.headers[v])}let O={headers:E,redirect:_.redirect?"follow":"manual"};_.referrer||(O.referrerPolicy="no-referrer"),_.cors&&(O.mode="cors"),_.data&&(_.method||(O.method="POST"),O.body="json"===_.type?JSON.stringify(_.data):_.data);const F=await fetch(v,O);if(_.expectStatusCode&&F.status!==_.expectStatusCode)throw new InvalidStatusCodeError(F.status);const N=detectType(new Uint8Array(await F.arrayBuffer()),_.type);return _.full?{headers:Object.fromEntries(F.headers.entries()),status:F.status,body:N}:N}const O=!!({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions.node&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions.v8);S.default=function fetchUrl(v,S){return(O?fetchNode:fetchBrowser)(v,S)}},721929:(v,S,_)=>{var E=_(756325),P=_(247048);function MillerRabin(v){this.rand=v||new P.Rand}v.exports=MillerRabin,MillerRabin.create=function create(v){return new MillerRabin(v)},MillerRabin.prototype._randbelow=function _randbelow(v){var S=v.bitLength(),_=Math.ceil(S/8);do{var P=new E(this.rand.generate(_))}while(P.cmp(v)>=0);return P},MillerRabin.prototype._randrange=function _randrange(v,S){var _=S.sub(v);return v.add(this._randbelow(_))},MillerRabin.prototype.test=function test(v,S,_){var P=v.bitLength(),D=E.mont(v),R=new E(1).toRed(D);S||(S=Math.max(1,P/48|0));for(var M=v.subn(1),O=0;!M.testn(O);O++);for(var F=v.shrn(O),N=M.toRed(D);S>0;S--){var L=this._randrange(new E(2),M);_&&_(L);var U=L.toRed(D).redPow(F);if(0!==U.cmp(R)&&0!==U.cmp(N)){for(var V=1;V<O;V++){if(0===(U=U.redSqr()).cmp(R))return!1;if(0===U.cmp(N))break}if(V===O)return!1}}return!0},MillerRabin.prototype.getDivisor=function getDivisor(v,S){var _=v.bitLength(),P=E.mont(v),D=new E(1).toRed(P);S||(S=Math.max(1,_/48|0));for(var R=v.subn(1),M=0;!R.testn(M);M++);for(var O=v.shrn(M),F=R.toRed(P);S>0;S--){var N=this._randrange(new E(2),R),L=v.gcd(N);if(0!==L.cmpn(1))return L;var U=N.toRed(P).redPow(O);if(0!==U.cmp(D)&&0!==U.cmp(F)){for(var V=1;V<M;V++){if(0===(U=U.redSqr()).cmp(D))return U.fromRed().subn(1).gcd(v);if(0===U.cmp(F))break}if(V===M)return(U=U.redSqr()).fromRed().subn(1).gcd(v)}}return!1}},756325:function(v,S,_){!function(v,S){"use strict";function assert(v,S){if(!v)throw new Error(S||"Assertion failed")}function inherits(v,S){v.super_=S;var TempCtor=function(){};TempCtor.prototype=S.prototype,v.prototype=new TempCtor,v.prototype.constructor=v}function BN(v,S,_){if(BN.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,null!==v&&("le"!==S&&"be"!==S||(_=S,S=10),this._init(v||0,S||10,_||"be"))}var E;"object"==typeof v?v.exports=BN:S.BN=BN,BN.BN=BN,BN.wordSize=26;try{E="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:_(721009).Buffer}catch(v){}function parseHex4Bits(v,S){var _=v.charCodeAt(S);return _>=65&&_<=70?_-55:_>=97&&_<=102?_-87:_-48&15}function parseHexByte(v,S,_){var E=parseHex4Bits(v,_);return _-1>=S&&(E|=parseHex4Bits(v,_-1)<<4),E}function parseBase(v,S,_,E){for(var P=0,D=Math.min(v.length,_),R=S;R<D;R++){var M=v.charCodeAt(R)-48;P*=E,P+=M>=49?M-49+10:M>=17?M-17+10:M}return P}BN.isBN=function isBN(v){return v instanceof BN||null!==v&&"object"==typeof v&&v.constructor.wordSize===BN.wordSize&&Array.isArray(v.words)},BN.max=function max(v,S){return v.cmp(S)>0?v:S},BN.min=function min(v,S){return v.cmp(S)<0?v:S},BN.prototype._init=function init(v,S,_){if("number"==typeof v)return this._initNumber(v,S,_);if("object"==typeof v)return this._initArray(v,S,_);"hex"===S&&(S=16),assert(S===(0|S)&&S>=2&&S<=36);var E=0;"-"===(v=v.toString().replace(/\s+/g,""))[0]&&(E++,this.negative=1),E<v.length&&(16===S?this._parseHex(v,E,_):(this._parseBase(v,S,E),"le"===_&&this._initArray(this.toArray(),S,_)))},BN.prototype._initNumber=function _initNumber(v,S,_){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[67108863&v],this.length=1):v<4503599627370496?(this.words=[67108863&v,v/67108864&67108863],this.length=2):(assert(v<9007199254740992),this.words=[67108863&v,v/67108864&67108863,1],this.length=3),"le"===_&&this._initArray(this.toArray(),S,_)},BN.prototype._initArray=function _initArray(v,S,_){if(assert("number"==typeof v.length),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var P,D,R=0;if("be"===_)for(E=v.length-1,P=0;E>=0;E-=3)D=v[E]|v[E-1]<<8|v[E-2]<<16,this.words[P]|=D<<R&67108863,this.words[P+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,P++);else if("le"===_)for(E=0,P=0;E<v.length;E+=3)D=v[E]|v[E+1]<<8|v[E+2]<<16,this.words[P]|=D<<R&67108863,this.words[P+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,P++);return this.strip()},BN.prototype._parseHex=function _parseHex(v,S,_){this.length=Math.ceil((v.length-S)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var P,D=0,R=0;if("be"===_)for(E=v.length-1;E>=S;E-=2)P=parseHexByte(v,S,E)<<D,this.words[R]|=67108863&P,D>=18?(D-=18,R+=1,this.words[R]|=P>>>26):D+=8;else for(E=(v.length-S)%2==0?S+1:S;E<v.length;E+=2)P=parseHexByte(v,S,E)<<D,this.words[R]|=67108863&P,D>=18?(D-=18,R+=1,this.words[R]|=P>>>26):D+=8;this.strip()},BN.prototype._parseBase=function _parseBase(v,S,_){this.words=[0],this.length=1;for(var E=0,P=1;P<=67108863;P*=S)E++;E--,P=P/S|0;for(var D=v.length-_,R=D%E,M=Math.min(D,D-R)+_,O=0,F=_;F<M;F+=E)O=parseBase(v,F,F+E,S),this.imuln(P),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(0!==R){var N=1;for(O=parseBase(v,F,v.length,S),F=0;F<R;F++)N*=S;this.imuln(N),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},BN.prototype.copy=function copy(v){v.words=new Array(this.length);for(var S=0;S<this.length;S++)v.words[S]=this.words[S];v.length=this.length,v.negative=this.negative,v.red=this.red},BN.prototype.clone=function clone(){var v=new BN(null);return this.copy(v),v},BN.prototype._expand=function _expand(v){for(;this.length<v;)this.words[this.length++]=0;return this},BN.prototype.strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var P=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(v,S,_){_.negative=S.negative^v.negative;var E=v.length+S.length|0;_.length=E,E=E-1|0;var P=0|v.words[0],D=0|S.words[0],R=P*D,M=67108863&R,O=R/67108864|0;_.words[0]=M;for(var F=1;F<E;F++){for(var N=O>>>26,L=67108863&O,U=Math.min(F,S.length-1),V=Math.max(0,F-v.length+1);V<=U;V++){var G=F-V|0;N+=(R=(P=0|v.words[G])*(D=0|S.words[V])+L)/67108864|0,L=67108863&R}_.words[F]=0|L,O=0|N}return 0!==O?_.words[F]=0|O:_.length--,_.strip()}BN.prototype.toString=function toString(v,S){var _;if(S=0|S||1,16===(v=v||10)||"hex"===v){_="";for(var E=0,M=0,O=0;O<this.length;O++){var F=this.words[O],N=(16777215&(F<<E|M)).toString(16);_=0!==(M=F>>>24-E&16777215)||O!==this.length-1?P[6-N.length]+N+_:N+_,(E+=2)>=26&&(E-=26,O--)}for(0!==M&&(_=M.toString(16)+_);_.length%S!=0;)_="0"+_;return 0!==this.negative&&(_="-"+_),_}if(v===(0|v)&&v>=2&&v<=36){var L=D[v],U=R[v];_="";var V=this.clone();for(V.negative=0;!V.isZero();){var G=V.modn(U).toString(v);_=(V=V.idivn(U)).isZero()?G+_:P[L-G.length]+G+_}for(this.isZero()&&(_="0"+_);_.length%S!=0;)_="0"+_;return 0!==this.negative&&(_="-"+_),_}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var v=this.words[0];return 2===this.length?v+=67108864*this.words[1]:3===this.length&&1===this.words[2]?v+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-v:v},BN.prototype.toJSON=function toJSON(){return this.toString(16)},BN.prototype.toBuffer=function toBuffer(v,S){return assert(void 0!==E),this.toArrayLike(E,v,S)},BN.prototype.toArray=function toArray(v,S){return this.toArrayLike(Array,v,S)},BN.prototype.toArrayLike=function toArrayLike(v,S,_){var E=this.byteLength(),P=_||Math.max(1,E);assert(E<=P,"byte array longer than desired length"),assert(P>0,"Requested array length <= 0"),this.strip();var D,R,M="le"===S,O=new v(P),F=this.clone();if(M){for(R=0;!F.isZero();R++)D=F.andln(255),F.iushrn(8),O[R]=D;for(;R<P;R++)O[R]=0}else{for(R=0;R<P-E;R++)O[R]=0;for(R=0;!F.isZero();R++)D=F.andln(255),F.iushrn(8),O[P-R-1]=D}return O},Math.clz32?BN.prototype._countBits=function _countBits(v){return 32-Math.clz32(v)}:BN.prototype._countBits=function _countBits(v){var S=v,_=0;return S>=4096&&(_+=13,S>>>=13),S>=64&&(_+=7,S>>>=7),S>=8&&(_+=4,S>>>=4),S>=2&&(_+=2,S>>>=2),_+S},BN.prototype._zeroBits=function _zeroBits(v){if(0===v)return 26;var S=v,_=0;return 8191&S||(_+=13,S>>>=13),127&S||(_+=7,S>>>=7),15&S||(_+=4,S>>>=4),3&S||(_+=2,S>>>=2),1&S||_++,_},BN.prototype.bitLength=function bitLength(){var v=this.words[this.length-1],S=this._countBits(v);return 26*(this.length-1)+S},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var v=0,S=0;S<this.length;S++){var _=this._zeroBits(this.words[S]);if(v+=_,26!==_)break}return v},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(v){return 0!==this.negative?this.abs().inotn(v).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]|v.words[S];return this.strip()},BN.prototype.ior=function ior(v){return assert(!(this.negative|v.negative)),this.iuor(v)},BN.prototype.or=function or(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},BN.prototype.uor=function uor(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},BN.prototype.iuand=function iuand(v){var S;S=this.length>v.length?v:this;for(var _=0;_<S.length;_++)this.words[_]=this.words[_]&v.words[_];return this.length=S.length,this.strip()},BN.prototype.iand=function iand(v){return assert(!(this.negative|v.negative)),this.iuand(v)},BN.prototype.and=function and(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},BN.prototype.uand=function uand(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},BN.prototype.iuxor=function iuxor(v){var S,_;this.length>v.length?(S=this,_=v):(S=v,_=this);for(var E=0;E<_.length;E++)this.words[E]=S.words[E]^_.words[E];if(this!==S)for(;E<S.length;E++)this.words[E]=S.words[E];return this.length=S.length,this.strip()},BN.prototype.ixor=function ixor(v){return assert(!(this.negative|v.negative)),this.iuxor(v)},BN.prototype.xor=function xor(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},BN.prototype.uxor=function uxor(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},BN.prototype.inotn=function inotn(v){assert("number"==typeof v&&v>=0);var S=0|Math.ceil(v/26),_=v%26;this._expand(S),_>0&&S--;for(var E=0;E<S;E++)this.words[E]=67108863&~this.words[E];return _>0&&(this.words[E]=~this.words[E]&67108863>>26-_),this.strip()},BN.prototype.notn=function notn(v){return this.clone().inotn(v)},BN.prototype.setn=function setn(v,S){assert("number"==typeof v&&v>=0);var _=v/26|0,E=v%26;return this._expand(_+1),this.words[_]=S?this.words[_]|1<<E:this.words[_]&~(1<<E),this.strip()},BN.prototype.iadd=function iadd(v){var S,_,E;if(0!==this.negative&&0===v.negative)return this.negative=0,S=this.isub(v),this.negative^=1,this._normSign();if(0===this.negative&&0!==v.negative)return v.negative=0,S=this.isub(v),v.negative=1,S._normSign();this.length>v.length?(_=this,E=v):(_=v,E=this);for(var P=0,D=0;D<E.length;D++)S=(0|_.words[D])+(0|E.words[D])+P,this.words[D]=67108863&S,P=S>>>26;for(;0!==P&&D<_.length;D++)S=(0|_.words[D])+P,this.words[D]=67108863&S,P=S>>>26;if(this.length=_.length,0!==P)this.words[this.length]=P,this.length++;else if(_!==this)for(;D<_.length;D++)this.words[D]=_.words[D];return this},BN.prototype.add=function add(v){var S;return 0!==v.negative&&0===this.negative?(v.negative=0,S=this.sub(v),v.negative^=1,S):0===v.negative&&0!==this.negative?(this.negative=0,S=v.sub(this),this.negative=1,S):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},BN.prototype.isub=function isub(v){if(0!==v.negative){v.negative=0;var S=this.iadd(v);return v.negative=1,S._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var _,E,P=this.cmp(v);if(0===P)return this.negative=0,this.length=1,this.words[0]=0,this;P>0?(_=this,E=v):(_=v,E=this);for(var D=0,R=0;R<E.length;R++)D=(S=(0|_.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&S;for(;0!==D&&R<_.length;R++)D=(S=(0|_.words[R])+D)>>26,this.words[R]=67108863&S;if(0===D&&R<_.length&&_!==this)for(;R<_.length;R++)this.words[R]=_.words[R];return this.length=Math.max(this.length,R),_!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function sub(v){return this.clone().isub(v)};var M=function comb10MulTo(v,S,_){var E,P,D,R=v.words,M=S.words,O=_.words,F=0,N=0|R[0],L=8191&N,U=N>>>13,V=0|R[1],G=8191&V,W=V>>>13,$=0|R[2],X=8191&$,Y=$>>>13,J=0|R[3],Z=8191&J,Q=J>>>13,tt=0|R[4],et=8191&tt,rt=tt>>>13,nt=0|R[5],it=8191&nt,st=nt>>>13,ot=0|R[6],at=8191&ot,ct=ot>>>13,ut=0|R[7],ht=8191&ut,dt=ut>>>13,ft=0|R[8],pt=8191&ft,mt=ft>>>13,yt=0|R[9],vt=8191&yt,bt=yt>>>13,St=0|M[0],wt=8191&St,Tt=St>>>13,xt=0|M[1],_t=8191&xt,Et=xt>>>13,Ct=0|M[2],At=8191&Ct,It=Ct>>>13,Pt=0|M[3],Dt=8191&Pt,Bt=Pt>>>13,Rt=0|M[4],Mt=8191&Rt,Ot=Rt>>>13,kt=0|M[5],Ft=8191&kt,Nt=kt>>>13,Ht=0|M[6],Lt=8191&Ht,jt=Ht>>>13,Kt=0|M[7],Ut=8191&Kt,Vt=Kt>>>13,qt=0|M[8],Gt=8191&qt,zt=qt>>>13,Wt=0|M[9],$t=8191&Wt,Xt=Wt>>>13;_.negative=v.negative^S.negative,_.length=19;var Yt=(F+(E=Math.imul(L,wt))|0)+((8191&(P=(P=Math.imul(L,Tt))+Math.imul(U,wt)|0))<<13)|0;F=((D=Math.imul(U,Tt))+(P>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,E=Math.imul(G,wt),P=(P=Math.imul(G,Tt))+Math.imul(W,wt)|0,D=Math.imul(W,Tt);var Jt=(F+(E=E+Math.imul(L,_t)|0)|0)+((8191&(P=(P=P+Math.imul(L,Et)|0)+Math.imul(U,_t)|0))<<13)|0;F=((D=D+Math.imul(U,Et)|0)+(P>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,E=Math.imul(X,wt),P=(P=Math.imul(X,Tt))+Math.imul(Y,wt)|0,D=Math.imul(Y,Tt),E=E+Math.imul(G,_t)|0,P=(P=P+Math.imul(G,Et)|0)+Math.imul(W,_t)|0,D=D+Math.imul(W,Et)|0;var Zt=(F+(E=E+Math.imul(L,At)|0)|0)+((8191&(P=(P=P+Math.imul(L,It)|0)+Math.imul(U,At)|0))<<13)|0;F=((D=D+Math.imul(U,It)|0)+(P>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,E=Math.imul(Z,wt),P=(P=Math.imul(Z,Tt))+Math.imul(Q,wt)|0,D=Math.imul(Q,Tt),E=E+Math.imul(X,_t)|0,P=(P=P+Math.imul(X,Et)|0)+Math.imul(Y,_t)|0,D=D+Math.imul(Y,Et)|0,E=E+Math.imul(G,At)|0,P=(P=P+Math.imul(G,It)|0)+Math.imul(W,At)|0,D=D+Math.imul(W,It)|0;var Qt=(F+(E=E+Math.imul(L,Dt)|0)|0)+((8191&(P=(P=P+Math.imul(L,Bt)|0)+Math.imul(U,Dt)|0))<<13)|0;F=((D=D+Math.imul(U,Bt)|0)+(P>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,E=Math.imul(et,wt),P=(P=Math.imul(et,Tt))+Math.imul(rt,wt)|0,D=Math.imul(rt,Tt),E=E+Math.imul(Z,_t)|0,P=(P=P+Math.imul(Z,Et)|0)+Math.imul(Q,_t)|0,D=D+Math.imul(Q,Et)|0,E=E+Math.imul(X,At)|0,P=(P=P+Math.imul(X,It)|0)+Math.imul(Y,At)|0,D=D+Math.imul(Y,It)|0,E=E+Math.imul(G,Dt)|0,P=(P=P+Math.imul(G,Bt)|0)+Math.imul(W,Dt)|0,D=D+Math.imul(W,Bt)|0;var te=(F+(E=E+Math.imul(L,Mt)|0)|0)+((8191&(P=(P=P+Math.imul(L,Ot)|0)+Math.imul(U,Mt)|0))<<13)|0;F=((D=D+Math.imul(U,Ot)|0)+(P>>>13)|0)+(te>>>26)|0,te&=67108863,E=Math.imul(it,wt),P=(P=Math.imul(it,Tt))+Math.imul(st,wt)|0,D=Math.imul(st,Tt),E=E+Math.imul(et,_t)|0,P=(P=P+Math.imul(et,Et)|0)+Math.imul(rt,_t)|0,D=D+Math.imul(rt,Et)|0,E=E+Math.imul(Z,At)|0,P=(P=P+Math.imul(Z,It)|0)+Math.imul(Q,At)|0,D=D+Math.imul(Q,It)|0,E=E+Math.imul(X,Dt)|0,P=(P=P+Math.imul(X,Bt)|0)+Math.imul(Y,Dt)|0,D=D+Math.imul(Y,Bt)|0,E=E+Math.imul(G,Mt)|0,P=(P=P+Math.imul(G,Ot)|0)+Math.imul(W,Mt)|0,D=D+Math.imul(W,Ot)|0;var ee=(F+(E=E+Math.imul(L,Ft)|0)|0)+((8191&(P=(P=P+Math.imul(L,Nt)|0)+Math.imul(U,Ft)|0))<<13)|0;F=((D=D+Math.imul(U,Nt)|0)+(P>>>13)|0)+(ee>>>26)|0,ee&=67108863,E=Math.imul(at,wt),P=(P=Math.imul(at,Tt))+Math.imul(ct,wt)|0,D=Math.imul(ct,Tt),E=E+Math.imul(it,_t)|0,P=(P=P+Math.imul(it,Et)|0)+Math.imul(st,_t)|0,D=D+Math.imul(st,Et)|0,E=E+Math.imul(et,At)|0,P=(P=P+Math.imul(et,It)|0)+Math.imul(rt,At)|0,D=D+Math.imul(rt,It)|0,E=E+Math.imul(Z,Dt)|0,P=(P=P+Math.imul(Z,Bt)|0)+Math.imul(Q,Dt)|0,D=D+Math.imul(Q,Bt)|0,E=E+Math.imul(X,Mt)|0,P=(P=P+Math.imul(X,Ot)|0)+Math.imul(Y,Mt)|0,D=D+Math.imul(Y,Ot)|0,E=E+Math.imul(G,Ft)|0,P=(P=P+Math.imul(G,Nt)|0)+Math.imul(W,Ft)|0,D=D+Math.imul(W,Nt)|0;var re=(F+(E=E+Math.imul(L,Lt)|0)|0)+((8191&(P=(P=P+Math.imul(L,jt)|0)+Math.imul(U,Lt)|0))<<13)|0;F=((D=D+Math.imul(U,jt)|0)+(P>>>13)|0)+(re>>>26)|0,re&=67108863,E=Math.imul(ht,wt),P=(P=Math.imul(ht,Tt))+Math.imul(dt,wt)|0,D=Math.imul(dt,Tt),E=E+Math.imul(at,_t)|0,P=(P=P+Math.imul(at,Et)|0)+Math.imul(ct,_t)|0,D=D+Math.imul(ct,Et)|0,E=E+Math.imul(it,At)|0,P=(P=P+Math.imul(it,It)|0)+Math.imul(st,At)|0,D=D+Math.imul(st,It)|0,E=E+Math.imul(et,Dt)|0,P=(P=P+Math.imul(et,Bt)|0)+Math.imul(rt,Dt)|0,D=D+Math.imul(rt,Bt)|0,E=E+Math.imul(Z,Mt)|0,P=(P=P+Math.imul(Z,Ot)|0)+Math.imul(Q,Mt)|0,D=D+Math.imul(Q,Ot)|0,E=E+Math.imul(X,Ft)|0,P=(P=P+Math.imul(X,Nt)|0)+Math.imul(Y,Ft)|0,D=D+Math.imul(Y,Nt)|0,E=E+Math.imul(G,Lt)|0,P=(P=P+Math.imul(G,jt)|0)+Math.imul(W,Lt)|0,D=D+Math.imul(W,jt)|0;var ne=(F+(E=E+Math.imul(L,Ut)|0)|0)+((8191&(P=(P=P+Math.imul(L,Vt)|0)+Math.imul(U,Ut)|0))<<13)|0;F=((D=D+Math.imul(U,Vt)|0)+(P>>>13)|0)+(ne>>>26)|0,ne&=67108863,E=Math.imul(pt,wt),P=(P=Math.imul(pt,Tt))+Math.imul(mt,wt)|0,D=Math.imul(mt,Tt),E=E+Math.imul(ht,_t)|0,P=(P=P+Math.imul(ht,Et)|0)+Math.imul(dt,_t)|0,D=D+Math.imul(dt,Et)|0,E=E+Math.imul(at,At)|0,P=(P=P+Math.imul(at,It)|0)+Math.imul(ct,At)|0,D=D+Math.imul(ct,It)|0,E=E+Math.imul(it,Dt)|0,P=(P=P+Math.imul(it,Bt)|0)+Math.imul(st,Dt)|0,D=D+Math.imul(st,Bt)|0,E=E+Math.imul(et,Mt)|0,P=(P=P+Math.imul(et,Ot)|0)+Math.imul(rt,Mt)|0,D=D+Math.imul(rt,Ot)|0,E=E+Math.imul(Z,Ft)|0,P=(P=P+Math.imul(Z,Nt)|0)+Math.imul(Q,Ft)|0,D=D+Math.imul(Q,Nt)|0,E=E+Math.imul(X,Lt)|0,P=(P=P+Math.imul(X,jt)|0)+Math.imul(Y,Lt)|0,D=D+Math.imul(Y,jt)|0,E=E+Math.imul(G,Ut)|0,P=(P=P+Math.imul(G,Vt)|0)+Math.imul(W,Ut)|0,D=D+Math.imul(W,Vt)|0;var ie=(F+(E=E+Math.imul(L,Gt)|0)|0)+((8191&(P=(P=P+Math.imul(L,zt)|0)+Math.imul(U,Gt)|0))<<13)|0;F=((D=D+Math.imul(U,zt)|0)+(P>>>13)|0)+(ie>>>26)|0,ie&=67108863,E=Math.imul(vt,wt),P=(P=Math.imul(vt,Tt))+Math.imul(bt,wt)|0,D=Math.imul(bt,Tt),E=E+Math.imul(pt,_t)|0,P=(P=P+Math.imul(pt,Et)|0)+Math.imul(mt,_t)|0,D=D+Math.imul(mt,Et)|0,E=E+Math.imul(ht,At)|0,P=(P=P+Math.imul(ht,It)|0)+Math.imul(dt,At)|0,D=D+Math.imul(dt,It)|0,E=E+Math.imul(at,Dt)|0,P=(P=P+Math.imul(at,Bt)|0)+Math.imul(ct,Dt)|0,D=D+Math.imul(ct,Bt)|0,E=E+Math.imul(it,Mt)|0,P=(P=P+Math.imul(it,Ot)|0)+Math.imul(st,Mt)|0,D=D+Math.imul(st,Ot)|0,E=E+Math.imul(et,Ft)|0,P=(P=P+Math.imul(et,Nt)|0)+Math.imul(rt,Ft)|0,D=D+Math.imul(rt,Nt)|0,E=E+Math.imul(Z,Lt)|0,P=(P=P+Math.imul(Z,jt)|0)+Math.imul(Q,Lt)|0,D=D+Math.imul(Q,jt)|0,E=E+Math.imul(X,Ut)|0,P=(P=P+Math.imul(X,Vt)|0)+Math.imul(Y,Ut)|0,D=D+Math.imul(Y,Vt)|0,E=E+Math.imul(G,Gt)|0,P=(P=P+Math.imul(G,zt)|0)+Math.imul(W,Gt)|0,D=D+Math.imul(W,zt)|0;var se=(F+(E=E+Math.imul(L,$t)|0)|0)+((8191&(P=(P=P+Math.imul(L,Xt)|0)+Math.imul(U,$t)|0))<<13)|0;F=((D=D+Math.imul(U,Xt)|0)+(P>>>13)|0)+(se>>>26)|0,se&=67108863,E=Math.imul(vt,_t),P=(P=Math.imul(vt,Et))+Math.imul(bt,_t)|0,D=Math.imul(bt,Et),E=E+Math.imul(pt,At)|0,P=(P=P+Math.imul(pt,It)|0)+Math.imul(mt,At)|0,D=D+Math.imul(mt,It)|0,E=E+Math.imul(ht,Dt)|0,P=(P=P+Math.imul(ht,Bt)|0)+Math.imul(dt,Dt)|0,D=D+Math.imul(dt,Bt)|0,E=E+Math.imul(at,Mt)|0,P=(P=P+Math.imul(at,Ot)|0)+Math.imul(ct,Mt)|0,D=D+Math.imul(ct,Ot)|0,E=E+Math.imul(it,Ft)|0,P=(P=P+Math.imul(it,Nt)|0)+Math.imul(st,Ft)|0,D=D+Math.imul(st,Nt)|0,E=E+Math.imul(et,Lt)|0,P=(P=P+Math.imul(et,jt)|0)+Math.imul(rt,Lt)|0,D=D+Math.imul(rt,jt)|0,E=E+Math.imul(Z,Ut)|0,P=(P=P+Math.imul(Z,Vt)|0)+Math.imul(Q,Ut)|0,D=D+Math.imul(Q,Vt)|0,E=E+Math.imul(X,Gt)|0,P=(P=P+Math.imul(X,zt)|0)+Math.imul(Y,Gt)|0,D=D+Math.imul(Y,zt)|0;var oe=(F+(E=E+Math.imul(G,$t)|0)|0)+((8191&(P=(P=P+Math.imul(G,Xt)|0)+Math.imul(W,$t)|0))<<13)|0;F=((D=D+Math.imul(W,Xt)|0)+(P>>>13)|0)+(oe>>>26)|0,oe&=67108863,E=Math.imul(vt,At),P=(P=Math.imul(vt,It))+Math.imul(bt,At)|0,D=Math.imul(bt,It),E=E+Math.imul(pt,Dt)|0,P=(P=P+Math.imul(pt,Bt)|0)+Math.imul(mt,Dt)|0,D=D+Math.imul(mt,Bt)|0,E=E+Math.imul(ht,Mt)|0,P=(P=P+Math.imul(ht,Ot)|0)+Math.imul(dt,Mt)|0,D=D+Math.imul(dt,Ot)|0,E=E+Math.imul(at,Ft)|0,P=(P=P+Math.imul(at,Nt)|0)+Math.imul(ct,Ft)|0,D=D+Math.imul(ct,Nt)|0,E=E+Math.imul(it,Lt)|0,P=(P=P+Math.imul(it,jt)|0)+Math.imul(st,Lt)|0,D=D+Math.imul(st,jt)|0,E=E+Math.imul(et,Ut)|0,P=(P=P+Math.imul(et,Vt)|0)+Math.imul(rt,Ut)|0,D=D+Math.imul(rt,Vt)|0,E=E+Math.imul(Z,Gt)|0,P=(P=P+Math.imul(Z,zt)|0)+Math.imul(Q,Gt)|0,D=D+Math.imul(Q,zt)|0;var ae=(F+(E=E+Math.imul(X,$t)|0)|0)+((8191&(P=(P=P+Math.imul(X,Xt)|0)+Math.imul(Y,$t)|0))<<13)|0;F=((D=D+Math.imul(Y,Xt)|0)+(P>>>13)|0)+(ae>>>26)|0,ae&=67108863,E=Math.imul(vt,Dt),P=(P=Math.imul(vt,Bt))+Math.imul(bt,Dt)|0,D=Math.imul(bt,Bt),E=E+Math.imul(pt,Mt)|0,P=(P=P+Math.imul(pt,Ot)|0)+Math.imul(mt,Mt)|0,D=D+Math.imul(mt,Ot)|0,E=E+Math.imul(ht,Ft)|0,P=(P=P+Math.imul(ht,Nt)|0)+Math.imul(dt,Ft)|0,D=D+Math.imul(dt,Nt)|0,E=E+Math.imul(at,Lt)|0,P=(P=P+Math.imul(at,jt)|0)+Math.imul(ct,Lt)|0,D=D+Math.imul(ct,jt)|0,E=E+Math.imul(it,Ut)|0,P=(P=P+Math.imul(it,Vt)|0)+Math.imul(st,Ut)|0,D=D+Math.imul(st,Vt)|0,E=E+Math.imul(et,Gt)|0,P=(P=P+Math.imul(et,zt)|0)+Math.imul(rt,Gt)|0,D=D+Math.imul(rt,zt)|0;var ce=(F+(E=E+Math.imul(Z,$t)|0)|0)+((8191&(P=(P=P+Math.imul(Z,Xt)|0)+Math.imul(Q,$t)|0))<<13)|0;F=((D=D+Math.imul(Q,Xt)|0)+(P>>>13)|0)+(ce>>>26)|0,ce&=67108863,E=Math.imul(vt,Mt),P=(P=Math.imul(vt,Ot))+Math.imul(bt,Mt)|0,D=Math.imul(bt,Ot),E=E+Math.imul(pt,Ft)|0,P=(P=P+Math.imul(pt,Nt)|0)+Math.imul(mt,Ft)|0,D=D+Math.imul(mt,Nt)|0,E=E+Math.imul(ht,Lt)|0,P=(P=P+Math.imul(ht,jt)|0)+Math.imul(dt,Lt)|0,D=D+Math.imul(dt,jt)|0,E=E+Math.imul(at,Ut)|0,P=(P=P+Math.imul(at,Vt)|0)+Math.imul(ct,Ut)|0,D=D+Math.imul(ct,Vt)|0,E=E+Math.imul(it,Gt)|0,P=(P=P+Math.imul(it,zt)|0)+Math.imul(st,Gt)|0,D=D+Math.imul(st,zt)|0;var ue=(F+(E=E+Math.imul(et,$t)|0)|0)+((8191&(P=(P=P+Math.imul(et,Xt)|0)+Math.imul(rt,$t)|0))<<13)|0;F=((D=D+Math.imul(rt,Xt)|0)+(P>>>13)|0)+(ue>>>26)|0,ue&=67108863,E=Math.imul(vt,Ft),P=(P=Math.imul(vt,Nt))+Math.imul(bt,Ft)|0,D=Math.imul(bt,Nt),E=E+Math.imul(pt,Lt)|0,P=(P=P+Math.imul(pt,jt)|0)+Math.imul(mt,Lt)|0,D=D+Math.imul(mt,jt)|0,E=E+Math.imul(ht,Ut)|0,P=(P=P+Math.imul(ht,Vt)|0)+Math.imul(dt,Ut)|0,D=D+Math.imul(dt,Vt)|0,E=E+Math.imul(at,Gt)|0,P=(P=P+Math.imul(at,zt)|0)+Math.imul(ct,Gt)|0,D=D+Math.imul(ct,zt)|0;var he=(F+(E=E+Math.imul(it,$t)|0)|0)+((8191&(P=(P=P+Math.imul(it,Xt)|0)+Math.imul(st,$t)|0))<<13)|0;F=((D=D+Math.imul(st,Xt)|0)+(P>>>13)|0)+(he>>>26)|0,he&=67108863,E=Math.imul(vt,Lt),P=(P=Math.imul(vt,jt))+Math.imul(bt,Lt)|0,D=Math.imul(bt,jt),E=E+Math.imul(pt,Ut)|0,P=(P=P+Math.imul(pt,Vt)|0)+Math.imul(mt,Ut)|0,D=D+Math.imul(mt,Vt)|0,E=E+Math.imul(ht,Gt)|0,P=(P=P+Math.imul(ht,zt)|0)+Math.imul(dt,Gt)|0,D=D+Math.imul(dt,zt)|0;var le=(F+(E=E+Math.imul(at,$t)|0)|0)+((8191&(P=(P=P+Math.imul(at,Xt)|0)+Math.imul(ct,$t)|0))<<13)|0;F=((D=D+Math.imul(ct,Xt)|0)+(P>>>13)|0)+(le>>>26)|0,le&=67108863,E=Math.imul(vt,Ut),P=(P=Math.imul(vt,Vt))+Math.imul(bt,Ut)|0,D=Math.imul(bt,Vt),E=E+Math.imul(pt,Gt)|0,P=(P=P+Math.imul(pt,zt)|0)+Math.imul(mt,Gt)|0,D=D+Math.imul(mt,zt)|0;var de=(F+(E=E+Math.imul(ht,$t)|0)|0)+((8191&(P=(P=P+Math.imul(ht,Xt)|0)+Math.imul(dt,$t)|0))<<13)|0;F=((D=D+Math.imul(dt,Xt)|0)+(P>>>13)|0)+(de>>>26)|0,de&=67108863,E=Math.imul(vt,Gt),P=(P=Math.imul(vt,zt))+Math.imul(bt,Gt)|0,D=Math.imul(bt,zt);var pe=(F+(E=E+Math.imul(pt,$t)|0)|0)+((8191&(P=(P=P+Math.imul(pt,Xt)|0)+Math.imul(mt,$t)|0))<<13)|0;F=((D=D+Math.imul(mt,Xt)|0)+(P>>>13)|0)+(pe>>>26)|0,pe&=67108863;var me=(F+(E=Math.imul(vt,$t))|0)+((8191&(P=(P=Math.imul(vt,Xt))+Math.imul(bt,$t)|0))<<13)|0;return F=((D=Math.imul(bt,Xt))+(P>>>13)|0)+(me>>>26)|0,me&=67108863,O[0]=Yt,O[1]=Jt,O[2]=Zt,O[3]=Qt,O[4]=te,O[5]=ee,O[6]=re,O[7]=ne,O[8]=ie,O[9]=se,O[10]=oe,O[11]=ae,O[12]=ce,O[13]=ue,O[14]=he,O[15]=le,O[16]=de,O[17]=pe,O[18]=me,0!==F&&(O[19]=F,_.length++),_};function jumboMulTo(v,S,_){return(new FFTM).mulp(v,S,_)}function FFTM(v,S){this.x=v,this.y=S}Math.imul||(M=smallMulTo),BN.prototype.mulTo=function mulTo(v,S){var _,E=this.length+v.length;return _=10===this.length&&10===v.length?M(this,v,S):E<63?smallMulTo(this,v,S):E<1024?function bigMulTo(v,S,_){_.negative=S.negative^v.negative,_.length=v.length+S.length;for(var E=0,P=0,D=0;D<_.length-1;D++){var R=P;P=0;for(var M=67108863&E,O=Math.min(D,S.length-1),F=Math.max(0,D-v.length+1);F<=O;F++){var N=D-F,L=(0|v.words[N])*(0|S.words[F]),U=67108863&L;M=67108863&(U=U+M|0),P+=(R=(R=R+(L/67108864|0)|0)+(U>>>26)|0)>>>26,R&=67108863}_.words[D]=M,E=R,R=P}return 0!==E?_.words[D]=E:_.length--,_.strip()}(this,v,S):jumboMulTo(this,v,S),_},FFTM.prototype.makeRBT=function makeRBT(v){for(var S=new Array(v),_=BN.prototype._countBits(v)-1,E=0;E<v;E++)S[E]=this.revBin(E,_,v);return S},FFTM.prototype.revBin=function revBin(v,S,_){if(0===v||v===_-1)return v;for(var E=0,P=0;P<S;P++)E|=(1&v)<<S-P-1,v>>=1;return E},FFTM.prototype.permute=function permute(v,S,_,E,P,D){for(var R=0;R<D;R++)E[R]=S[v[R]],P[R]=_[v[R]]},FFTM.prototype.transform=function transform(v,S,_,E,P,D){this.permute(D,v,S,_,E,P);for(var R=1;R<P;R<<=1)for(var M=R<<1,O=Math.cos(2*Math.PI/M),F=Math.sin(2*Math.PI/M),N=0;N<P;N+=M)for(var L=O,U=F,V=0;V<R;V++){var G=_[N+V],W=E[N+V],$=_[N+V+R],X=E[N+V+R],Y=L*$-U*X;X=L*X+U*$,$=Y,_[N+V]=G+$,E[N+V]=W+X,_[N+V+R]=G-$,E[N+V+R]=W-X,V!==M&&(Y=O*L-F*U,U=O*U+F*L,L=Y)}},FFTM.prototype.guessLen13b=function guessLen13b(v,S){var _=1|Math.max(S,v),E=1&_,P=0;for(_=_/2|0;_;_>>>=1)P++;return 1<<P+1+E},FFTM.prototype.conjugate=function conjugate(v,S,_){if(!(_<=1))for(var E=0;E<_/2;E++){var P=v[E];v[E]=v[_-E-1],v[_-E-1]=P,P=S[E],S[E]=-S[_-E-1],S[_-E-1]=-P}},FFTM.prototype.normalize13b=function normalize13b(v,S){for(var _=0,E=0;E<S/2;E++){var P=8192*Math.round(v[2*E+1]/S)+Math.round(v[2*E]/S)+_;v[E]=67108863&P,_=P<67108864?0:P/67108864|0}return v},FFTM.prototype.convert13b=function convert13b(v,S,_,E){for(var P=0,D=0;D<S;D++)P+=0|v[D],_[2*D]=8191&P,P>>>=13,_[2*D+1]=8191&P,P>>>=13;for(D=2*S;D<E;++D)_[D]=0;assert(0===P),assert(!(-8192&P))},FFTM.prototype.stub=function stub(v){for(var S=new Array(v),_=0;_<v;_++)S[_]=0;return S},FFTM.prototype.mulp=function mulp(v,S,_){var E=2*this.guessLen13b(v.length,S.length),P=this.makeRBT(E),D=this.stub(E),R=new Array(E),M=new Array(E),O=new Array(E),F=new Array(E),N=new Array(E),L=new Array(E),U=_.words;U.length=E,this.convert13b(v.words,v.length,R,E),this.convert13b(S.words,S.length,F,E),this.transform(R,D,M,O,E,P),this.transform(F,D,N,L,E,P);for(var V=0;V<E;V++){var G=M[V]*N[V]-O[V]*L[V];O[V]=M[V]*L[V]+O[V]*N[V],M[V]=G}return this.conjugate(M,O,E),this.transform(M,O,U,D,E,P),this.conjugate(U,D,E),this.normalize13b(U,E),_.negative=v.negative^S.negative,_.length=v.length+S.length,_.strip()},BN.prototype.mul=function mul(v){var S=new BN(null);return S.words=new Array(this.length+v.length),this.mulTo(v,S)},BN.prototype.mulf=function mulf(v){var S=new BN(null);return S.words=new Array(this.length+v.length),jumboMulTo(this,v,S)},BN.prototype.imul=function imul(v){return this.clone().mulTo(v,this)},BN.prototype.imuln=function imuln(v){assert("number"==typeof v),assert(v<67108864);for(var S=0,_=0;_<this.length;_++){var E=(0|this.words[_])*v,P=(67108863&E)+(67108863&S);S>>=26,S+=E/67108864|0,S+=P>>>26,this.words[_]=67108863&P}return 0!==S&&(this.words[_]=S,this.length++),this},BN.prototype.muln=function muln(v){return this.clone().imuln(v)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(v){var S=function toBitArray(v){for(var S=new Array(v.bitLength()),_=0;_<S.length;_++){var E=_/26|0,P=_%26;S[_]=(v.words[E]&1<<P)>>>P}return S}(v);if(0===S.length)return new BN(1);for(var _=this,E=0;E<S.length&&0===S[E];E++,_=_.sqr());if(++E<S.length)for(var P=_.sqr();E<S.length;E++,P=P.sqr())0!==S[E]&&(_=_.mul(P));return _},BN.prototype.iushln=function iushln(v){assert("number"==typeof v&&v>=0);var S,_=v%26,E=(v-_)/26,P=67108863>>>26-_<<26-_;if(0!==_){var D=0;for(S=0;S<this.length;S++){var R=this.words[S]&P,M=(0|this.words[S])-R<<_;this.words[S]=M|D,D=R>>>26-_}D&&(this.words[S]=D,this.length++)}if(0!==E){for(S=this.length-1;S>=0;S--)this.words[S+E]=this.words[S];for(S=0;S<E;S++)this.words[S]=0;this.length+=E}return this.strip()},BN.prototype.ishln=function ishln(v){return assert(0===this.negative),this.iushln(v)},BN.prototype.iushrn=function iushrn(v,S,_){var E;assert("number"==typeof v&&v>=0),E=S?(S-S%26)/26:0;var P=v%26,D=Math.min((v-P)/26,this.length),R=67108863^67108863>>>P<<P,M=_;if(E-=D,E=Math.max(0,E),M){for(var O=0;O<D;O++)M.words[O]=this.words[O];M.length=D}if(0===D);else if(this.length>D)for(this.length-=D,O=0;O<this.length;O++)this.words[O]=this.words[O+D];else this.words[0]=0,this.length=1;var F=0;for(O=this.length-1;O>=0&&(0!==F||O>=E);O--){var N=0|this.words[O];this.words[O]=F<<26-P|N>>>P,F=N&R}return M&&0!==F&&(M.words[M.length++]=F),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function ishrn(v,S,_){return assert(0===this.negative),this.iushrn(v,S,_)},BN.prototype.shln=function shln(v){return this.clone().ishln(v)},BN.prototype.ushln=function ushln(v){return this.clone().iushln(v)},BN.prototype.shrn=function shrn(v){return this.clone().ishrn(v)},BN.prototype.ushrn=function ushrn(v){return this.clone().iushrn(v)},BN.prototype.testn=function testn(v){assert("number"==typeof v&&v>=0);var S=v%26,_=(v-S)/26,E=1<<S;return!(this.length<=_)&&!!(this.words[_]&E)},BN.prototype.imaskn=function imaskn(v){assert("number"==typeof v&&v>=0);var S=v%26,_=(v-S)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=_)return this;if(0!==S&&_++,this.length=Math.min(_,this.length),0!==S){var E=67108863^67108863>>>S<<S;this.words[this.length-1]&=E}return this.strip()},BN.prototype.maskn=function maskn(v){return this.clone().imaskn(v)},BN.prototype.iaddn=function iaddn(v){return assert("number"==typeof v),assert(v<67108864),v<0?this.isubn(-v):0!==this.negative?1===this.length&&(0|this.words[0])<v?(this.words[0]=v-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},BN.prototype._iaddn=function _iaddn(v){this.words[0]+=v;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},BN.prototype.isubn=function isubn(v){if(assert("number"==typeof v),assert(v<67108864),v<0)return this.iaddn(-v);if(0!==this.negative)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this.strip()},BN.prototype.addn=function addn(v){return this.clone().iaddn(v)},BN.prototype.subn=function subn(v){return this.clone().isubn(v)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(v,S,_){var E,P,D=v.length+_;this._expand(D);var R=0;for(E=0;E<v.length;E++){P=(0|this.words[E+_])+R;var M=(0|v.words[E])*S;R=((P-=67108863&M)>>26)-(M/67108864|0),this.words[E+_]=67108863&P}for(;E<this.length-_;E++)R=(P=(0|this.words[E+_])+R)>>26,this.words[E+_]=67108863&P;if(0===R)return this.strip();for(assert(-1===R),R=0,E=0;E<this.length;E++)R=(P=-(0|this.words[E])+R)>>26,this.words[E]=67108863&P;return this.negative=1,this.strip()},BN.prototype._wordDiv=function _wordDiv(v,S){var _=(this.length,v.length),E=this.clone(),P=v,D=0|P.words[P.length-1];0!==(_=26-this._countBits(D))&&(P=P.ushln(_),E.iushln(_),D=0|P.words[P.length-1]);var R,M=E.length-P.length;if("mod"!==S){(R=new BN(null)).length=M+1,R.words=new Array(R.length);for(var O=0;O<R.length;O++)R.words[O]=0}var F=E.clone()._ishlnsubmul(P,1,M);0===F.negative&&(E=F,R&&(R.words[M]=1));for(var N=M-1;N>=0;N--){var L=67108864*(0|E.words[P.length+N])+(0|E.words[P.length+N-1]);for(L=Math.min(L/D|0,67108863),E._ishlnsubmul(P,L,N);0!==E.negative;)L--,E.negative=0,E._ishlnsubmul(P,1,N),E.isZero()||(E.negative^=1);R&&(R.words[N]=L)}return R&&R.strip(),E.strip(),"div"!==S&&0!==_&&E.iushrn(_),{div:R||null,mod:E}},BN.prototype.divmod=function divmod(v,S,_){return assert(!v.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===v.negative?(D=this.neg().divmod(v,S),"mod"!==S&&(E=D.div.neg()),"div"!==S&&(P=D.mod.neg(),_&&0!==P.negative&&P.iadd(v)),{div:E,mod:P}):0===this.negative&&0!==v.negative?(D=this.divmod(v.neg(),S),"mod"!==S&&(E=D.div.neg()),{div:E,mod:D.mod}):this.negative&v.negative?(D=this.neg().divmod(v.neg(),S),"div"!==S&&(P=D.mod.neg(),_&&0!==P.negative&&P.isub(v)),{div:D.div,mod:P}):v.length>this.length||this.cmp(v)<0?{div:new BN(0),mod:this}:1===v.length?"div"===S?{div:this.divn(v.words[0]),mod:null}:"mod"===S?{div:null,mod:new BN(this.modn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new BN(this.modn(v.words[0]))}:this._wordDiv(v,S);var E,P,D},BN.prototype.div=function div(v){return this.divmod(v,"div",!1).div},BN.prototype.mod=function mod(v){return this.divmod(v,"mod",!1).mod},BN.prototype.umod=function umod(v){return this.divmod(v,"mod",!0).mod},BN.prototype.divRound=function divRound(v){var S=this.divmod(v);if(S.mod.isZero())return S.div;var _=0!==S.div.negative?S.mod.isub(v):S.mod,E=v.ushrn(1),P=v.andln(1),D=_.cmp(E);return D<0||1===P&&0===D?S.div:0!==S.div.negative?S.div.isubn(1):S.div.iaddn(1)},BN.prototype.modn=function modn(v){assert(v<=67108863);for(var S=(1<<26)%v,_=0,E=this.length-1;E>=0;E--)_=(S*_+(0|this.words[E]))%v;return _},BN.prototype.idivn=function idivn(v){assert(v<=67108863);for(var S=0,_=this.length-1;_>=0;_--){var E=(0|this.words[_])+67108864*S;this.words[_]=E/v|0,S=E%v}return this.strip()},BN.prototype.divn=function divn(v){return this.clone().idivn(v)},BN.prototype.egcd=function egcd(v){assert(0===v.negative),assert(!v.isZero());var S=this,_=v.clone();S=0!==S.negative?S.umod(v):S.clone();for(var E=new BN(1),P=new BN(0),D=new BN(0),R=new BN(1),M=0;S.isEven()&&_.isEven();)S.iushrn(1),_.iushrn(1),++M;for(var O=_.clone(),F=S.clone();!S.isZero();){for(var N=0,L=1;!(S.words[0]&L)&&N<26;++N,L<<=1);if(N>0)for(S.iushrn(N);N-- >0;)(E.isOdd()||P.isOdd())&&(E.iadd(O),P.isub(F)),E.iushrn(1),P.iushrn(1);for(var U=0,V=1;!(_.words[0]&V)&&U<26;++U,V<<=1);if(U>0)for(_.iushrn(U);U-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(O),R.isub(F)),D.iushrn(1),R.iushrn(1);S.cmp(_)>=0?(S.isub(_),E.isub(D),P.isub(R)):(_.isub(S),D.isub(E),R.isub(P))}return{a:D,b:R,gcd:_.iushln(M)}},BN.prototype._invmp=function _invmp(v){assert(0===v.negative),assert(!v.isZero());var S=this,_=v.clone();S=0!==S.negative?S.umod(v):S.clone();for(var E,P=new BN(1),D=new BN(0),R=_.clone();S.cmpn(1)>0&&_.cmpn(1)>0;){for(var M=0,O=1;!(S.words[0]&O)&&M<26;++M,O<<=1);if(M>0)for(S.iushrn(M);M-- >0;)P.isOdd()&&P.iadd(R),P.iushrn(1);for(var F=0,N=1;!(_.words[0]&N)&&F<26;++F,N<<=1);if(F>0)for(_.iushrn(F);F-- >0;)D.isOdd()&&D.iadd(R),D.iushrn(1);S.cmp(_)>=0?(S.isub(_),P.isub(D)):(_.isub(S),D.isub(P))}return(E=0===S.cmpn(1)?P:D).cmpn(0)<0&&E.iadd(v),E},BN.prototype.gcd=function gcd(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var S=this.clone(),_=v.clone();S.negative=0,_.negative=0;for(var E=0;S.isEven()&&_.isEven();E++)S.iushrn(1),_.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;_.isEven();)_.iushrn(1);var P=S.cmp(_);if(P<0){var D=S;S=_,_=D}else if(0===P||0===_.cmpn(1))break;S.isub(_)}return _.iushln(E)},BN.prototype.invm=function invm(v){return this.egcd(v).a.umod(v)},BN.prototype.isEven=function isEven(){return!(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return!(1&~this.words[0])},BN.prototype.andln=function andln(v){return this.words[0]&v},BN.prototype.bincn=function bincn(v){assert("number"==typeof v);var S=v%26,_=(v-S)/26,E=1<<S;if(this.length<=_)return this._expand(_+1),this.words[_]|=E,this;for(var P=E,D=_;0!==P&&D<this.length;D++){var R=0|this.words[D];P=(R+=P)>>>26,R&=67108863,this.words[D]=R}return 0!==P&&(this.words[D]=P,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(v){var S,_=v<0;if(0!==this.negative&&!_)return-1;if(0===this.negative&&_)return 1;if(this.strip(),this.length>1)S=1;else{_&&(v=-v),assert(v<=67108863,"Number is too big");var E=0|this.words[0];S=E===v?0:E<v?-1:1}return 0!==this.negative?0|-S:S},BN.prototype.cmp=function cmp(v){if(0!==this.negative&&0===v.negative)return-1;if(0===this.negative&&0!==v.negative)return 1;var S=this.ucmp(v);return 0!==this.negative?0|-S:S},BN.prototype.ucmp=function ucmp(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var S=0,_=this.length-1;_>=0;_--){var E=0|this.words[_],P=0|v.words[_];if(E!==P){E<P?S=-1:E>P&&(S=1);break}}return S},BN.prototype.gtn=function gtn(v){return 1===this.cmpn(v)},BN.prototype.gt=function gt(v){return 1===this.cmp(v)},BN.prototype.gten=function gten(v){return this.cmpn(v)>=0},BN.prototype.gte=function gte(v){return this.cmp(v)>=0},BN.prototype.ltn=function ltn(v){return-1===this.cmpn(v)},BN.prototype.lt=function lt(v){return-1===this.cmp(v)},BN.prototype.lten=function lten(v){return this.cmpn(v)<=0},BN.prototype.lte=function lte(v){return this.cmp(v)<=0},BN.prototype.eqn=function eqn(v){return 0===this.cmpn(v)},BN.prototype.eq=function eq(v){return 0===this.cmp(v)},BN.red=function red(v){return new Red(v)},BN.prototype.toRed=function toRed(v){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),v.convertTo(this)._forceRed(v)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(v){return this.red=v,this},BN.prototype.forceRed=function forceRed(v){return assert(!this.red,"Already a number in reduction context"),this._forceRed(v)},BN.prototype.redAdd=function redAdd(v){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},BN.prototype.redIAdd=function redIAdd(v){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},BN.prototype.redSub=function redSub(v){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},BN.prototype.redISub=function redISub(v){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},BN.prototype.redShl=function redShl(v){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},BN.prototype.redMul=function redMul(v){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},BN.prototype.redIMul=function redIMul(v){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(v){return assert(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var O={k256:null,p224:null,p192:null,p25519:null};function MPrime(v,S){this.name=v,this.p=new BN(S,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(v){if("string"==typeof v){var S=BN._prime(v);this.m=S.p,this.prime=S}else assert(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}function Mont(v){Red.call(this,v),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var v=new BN(null);return v.words=new Array(Math.ceil(this.n/13)),v},MPrime.prototype.ireduce=function ireduce(v){var S,_=v;do{this.split(_,this.tmp),S=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength()}while(S>this.n);var E=S<this.n?-1:_.ucmp(this.p);return 0===E?(_.words[0]=0,_.length=1):E>0?_.isub(this.p):void 0!==_.strip?_.strip():_._strip(),_},MPrime.prototype.split=function split(v,S){v.iushrn(this.n,0,S)},MPrime.prototype.imulK=function imulK(v){return v.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(v,S){for(var _=4194303,E=Math.min(v.length,9),P=0;P<E;P++)S.words[P]=v.words[P];if(S.length=E,v.length<=9)return v.words[0]=0,void(v.length=1);var D=v.words[9];for(S.words[S.length++]=D&_,P=10;P<v.length;P++){var R=0|v.words[P];v.words[P-10]=(R&_)<<4|D>>>22,D=R}D>>>=22,v.words[P-10]=D,0===D&&v.length>10?v.length-=10:v.length-=9},K256.prototype.imulK=function imulK(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var S=0,_=0;_<v.length;_++){var E=0|v.words[_];S+=977*E,v.words[_]=67108863&S,S=64*E+(S/67108864|0)}return 0===v.words[v.length-1]&&(v.length--,0===v.words[v.length-1]&&v.length--),v},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(v){for(var S=0,_=0;_<v.length;_++){var E=19*(0|v.words[_])+S,P=67108863&E;E>>>=26,v.words[_]=P,S=E}return 0!==S&&(v.words[v.length++]=S),v},BN._prime=function prime(v){if(O[v])return O[v];var prime;if("k256"===v)prime=new K256;else if("p224"===v)prime=new P224;else if("p192"===v)prime=new P192;else{if("p25519"!==v)throw new Error("Unknown prime "+v);prime=new P25519}return O[v]=prime,prime},Red.prototype._verify1=function _verify1(v){assert(0===v.negative,"red works only with positives"),assert(v.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(v,S){assert(!(v.negative|S.negative),"red works only with positives"),assert(v.red&&v.red===S.red,"red works only with red numbers")},Red.prototype.imod=function imod(v){return this.prime?this.prime.ireduce(v)._forceRed(this):v.umod(this.m)._forceRed(this)},Red.prototype.neg=function neg(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},Red.prototype.add=function add(v,S){this._verify2(v,S);var _=v.add(S);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},Red.prototype.iadd=function iadd(v,S){this._verify2(v,S);var _=v.iadd(S);return _.cmp(this.m)>=0&&_.isub(this.m),_},Red.prototype.sub=function sub(v,S){this._verify2(v,S);var _=v.sub(S);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},Red.prototype.isub=function isub(v,S){this._verify2(v,S);var _=v.isub(S);return _.cmpn(0)<0&&_.iadd(this.m),_},Red.prototype.shl=function shl(v,S){return this._verify1(v),this.imod(v.ushln(S))},Red.prototype.imul=function imul(v,S){return this._verify2(v,S),this.imod(v.imul(S))},Red.prototype.mul=function mul(v,S){return this._verify2(v,S),this.imod(v.mul(S))},Red.prototype.isqr=function isqr(v){return this.imul(v,v.clone())},Red.prototype.sqr=function sqr(v){return this.mul(v,v)},Red.prototype.sqrt=function sqrt(v){if(v.isZero())return v.clone();var S=this.m.andln(3);if(assert(S%2==1),3===S){var _=this.m.add(new BN(1)).iushrn(2);return this.pow(v,_)}for(var E=this.m.subn(1),P=0;!E.isZero()&&0===E.andln(1);)P++,E.iushrn(1);assert(!E.isZero());var D=new BN(1).toRed(this),R=D.redNeg(),M=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new BN(2*O*O).toRed(this);0!==this.pow(O,M).cmp(R);)O.redIAdd(R);for(var F=this.pow(O,E),N=this.pow(v,E.addn(1).iushrn(1)),L=this.pow(v,E),U=P;0!==L.cmp(D);){for(var V=L,G=0;0!==V.cmp(D);G++)V=V.redSqr();assert(G<U);var W=this.pow(F,new BN(1).iushln(U-G-1));N=N.redMul(W),F=W.redSqr(),L=L.redMul(F),U=G}return N},Red.prototype.invm=function invm(v){var S=v._invmp(this.m);return 0!==S.negative?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},Red.prototype.pow=function pow(v,S){if(S.isZero())return new BN(1).toRed(this);if(0===S.cmpn(1))return v.clone();var _=new Array(16);_[0]=new BN(1).toRed(this),_[1]=v;for(var E=2;E<_.length;E++)_[E]=this.mul(_[E-1],v);var P=_[0],D=0,R=0,M=S.bitLength()%26;for(0===M&&(M=26),E=S.length-1;E>=0;E--){for(var O=S.words[E],F=M-1;F>=0;F--){var N=O>>F&1;P!==_[0]&&(P=this.sqr(P)),0!==N||0!==D?(D<<=1,D|=N,(4===++R||0===E&&0===F)&&(P=this.mul(P,_[D]),R=0,D=0)):R=0}M=26}return P},Red.prototype.convertTo=function convertTo(v){var S=v.umod(this.m);return S===v?S.clone():S},Red.prototype.convertFrom=function convertFrom(v){var S=v.clone();return S.red=null,S},BN.mont=function mont(v){return new Mont(v)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(v){return this.imod(v.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(v){var S=this.imod(v.mul(this.rinv));return S.red=null,S},Mont.prototype.imul=function imul(v,S){if(v.isZero()||S.isZero())return v.words[0]=0,v.length=1,v;var _=v.imul(S),E=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=_.isub(E).iushrn(this.shift),D=P;return P.cmp(this.m)>=0?D=P.isub(this.m):P.cmpn(0)<0&&(D=P.iadd(this.m)),D._forceRed(this)},Mont.prototype.mul=function mul(v,S){if(v.isZero()||S.isZero())return new BN(0)._forceRed(this);var _=v.mul(S),E=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=_.isub(E).iushrn(this.shift),D=P;return P.cmp(this.m)>=0?D=P.isub(this.m):P.cmpn(0)<0&&(D=P.iadd(this.m)),D._forceRed(this)},Mont.prototype.invm=function invm(v){return this.imod(v._invmp(this.m).mul(this.r2))._forceRed(this)}}(v=_.nmd(v),this)},807784:v=>{function assert(v,S){if(!v)throw new Error(S||"Assertion failed")}v.exports=assert,assert.equal=function assertEqual(v,S,_){if(v!=S)throw new Error(_||"Assertion failed: "+v+" != "+S)}},589042:(v,S)=>{"use strict";var _=S;function zero2(v){return 1===v.length?"0"+v:v}function toHex(v){for(var S="",_=0;_<v.length;_++)S+=zero2(v[_].toString(16));return S}_.toArray=function toArray(v,S){if(Array.isArray(v))return v.slice();if(!v)return[];var _=[];if("string"!=typeof v){for(var E=0;E<v.length;E++)_[E]=0|v[E];return _}if("hex"===S){(v=v.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(v="0"+v);for(E=0;E<v.length;E+=2)_.push(parseInt(v[E]+v[E+1],16))}else for(E=0;E<v.length;E++){var P=v.charCodeAt(E),D=P>>8,R=255&P;D?_.push(D,R):_.push(R)}return _},_.zero2=zero2,_.toHex=toHex,_.encode=function encode(v,S){return"hex"===S?toHex(v):v}},372802:(v,S,_)=>{!function(v,S){v((function(){"use strict";var v,_={mobileDetectRules:{phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",Pixel:"; \\bPixel\\b",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332",Asus:"Asus.*Galaxy|PadFone.*Mobile",Xiaomi:"^(?!.*\\bx11\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30|A3-A40",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android [0-9.]+; [a-z-]+; \\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",SailfishOS:"Sailfish",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"\\bEdgiOS\\b|Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version((?!\\bEdgiOS\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",SailfishBrowser:"SailfishBrowser/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",Sailfish:"Sailfish [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},detectMobileBrowsers:{fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i}},E=Object.prototype.hasOwnProperty;function equalIC(v,S){return null!=v&&null!=S&&v.toLowerCase()===S.toLowerCase()}function containsIC(v,S){var _,E,P=v.length;if(!P||!S)return!1;for(_=S.toLowerCase(),E=0;E<P;++E)if(_===v[E].toLowerCase())return!0;return!1}function convertPropsToRegExp(v){for(var S in v)E.call(v,S)&&(v[S]=new RegExp(v[S],"i"))}function MobileDetect(v,S){this.ua=function prepareUserAgent(v){return(v||"").substr(0,500)}(v),this._cache={},this.maxPhoneWidth=S||600}return _.FALLBACK_PHONE="UnknownPhone",_.FALLBACK_TABLET="UnknownTablet",_.FALLBACK_MOBILE="UnknownMobile",v="isArray"in Array?Array.isArray:function(v){return"[object Array]"===Object.prototype.toString.call(v)},function init(){var S,P,D,R,M,O,F=_.mobileDetectRules;for(S in F.props)if(E.call(F.props,S)){for(P=F.props[S],v(P)||(P=[P]),M=P.length,R=0;R<M;++R)(O=(D=P[R]).indexOf("[VER]"))>=0&&(D=D.substring(0,O)+"([\\w._\\+]+)"+D.substring(O+5)),P[R]=new RegExp(D,"i");F.props[S]=P}convertPropsToRegExp(F.oss),convertPropsToRegExp(F.phones),convertPropsToRegExp(F.tablets),convertPropsToRegExp(F.uas),convertPropsToRegExp(F.utils),F.oss0={WindowsPhoneOS:F.oss.WindowsPhoneOS,WindowsMobileOS:F.oss.WindowsMobileOS}}(),_.findMatch=function(v,S){for(var _ in v)if(E.call(v,_)&&v[_].test(S))return _;return null},_.findMatches=function(v,S){var _=[];for(var P in v)E.call(v,P)&&v[P].test(S)&&_.push(P);return _},_.getVersionStr=function(v,S){var P,D,R,M,O=_.mobileDetectRules.props;if(E.call(O,v))for(R=(P=O[v]).length,D=0;D<R;++D)if(null!==(M=P[D].exec(S)))return M[1];return null},_.getVersion=function(v,S){var E=_.getVersionStr(v,S);return E?_.prepareVersionNo(E):NaN},_.prepareVersionNo=function(v){var S;return 1===(S=v.split(/[a-z._ \/\-]/i)).length&&(v=S[0]),S.length>1&&(v=S[0]+".",S.shift(),v+=S.join("")),Number(v)},_.isMobileFallback=function(v){return _.detectMobileBrowsers.fullPattern.test(v)||_.detectMobileBrowsers.shortPattern.test(v.substr(0,4))},_.isTabletFallback=function(v){return _.detectMobileBrowsers.tabletPattern.test(v)},_.prepareDetectionCache=function(v,E,P){if(v.mobile===S){var D,R,M;if(R=_.findMatch(_.mobileDetectRules.tablets,E))return v.mobile=v.tablet=R,void(v.phone=null);if(D=_.findMatch(_.mobileDetectRules.phones,E))return v.mobile=v.phone=D,void(v.tablet=null);_.isMobileFallback(E)?(M=MobileDetect.isPhoneSized(P))===S?(v.mobile=_.FALLBACK_MOBILE,v.tablet=v.phone=null):M?(v.mobile=v.phone=_.FALLBACK_PHONE,v.tablet=null):(v.mobile=v.tablet=_.FALLBACK_TABLET,v.phone=null):_.isTabletFallback(E)?(v.mobile=v.tablet=_.FALLBACK_TABLET,v.phone=null):v.mobile=v.tablet=v.phone=null}},_.mobileGrade=function(v){var S=null!==v.mobile();return v.os("iOS")&&v.version("iPad")>=4.3||v.os("iOS")&&v.version("iPhone")>=3.1||v.os("iOS")&&v.version("iPod")>=3.1||v.version("Android")>2.1&&v.is("Webkit")||v.version("Windows Phone OS")>=7||v.is("BlackBerry")&&v.version("BlackBerry")>=6||v.match("Playbook.*Tablet")||v.version("webOS")>=1.4&&v.match("Palm|Pre|Pixi")||v.match("hp.*TouchPad")||v.is("Firefox")&&v.version("Firefox")>=12||v.is("Chrome")&&v.is("AndroidOS")&&v.version("Android")>=4||v.is("Skyfire")&&v.version("Skyfire")>=4.1&&v.is("AndroidOS")&&v.version("Android")>=2.3||v.is("Opera")&&v.version("Opera Mobi")>11&&v.is("AndroidOS")||v.is("MeeGoOS")||v.is("Tizen")||v.is("Dolfin")&&v.version("Bada")>=2||(v.is("UC Browser")||v.is("Dolfin"))&&v.version("Android")>=2.3||v.match("Kindle Fire")||v.is("Kindle")&&v.version("Kindle")>=3||v.is("AndroidOS")&&v.is("NookTablet")||v.version("Chrome")>=11&&!S||v.version("Safari")>=5&&!S||v.version("Firefox")>=4&&!S||v.version("MSIE")>=7&&!S||v.version("Opera")>=10&&!S?"A":v.os("iOS")&&v.version("iPad")<4.3||v.os("iOS")&&v.version("iPhone")<3.1||v.os("iOS")&&v.version("iPod")<3.1||v.is("Blackberry")&&v.version("BlackBerry")>=5&&v.version("BlackBerry")<6||v.version("Opera Mini")>=5&&v.version("Opera Mini")<=6.5&&(v.version("Android")>=2.3||v.is("iOS"))||v.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||v.version("Opera Mobi")>=11&&v.is("SymbianOS")?"B":(v.version("BlackBerry")<5||v.match("MSIEMobile|Windows CE.*Mobile")||v.version("Windows Mobile"),"C")},_.detectOS=function(v){return _.findMatch(_.mobileDetectRules.oss0,v)||_.findMatch(_.mobileDetectRules.oss,v)},_.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},MobileDetect.prototype={constructor:MobileDetect,mobile:function(){return _.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return _.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return _.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===S&&(this._cache.userAgent=_.findMatch(_.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===S&&(this._cache.userAgents=_.findMatches(_.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===S&&(this._cache.os=_.detectOS(this.ua)),this._cache.os},version:function(v){return _.getVersion(v,this.ua)},versionStr:function(v){return _.getVersionStr(v,this.ua)},is:function(v){return containsIC(this.userAgents(),v)||equalIC(v,this.os())||equalIC(v,this.phone())||equalIC(v,this.tablet())||containsIC(_.findMatches(_.mobileDetectRules.utils,this.ua),v)},match:function(v){return v instanceof RegExp||(v=new RegExp(v,"i")),v.test(this.ua)},isPhoneSized:function(v){return MobileDetect.isPhoneSized(v||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===S&&(this._cache.grade=_.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?MobileDetect.isPhoneSized=function(v){return v<0?S:_.getDeviceSmallerSide()<=v}:MobileDetect.isPhoneSized=function(){},MobileDetect._impl=_,MobileDetect.version="1.4.5 2021-03-13",MobileDetect}))}(v.exports?function(S){v.exports=S()}:_.amdD)},8904:(v,S,_)=>{"use strict";_.d(S,{S:()=>N});var E=_(230690),P=_(831085),D=_(806316),R=_(606753),M=_(514041),O=_(282398),F=_(338118);const N=function motify(v){const S=O.b(v);return()=>{const _=(0,M.forwardRef)((function Moti(v,_){const E=(0,F.m)({...v,usePresenceValue:(0,D.xQ)(),presenceContext:(0,M.useContext)(R.t)}),O=v.style;return(0,P.jsx)(S,Object.assign({},v,{style:O?[O,E.style]:E.style,ref:_}),void 0)}));return _.displayName=`Moti.${v.displayName||v.name||"NoName"}`,_}}(E.A)()},338118:(v,S,_)=>{"use strict";_.d(S,{m:()=>useMotify});var E=_(514041),P=_(917742),D=_(688398),R=_(380604),M=_(848258),O=_(780101),F=_(758984),N=_(43240),L=_(893005),U=_(126083);const V="moti",debug=(...v)=>{_.g.shouldDebugMoti&&console.log("[moti]",...v)},isColor=v=>Boolean({backgroundColor:!0,borderBottomColor:!0,borderLeftColor:!0,borderRightColor:!0,borderTopColor:!0,color:!0,shadowColor:!0,borderColor:!0,borderEndColor:!0,borderStartColor:!0}[v]),isTransform=v=>Boolean({perspective:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,scale:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0,skewX:!0,skewY:!0}[v]);function animationConfig(v,S){const _=v;let E=0,M=!0,O="spring";(isColor(_)||"opacity"===_)&&(O="timing");const F=S?.[_];F?.type?O=F.type:S?.type&&(O=S.type);const N=F?.loop??S?.loop;null!=N&&(E=N?-1:0),null!=F?.repeat?E=F?.repeat:null!=S?.repeat&&(E=S.repeat),null!=F?.repeatReverse?M=F.repeatReverse:null!=S?.repeatReverse&&(M=S.repeatReverse);let L={},animation=(...v)=>v;if("timing"===O){const v=S?.[_]?.duration??S?.duration,E=S?.[_]?.easing??S?.easing;E&&(L.easing=E),null!=v&&(L.duration=v),animation=P.f}else if("spring"===O){animation=D.e,L={};const v=["damping","mass","overshootClamping","restDisplacementThreshold","restSpeedThreshold","stiffness","velocity"];for(const E of v){const v=S?.[_]?.[E],P=S?.[E];null!=v?L[E]=v:null!=P&&(L[E]=P)}}else if("decay"===O){animation=R.Z,L={velocity:2,deceleration:2};const v=["clamp","velocity","deceleration","velocityFactor"];for(const E of v){const v=S?.[_]?.[E],P=S?.[E];null!=v?L[E]=v:null!=P&&(L[E]=P)}}return{animation,config:L,repeatReverse:M,repeatCount:E,shouldRepeat:!!E}}const getSequenceArray=(v,S,_,E,P,D)=>{const R=[];for(const F of S){let S;if("object"==typeof F?F&&null!=F?.value&&!1!==F?.value:null!=F&&!1!==F){let N=_,L=F,U=Object.assign({},E),V=P;if("object"==typeof F){const _=Object.assign({},F);delete _.delay,delete _.value;const{config:E,animation:P}=animationConfig(v,_);U=Object.assign({},U,E),V=P,null!=F.delay&&(N=F.delay),L=F.value,S=F.onDidAnimate}const G=V(L,U,((v=!1,_)=>{D(v,_,{attemptedSequenceValue:L}),S&&(0,M.OG)(S)(v,_,{attemptedSequenceItemValue:L,attemptedSequenceArray:_})}));null!=N?R.push((0,O.y)(N,G)):R.push(G)}}return R};function useMotify({animate:v,from:S=!1,transition:_,exitTransition:P,delay:D,state:R,stylePriority:G="animate",onDidAnimate:W,exit:$,animateInitialState:X=!1,usePresenceValue:Y,presenceContext:J}){const Z=(0,F.U)(!1),[Q,tt]=Y??[],et=!1===J?.initial&&!X,rt=(0,E.useCallback)((()=>J?.custom),[J]),nt=(0,E.useCallback)((()=>{tt?.()}),[tt]),it=(0,E.useCallback)(((...v)=>{W?.(...v)}),[W]),st=Boolean("function"==typeof $||"object"==typeof $&&$&&Object.keys($).length>0),ot=(0,N.m)((()=>{const E={transform:[]},F=R?.__state?.value||{};let N;N=v&&"value"in v?v.value||{}:v||{},debug("style",N);const X=S||{};let Y=$||{};"function"==typeof Y&&(Y=Y(rt()));const J=!Q&&st;let tt={};tt="state"===G?Object.assign({},N,F):Object.assign({},F,N),tt=Z.value||et||!Object.keys(X).length?Object.assign({},X,tt):X,J&&Y&&(tt=Object.assign({},Y));const ot={};let at;if(Object.keys(Y||{}).forEach((v=>{({position:!0,zIndex:!0})[v]||(ot[v]=!0)})),at=_&&"value"in _?_.value:_,F.transition&&(at=Object.assign({},at,F.transition)),J&&P){let v;v=P&&"value"in P?P.value:"function"==typeof P?P(rt()):P,at=Object.assign({},at,v)}return Object.keys(tt).forEach((v=>{let S,_=tt[v];"object"==typeof _&&_&&"onDidAnimate"in _&&(S=_.onDidAnimate,_=_.value);const{animation:P,config:R,shouldRepeat:F,repeatCount:N,repeatReverse:G}=animationConfig(v,at),callback=(E=!1,P,D)=>{if(W&&(0,M.OG)(it)(v,E,P,{attemptedValue:_,attemptedSequenceItemValue:D?.attemptedSequenceValue}),S&&(0,M.OG)(S)(E,P,{attemptedValue:_}),J){ot[v]=!1;Object.values(ot).some(Boolean)||(0,M.OG)(nt)()}};let{delayMs:$}=function animationDelay(v,S,_){const E=v;let P=_;return null!=S?.[E]?.delay?P=S?.[E]?.delay:null!=S?.delay&&(P=S.delay),{delayMs:P}}(v,at,D);if(null!=_&&!1!==_)if("transform"===v)Array.isArray(_)?_.forEach((v=>{E.transform=E.transform||[];const S=Object.keys(v)[0],_=v[S],D={};if(Array.isArray(_)){const v=getSequenceArray(S,_,$,R,P,callback);if(v.length){let _=(0,L.k)(v[0],...v.slice(1));F&&(_=(0,U.E)(_,N,G)),D[S]=_}}else{null!=at?.[S]?.delay&&($=at?.[S]?.delay);let v=P(_,R,callback);F&&(v=(0,U.E)(v,N,G)),D[S]=null!=$?(0,O.y)($,v):v}Object.keys(D).length&&E.transform.push(D)})):console.error(`[${V}]: Invalid transform value. Needs to be an array.`);else if(Array.isArray(_)){const S=getSequenceArray(v,_,$,R,P,callback);let D=(0,L.k)(S[0],...S.slice(1));if(F&&(D=(0,U.E)(D,N,G)),isTransform(v)){if(E.transform=E.transform||[],S.length){const S={};S[v]=D,E.transform.push(S)}}else S.length&&(E[v]=D)}else if(isTransform(v)){E.transform=E.transform||[],null!=at?.[v]?.delay&&($=at?.[v]?.delay);const S={};let D=P(_,R,callback);F&&(D=(0,U.E)(D,N,G)),S[v]=null!=$?(0,O.y)($,D):D,E.transform.push(S)}else if("object"==typeof _){E[v]={};for(const S in _||{}){let D=P(_,R,callback);F&&(D=(0,U.E)(D,N,G)),E[v][S]=null!=$?(0,O.y)($,D):D}}else{let S=P(_,R,callback);F&&(S=(0,U.E)(S,N,G)),E[v]=null!=$&&"number"==typeof $?(0,O.y)($,S):S}})),E.transform?.length||delete E.transform,E}),[v,rt,D,et,$,P,S,st,Z,Q,W,it,nt,R,G,_]);return(0,E.useEffect)((()=>{Z.value=!0}),[Z]),(0,E.useEffect)((function allowUnMountIfMissingExit(){Q||st||nt()}),[st,Q,nt]),{style:ot}}},127250:v=>{var S=1e3,_=60*S,E=60*_,P=24*E,D=7*P,R=365.25*P;function plural(v,S,_,E){var P=S>=1.5*_;return Math.round(v/_)+" "+E+(P?"s":"")}v.exports=function(v,M){M=M||{};var O=typeof v;if("string"===O&&v.length>0)return function parse(v){if((v=String(v)).length>100)return;var M=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(!M)return;var O=parseFloat(M[1]);switch((M[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return O*R;case"weeks":case"week":case"w":return O*D;case"days":case"day":case"d":return O*P;case"hours":case"hour":case"hrs":case"hr":case"h":return O*E;case"minutes":case"minute":case"mins":case"min":case"m":return O*_;case"seconds":case"second":case"secs":case"sec":case"s":return O*S;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return O;default:return}}(v);if("number"===O&&isFinite(v))return M.long?function fmtLong(v){var D=Math.abs(v);if(D>=P)return plural(v,D,P,"day");if(D>=E)return plural(v,D,E,"hour");if(D>=_)return plural(v,D,_,"minute");if(D>=S)return plural(v,D,S,"second");return v+" ms"}(v):function fmtShort(v){var D=Math.abs(v);if(D>=P)return Math.round(v/P)+"d";if(D>=E)return Math.round(v/E)+"h";if(D>=_)return Math.round(v/_)+"m";if(D>=S)return Math.round(v/S)+"s";return v+"ms"}(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))}},850764:function(v){v.exports=function(){"use strict";var v=Object.prototype.toString,S=Array.isArray||function isArrayPolyfill(S){return"[object Array]"===v.call(S)};function isFunction(v){return"function"==typeof v}function typeStr(v){return S(v)?"array":typeof v}function escapeRegExp(v){return v.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(v,S){return null!=v&&"object"==typeof v&&S in v}function primitiveHasOwnProperty(v,S){return null!=v&&"object"!=typeof v&&v.hasOwnProperty&&v.hasOwnProperty(S)}var _=RegExp.prototype.test;function testRegExp(v,S){return _.call(v,S)}var E=/\S/;function isWhitespace(v){return!testRegExp(E,v)}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(v){return String(v).replace(/[&<>"'`=\/]/g,(function fromEntityMap(v){return P[v]}))}var D=/\s*/,R=/\s+/,M=/\s*=/,O=/\s*\}/,F=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(v,_){if(!v)return[];var E,P,L,U=!1,V=[],G=[],W=[],$=!1,X=!1,Y="",J=0;function stripSpace(){if($&&!X)for(;W.length;)delete G[W.pop()];else W=[];$=!1,X=!1}function compileTags(v){if("string"==typeof v&&(v=v.split(R,2)),!S(v)||2!==v.length)throw new Error("Invalid tags: "+v);E=new RegExp(escapeRegExp(v[0])+"\\s*"),P=new RegExp("\\s*"+escapeRegExp(v[1])),L=new RegExp("\\s*"+escapeRegExp("}"+v[1]))}compileTags(_||N.tags);for(var Z,Q,tt,et,rt,nt,it=new Scanner(v);!it.eos();){if(Z=it.pos,tt=it.scanUntil(E))for(var st=0,ot=tt.length;st<ot;++st)isWhitespace(et=tt.charAt(st))?(W.push(G.length),Y+=et):(X=!0,U=!0,Y+=" "),G.push(["text",et,Z,Z+1]),Z+=1,"\n"===et&&(stripSpace(),Y="",J=0,U=!1);if(!it.scan(E))break;if($=!0,Q=it.scan(F)||"name",it.scan(D),"="===Q?(tt=it.scanUntil(M),it.scan(M),it.scanUntil(P)):"{"===Q?(tt=it.scanUntil(L),it.scan(O),it.scanUntil(P),Q="&"):tt=it.scanUntil(P),!it.scan(P))throw new Error("Unclosed tag at "+it.pos);if(rt=">"==Q?[Q,tt,Z,it.pos,Y,J,U]:[Q,tt,Z,it.pos],J++,G.push(rt),"#"===Q||"^"===Q)V.push(rt);else if("/"===Q){if(!(nt=V.pop()))throw new Error('Unopened section "'+tt+'" at '+Z);if(nt[1]!==tt)throw new Error('Unclosed section "'+nt[1]+'" at '+Z)}else"name"===Q||"{"===Q||"&"===Q?X=!0:"="===Q&&compileTags(tt)}if(stripSpace(),nt=V.pop())throw new Error('Unclosed section "'+nt[1]+'" at '+it.pos);return nestTokens(squashTokens(G))}function squashTokens(v){for(var S,_,E=[],P=0,D=v.length;P<D;++P)(S=v[P])&&("text"===S[0]&&_&&"text"===_[0]?(_[1]+=S[1],_[3]=S[3]):(E.push(S),_=S));return E}function nestTokens(v){for(var S,_=[],E=_,P=[],D=0,R=v.length;D<R;++D)switch((S=v[D])[0]){case"#":case"^":E.push(S),P.push(S),E=S[4]=[];break;case"/":P.pop()[5]=S[2],E=P.length>0?P[P.length-1][4]:_;break;default:E.push(S)}return _}function Scanner(v){this.string=v,this.tail=v,this.pos=0}function Context(v,S){this.view=v,this.cache={".":this.view},this.parent=S}function Writer(){this.templateCache={_cache:{},set:function set(v,S){this._cache[v]=S},get:function get(v){return this._cache[v]},clear:function clear(){this._cache={}}}}Scanner.prototype.eos=function eos(){return""===this.tail},Scanner.prototype.scan=function scan(v){var S=this.tail.match(v);if(!S||0!==S.index)return"";var _=S[0];return this.tail=this.tail.substring(_.length),this.pos+=_.length,_},Scanner.prototype.scanUntil=function scanUntil(v){var S,_=this.tail.search(v);switch(_){case-1:S=this.tail,this.tail="";break;case 0:S="";break;default:S=this.tail.substring(0,_),this.tail=this.tail.substring(_)}return this.pos+=S.length,S},Context.prototype.push=function push(v){return new Context(v,this)},Context.prototype.lookup=function lookup(v){var S,_=this.cache;if(_.hasOwnProperty(v))S=_[v];else{for(var E,P,D,R=this,M=!1;R;){if(v.indexOf(".")>0)for(E=R.view,P=v.split("."),D=0;null!=E&&D<P.length;)D===P.length-1&&(M=hasProperty(E,P[D])||primitiveHasOwnProperty(E,P[D])),E=E[P[D++]];else E=R.view[v],M=hasProperty(R.view,v);if(M){S=E;break}R=R.parent}_[v]=S}return isFunction(S)&&(S=S.call(this.view)),S},Writer.prototype.clearCache=function clearCache(){void 0!==this.templateCache&&this.templateCache.clear()},Writer.prototype.parse=function parse(v,S){var _=this.templateCache,E=v+":"+(S||N.tags).join(":"),P=void 0!==_,D=P?_.get(E):void 0;return null==D&&(D=parseTemplate(v,S),P&&_.set(E,D)),D},Writer.prototype.render=function render(v,S,_,E){var P=this.getConfigTags(E),D=this.parse(v,P),R=S instanceof Context?S:new Context(S,void 0);return this.renderTokens(D,R,_,v,E)},Writer.prototype.renderTokens=function renderTokens(v,S,_,E,P){for(var D,R,M,O="",F=0,N=v.length;F<N;++F)M=void 0,"#"===(R=(D=v[F])[0])?M=this.renderSection(D,S,_,E,P):"^"===R?M=this.renderInverted(D,S,_,E,P):">"===R?M=this.renderPartial(D,S,_,P):"&"===R?M=this.unescapedValue(D,S):"name"===R?M=this.escapedValue(D,S,P):"text"===R&&(M=this.rawValue(D)),void 0!==M&&(O+=M);return O},Writer.prototype.renderSection=function renderSection(v,_,E,P,D){var R=this,M="",O=_.lookup(v[1]);function subRender(v){return R.render(v,_,E,D)}if(O){if(S(O))for(var F=0,N=O.length;F<N;++F)M+=this.renderTokens(v[4],_.push(O[F]),E,P,D);else if("object"==typeof O||"string"==typeof O||"number"==typeof O)M+=this.renderTokens(v[4],_.push(O),E,P,D);else if(isFunction(O)){if("string"!=typeof P)throw new Error("Cannot use higher-order sections without the original template");null!=(O=O.call(_.view,P.slice(v[3],v[5]),subRender))&&(M+=O)}else M+=this.renderTokens(v[4],_,E,P,D);return M}},Writer.prototype.renderInverted=function renderInverted(v,_,E,P,D){var R=_.lookup(v[1]);if(!R||S(R)&&0===R.length)return this.renderTokens(v[4],_,E,P,D)},Writer.prototype.indentPartial=function indentPartial(v,S,_){for(var E=S.replace(/[^ \t]/g,""),P=v.split("\n"),D=0;D<P.length;D++)P[D].length&&(D>0||!_)&&(P[D]=E+P[D]);return P.join("\n")},Writer.prototype.renderPartial=function renderPartial(v,S,_,E){if(_){var P=this.getConfigTags(E),D=isFunction(_)?_(v[1]):_[v[1]];if(null!=D){var R=v[6],M=v[5],O=v[4],F=D;0==M&&O&&(F=this.indentPartial(D,O,R));var N=this.parse(F,P);return this.renderTokens(N,S,_,F,E)}}},Writer.prototype.unescapedValue=function unescapedValue(v,S){var _=S.lookup(v[1]);if(null!=_)return _},Writer.prototype.escapedValue=function escapedValue(v,S,_){var E=this.getConfigEscape(_)||N.escape,P=S.lookup(v[1]);if(null!=P)return"number"==typeof P&&E===N.escape?String(P):E(P)},Writer.prototype.rawValue=function rawValue(v){return v[1]},Writer.prototype.getConfigTags=function getConfigTags(v){return S(v)?v:v&&"object"==typeof v?v.tags:void 0},Writer.prototype.getConfigEscape=function getConfigEscape(v){return v&&"object"==typeof v&&!S(v)?v.escape:void 0};var N={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(v){L.templateCache=v},get templateCache(){return L.templateCache}},L=new Writer;return N.clearCache=function clearCache(){return L.clearCache()},N.parse=function parse(v,S){return L.parse(v,S)},N.render=function render(v,S,_,E){if("string"!=typeof v)throw new TypeError('Invalid template! Template should be a "string" but "'+typeStr(v)+'" was given as the first argument for mustache#render(template, view, partials)');return L.render(v,S,_,E)},N.escape=escapeHtml,N.Scanner=Scanner,N.Context=Context,N.Writer=Writer,N}()},892145:(v,S)=>{"use strict";S.A=function natsort(v){void 0===v&&(v={});var S=/^0/,_=/\s+/g,E=/^\s+|\s+$/g,P=/[^\x00-\x80]/,D=/^0x[0-9a-f]+$/i,R=/(0x[\da-fA-F]+|(^[\+\-]?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?(?=\D|\s|$))|\d+)/g,M=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,O=String.prototype.toLocaleLowerCase||String.prototype.toLowerCase,F=v.desc?-1:1,N=-F,L=v.insensitive?function(v){return O.call(""+v).replace(E,"")}:function(v){return(""+v).replace(E,"")};function tokenize(v){return v.replace(R,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")}function parse(v,P){return(!v.match(S)||1===P)&&parseFloat(v)||v.replace(_," ").replace(E,"")||0}return function(v,S){var _=L(v),E=L(S);if(!_&&!E)return 0;if(!_&&E)return N;if(_&&!E)return F;var R=tokenize(_),O=tokenize(E),U=_.match(D),V=E.match(D),G=U&&V?parseInt(U[0],16):1!==R.length&&Date.parse(_),W=U&&V?parseInt(V[0],16):G&&E.match(M)&&Date.parse(E)||null;if(W){if(G===W)return 0;if(G<W)return N;if(G>W)return F}for(var $=R.length,X=O.length,Y=0,J=Math.max($,X);Y<J;Y+=1){var Z=parse(R[Y]||"",$),Q=parse(O[Y]||"",X);if(isNaN(Z)!==isNaN(Q))return isNaN(Z)?F:N;if(P.test(Z+Q)&&Z.localeCompare){var tt=Z.localeCompare(Q);if(tt>0)return F;if(tt<0)return N;if(Y===J-1)return 0}if(Z<Q)return N;if(Z>Q)return F;if(""+Z<""+Q)return N;if(""+Z>""+Q)return F}return 0}}},664239:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.AbiSerializationType=S.AbiFunctionModifier=S.AbiFunctionKind=S.SCHEMA_VERSION=void 0,S.SCHEMA_VERSION="0.3.0",function(v){v.View="view",v.Call="call"}(S.AbiFunctionKind||(S.AbiFunctionKind={})),function(v){v.Init="init",v.Private="private",v.Payable="payable"}(S.AbiFunctionModifier||(S.AbiFunctionModifier={})),function(v){v.Json="json",v.Borsh="borsh"}(S.AbiSerializationType||(S.AbiSerializationType={}))},802548:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Account=void 0;var E=_(720989);Object.defineProperty(S,"Account",{enumerable:!0,get:function(){return E.Account}})},349031:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UrlAccountCreator=S.LocalAccountCreator=S.AccountCreator=void 0;var E=_(720989);Object.defineProperty(S,"AccountCreator",{enumerable:!0,get:function(){return E.AccountCreator}}),Object.defineProperty(S,"LocalAccountCreator",{enumerable:!0,get:function(){return E.LocalAccountCreator}}),Object.defineProperty(S,"UrlAccountCreator",{enumerable:!0,get:function(){return E.UrlAccountCreator}})},914501:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MultisigStateStatus=S.MultisigDeleteRequestRejectionError=S.MULTISIG_CONFIRM_METHODS=S.MULTISIG_CHANGE_METHODS=S.MULTISIG_DEPOSIT=S.MULTISIG_GAS=S.MULTISIG_ALLOWANCE=S.MULTISIG_STORAGE_KEY=S.AccountMultisig=S.Account2FA=void 0;var E=_(720989);Object.defineProperty(S,"Account2FA",{enumerable:!0,get:function(){return E.Account2FA}}),Object.defineProperty(S,"AccountMultisig",{enumerable:!0,get:function(){return E.AccountMultisig}}),Object.defineProperty(S,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return E.MULTISIG_STORAGE_KEY}}),Object.defineProperty(S,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return E.MULTISIG_ALLOWANCE}}),Object.defineProperty(S,"MULTISIG_GAS",{enumerable:!0,get:function(){return E.MULTISIG_GAS}}),Object.defineProperty(S,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return E.MULTISIG_DEPOSIT}}),Object.defineProperty(S,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return E.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(S,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return E.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(S,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return E.MultisigDeleteRequestRejectionError}}),Object.defineProperty(S,"MultisigStateStatus",{enumerable:!0,get:function(){return E.MultisigStateStatus}})},437832:function(v,S,_){"use strict";var E=this&&this.__awaiter||function(v,S,_,E){return new(_||(_=Promise))((function(P,D){function fulfilled(v){try{step(E.next(v))}catch(v){D(v)}}function rejected(v){try{step(E.throw(v))}catch(v){D(v)}}function step(v){v.done?P(v.value):function adopt(v){return v instanceof _?v:new _((function(S){S(v)}))}(v.value).then(fulfilled,rejected)}step((E=E.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:!0}),S.connect=void 0;const P=_(386933);S.connect=function connect(v){return E(this,void 0,void 0,(function*(){return new P.Near(v)}))}},93830:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}:function(v,S){v.default=S}),D=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(null!=v)for(var _ in v)"default"!==_&&Object.prototype.hasOwnProperty.call(v,_)&&E(S,v,_);return P(S,v),S},R=this&&this.__exportStar||function(v,S){for(var _ in v)"default"===_||Object.prototype.hasOwnProperty.call(S,_)||E(S,v,_)};Object.defineProperty(S,"__esModule",{value:!0}),S.keyStores=void 0,S.keyStores=D(_(211191)),R(_(90367),S),R(_(437832),S),_(686072)},90367:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}:function(v,S){v.default=S}),D=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(null!=v)for(var _ in v)"default"!==_&&Object.prototype.hasOwnProperty.call(v,_)&&E(S,v,_);return P(S,v),S};Object.defineProperty(S,"__esModule",{value:!0}),S.WalletConnection=S.ConnectedWalletAccount=S.Near=S.KeyPair=S.Signer=S.InMemorySigner=S.Contract=S.Connection=S.Account=S.multisig=S.validators=S.transactions=S.utils=S.providers=S.accountCreator=void 0;const R=D(_(667438));S.providers=R;const M=D(_(879997));S.utils=M;const O=D(_(435079));S.transactions=O;const F=D(_(358780));S.validators=F;const N=_(802548);Object.defineProperty(S,"Account",{enumerable:!0,get:function(){return N.Account}});const L=D(_(914501));S.multisig=L;const U=D(_(349031));S.accountCreator=U;const V=_(805727);Object.defineProperty(S,"Connection",{enumerable:!0,get:function(){return V.Connection}});const G=_(839269);Object.defineProperty(S,"Signer",{enumerable:!0,get:function(){return G.Signer}}),Object.defineProperty(S,"InMemorySigner",{enumerable:!0,get:function(){return G.InMemorySigner}});const W=_(220005);Object.defineProperty(S,"Contract",{enumerable:!0,get:function(){return W.Contract}});const $=_(269265);Object.defineProperty(S,"KeyPair",{enumerable:!0,get:function(){return $.KeyPair}});const X=_(386933);Object.defineProperty(S,"Near",{enumerable:!0,get:function(){return X.Near}});const Y=_(97556);Object.defineProperty(S,"ConnectedWalletAccount",{enumerable:!0,get:function(){return Y.ConnectedWalletAccount}}),Object.defineProperty(S,"WalletConnection",{enumerable:!0,get:function(){return Y.WalletConnection}})},805727:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Connection=void 0;var E=_(720989);Object.defineProperty(S,"Connection",{enumerable:!0,get:function(){return E.Connection}})},220005:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Contract=void 0;var E=_(720989);Object.defineProperty(S,"Contract",{enumerable:!0,get:function(){return E.Contract}})},211191:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MergeKeyStore=S.BrowserLocalStorageKeyStore=S.InMemoryKeyStore=S.KeyStore=void 0;const E=_(514416);Object.defineProperty(S,"KeyStore",{enumerable:!0,get:function(){return E.KeyStore}});const P=_(237303);Object.defineProperty(S,"InMemoryKeyStore",{enumerable:!0,get:function(){return P.InMemoryKeyStore}});const D=_(224842);Object.defineProperty(S,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return D.BrowserLocalStorageKeyStore}});const R=_(304152);Object.defineProperty(S,"MergeKeyStore",{enumerable:!0,get:function(){return R.MergeKeyStore}})},224842:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.BrowserLocalStorageKeyStore=void 0;var E=_(928083);Object.defineProperty(S,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return E.BrowserLocalStorageKeyStore}})},237303:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.InMemoryKeyStore=void 0;var E=_(520490);Object.defineProperty(S,"InMemoryKeyStore",{enumerable:!0,get:function(){return E.InMemoryKeyStore}})},514416:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.KeyStore=void 0;var E=_(520490);Object.defineProperty(S,"KeyStore",{enumerable:!0,get:function(){return E.KeyStore}})},304152:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MergeKeyStore=void 0;var E=_(520490);Object.defineProperty(S,"MergeKeyStore",{enumerable:!0,get:function(){return E.MergeKeyStore}})},386933:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Near=void 0;var E=_(742278);Object.defineProperty(S,"Near",{enumerable:!0,get:function(){return E.Near}})},667438:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ErrorContext=S.TypedError=S.getTransactionLastResult=S.FinalExecutionStatusBasic=S.JsonRpcProvider=S.Provider=void 0;const E=_(81169);Object.defineProperty(S,"Provider",{enumerable:!0,get:function(){return E.Provider}}),Object.defineProperty(S,"getTransactionLastResult",{enumerable:!0,get:function(){return E.getTransactionLastResult}}),Object.defineProperty(S,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return E.FinalExecutionStatusBasic}});const P=_(430500);Object.defineProperty(S,"JsonRpcProvider",{enumerable:!0,get:function(){return P.JsonRpcProvider}}),Object.defineProperty(S,"TypedError",{enumerable:!0,get:function(){return P.TypedError}}),Object.defineProperty(S,"ErrorContext",{enumerable:!0,get:function(){return P.ErrorContext}})},430500:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.JsonRpcProvider=S.TypedError=S.ErrorContext=void 0;var E=_(962922);Object.defineProperty(S,"ErrorContext",{enumerable:!0,get:function(){return E.ErrorContext}}),Object.defineProperty(S,"TypedError",{enumerable:!0,get:function(){return E.TypedError}});var P=_(532885);Object.defineProperty(S,"JsonRpcProvider",{enumerable:!0,get:function(){return P.JsonRpcProvider}})},81169:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.FinalExecutionStatusBasic=S.ExecutionStatusBasic=S.IdType=S.Provider=S.getTransactionLastResult=void 0;var E=_(387438);Object.defineProperty(S,"getTransactionLastResult",{enumerable:!0,get:function(){return E.getTransactionLastResult}});var P=_(532885);Object.defineProperty(S,"Provider",{enumerable:!0,get:function(){return P.Provider}});var D=_(962922);Object.defineProperty(S,"IdType",{enumerable:!0,get:function(){return D.IdType}}),Object.defineProperty(S,"ExecutionStatusBasic",{enumerable:!0,get:function(){return D.ExecutionStatusBasic}}),Object.defineProperty(S,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return D.FinalExecutionStatusBasic}})},839269:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Signer=S.InMemorySigner=void 0;var E=_(86796);Object.defineProperty(S,"InMemorySigner",{enumerable:!0,get:function(){return E.InMemorySigner}}),Object.defineProperty(S,"Signer",{enumerable:!0,get:function(){return E.Signer}})},435079:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.transfer=S.stake=S.functionCallAccessKey=S.functionCall=S.fullAccessKey=S.deployContract=S.deleteKey=S.deleteAccount=S.createAccount=S.addKey=S.encodeDelegateAction=S.encodeSignedDelegate=S.Transaction=S.SignedTransaction=S.Signature=S.signTransaction=S.createTransaction=S.SCHEMA=S.Transfer=S.Stake=S.FunctionCallPermission=S.FunctionCall=S.FullAccessPermission=S.DeployContract=S.DeleteKey=S.DeleteAccount=S.CreateAccount=S.AddKey=S.AccessKeyPermission=S.AccessKey=S.Action=S.stringifyJsonOrBytes=void 0;var E=_(332564);Object.defineProperty(S,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return E.stringifyJsonOrBytes}}),Object.defineProperty(S,"Action",{enumerable:!0,get:function(){return E.Action}}),Object.defineProperty(S,"AccessKey",{enumerable:!0,get:function(){return E.AccessKey}}),Object.defineProperty(S,"AccessKeyPermission",{enumerable:!0,get:function(){return E.AccessKeyPermission}}),Object.defineProperty(S,"AddKey",{enumerable:!0,get:function(){return E.AddKey}}),Object.defineProperty(S,"CreateAccount",{enumerable:!0,get:function(){return E.CreateAccount}}),Object.defineProperty(S,"DeleteAccount",{enumerable:!0,get:function(){return E.DeleteAccount}}),Object.defineProperty(S,"DeleteKey",{enumerable:!0,get:function(){return E.DeleteKey}}),Object.defineProperty(S,"DeployContract",{enumerable:!0,get:function(){return E.DeployContract}}),Object.defineProperty(S,"FullAccessPermission",{enumerable:!0,get:function(){return E.FullAccessPermission}}),Object.defineProperty(S,"FunctionCall",{enumerable:!0,get:function(){return E.FunctionCall}}),Object.defineProperty(S,"FunctionCallPermission",{enumerable:!0,get:function(){return E.FunctionCallPermission}}),Object.defineProperty(S,"Stake",{enumerable:!0,get:function(){return E.Stake}}),Object.defineProperty(S,"Transfer",{enumerable:!0,get:function(){return E.Transfer}}),Object.defineProperty(S,"SCHEMA",{enumerable:!0,get:function(){return E.SCHEMA}}),Object.defineProperty(S,"createTransaction",{enumerable:!0,get:function(){return E.createTransaction}}),Object.defineProperty(S,"signTransaction",{enumerable:!0,get:function(){return E.signTransaction}}),Object.defineProperty(S,"Signature",{enumerable:!0,get:function(){return E.Signature}}),Object.defineProperty(S,"SignedTransaction",{enumerable:!0,get:function(){return E.SignedTransaction}}),Object.defineProperty(S,"Transaction",{enumerable:!0,get:function(){return E.Transaction}}),Object.defineProperty(S,"encodeSignedDelegate",{enumerable:!0,get:function(){return E.encodeSignedDelegate}}),Object.defineProperty(S,"encodeDelegateAction",{enumerable:!0,get:function(){return E.encodeDelegateAction}});const P=_(332564);S.addKey=(v,S)=>P.actionCreators.addKey(v,S);S.createAccount=()=>P.actionCreators.createAccount();S.deleteAccount=v=>P.actionCreators.deleteAccount(v);S.deleteKey=v=>P.actionCreators.deleteKey(v);S.deployContract=v=>P.actionCreators.deployContract(v);S.fullAccessKey=()=>P.actionCreators.fullAccessKey();S.functionCall=(v,S,_,E,D,R)=>P.actionCreators.functionCall(v,S,_,E,D,R);S.functionCallAccessKey=(v,S,_)=>P.actionCreators.functionCallAccessKey(v,S,_);S.stake=(v,S)=>P.actionCreators.stake(v,S);S.transfer=v=>P.actionCreators.transfer(v)},632203:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Enum=S.Assignable=void 0;var E=_(962922);Object.defineProperty(S,"Assignable",{enumerable:!0,get:function(){return E.Assignable}});S.Enum=class Enum{constructor(v){if(1!==Object.keys(v).length)throw new Error("Enum can only take single value");Object.keys(v).map((S=>{this[S]=v[S],this.enum=S}))}}},483666:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.logWarning=S.TypedError=S.PositionalArgsError=S.ErrorContext=S.ArgumentTypeError=S.UnsupportedSerializationError=S.UnknownArgumentError=S.ConflictingOptions=S.ArgumentSchemaError=void 0;var E=_(720989);Object.defineProperty(S,"ArgumentSchemaError",{enumerable:!0,get:function(){return E.ArgumentSchemaError}}),Object.defineProperty(S,"ConflictingOptions",{enumerable:!0,get:function(){return E.ConflictingOptions}}),Object.defineProperty(S,"UnknownArgumentError",{enumerable:!0,get:function(){return E.UnknownArgumentError}}),Object.defineProperty(S,"UnsupportedSerializationError",{enumerable:!0,get:function(){return E.UnsupportedSerializationError}});var P=_(962922);Object.defineProperty(S,"ArgumentTypeError",{enumerable:!0,get:function(){return P.ArgumentTypeError}}),Object.defineProperty(S,"ErrorContext",{enumerable:!0,get:function(){return P.ErrorContext}}),Object.defineProperty(S,"PositionalArgsError",{enumerable:!0,get:function(){return P.PositionalArgsError}}),Object.defineProperty(S,"TypedError",{enumerable:!0,get:function(){return P.TypedError}});var D=_(387438);Object.defineProperty(S,"logWarning",{enumerable:!0,get:function(){return D.logWarning}})},134550:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseNearAmount=S.formatNearAmount=S.NEAR_NOMINATION_EXP=S.NEAR_NOMINATION=void 0;var E=_(387438);Object.defineProperty(S,"NEAR_NOMINATION",{enumerable:!0,get:function(){return E.NEAR_NOMINATION}}),Object.defineProperty(S,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return E.NEAR_NOMINATION_EXP}}),Object.defineProperty(S,"formatNearAmount",{enumerable:!0,get:function(){return E.formatNearAmount}}),Object.defineProperty(S,"parseNearAmount",{enumerable:!0,get:function(){return E.parseNearAmount}})},879997:function(v,S,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(v,S,_,E){void 0===E&&(E=_);var P=Object.getOwnPropertyDescriptor(S,_);P&&!("get"in P?!S.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,E,P)}:function(v,S,_,E){void 0===E&&(E=_),v[E]=S[_]}),P=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}:function(v,S){v.default=S}),D=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(null!=v)for(var _ in v)"default"!==_&&Object.prototype.hasOwnProperty.call(v,_)&&E(S,v,_);return P(S,v),S};Object.defineProperty(S,"__esModule",{value:!0}),S.logWarning=S.rpc_errors=S.KeyPairEd25519=S.KeyPair=S.PublicKey=S.format=S.enums=S.web=S.serialize=S.key_pair=void 0;const R=D(_(269265));S.key_pair=R;const M=D(_(914587));S.serialize=M;const O=D(_(950423));S.web=O;const F=D(_(632203));S.enums=F;const N=D(_(134550));S.format=N;const L=D(_(736770));S.rpc_errors=L;const U=_(269265);Object.defineProperty(S,"PublicKey",{enumerable:!0,get:function(){return U.PublicKey}}),Object.defineProperty(S,"KeyPair",{enumerable:!0,get:function(){return U.KeyPair}}),Object.defineProperty(S,"KeyPairEd25519",{enumerable:!0,get:function(){return U.KeyPairEd25519}});const V=_(483666);Object.defineProperty(S,"logWarning",{enumerable:!0,get:function(){return V.logWarning}})},269265:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PublicKey=S.KeyType=S.KeyPairEd25519=S.KeyPair=void 0;var E=_(368524);Object.defineProperty(S,"KeyPair",{enumerable:!0,get:function(){return E.KeyPair}}),Object.defineProperty(S,"KeyPairEd25519",{enumerable:!0,get:function(){return E.KeyPairEd25519}}),Object.defineProperty(S,"KeyType",{enumerable:!0,get:function(){return E.KeyType}}),Object.defineProperty(S,"PublicKey",{enumerable:!0,get:function(){return E.PublicKey}})},736770:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ServerError=S.getErrorTypeFromErrorMessage=S.formatError=S.parseResultError=S.parseRpcError=void 0;var E=_(387438);Object.defineProperty(S,"parseRpcError",{enumerable:!0,get:function(){return E.parseRpcError}}),Object.defineProperty(S,"parseResultError",{enumerable:!0,get:function(){return E.parseResultError}}),Object.defineProperty(S,"formatError",{enumerable:!0,get:function(){return E.formatError}}),Object.defineProperty(S,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return E.getErrorTypeFromErrorMessage}}),Object.defineProperty(S,"ServerError",{enumerable:!0,get:function(){return E.ServerError}})},914587:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.BinaryReader=S.BinaryWriter=S.BorshError=S.deserialize=S.serialize=S.base_decode=S.base_encode=void 0;var E=_(881818);Object.defineProperty(S,"base_encode",{enumerable:!0,get:function(){return E.baseEncode}}),Object.defineProperty(S,"base_decode",{enumerable:!0,get:function(){return E.baseDecode}}),Object.defineProperty(S,"serialize",{enumerable:!0,get:function(){return E.serialize}}),Object.defineProperty(S,"deserialize",{enumerable:!0,get:function(){return E.deserialize}}),Object.defineProperty(S,"BorshError",{enumerable:!0,get:function(){return E.BorshError}}),Object.defineProperty(S,"BinaryWriter",{enumerable:!0,get:function(){return E.BinaryWriter}}),Object.defineProperty(S,"BinaryReader",{enumerable:!0,get:function(){return E.BinaryReader}})},950423:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.fetchJson=void 0;var E=_(532885);Object.defineProperty(S,"fetchJson",{enumerable:!0,get:function(){return E.fetchJson}})},358780:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.findSeatPrice=S.diffEpochValidators=void 0;var E=_(387438);Object.defineProperty(S,"diffEpochValidators",{enumerable:!0,get:function(){return E.diffEpochValidators}}),Object.defineProperty(S,"findSeatPrice",{enumerable:!0,get:function(){return E.findSeatPrice}})},97556:(v,S,_)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.WalletConnection=S.ConnectedWalletAccount=void 0;var E=_(742278);Object.defineProperty(S,"ConnectedWalletAccount",{enumerable:!0,get:function(){return E.ConnectedWalletAccount}}),Object.defineProperty(S,"WalletConnection",{enumerable:!0,get:function(){return E.WalletConnection}})},596763:v=>{"use strict";var ensureCallable=function(v){if("function"!=typeof v)throw new TypeError(v+" is not a function");return v},byObserver=function(v){var S,_,E=document.createTextNode(""),P=0;return new v((function(){var v;if(S)_&&(S=_.concat(S));else{if(!_)return;S=_}if(_=S,S=null,"function"==typeof _)return v=_,_=null,void v();for(E.data=P=++P%2;_;)v=_.shift(),_.length||(_=null),v()})).observe(E,{characterData:!0}),function(v){ensureCallable(v),S?"function"==typeof S?S=[S,v]:S.push(v):(S=v,E.data=P=++P%2)}};v.exports=function(){if("function"==typeof{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick)return{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick;if("function"==typeof queueMicrotask)return function(v){queueMicrotask(ensureCallable(v))};if("object"==typeof document&&document){if("function"==typeof MutationObserver)return byObserver(MutationObserver);if("function"==typeof WebKitMutationObserver)return byObserver(WebKitMutationObserver)}return"function"==typeof setImmediate?function(v){setImmediate(ensureCallable(v))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(v){setTimeout(ensureCallable(v),0)}:null}()},698203:(v,S,_)=>{"use strict";var E=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==_.g)return _.g;throw new Error("unable to locate global object")}();v.exports=S=E.fetch,E.fetch&&(S.default=E.fetch.bind(E)),S.Headers=E.Headers,S.Request=E.Request,S.Response=E.Response},436033:v=>{function normalizeColor(v){var S;return"number"==typeof v?v>>>0===v&&v>=0&&v<=4294967295?v:null:(S=E.hex6.exec(v))?parseInt(S[1]+"ff",16)>>>0:P.hasOwnProperty(v)?P[v]:(S=E.rgb.exec(v))?(parse255(S[1])<<24|parse255(S[2])<<16|parse255(S[3])<<8|255)>>>0:(S=E.rgba.exec(v))?(parse255(S[1])<<24|parse255(S[2])<<16|parse255(S[3])<<8|parse1(S[4]))>>>0:(S=E.hex3.exec(v))?parseInt(S[1]+S[1]+S[2]+S[2]+S[3]+S[3]+"ff",16)>>>0:(S=E.hex8.exec(v))?parseInt(S[1],16)>>>0:(S=E.hex4.exec(v))?parseInt(S[1]+S[1]+S[2]+S[2]+S[3]+S[3]+S[4]+S[4],16)>>>0:(S=E.hsl.exec(v))?(255|hslToRgb(parse360(S[1]),parsePercentage(S[2]),parsePercentage(S[3])))>>>0:(S=E.hsla.exec(v))?(hslToRgb(parse360(S[1]),parsePercentage(S[2]),parsePercentage(S[3]))|parse1(S[4]))>>>0:null}function hue2rgb(v,S,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?v+6*(S-v)*_:_<.5?S:_<2/3?v+(S-v)*(2/3-_)*6:v}function hslToRgb(v,S,_){var E=_<.5?_*(1+S):_+S-_*S,P=2*_-E,D=hue2rgb(P,E,v+1/3),R=hue2rgb(P,E,v),M=hue2rgb(P,E,v-1/3);return Math.round(255*D)<<24|Math.round(255*R)<<16|Math.round(255*M)<<8}var S="[-+]?\\d*\\.?\\d+",_=S+"%";function call(){return"\\(\\s*("+function toArray(v){return Array.prototype.slice.call(v,0)}(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var E={rgb:new RegExp("rgb"+call(S,S,S)),rgba:new RegExp("rgba"+call(S,S,S,S)),hsl:new RegExp("hsl"+call(S,_,_)),hsla:new RegExp("hsla"+call(S,_,_,S)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/};function parse255(v){var S=parseInt(v,10);return S<0?0:S>255?255:S}function parse360(v){return(parseFloat(v)%360+360)%360/360}function parse1(v){var S=parseFloat(v);return S<0?0:S>1?255:Math.round(255*S)}function parsePercentage(v){var S=parseFloat(v,10);return S<0?0:S>100?1:S/100}var P={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};normalizeColor.rgba=function rgba(v){return{r:Math.round((4278190080&v)>>>24),g:Math.round((16711680&v)>>>16),b:Math.round((65280&v)>>>8),a:((255&v)>>>0)/255}},v.exports=normalizeColor},571544:(v,S,_)=>{_(280855),v.exports=_(275348)},205648:v=>{var Class=function(){var v=Object.create({Source:Object,config:{},buildArgs:[]});function checkOption(S){var _="config";if(S instanceof Function)_="Source";else if(S instanceof Array)_="buildArgs";else{if(!(S instanceof Object))throw new Error("Invalid configuration option.");_="config"}if(v.hasOwnProperty(_))throw new Error("Duplicated configuration option: "+_+".");v[_]=S}for(var S=0,_=arguments.length;S<_;++S)checkOption(arguments[S]);var E=v.Source,P=v.config,D=v.buildArgs;return(E.extend||Class.extend).call(E,P,D)};Class.factory=function(){return function(){var v=this;v.build instanceof Function&&v.build.apply(v,arguments),v.init instanceof Function&&v.init.apply(v,arguments)}},Class.extend=function(v,S){var _,E=this;return v||(v={}),v.prototype instanceof Object&&v.prototype.constructor!==Object?_=v.prototype.constructor:v.factory instanceof Function&&(_=v.factory.call(E)),((_=(E.clone||Class.clone).call(E,_,S)).merge||Class.merge).call(_,v),_},Class.prototype.extend=function(v,S){var _=(this.clone||Class.prototype.clone).apply(this,S);return(_.merge||Class.prototype.merge).call(_,v),_},Class.clone=function(v,S){var _=this;for(var E in v instanceof Function||(v=(_.factory||Class.factory).call(_)),v.prototype=(_.prototype.clone||Class.prototype.clone).apply(_.prototype,S||[]),v.prototype.constructor=v,_)"prototype"!==E&&(v[E]=_[E]);return v},Class.prototype.clone=function(){var v=Object.create(this);return v.build instanceof Function&&v.build.apply(v,arguments),v},Class.merge=function(v){var S=this;for(var _ in v)"prototype"!==_&&(S[_]=v[_]);return v.prototype instanceof Object&&(S.prototype.merge||Class.prototype.merge).call(S.prototype,v.prototype),S},Class.prototype.merge=function(v){for(var S in v)"constructor"!==S&&(this[S]=v[S]);return this},Class.absorb=function(v){var S=this;for(var _ in v)"prototype"===_||void 0!==S[_]&&S[_]!==Function.prototype[_]||(S[_]=v[_]);return v.prototype instanceof Object&&(S.prototype.absorb||Class.prototype.absorb).call(S.prototype,v.prototype),S},Class.prototype.absorb=function(v){var S=this;for(var _ in v)"constructor"===_||void 0!==S[_]&&S[_]!==Object.prototype[_]||(S[_]=v[_]);return S},Class.getAncestor=function(){var v=this;if(v!==v.prototype.constructor)return v.prototype.constructor},Class.newInstance=function(){var v=Object.create(this.prototype);return this.apply(v,arguments),v},v.exports=Class},697769:v=>{v.exports=function(){throw new Error("Not implemented.")}},275348:(v,S,_)=>{v.exports={Class:_(205648),abstractMethod:_(697769)}},530945:v=>{v.exports={nanoid:(v=21)=>{let S="",_=v;for(;_--;)S+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return S},customAlphabet:(v,S=21)=>(_=S)=>{let E="",P=_;for(;P--;)E+=v[Math.random()*v.length|0];return E}}},743556:(v,S,_)=>{"use strict";_.d(S,{A:()=>wNAF,h:()=>validateBasic});var E=_(826681),P=_(379506);const D=BigInt(0),R=BigInt(1);function wNAF(v,S){const constTimeNegate=(v,S)=>{const _=S.negate();return v?_:S},opts=v=>({windows:Math.ceil(S/v)+1,windowSize:2**(v-1)});return{constTimeNegate,unsafeLadder(S,_){let E=v.ZERO,P=S;for(;_>D;)_&R&&(E=E.add(P)),P=P.double(),_>>=R;return E},precomputeWindow(v,S){const{windows:_,windowSize:E}=opts(S),P=[];let D=v,R=D;for(let v=0;v<_;v++){R=D,P.push(R);for(let v=1;v<E;v++)R=R.add(D),P.push(R);D=R.double()}return P},wNAF(S,_,E){const{windows:P,windowSize:D}=opts(S);let M=v.ZERO,O=v.BASE;const F=BigInt(2**S-1),N=2**S,L=BigInt(S);for(let v=0;v<P;v++){const S=v*D;let P=Number(E&F);E>>=L,P>D&&(P-=N,E+=R);const U=S,V=S+Math.abs(P)-1,G=v%2!=0,W=P<0;0===P?O=O.add(constTimeNegate(G,_[U])):M=M.add(constTimeNegate(W,_[V]))}return{p:M,f:O}},wNAFCached(v,S,_,E){const P=v._WINDOW_SIZE||1;let D=S.get(v);return D||(D=this.precomputeWindow(v,P),1!==P&&S.set(v,E(D))),this.wNAF(P,D,_)}}}function validateBasic(v){return(0,E.jr)(v.Fp),(0,P.Q5)(v,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,E.LH)(v.n,v.nBitLength),...v,p:v.Fp.ORDER})}},826681:(v,S,_)=>{"use strict";_.d(S,{B8:()=>invert,D0:()=>Field,LH:()=>nLength,Tp:()=>getMinHashLength,Tv:()=>FpSqrtEven,dQ:()=>isNegativeLE,jr:()=>validateField,qy:()=>mapHashToField,zH:()=>pow2,zi:()=>mod});var E=_(379506);const P=BigInt(0),D=BigInt(1),R=BigInt(2),M=BigInt(3),O=BigInt(4),F=BigInt(5),N=BigInt(8);BigInt(9),BigInt(16);function mod(v,S){const _=v%S;return _>=P?_:S+_}function pow(v,S,_){if(_<=P||S<P)throw new Error("Expected power/modulo > 0");if(_===D)return P;let E=D;for(;S>P;)S&D&&(E=E*v%_),v=v*v%_,S>>=D;return E}function pow2(v,S,_){let E=v;for(;S-- >P;)E*=E,E%=_;return E}function invert(v,S){if(v===P||S<=P)throw new Error(`invert: expected positive integers, got n=${v} mod=${S}`);let _=mod(v,S),E=S,R=P,M=D,O=D,F=P;for(;_!==P;){const v=E/_,S=E%_,P=R-O*v,D=M-F*v;E=_,_=S,R=O,M=F,O=P,F=D}if(E!==D)throw new Error("invert: does not exist");return mod(R,S)}function FpSqrt(v){if(v%O===M){const S=(v+D)/O;return function sqrt3mod4(v,_){const E=v.pow(_,S);if(!v.eql(v.sqr(E),_))throw new Error("Cannot find square root");return E}}if(v%N===F){const S=(v-F)/N;return function sqrt5mod8(v,_){const E=v.mul(_,R),P=v.pow(E,S),D=v.mul(_,P),M=v.mul(v.mul(D,R),P),O=v.mul(D,v.sub(M,v.ONE));if(!v.eql(v.sqr(O),_))throw new Error("Cannot find square root");return O}}return function tonelliShanks(v){const S=(v-D)/R;let _,E,M;for(_=v-D,E=0;_%R===P;_/=R,E++);for(M=R;M<v&&pow(M,S,v)!==v-D;M++);if(1===E){const S=(v+D)/O;return function tonelliFast(v,_){const E=v.pow(_,S);if(!v.eql(v.sqr(E),_))throw new Error("Cannot find square root");return E}}const F=(_+D)/R;return function tonelliSlow(v,P){if(v.pow(P,S)===v.neg(v.ONE))throw new Error("Cannot find square root");let R=E,O=v.pow(v.mul(v.ONE,M),_),N=v.pow(P,F),L=v.pow(P,_);for(;!v.eql(L,v.ONE);){if(v.eql(L,v.ZERO))return v.ZERO;let S=1;for(let _=v.sqr(L);S<R&&!v.eql(_,v.ONE);S++)_=v.sqr(_);const _=v.pow(O,D<<BigInt(R-S-1));O=v.sqr(_),N=v.mul(N,_),L=v.mul(L,O),R=S}return N}}(v)}const isNegativeLE=(v,S)=>(mod(v,S)&D)===D,L=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(v){const S=L.reduce(((v,S)=>(v[S]="function",v)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,E.Q5)(v,S)}function nLength(v,S){const _=void 0!==S?S:v.toString(2).length;return{nBitLength:_,nByteLength:Math.ceil(_/8)}}function Field(v,S,_=!1,R={}){if(v<=P)throw new Error(`Expected Field ORDER > 0, got ${v}`);const{nBitLength:M,nByteLength:O}=nLength(v,S);if(O>2048)throw new Error("Field lengths over 2048 bytes are not supported");const F=FpSqrt(v),N=Object.freeze({ORDER:v,BITS:M,BYTES:O,MASK:(0,E.OG)(M),ZERO:P,ONE:D,create:S=>mod(S,v),isValid:S=>{if("bigint"!=typeof S)throw new Error("Invalid field element: expected bigint, got "+typeof S);return P<=S&&S<v},is0:v=>v===P,isOdd:v=>(v&D)===D,neg:S=>mod(-S,v),eql:(v,S)=>v===S,sqr:S=>mod(S*S,v),add:(S,_)=>mod(S+_,v),sub:(S,_)=>mod(S-_,v),mul:(S,_)=>mod(S*_,v),pow:(v,S)=>function FpPow(v,S,_){if(_<P)throw new Error("Expected power > 0");if(_===P)return v.ONE;if(_===D)return S;let E=v.ONE,R=S;for(;_>P;)_&D&&(E=v.mul(E,R)),R=v.sqr(R),_>>=D;return E}(N,v,S),div:(S,_)=>mod(S*invert(_,v),v),sqrN:v=>v*v,addN:(v,S)=>v+S,subN:(v,S)=>v-S,mulN:(v,S)=>v*S,inv:S=>invert(S,v),sqrt:R.sqrt||(v=>F(N,v)),invertBatch:v=>function FpInvertBatch(v,S){const _=new Array(S.length),E=S.reduce(((S,E,P)=>v.is0(E)?S:(_[P]=S,v.mul(S,E))),v.ONE),P=v.inv(E);return S.reduceRight(((S,E,P)=>v.is0(E)?S:(_[P]=v.mul(S,_[P]),v.mul(S,E))),P),_}(N,v),cmov:(v,S,_)=>_?S:v,toBytes:v=>_?(0,E.z)(v,O):(0,E.lq)(v,O),fromBytes:v=>{if(v.length!==O)throw new Error(`Fp.fromBytes: expected ${O}, got ${v.length}`);return _?(0,E.lX)(v):(0,E.bytesToNumberBE)(v)}});return Object.freeze(N)}function FpSqrtEven(v,S){if(!v.isOdd)throw new Error("Field doesn't have isOdd");const _=v.sqrt(S);return v.isOdd(_)?v.neg(_):_}function getFieldBytesLength(v){if("bigint"!=typeof v)throw new Error("field order must be bigint");const S=v.toString(2).length;return Math.ceil(S/8)}function getMinHashLength(v){const S=getFieldBytesLength(v);return S+Math.ceil(S/2)}function mapHashToField(v,S,_=!1){const P=v.length,R=getFieldBytesLength(S),M=getMinHashLength(S);if(P<16||P<M||P>1024)throw new Error(`expected ${M}-1024 bytes of input, got ${P}`);const O=mod(_?(0,E.bytesToNumberBE)(v):(0,E.lX)(v),S-D)+D;return _?(0,E.z)(O,R):(0,E.lq)(O,R)}},379506:(v,S,_)=>{"use strict";_.d(S,{Id:()=>concatBytes,My:()=>bytesToHex,OG:()=>bitMask,Q5:()=>validateObject,aY:()=>isBytes,bytesToNumberBE:()=>bytesToNumberBE,fg:()=>createHmacDrbg,hexToBytes:()=>hexToBytes,lX:()=>bytesToNumberLE,lq:()=>numberToBytesBE,qj:()=>ensureBytes,z:()=>numberToBytesLE});BigInt(0);const E=BigInt(1),P=BigInt(2);function isBytes(v){return v instanceof Uint8Array||null!=v&&"object"==typeof v&&"Uint8Array"===v.constructor.name}const D=Array.from({length:256},((v,S)=>S.toString(16).padStart(2,"0")));function bytesToHex(v){if(!isBytes(v))throw new Error("Uint8Array expected");let S="";for(let _=0;_<v.length;_++)S+=D[v[_]];return S}function hexToNumber(v){if("string"!=typeof v)throw new Error("hex string expected, got "+typeof v);return BigInt(""===v?"0":`0x${v}`)}const R={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(v){return v>=R._0&&v<=R._9?v-R._0:v>=R._A&&v<=R._F?v-(R._A-10):v>=R._a&&v<=R._f?v-(R._a-10):void 0}function hexToBytes(v){if("string"!=typeof v)throw new Error("hex string expected, got "+typeof v);const S=v.length,_=S/2;if(S%2)throw new Error("padded hex string expected, got unpadded hex of length "+S);const E=new Uint8Array(_);for(let S=0,P=0;S<_;S++,P+=2){const _=asciiToBase16(v.charCodeAt(P)),D=asciiToBase16(v.charCodeAt(P+1));if(void 0===_||void 0===D){const S=v[P]+v[P+1];throw new Error('hex string expected, got non-hex character "'+S+'" at index '+P)}E[S]=16*_+D}return E}function bytesToNumberBE(v){return hexToNumber(bytesToHex(v))}function bytesToNumberLE(v){if(!isBytes(v))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(v).reverse()))}function numberToBytesBE(v,S){return hexToBytes(v.toString(16).padStart(2*S,"0"))}function numberToBytesLE(v,S){return numberToBytesBE(v,S).reverse()}function ensureBytes(v,S,_){let E;if("string"==typeof S)try{E=hexToBytes(S)}catch(_){throw new Error(`${v} must be valid hex string, got "${S}". Cause: ${_}`)}else{if(!isBytes(S))throw new Error(`${v} must be hex string or Uint8Array`);E=Uint8Array.from(S)}const P=E.length;if("number"==typeof _&&P!==_)throw new Error(`${v} expected ${_} bytes, got ${P}`);return E}function concatBytes(...v){let S=0;for(let _=0;_<v.length;_++){const E=v[_];if(!isBytes(E))throw new Error("Uint8Array expected");S+=E.length}let _=new Uint8Array(S),E=0;for(let S=0;S<v.length;S++){const P=v[S];_.set(P,E),E+=P.length}return _}const bitMask=v=>(P<<BigInt(v-1))-E,u8n=v=>new Uint8Array(v),u8fr=v=>Uint8Array.from(v);function createHmacDrbg(v,S,_){if("number"!=typeof v||v<2)throw new Error("hashLen must be a number");if("number"!=typeof S||S<2)throw new Error("qByteLen must be a number");if("function"!=typeof _)throw new Error("hmacFn must be a function");let E=u8n(v),P=u8n(v),D=0;const reset=()=>{E.fill(1),P.fill(0),D=0},h=(...v)=>_(P,E,...v),reseed=(v=u8n())=>{P=h(u8fr([0]),v),E=h(),0!==v.length&&(P=h(u8fr([1]),v),E=h())},gen=()=>{if(D++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const _=[];for(;v<S;){E=h();const S=E.slice();_.push(S),v+=E.length}return concatBytes(..._)};return(v,S)=>{let _;for(reset(),reseed(v);!(_=S(gen()));)reseed();return reset(),_}}const M={bigint:v=>"bigint"==typeof v,function:v=>"function"==typeof v,boolean:v=>"boolean"==typeof v,string:v=>"string"==typeof v,stringOrUint8Array:v=>"string"==typeof v||isBytes(v),isSafeInteger:v=>Number.isSafeInteger(v),array:v=>Array.isArray(v),field:(v,S)=>S.Fp.isValid(v),hash:v=>"function"==typeof v&&Number.isSafeInteger(v.outputLen)};function validateObject(v,S,_={}){const checkField=(S,_,E)=>{const P=M[_];if("function"!=typeof P)throw new Error(`Invalid validator "${_}", expected function`);const D=v[S];if(!(E&&void 0===D||P(D,v)))throw new Error(`Invalid param ${String(S)}=${D} (${typeof D}), expected ${_}`)};for(const[v,_]of Object.entries(S))checkField(v,_,!1);for(const[v,S]of Object.entries(_))checkField(v,S,!0);return v}},672896:(v,S,_)=>{"use strict";_.d(S,{ko:()=>rt,bI:()=>Z});var E=_(552001),P=_(830036),D=_(826681),R=_(379506),M=_(97713),O=_(743556);const{bytesToNumberBE:F,hexToBytes:N}=R,L={Err:class DERErr extends Error{constructor(v=""){super(v)}},_parseInt(v){const{Err:S}=L;if(v.length<2||2!==v[0])throw new S("Invalid signature integer tag");const _=v[1],E=v.subarray(2,_+2);if(!_||E.length!==_)throw new S("Invalid signature integer: wrong length");if(128&E[0])throw new S("Invalid signature integer: negative");if(0===E[0]&&!(128&E[1]))throw new S("Invalid signature integer: unnecessary leading zero");return{d:F(E),l:v.subarray(_+2)}},toSig(v){const{Err:S}=L,_="string"==typeof v?N(v):v;if(!R.aY(_))throw new Error("ui8a expected");let E=_.length;if(E<2||48!=_[0])throw new S("Invalid signature tag");if(_[1]!==E-2)throw new S("Invalid signature: incorrect length");const{d:P,l:D}=L._parseInt(_.subarray(2)),{d:M,l:O}=L._parseInt(D);if(O.length)throw new S("Invalid signature: left bytes after parsing");return{r:P,s:M}},hexFromSig(v){const slice=v=>8&Number.parseInt(v[0],16)?"00"+v:v,h=v=>{const S=v.toString(16);return 1&S.length?`0${S}`:S},S=slice(h(v.s)),_=slice(h(v.r)),E=S.length/2,P=_.length/2,D=h(E),R=h(P);return`30${h(P+E+4)}02${R}${_}02${D}${S}`}},U=BigInt(0),V=BigInt(1),G=(BigInt(2),BigInt(3));BigInt(4);function weierstrassPoints(v){const S=function validatePointOpts(v){const S=(0,O.h)(v);R.Q5(S,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:_,Fp:E,a:P}=S;if(_){if(!E.eql(P,E.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof _||"bigint"!=typeof _.beta||"function"!=typeof _.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...S})}(v),{Fp:_}=S,E=S.toBytes||((v,S,E)=>{const P=S.toAffine();return R.Id(Uint8Array.from([4]),_.toBytes(P.x),_.toBytes(P.y))}),P=S.fromBytes||(v=>{const S=v.subarray(1);return{x:_.fromBytes(S.subarray(0,_.BYTES)),y:_.fromBytes(S.subarray(_.BYTES,2*_.BYTES))}});function weierstrassEquation(v){const{a:E,b:P}=S,D=_.sqr(v),R=_.mul(D,v);return _.add(_.add(R,_.mul(v,E)),P)}if(!_.eql(_.sqr(S.Gy),weierstrassEquation(S.Gx)))throw new Error("bad generator point: equation left != right");function isWithinCurveOrder(v){return"bigint"==typeof v&&U<v&&v<S.n}function assertGE(v){if(!isWithinCurveOrder(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function normPrivateKeyToScalar(v){const{allowedPrivateKeyLengths:_,nByteLength:E,wrapPrivateKey:P,n:M}=S;if(_&&"bigint"!=typeof v){if(R.aY(v)&&(v=R.My(v)),"string"!=typeof v||!_.includes(v.length))throw new Error("Invalid key");v=v.padStart(2*E,"0")}let O;try{O="bigint"==typeof v?v:R.bytesToNumberBE((0,R.qj)("private key",v,E))}catch(S){throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof v}`)}return P&&(O=D.zi(O,M)),assertGE(O),O}const M=new Map;function assertPrjPoint(v){if(!(v instanceof Point))throw new Error("ProjectivePoint expected")}class Point{constructor(v,S,E){if(this.px=v,this.py=S,this.pz=E,null==v||!_.isValid(v))throw new Error("x required");if(null==S||!_.isValid(S))throw new Error("y required");if(null==E||!_.isValid(E))throw new Error("z required")}static fromAffine(v){const{x:S,y:E}=v||{};if(!v||!_.isValid(S)||!_.isValid(E))throw new Error("invalid affine point");if(v instanceof Point)throw new Error("projective point not allowed");const is0=v=>_.eql(v,_.ZERO);return is0(S)&&is0(E)?Point.ZERO:new Point(S,E,_.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const S=_.invertBatch(v.map((v=>v.pz)));return v.map(((v,_)=>v.toAffine(S[_]))).map(Point.fromAffine)}static fromHex(v){const S=Point.fromAffine(P((0,R.qj)("pointHex",v)));return S.assertValidity(),S}static fromPrivateKey(v){return Point.BASE.multiply(normPrivateKeyToScalar(v))}_setWindowSize(v){this._WINDOW_SIZE=v,M.delete(this)}assertValidity(){if(this.is0()){if(S.allowInfinityPoint&&!_.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:E}=this.toAffine();if(!_.isValid(v)||!_.isValid(E))throw new Error("bad point: x or y not FE");const P=_.sqr(E),D=weierstrassEquation(v);if(!_.eql(P,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(_.isOdd)return!_.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){assertPrjPoint(v);const{px:S,py:E,pz:P}=this,{px:D,py:R,pz:M}=v,O=_.eql(_.mul(S,M),_.mul(D,P)),F=_.eql(_.mul(E,M),_.mul(R,P));return O&&F}negate(){return new Point(this.px,_.neg(this.py),this.pz)}double(){const{a:v,b:E}=S,P=_.mul(E,G),{px:D,py:R,pz:M}=this;let O=_.ZERO,F=_.ZERO,N=_.ZERO,L=_.mul(D,D),U=_.mul(R,R),V=_.mul(M,M),W=_.mul(D,R);return W=_.add(W,W),N=_.mul(D,M),N=_.add(N,N),O=_.mul(v,N),F=_.mul(P,V),F=_.add(O,F),O=_.sub(U,F),F=_.add(U,F),F=_.mul(O,F),O=_.mul(W,O),N=_.mul(P,N),V=_.mul(v,V),W=_.sub(L,V),W=_.mul(v,W),W=_.add(W,N),N=_.add(L,L),L=_.add(N,L),L=_.add(L,V),L=_.mul(L,W),F=_.add(F,L),V=_.mul(R,M),V=_.add(V,V),L=_.mul(V,W),O=_.sub(O,L),N=_.mul(V,U),N=_.add(N,N),N=_.add(N,N),new Point(O,F,N)}add(v){assertPrjPoint(v);const{px:E,py:P,pz:D}=this,{px:R,py:M,pz:O}=v;let F=_.ZERO,N=_.ZERO,L=_.ZERO;const U=S.a,V=_.mul(S.b,G);let W=_.mul(E,R),$=_.mul(P,M),X=_.mul(D,O),Y=_.add(E,P),J=_.add(R,M);Y=_.mul(Y,J),J=_.add(W,$),Y=_.sub(Y,J),J=_.add(E,D);let Z=_.add(R,O);return J=_.mul(J,Z),Z=_.add(W,X),J=_.sub(J,Z),Z=_.add(P,D),F=_.add(M,O),Z=_.mul(Z,F),F=_.add($,X),Z=_.sub(Z,F),L=_.mul(U,J),F=_.mul(V,X),L=_.add(F,L),F=_.sub($,L),L=_.add($,L),N=_.mul(F,L),$=_.add(W,W),$=_.add($,W),X=_.mul(U,X),J=_.mul(V,J),$=_.add($,X),X=_.sub(W,X),X=_.mul(U,X),J=_.add(J,X),W=_.mul($,J),N=_.add(N,W),W=_.mul(Z,J),F=_.mul(Y,F),F=_.sub(F,W),W=_.mul(Y,$),L=_.mul(Z,L),L=_.add(L,W),new Point(F,N,L)}subtract(v){return this.add(v.negate())}is0(){return this.equals(Point.ZERO)}wNAF(v){return N.wNAFCached(this,M,v,(v=>{const S=_.invertBatch(v.map((v=>v.pz)));return v.map(((v,_)=>v.toAffine(S[_]))).map(Point.fromAffine)}))}multiplyUnsafe(v){const E=Point.ZERO;if(v===U)return E;if(assertGE(v),v===V)return this;const{endo:P}=S;if(!P)return N.unsafeLadder(this,v);let{k1neg:D,k1:R,k2neg:M,k2:O}=P.splitScalar(v),F=E,L=E,G=this;for(;R>U||O>U;)R&V&&(F=F.add(G)),O&V&&(L=L.add(G)),G=G.double(),R>>=V,O>>=V;return D&&(F=F.negate()),M&&(L=L.negate()),L=new Point(_.mul(L.px,P.beta),L.py,L.pz),F.add(L)}multiply(v){assertGE(v);let E,P,D=v;const{endo:R}=S;if(R){const{k1neg:v,k1:S,k2neg:M,k2:O}=R.splitScalar(D);let{p:F,f:L}=this.wNAF(S),{p:U,f:V}=this.wNAF(O);F=N.constTimeNegate(v,F),U=N.constTimeNegate(M,U),U=new Point(_.mul(U.px,R.beta),U.py,U.pz),E=F.add(U),P=L.add(V)}else{const{p:v,f:S}=this.wNAF(D);E=v,P=S}return Point.normalizeZ([E,P])[0]}multiplyAndAddUnsafe(v,S,_){const E=Point.BASE,mul=(v,S)=>S!==U&&S!==V&&v.equals(E)?v.multiply(S):v.multiplyUnsafe(S),P=mul(this,S).add(mul(v,_));return P.is0()?void 0:P}toAffine(v){const{px:S,py:E,pz:P}=this,D=this.is0();null==v&&(v=D?_.ONE:_.inv(P));const R=_.mul(S,v),M=_.mul(E,v),O=_.mul(P,v);if(D)return{x:_.ZERO,y:_.ZERO};if(!_.eql(O,_.ONE))throw new Error("invZ was invalid");return{x:R,y:M}}isTorsionFree(){const{h:v,isTorsionFree:_}=S;if(v===V)return!0;if(_)return _(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:_}=S;return v===V?this:_?_(Point,this):this.multiplyUnsafe(S.h)}toRawBytes(v=!0){return this.assertValidity(),E(Point,this,v)}toHex(v=!0){return R.My(this.toRawBytes(v))}}Point.BASE=new Point(S.Gx,S.Gy,_.ONE),Point.ZERO=new Point(_.ZERO,_.ONE,_.ZERO);const F=S.nBitLength,N=(0,O.A)(Point,S.endo?Math.ceil(F/2):F);return{CURVE:S,ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder}}function weierstrass(v){const S=function validateOpts(v){const S=(0,O.h)(v);return R.Q5(S,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...S})}(v),{Fp:_,n:E}=S,P=_.BYTES+1,M=2*_.BYTES+1;function modN(v){return D.zi(v,E)}function invN(v){return D.B8(v,E)}const{ProjectivePoint:F,normPrivateKeyToScalar:N,weierstrassEquation:G,isWithinCurveOrder:W}=weierstrassPoints({...S,toBytes(v,S,E){const P=S.toAffine(),D=_.toBytes(P.x),M=R.Id;return E?M(Uint8Array.from([S.hasEvenY()?2:3]),D):M(Uint8Array.from([4]),D,_.toBytes(P.y))},fromBytes(v){const S=v.length,E=v[0],D=v.subarray(1);if(S!==P||2!==E&&3!==E){if(S===M&&4===E){return{x:_.fromBytes(D.subarray(0,_.BYTES)),y:_.fromBytes(D.subarray(_.BYTES,2*_.BYTES))}}throw new Error(`Point of length ${S} was invalid. Expected ${P} compressed bytes or ${M} uncompressed bytes`)}{const v=R.bytesToNumberBE(D);if(!function isValidFieldElement(v){return U<v&&v<_.ORDER}(v))throw new Error("Point is not on curve");const S=G(v);let P=_.sqrt(S);return!(1&~E)!==((P&V)===V)&&(P=_.neg(P)),{x:v,y:P}}}}),numToNByteStr=v=>R.My(R.lq(v,S.nByteLength));function isBiggerThanHalfOrder(v){return v>E>>V}const slcNum=(v,S,_)=>R.bytesToNumberBE(v.slice(S,_));class Signature{constructor(v,S,_){this.r=v,this.s=S,this.recovery=_,this.assertValidity()}static fromCompact(v){const _=S.nByteLength;return v=(0,R.qj)("compactSignature",v,2*_),new Signature(slcNum(v,0,_),slcNum(v,_,2*_))}static fromDER(v){const{r:S,s:_}=L.toSig((0,R.qj)("DER",v));return new Signature(S,_)}assertValidity(){if(!W(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!W(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(v){return new Signature(this.r,this.s,v)}recoverPublicKey(v){const{r:E,s:P,recovery:D}=this,M=Y((0,R.qj)("msgHash",v));if(null==D||![0,1,2,3].includes(D))throw new Error("recovery id invalid");const O=2===D||3===D?E+S.n:E;if(O>=_.ORDER)throw new Error("recovery id 2 or 3 invalid");const N=1&D?"03":"02",L=F.fromHex(N+numToNByteStr(O)),U=invN(O),V=modN(-M*U),G=modN(P*U),W=F.BASE.multiplyAndAddUnsafe(L,V,G);if(!W)throw new Error("point at infinify");return W.assertValidity(),W}hasHighS(){return isBiggerThanHalfOrder(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}toDERRawBytes(){return R.hexToBytes(this.toDERHex())}toDERHex(){return L.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return R.hexToBytes(this.toCompactHex())}toCompactHex(){return numToNByteStr(this.r)+numToNByteStr(this.s)}}const $={isValidPrivateKey(v){try{return N(v),!0}catch(v){return!1}},normPrivateKeyToScalar:N,randomPrivateKey:()=>{const v=D.Tp(S.n);return D.qy(S.randomBytes(v),S.n)},precompute:(v=8,S=F.BASE)=>(S._setWindowSize(v),S.multiply(BigInt(3)),S)};function isProbPub(v){const S=R.aY(v),_="string"==typeof v,E=(S||_)&&v.length;return S?E===P||E===M:_?E===2*P||E===2*M:v instanceof F}const X=S.bits2int||function(v){const _=R.bytesToNumberBE(v),E=8*v.length-S.nBitLength;return E>0?_>>BigInt(E):_},Y=S.bits2int_modN||function(v){return modN(X(v))},J=R.OG(S.nBitLength);function int2octets(v){if("bigint"!=typeof v)throw new Error("bigint expected");if(!(U<=v&&v<J))throw new Error(`bigint expected < 2^${S.nBitLength}`);return R.lq(v,S.nByteLength)}function prepSig(v,E,P=Z){if(["recovered","canonical"].some((v=>v in P)))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:M}=S;let{lowS:O,prehash:L,extraEntropy:G}=P;null==O&&(O=!0),v=(0,R.qj)("msgHash",v),L&&(v=(0,R.qj)("prehashed msgHash",D(v)));const $=Y(v),J=N(E),Q=[int2octets(J),int2octets($)];if(null!=G){const v=!0===G?M(_.BYTES):G;Q.push((0,R.qj)("extraEntropy",v))}const tt=R.Id(...Q),et=$;return{seed:tt,k2sig:function k2sig(v){const S=X(v);if(!W(S))return;const _=invN(S),E=F.BASE.multiply(S).toAffine(),P=modN(E.x);if(P===U)return;const D=modN(_*modN(et+P*J));if(D===U)return;let R=(E.x===P?0:2)|Number(E.y&V),M=D;return O&&isBiggerThanHalfOrder(D)&&(M=function normalizeS(v){return isBiggerThanHalfOrder(v)?modN(-v):v}(D),R^=1),new Signature(P,M,R)}}}const Z={lowS:S.lowS,prehash:!1},Q={lowS:S.lowS,prehash:!1};return F.BASE._setWindowSize(8),{CURVE:S,getPublicKey:function getPublicKey(v,S=!0){return F.fromPrivateKey(v).toRawBytes(S)},getSharedSecret:function getSharedSecret(v,S,_=!0){if(isProbPub(v))throw new Error("first arg must be private key");if(!isProbPub(S))throw new Error("second arg must be public key");return F.fromHex(S).multiply(N(v)).toRawBytes(_)},sign:function sign(v,_,E=Z){const{seed:P,k2sig:D}=prepSig(v,_,E),M=S;return R.fg(M.hash.outputLen,M.nByteLength,M.hmac)(P,D)},verify:function verify(v,_,E,P=Q){const D=v;if(_=(0,R.qj)("msgHash",_),E=(0,R.qj)("publicKey",E),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:M,prehash:O}=P;let N,U;try{if("string"==typeof D||R.aY(D))try{N=Signature.fromDER(D)}catch(v){if(!(v instanceof L.Err))throw v;N=Signature.fromCompact(D)}else{if("object"!=typeof D||"bigint"!=typeof D.r||"bigint"!=typeof D.s)throw new Error("PARSE");{const{r:v,s:S}=D;N=new Signature(v,S)}}U=F.fromHex(E)}catch(v){if("PARSE"===v.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(M&&N.hasHighS())return!1;O&&(_=S.hash(_));const{r:V,s:G}=N,W=Y(_),$=invN(G),X=modN(W*$),J=modN(V*$),Z=F.BASE.multiplyAndAddUnsafe(U,X,J)?.toAffine();return!!Z&&modN(Z.x)===V},ProjectivePoint:F,Signature,utils:$}}function getHash(v){return{hash:v,hmac:(S,..._)=>(0,M.w)(v,S,(0,P.Id)(..._)),randomBytes:P.po}}const W=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),X=BigInt(1),Y=BigInt(2),divNearest=(v,S)=>(v+S/Y)/S;function sqrtMod(v){const S=W,_=BigInt(3),E=BigInt(6),P=BigInt(11),R=BigInt(22),M=BigInt(23),O=BigInt(44),F=BigInt(88),N=v*v*v%S,L=N*N*v%S,U=(0,D.zH)(L,_,S)*L%S,V=(0,D.zH)(U,_,S)*L%S,G=(0,D.zH)(V,Y,S)*N%S,$=(0,D.zH)(G,P,S)*G%S,X=(0,D.zH)($,R,S)*$%S,Z=(0,D.zH)(X,O,S)*X%S,Q=(0,D.zH)(Z,F,S)*Z%S,tt=(0,D.zH)(Q,O,S)*X%S,et=(0,D.zH)(tt,_,S)*L%S,rt=(0,D.zH)(et,M,S)*$%S,nt=(0,D.zH)(rt,E,S)*N%S,it=(0,D.zH)(nt,Y,S);if(!J.eql(J.sqr(it),v))throw new Error("Cannot find square root");return it}const J=(0,D.D0)(W,void 0,void 0,{sqrt:sqrtMod}),Z=function createCurve(v,S){const create=S=>weierstrass({...v,...getHash(S)});return Object.freeze({...create(S),create})}({a:BigInt(0),b:BigInt(7),Fp:J,n:$,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:v=>{const S=$,_=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),E=-X*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),P=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),R=_,M=BigInt("0x100000000000000000000000000000000"),O=divNearest(R*v,S),F=divNearest(-E*v,S);let N=(0,D.zi)(v-O*_-F*P,S),L=(0,D.zi)(-O*E-F*R,S);const U=N>M,V=L>M;if(U&&(N=S-N),V&&(L=S-L),N>M||L>M)throw new Error("splitScalar: Endomorphism failed, k="+v);return{k1neg:U,k1:N,k2neg:V,k2:L}}}},E.s),Q=BigInt(0),fe=v=>"bigint"==typeof v&&Q<v&&v<W,ge=v=>"bigint"==typeof v&&Q<v&&v<$,tt={};function taggedHash(v,...S){let _=tt[v];if(void 0===_){const S=(0,E.s)(Uint8Array.from(v,(v=>v.charCodeAt(0))));_=(0,R.Id)(S,S),tt[v]=_}return(0,E.s)((0,R.Id)(_,...S))}const pointToBytes=v=>v.toRawBytes(!0).slice(1),numTo32b=v=>(0,R.lq)(v,32),modP=v=>(0,D.zi)(v,W),modN=v=>(0,D.zi)(v,$),et=Z.ProjectivePoint,GmulAdd=(v,S,_)=>et.BASE.multiplyAndAddUnsafe(v,S,_);function schnorrGetExtPubKey(v){let S=Z.utils.normPrivateKeyToScalar(v),_=et.fromPrivateKey(S);return{scalar:_.hasEvenY()?S:modN(-S),bytes:pointToBytes(_)}}function lift_x(v){if(!fe(v))throw new Error("bad x: need 0 < x < p");const S=modP(v*v);let _=sqrtMod(modP(S*v+BigInt(7)));_%Y!==Q&&(_=modP(-_));const E=new et(v,_,X);return E.assertValidity(),E}function challenge(...v){return modN((0,R.bytesToNumberBE)(taggedHash("BIP0340/challenge",...v)))}function schnorrGetPublicKey(v){return schnorrGetExtPubKey(v).bytes}function schnorrSign(v,S,_=(0,P.po)(32)){const E=(0,R.qj)("message",v),{bytes:D,scalar:M}=schnorrGetExtPubKey(S),O=(0,R.qj)("auxRand",_,32),F=numTo32b(M^(0,R.bytesToNumberBE)(taggedHash("BIP0340/aux",O))),N=taggedHash("BIP0340/nonce",F,D,E),L=modN((0,R.bytesToNumberBE)(N));if(L===Q)throw new Error("sign failed: k is zero");const{bytes:U,scalar:V}=schnorrGetExtPubKey(L),G=challenge(U,D,E),W=new Uint8Array(64);if(W.set(U,0),W.set(numTo32b(modN(V+G*M)),32),!schnorrVerify(W,E,D))throw new Error("sign: Invalid signature produced");return W}function schnorrVerify(v,S,_){const E=(0,R.qj)("signature",v,64),P=(0,R.qj)("message",S),D=(0,R.qj)("publicKey",_,32);try{const v=lift_x((0,R.bytesToNumberBE)(D)),S=(0,R.bytesToNumberBE)(E.subarray(0,32));if(!fe(S))return!1;const _=(0,R.bytesToNumberBE)(E.subarray(32,64));if(!ge(_))return!1;const M=challenge(numTo32b(S),pointToBytes(v),P),O=GmulAdd(v,_,modN(-M));return!(!O||!O.hasEvenY()||O.toAffine().x!==S)}catch(v){return!1}}const rt=(()=>({getPublicKey:schnorrGetPublicKey,sign:schnorrSign,verify:schnorrVerify,utils:{randomPrivateKey:Z.utils.randomPrivateKey,lift_x,pointToBytes,numberToBytesBE:R.lq,bytesToNumberBE:R.bytesToNumberBE,taggedHash,mod:D.zi}}))()},226879:(v,S,_)=>{"use strict";function number(v){if(!Number.isSafeInteger(v)||v<0)throw new Error(`Wrong positive integer: ${v}`)}function bytes(v,...S){if(!function isBytes(v){return v instanceof Uint8Array||null!=v&&"object"==typeof v&&"Uint8Array"===v.constructor.name}(v))throw new Error("Expected Uint8Array");if(S.length>0&&!S.includes(v.length))throw new Error(`Expected Uint8Array of length ${S}, not of length=${v.length}`)}function hash(v){if("function"!=typeof v||"function"!=typeof v.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number(v.outputLen),number(v.blockLen)}function exists(v,S=!0){if(v.destroyed)throw new Error("Hash instance has been destroyed");if(S&&v.finished)throw new Error("Hash#digest() has already been called")}function output(v,S){bytes(v);const _=S.outputLen;if(v.length<_)throw new Error(`digestInto() expects output buffer of length at least ${_}`)}_.d(S,{CG:()=>output,ai:()=>number,ee:()=>bytes,t2:()=>exists,tW:()=>hash})},831193:(v,S,_)=>{"use strict";_.d(S,{D:()=>SHA2});var E=_(226879),P=_(830036);class SHA2 extends P.Vw{constructor(v,S,_,E){super(),this.blockLen=v,this.outputLen=S,this.padOffset=_,this.isLE=E,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(v),this.view=(0,P.O8)(this.buffer)}update(v){(0,E.t2)(this);const{view:S,buffer:_,blockLen:D}=this,R=(v=(0,P.ZJ)(v)).length;for(let E=0;E<R;){const M=Math.min(D-this.pos,R-E);if(M!==D)_.set(v.subarray(E,E+M),this.pos),this.pos+=M,E+=M,this.pos===D&&(this.process(S,0),this.pos=0);else{const S=(0,P.O8)(v);for(;D<=R-E;E+=D)this.process(S,E)}}return this.length+=v.length,this.roundClean(),this}digestInto(v){(0,E.t2)(this),(0,E.CG)(v,this),this.finished=!0;const{buffer:S,view:_,blockLen:D,isLE:R}=this;let{pos:M}=this;S[M++]=128,this.buffer.subarray(M).fill(0),this.padOffset>D-M&&(this.process(_,0),M=0);for(let v=M;v<D;v++)S[v]=0;!function setBigUint64(v,S,_,E){if("function"==typeof v.setBigUint64)return v.setBigUint64(S,_,E);const P=BigInt(32),D=BigInt(4294967295),R=Number(_>>P&D),M=Number(_&D),O=E?4:0,F=E?0:4;v.setUint32(S+O,R,E),v.setUint32(S+F,M,E)}(_,D-8,BigInt(8*this.length),R),this.process(_,0);const O=(0,P.O8)(v),F=this.outputLen;if(F%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const N=F/4,L=this.get();if(N>L.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<N;v++)O.setUint32(4*v,L[v],R)}digest(){const{buffer:v,outputLen:S}=this;this.digestInto(v);const _=v.slice(0,S);return this.destroy(),_}_cloneInto(v){v||(v=new this.constructor),v.set(...this.get());const{blockLen:S,buffer:_,length:E,finished:P,destroyed:D,pos:R}=this;return v.length=E,v.pos=R,v.finished=P,v.destroyed=D,E%S&&v.buffer.set(_),v}}},249964:(v,S,_)=>{"use strict";_.d(S,{Ay:()=>D,B4:()=>rotlSL,P5:()=>rotlSH,WM:()=>rotlBH,im:()=>rotlBL,lD:()=>split});const E=BigInt(2**32-1),P=BigInt(32);function fromBig(v,S=!1){return S?{h:Number(v&E),l:Number(v>>P&E)}:{h:0|Number(v>>P&E),l:0|Number(v&E)}}function split(v,S=!1){let _=new Uint32Array(v.length),E=new Uint32Array(v.length);for(let P=0;P<v.length;P++){const{h:D,l:R}=fromBig(v[P],S);[_[P],E[P]]=[D,R]}return[_,E]}const rotlSH=(v,S,_)=>v<<_|S>>>32-_,rotlSL=(v,S,_)=>S<<_|v>>>32-_,rotlBH=(v,S,_)=>S<<_-32|v>>>64-_,rotlBL=(v,S,_)=>v<<_-32|S>>>64-_;const D={fromBig,split,toBig:(v,S)=>BigInt(v>>>0)<<P|BigInt(S>>>0),shrSH:(v,S,_)=>v>>>_,shrSL:(v,S,_)=>v<<32-_|S>>>_,rotrSH:(v,S,_)=>v>>>_|S<<32-_,rotrSL:(v,S,_)=>v<<32-_|S>>>_,rotrBH:(v,S,_)=>v<<64-_|S>>>_-32,rotrBL:(v,S,_)=>v>>>_-32|S<<64-_,rotr32H:(v,S)=>S,rotr32L:(v,S)=>v,rotlSH,rotlSL,rotlBH,rotlBL,add:function add(v,S,_,E){const P=(S>>>0)+(E>>>0);return{h:v+_+(P/2**32|0)|0,l:0|P}},add3L:(v,S,_)=>(v>>>0)+(S>>>0)+(_>>>0),add3H:(v,S,_,E)=>S+_+E+(v/2**32|0)|0,add4L:(v,S,_,E)=>(v>>>0)+(S>>>0)+(_>>>0)+(E>>>0),add4H:(v,S,_,E,P)=>S+_+E+P+(v/2**32|0)|0,add5H:(v,S,_,E,P,D)=>S+_+E+P+D+(v/2**32|0)|0,add5L:(v,S,_,E,P)=>(v>>>0)+(S>>>0)+(_>>>0)+(E>>>0)+(P>>>0)}},614555:(v,S,_)=>{"use strict";_.d(S,{S:()=>F});var E=_(226879),P=_(830036);const D=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class BLAKE2 extends P.Vw{constructor(v,S,_={},D,R,M){if(super(),this.blockLen=v,this.outputLen=S,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,E.ai)(v),(0,E.ai)(S),(0,E.ai)(D),S<0||S>D)throw new Error("outputLen bigger than keyLen");if(void 0!==_.key&&(_.key.length<1||_.key.length>D))throw new Error(`key must be up 1..${D} byte long or undefined`);if(void 0!==_.salt&&_.salt.length!==R)throw new Error(`salt must be ${R} byte long or undefined`);if(void 0!==_.personalization&&_.personalization.length!==M)throw new Error(`personalization must be ${M} byte long or undefined`);this.buffer32=(0,P.DH)(this.buffer=new Uint8Array(v))}update(v){(0,E.t2)(this);const{blockLen:S,buffer:_,buffer32:D}=this,R=(v=(0,P.ZJ)(v)).length,M=v.byteOffset,O=v.buffer;for(let E=0;E<R;){this.pos===S&&(this.compress(D,0,!1),this.pos=0);const P=Math.min(S-this.pos,R-E),F=M+E;if(P!==S||F%4||!(E+P<R))_.set(v.subarray(E,E+P),this.pos),this.pos+=P,this.length+=P,E+=P;else{const v=new Uint32Array(O,F,Math.floor((R-E)/4));for(let _=0;E+S<R;_+=D.length,E+=S)this.length+=S,this.compress(v,_,!1)}}return this}digestInto(v){(0,E.t2)(this),(0,E.CG)(v,this);const{pos:S,buffer32:_}=this;this.finished=!0,this.buffer.subarray(S).fill(0),this.compress(_,0,!0);const D=(0,P.DH)(v);this.get().forEach(((v,S)=>D[S]=v))}digest(){const{buffer:v,outputLen:S}=this;this.digestInto(v);const _=v.slice(0,S);return this.destroy(),_}_cloneInto(v){const{buffer:S,length:_,finished:E,destroyed:P,outputLen:D,pos:R}=this;return v||(v=new this.constructor({dkLen:D})),v.set(...this.get()),v.length=_,v.finished=E,v.destroyed=P,v.outputLen=D,v.buffer.set(S),v.pos=R,v}}var R=_(249964);const M=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),O=new Uint32Array(32);function G1(v,S,_,E,P,D){const M=P[D],F=P[D+1];let N=O[2*v],L=O[2*v+1],U=O[2*S],V=O[2*S+1],G=O[2*_],W=O[2*_+1],$=O[2*E],X=O[2*E+1],Y=R.Ay.add3L(N,U,M);L=R.Ay.add3H(Y,L,V,F),N=0|Y,({Dh:X,Dl:$}={Dh:X^L,Dl:$^N}),({Dh:X,Dl:$}={Dh:R.Ay.rotr32H(X,$),Dl:R.Ay.rotr32L(X,$)}),({h:W,l:G}=R.Ay.add(W,G,X,$)),({Bh:V,Bl:U}={Bh:V^W,Bl:U^G}),({Bh:V,Bl:U}={Bh:R.Ay.rotrSH(V,U,24),Bl:R.Ay.rotrSL(V,U,24)}),O[2*v]=N,O[2*v+1]=L,O[2*S]=U,O[2*S+1]=V,O[2*_]=G,O[2*_+1]=W,O[2*E]=$,O[2*E+1]=X}function G2(v,S,_,E,P,D){const M=P[D],F=P[D+1];let N=O[2*v],L=O[2*v+1],U=O[2*S],V=O[2*S+1],G=O[2*_],W=O[2*_+1],$=O[2*E],X=O[2*E+1],Y=R.Ay.add3L(N,U,M);L=R.Ay.add3H(Y,L,V,F),N=0|Y,({Dh:X,Dl:$}={Dh:X^L,Dl:$^N}),({Dh:X,Dl:$}={Dh:R.Ay.rotrSH(X,$,16),Dl:R.Ay.rotrSL(X,$,16)}),({h:W,l:G}=R.Ay.add(W,G,X,$)),({Bh:V,Bl:U}={Bh:V^W,Bl:U^G}),({Bh:V,Bl:U}={Bh:R.Ay.rotrBH(V,U,63),Bl:R.Ay.rotrBL(V,U,63)}),O[2*v]=N,O[2*v+1]=L,O[2*S]=U,O[2*S+1]=V,O[2*_]=G,O[2*_+1]=W,O[2*E]=$,O[2*E+1]=X}class BLAKE2b extends BLAKE2{constructor(v={}){super(128,void 0===v.dkLen?64:v.dkLen,v,64,16,16),this.v0l=0|M[0],this.v0h=0|M[1],this.v1l=0|M[2],this.v1h=0|M[3],this.v2l=0|M[4],this.v2h=0|M[5],this.v3l=0|M[6],this.v3h=0|M[7],this.v4l=0|M[8],this.v4h=0|M[9],this.v5l=0|M[10],this.v5h=0|M[11],this.v6l=0|M[12],this.v6h=0|M[13],this.v7l=0|M[14],this.v7h=0|M[15];const S=v.key?v.key.length:0;if(this.v0l^=this.outputLen|S<<8|65536|1<<24,v.salt){const S=(0,P.DH)((0,P.ZJ)(v.salt));this.v4l^=S[0],this.v4h^=S[1],this.v5l^=S[2],this.v5h^=S[3]}if(v.personalization){const S=(0,P.DH)((0,P.ZJ)(v.personalization));this.v6l^=S[0],this.v6h^=S[1],this.v7l^=S[2],this.v7h^=S[3]}if(v.key){const S=new Uint8Array(this.blockLen);S.set((0,P.ZJ)(v.key)),this.update(S)}}get(){let{v0l:v,v0h:S,v1l:_,v1h:E,v2l:P,v2h:D,v3l:R,v3h:M,v4l:O,v4h:F,v5l:N,v5h:L,v6l:U,v6h:V,v7l:G,v7h:W}=this;return[v,S,_,E,P,D,R,M,O,F,N,L,U,V,G,W]}set(v,S,_,E,P,D,R,M,O,F,N,L,U,V,G,W){this.v0l=0|v,this.v0h=0|S,this.v1l=0|_,this.v1h=0|E,this.v2l=0|P,this.v2h=0|D,this.v3l=0|R,this.v3h=0|M,this.v4l=0|O,this.v4h=0|F,this.v5l=0|N,this.v5h=0|L,this.v6l=0|U,this.v6h=0|V,this.v7l=0|G,this.v7h=0|W}compress(v,S,_){this.get().forEach(((v,S)=>O[S]=v)),O.set(M,16);let{h:E,l:P}=R.Ay.fromBig(BigInt(this.length));O[24]=M[8]^P,O[25]=M[9]^E,_&&(O[28]=~O[28],O[29]=~O[29]);let F=0;const N=D;for(let _=0;_<12;_++)G1(0,4,8,12,v,S+2*N[F++]),G2(0,4,8,12,v,S+2*N[F++]),G1(1,5,9,13,v,S+2*N[F++]),G2(1,5,9,13,v,S+2*N[F++]),G1(2,6,10,14,v,S+2*N[F++]),G2(2,6,10,14,v,S+2*N[F++]),G1(3,7,11,15,v,S+2*N[F++]),G2(3,7,11,15,v,S+2*N[F++]),G1(0,5,10,15,v,S+2*N[F++]),G2(0,5,10,15,v,S+2*N[F++]),G1(1,6,11,12,v,S+2*N[F++]),G2(1,6,11,12,v,S+2*N[F++]),G1(2,7,8,13,v,S+2*N[F++]),G2(2,7,8,13,v,S+2*N[F++]),G1(3,4,9,14,v,S+2*N[F++]),G2(3,4,9,14,v,S+2*N[F++]);this.v0l^=O[0]^O[16],this.v0h^=O[1]^O[17],this.v1l^=O[2]^O[18],this.v1h^=O[3]^O[19],this.v2l^=O[4]^O[20],this.v2h^=O[5]^O[21],this.v3l^=O[6]^O[22],this.v3h^=O[7]^O[23],this.v4l^=O[8]^O[24],this.v4h^=O[9]^O[25],this.v5l^=O[10]^O[26],this.v5h^=O[11]^O[27],this.v6l^=O[12]^O[28],this.v6h^=O[13]^O[29],this.v7l^=O[14]^O[30],this.v7h^=O[15]^O[31],O.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const F=(0,P.t6)((v=>new BLAKE2b(v)))},97713:(v,S,_)=>{"use strict";_.d(S,{w:()=>hmac});var E=_(226879),P=_(830036);class HMAC extends P.Vw{constructor(v,S){super(),this.finished=!1,this.destroyed=!1,(0,E.tW)(v);const _=(0,P.ZJ)(S);if(this.iHash=v.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const D=this.blockLen,R=new Uint8Array(D);R.set(_.length>D?v.create().update(_).digest():_);for(let v=0;v<R.length;v++)R[v]^=54;this.iHash.update(R),this.oHash=v.create();for(let v=0;v<R.length;v++)R[v]^=106;this.oHash.update(R),R.fill(0)}update(v){return(0,E.t2)(this),this.iHash.update(v),this}digestInto(v){(0,E.t2)(this),(0,E.ee)(v,this.outputLen),this.finished=!0,this.iHash.digestInto(v),this.oHash.update(v),this.oHash.digestInto(v),this.destroy()}digest(){const v=new Uint8Array(this.oHash.outputLen);return this.digestInto(v),v}_cloneInto(v){v||(v=Object.create(Object.getPrototypeOf(this),{}));const{oHash:S,iHash:_,finished:E,destroyed:P,blockLen:D,outputLen:R}=this;return v.finished=E,v.destroyed=P,v.blockLen=D,v.outputLen=R,v.oHash=S._cloneInto(v.oHash),v.iHash=_._cloneInto(v.iHash),v}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(v,S,_)=>new HMAC(v,S).update(_).digest();hmac.create=(v,S)=>new HMAC(v,S)},887971:(v,S,_)=>{"use strict";_.d(S,{A:()=>pbkdf2});var E=_(226879),P=_(97713),D=_(830036);function pbkdf2Init(v,S,_,R){(0,E.tW)(v);const M=(0,D.tY)({dkLen:32,asyncTick:10},R),{c:O,dkLen:F,asyncTick:N}=M;if((0,E.ai)(O),(0,E.ai)(F),(0,E.ai)(N),O<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const L=(0,D.ZJ)(S),U=(0,D.ZJ)(_),V=new Uint8Array(F),G=P.w.create(v,L),W=G._cloneInto().update(U);return{c:O,dkLen:F,asyncTick:N,DK:V,PRF:G,PRFSalt:W}}function pbkdf2Output(v,S,_,E,P){return v.destroy(),S.destroy(),E&&E.destroy(),P.fill(0),_}function pbkdf2(v,S,_,E){const{c:P,dkLen:R,DK:M,PRF:O,PRFSalt:F}=pbkdf2Init(v,S,_,E);let N;const L=new Uint8Array(4),U=(0,D.O8)(L),V=new Uint8Array(O.outputLen);for(let v=1,S=0;S<R;v++,S+=O.outputLen){const _=M.subarray(S,S+O.outputLen);U.setInt32(0,v,!1),(N=F._cloneInto(N)).update(L).digestInto(V),_.set(V.subarray(0,_.length));for(let v=1;v<P;v++){O._cloneInto(N).update(V).digestInto(V);for(let v=0;v<_.length;v++)_[v]^=V[v]}}return pbkdf2Output(O,F,M,N,V)}},406440:(v,S,_)=>{"use strict";_.d(S,{H:()=>W});var E=_(831193),P=_(830036);const D=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),R=Uint8Array.from({length:16},((v,S)=>S));let M=[R],O=[R.map((v=>(9*v+5)%16))];for(let v=0;v<4;v++)for(let S of[M,O])S.push(S[v].map((v=>D[v])));const F=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((v=>new Uint8Array(v))),N=M.map(((v,S)=>v.map((v=>F[S][v])))),L=O.map(((v,S)=>v.map((v=>F[S][v])))),U=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),V=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),rotl=(v,S)=>v<<S|v>>>32-S;function f(v,S,_,E){return 0===v?S^_^E:1===v?S&_|~S&E:2===v?(S|~_)^E:3===v?S&E|_&~E:S^(_|~E)}const G=new Uint32Array(16);class RIPEMD160 extends E.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:v,h1:S,h2:_,h3:E,h4:P}=this;return[v,S,_,E,P]}set(v,S,_,E,P){this.h0=0|v,this.h1=0|S,this.h2=0|_,this.h3=0|E,this.h4=0|P}process(v,S){for(let _=0;_<16;_++,S+=4)G[_]=v.getUint32(S,!0);let _=0|this.h0,E=_,P=0|this.h1,D=P,R=0|this.h2,F=R,W=0|this.h3,$=W,X=0|this.h4,Y=X;for(let v=0;v<5;v++){const S=4-v,J=U[v],Z=V[v],Q=M[v],tt=O[v],et=N[v],rt=L[v];for(let S=0;S<16;S++){const E=rotl(_+f(v,P,R,W)+G[Q[S]]+J,et[S])+X|0;_=X,X=W,W=0|rotl(R,10),R=P,P=E}for(let v=0;v<16;v++){const _=rotl(E+f(S,D,F,$)+G[tt[v]]+Z,rt[v])+Y|0;E=Y,Y=$,$=0|rotl(F,10),F=D,D=_}}this.set(this.h1+R+$|0,this.h2+W+Y|0,this.h3+X+E|0,this.h4+_+D|0,this.h0+P+F|0)}roundClean(){G.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const W=(0,P.ld)((()=>new RIPEMD160))},552001:(v,S,_)=>{"use strict";_.d(S,{s:()=>O});var E=_(831193),P=_(830036);const Maj=(v,S,_)=>v&S^v&_^S&_,D=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),M=new Uint32Array(64);class SHA256 extends E.D{constructor(){super(64,32,8,!1),this.A=0|R[0],this.B=0|R[1],this.C=0|R[2],this.D=0|R[3],this.E=0|R[4],this.F=0|R[5],this.G=0|R[6],this.H=0|R[7]}get(){const{A:v,B:S,C:_,D:E,E:P,F:D,G:R,H:M}=this;return[v,S,_,E,P,D,R,M]}set(v,S,_,E,P,D,R,M){this.A=0|v,this.B=0|S,this.C=0|_,this.D=0|E,this.E=0|P,this.F=0|D,this.G=0|R,this.H=0|M}process(v,S){for(let _=0;_<16;_++,S+=4)M[_]=v.getUint32(S,!1);for(let v=16;v<64;v++){const S=M[v-15],_=M[v-2],E=(0,P.Ow)(S,7)^(0,P.Ow)(S,18)^S>>>3,D=(0,P.Ow)(_,17)^(0,P.Ow)(_,19)^_>>>10;M[v]=D+M[v-7]+E+M[v-16]|0}let{A:_,B:E,C:R,D:O,E:F,F:N,G:L,H:U}=this;for(let v=0;v<64;v++){const S=U+((0,P.Ow)(F,6)^(0,P.Ow)(F,11)^(0,P.Ow)(F,25))+((V=F)&N^~V&L)+D[v]+M[v]|0,G=((0,P.Ow)(_,2)^(0,P.Ow)(_,13)^(0,P.Ow)(_,22))+Maj(_,E,R)|0;U=L,L=N,N=F,F=O+S|0,O=R,R=E,E=_,_=S+G|0}var V;_=_+this.A|0,E=E+this.B|0,R=R+this.C|0,O=O+this.D|0,F=F+this.E|0,N=N+this.F|0,L=L+this.G|0,U=U+this.H|0,this.set(_,E,R,O,F,N,L,U)}roundClean(){M.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const O=(0,P.ld)((()=>new SHA256))},52494:(v,S,_)=>{"use strict";_.d(S,{C2:()=>X,a0:()=>J,lY:()=>Y});var E=_(226879),P=_(249964),D=_(830036);const[R,M,O]=[[],[],[]],F=BigInt(0),N=BigInt(1),L=BigInt(2),U=BigInt(7),V=BigInt(256),G=BigInt(113);for(let v=0,S=N,_=1,E=0;v<24;v++){[_,E]=[E,(2*_+3*E)%5],R.push(2*(5*E+_)),M.push((v+1)*(v+2)/2%64);let P=F;for(let v=0;v<7;v++)S=(S<<N^(S>>U)*G)%V,S&L&&(P^=N<<(N<<BigInt(v))-N);O.push(P)}const[W,$]=(0,P.lD)(O,!0),rotlH=(v,S,_)=>_>32?(0,P.WM)(v,S,_):(0,P.P5)(v,S,_),rotlL=(v,S,_)=>_>32?(0,P.im)(v,S,_):(0,P.B4)(v,S,_);class Keccak extends D.Vw{constructor(v,S,_,P=!1,R=24){if(super(),this.blockLen=v,this.suffix=S,this.outputLen=_,this.enableXOF=P,this.rounds=R,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,E.ai)(_),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,D.DH)(this.state)}keccak(){!function keccakP(v,S=24){const _=new Uint32Array(10);for(let E=24-S;E<24;E++){for(let S=0;S<10;S++)_[S]=v[S]^v[S+10]^v[S+20]^v[S+30]^v[S+40];for(let S=0;S<10;S+=2){const E=(S+8)%10,P=(S+2)%10,D=_[P],R=_[P+1],M=rotlH(D,R,1)^_[E],O=rotlL(D,R,1)^_[E+1];for(let _=0;_<50;_+=10)v[S+_]^=M,v[S+_+1]^=O}let S=v[2],P=v[3];for(let _=0;_<24;_++){const E=M[_],D=rotlH(S,P,E),O=rotlL(S,P,E),F=R[_];S=v[F],P=v[F+1],v[F]=D,v[F+1]=O}for(let S=0;S<50;S+=10){for(let E=0;E<10;E++)_[E]=v[S+E];for(let E=0;E<10;E++)v[S+E]^=~_[(E+2)%10]&_[(E+4)%10]}v[0]^=W[E],v[1]^=$[E]}_.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(v){(0,E.t2)(this);const{blockLen:S,state:_}=this,P=(v=(0,D.ZJ)(v)).length;for(let E=0;E<P;){const D=Math.min(S-this.pos,P-E);for(let S=0;S<D;S++)_[this.pos++]^=v[E++];this.pos===S&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:v,suffix:S,pos:_,blockLen:E}=this;v[_]^=S,128&S&&_===E-1&&this.keccak(),v[E-1]^=128,this.keccak()}writeInto(v){(0,E.t2)(this,!1),(0,E.ee)(v),this.finish();const S=this.state,{blockLen:_}=this;for(let E=0,P=v.length;E<P;){this.posOut>=_&&this.keccak();const D=Math.min(_-this.posOut,P-E);v.set(S.subarray(this.posOut,this.posOut+D),E),this.posOut+=D,E+=D}return v}xofInto(v){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(v)}xof(v){return(0,E.ai)(v),this.xofInto(new Uint8Array(v))}digestInto(v){if((0,E.CG)(v,this),this.finished)throw new Error("digest() was already called");return this.writeInto(v),this.destroy(),v}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(v){const{blockLen:S,suffix:_,outputLen:E,rounds:P,enableXOF:D}=this;return v||(v=new Keccak(S,_,E,D,P)),v.state32.set(this.state32),v.pos=this.pos,v.posOut=this.posOut,v.finished=this.finished,v.rounds=P,v.suffix=_,v.outputLen=E,v.enableXOF=D,v.destroyed=this.destroyed,v}}const gen=(v,S,_)=>(0,D.ld)((()=>new Keccak(S,v,_))),X=gen(6,136,32),Y=gen(1,136,32),J=gen(1,72,64)},715460:(v,S,_)=>{"use strict";_.d(S,{Zf:()=>N});var E=_(831193),P=_(249964),D=_(830036);const[R,M]=(()=>P.Ay.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((v=>BigInt(v)))))(),O=new Uint32Array(80),F=new Uint32Array(80);class SHA512 extends E.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:v,Al:S,Bh:_,Bl:E,Ch:P,Cl:D,Dh:R,Dl:M,Eh:O,El:F,Fh:N,Fl:L,Gh:U,Gl:V,Hh:G,Hl:W}=this;return[v,S,_,E,P,D,R,M,O,F,N,L,U,V,G,W]}set(v,S,_,E,P,D,R,M,O,F,N,L,U,V,G,W){this.Ah=0|v,this.Al=0|S,this.Bh=0|_,this.Bl=0|E,this.Ch=0|P,this.Cl=0|D,this.Dh=0|R,this.Dl=0|M,this.Eh=0|O,this.El=0|F,this.Fh=0|N,this.Fl=0|L,this.Gh=0|U,this.Gl=0|V,this.Hh=0|G,this.Hl=0|W}process(v,S){for(let _=0;_<16;_++,S+=4)O[_]=v.getUint32(S),F[_]=v.getUint32(S+=4);for(let v=16;v<80;v++){const S=0|O[v-15],_=0|F[v-15],E=P.Ay.rotrSH(S,_,1)^P.Ay.rotrSH(S,_,8)^P.Ay.shrSH(S,_,7),D=P.Ay.rotrSL(S,_,1)^P.Ay.rotrSL(S,_,8)^P.Ay.shrSL(S,_,7),R=0|O[v-2],M=0|F[v-2],N=P.Ay.rotrSH(R,M,19)^P.Ay.rotrBH(R,M,61)^P.Ay.shrSH(R,M,6),L=P.Ay.rotrSL(R,M,19)^P.Ay.rotrBL(R,M,61)^P.Ay.shrSL(R,M,6),U=P.Ay.add4L(D,L,F[v-7],F[v-16]),V=P.Ay.add4H(U,E,N,O[v-7],O[v-16]);O[v]=0|V,F[v]=0|U}let{Ah:_,Al:E,Bh:D,Bl:N,Ch:L,Cl:U,Dh:V,Dl:G,Eh:W,El:$,Fh:X,Fl:Y,Gh:J,Gl:Z,Hh:Q,Hl:tt}=this;for(let v=0;v<80;v++){const S=P.Ay.rotrSH(W,$,14)^P.Ay.rotrSH(W,$,18)^P.Ay.rotrBH(W,$,41),et=P.Ay.rotrSL(W,$,14)^P.Ay.rotrSL(W,$,18)^P.Ay.rotrBL(W,$,41),rt=W&X^~W&J,nt=$&Y^~$&Z,it=P.Ay.add5L(tt,et,nt,M[v],F[v]),st=P.Ay.add5H(it,Q,S,rt,R[v],O[v]),ot=0|it,at=P.Ay.rotrSH(_,E,28)^P.Ay.rotrBH(_,E,34)^P.Ay.rotrBH(_,E,39),ct=P.Ay.rotrSL(_,E,28)^P.Ay.rotrBL(_,E,34)^P.Ay.rotrBL(_,E,39),ut=_&D^_&L^D&L,ht=E&N^E&U^N&U;Q=0|J,tt=0|Z,J=0|X,Z=0|Y,X=0|W,Y=0|$,({h:W,l:$}=P.Ay.add(0|V,0|G,0|st,0|ot)),V=0|L,G=0|U,L=0|D,U=0|N,D=0|_,N=0|E;const dt=P.Ay.add3L(ot,ct,ht);_=P.Ay.add3H(dt,st,at,ut),E=0|dt}({h:_,l:E}=P.Ay.add(0|this.Ah,0|this.Al,0|_,0|E)),({h:D,l:N}=P.Ay.add(0|this.Bh,0|this.Bl,0|D,0|N)),({h:L,l:U}=P.Ay.add(0|this.Ch,0|this.Cl,0|L,0|U)),({h:V,l:G}=P.Ay.add(0|this.Dh,0|this.Dl,0|V,0|G)),({h:W,l:$}=P.Ay.add(0|this.Eh,0|this.El,0|W,0|$)),({h:X,l:Y}=P.Ay.add(0|this.Fh,0|this.Fl,0|X,0|Y)),({h:J,l:Z}=P.Ay.add(0|this.Gh,0|this.Gl,0|J,0|Z)),({h:Q,l:tt}=P.Ay.add(0|this.Hh,0|this.Hl,0|Q,0|tt)),this.set(_,E,D,N,L,U,V,G,W,$,X,Y,J,Z,Q,tt)}roundClean(){O.fill(0),F.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const N=(0,D.ld)((()=>new SHA512))},830036:(v,S,_)=>{"use strict";_.d(S,{Vw:()=>Hash,My:()=>bytesToHex,tY:()=>checkOpts,Id:()=>concatBytes,O8:()=>createView,aT:()=>hexToBytes,po:()=>randomBytes,Ow:()=>rotr,ZJ:()=>toBytes,DH:()=>u32,AI:()=>utf8ToBytes,ld:()=>wrapConstructor,t6:()=>wrapConstructorWithOpts});const E="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,u32=v=>new Uint32Array(v.buffer,v.byteOffset,Math.floor(v.byteLength/4));function isBytes(v){return v instanceof Uint8Array||null!=v&&"object"==typeof v&&"Uint8Array"===v.constructor.name}const createView=v=>new DataView(v.buffer,v.byteOffset,v.byteLength),rotr=(v,S)=>v<<32-S|v>>>S;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const P=Array.from({length:256},((v,S)=>S.toString(16).padStart(2,"0")));function bytesToHex(v){if(!isBytes(v))throw new Error("Uint8Array expected");let S="";for(let _=0;_<v.length;_++)S+=P[v[_]];return S}const D={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(v){return v>=D._0&&v<=D._9?v-D._0:v>=D._A&&v<=D._F?v-(D._A-10):v>=D._a&&v<=D._f?v-(D._a-10):void 0}function hexToBytes(v){if("string"!=typeof v)throw new Error("hex string expected, got "+typeof v);const S=v.length,_=S/2;if(S%2)throw new Error("padded hex string expected, got unpadded hex of length "+S);const E=new Uint8Array(_);for(let S=0,P=0;S<_;S++,P+=2){const _=asciiToBase16(v.charCodeAt(P)),D=asciiToBase16(v.charCodeAt(P+1));if(void 0===_||void 0===D){const S=v[P]+v[P+1];throw new Error('hex string expected, got non-hex character "'+S+'" at index '+P)}E[S]=16*_+D}return E}function utf8ToBytes(v){if("string"!=typeof v)throw new Error("utf8ToBytes expected string, got "+typeof v);return new Uint8Array((new TextEncoder).encode(v))}function toBytes(v){if("string"==typeof v&&(v=utf8ToBytes(v)),!isBytes(v))throw new Error("expected Uint8Array, got "+typeof v);return v}function concatBytes(...v){let S=0;for(let _=0;_<v.length;_++){const E=v[_];if(!isBytes(E))throw new Error("Uint8Array expected");S+=E.length}const _=new Uint8Array(S);for(let S=0,E=0;S<v.length;S++){const P=v[S];_.set(P,E),E+=P.length}return _}class Hash{clone(){return this._cloneInto()}}const R={}.toString;function checkOpts(v,S){if(void 0!==S&&"[object Object]"!==R.call(S))throw new Error("Options should be object or undefined");return Object.assign(v,S)}function wrapConstructor(v){const hashC=S=>v().update(toBytes(S)).digest(),S=v();return hashC.outputLen=S.outputLen,hashC.blockLen=S.blockLen,hashC.create=()=>v(),hashC}function wrapConstructorWithOpts(v){const hashC=(S,_)=>v(_).update(toBytes(S)).digest(),S=v({});return hashC.outputLen=S.outputLen,hashC.blockLen=S.blockLen,hashC.create=S=>v(S),hashC}function randomBytes(v=32){if(E&&"function"==typeof E.getRandomValues)return E.getRandomValues(new Uint8Array(v));throw new Error("crypto.getRandomValues must be defined")}},332084:(v,S,_)=>{"use strict";var E;_.d(S,{CH:()=>getSharedSecret,HU:()=>signSync,MX:()=>verify,Wp:()=>ot,_S:()=>sign,aY:()=>N,bR:()=>Point,ko:()=>rt,lG:()=>getPublicKey});var P=_(104976);const D=BigInt(0),R=BigInt(1),M=BigInt(2),O=BigInt(3),F=BigInt(8),N=Object.freeze({a:D,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:R,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),divNearest=(v,S)=>(v+S/M)/S,L={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(v){const{n:S}=N,_=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),E=-R*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),P=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),D=_,M=BigInt("0x100000000000000000000000000000000"),O=divNearest(D*v,S),F=divNearest(-E*v,S);let L=mod(v-O*_-F*P,S),U=mod(-O*E-F*D,S);const V=L>M,G=U>M;if(V&&(L=S-L),G&&(U=S-U),L>M||U>M)throw new Error("splitScalarEndo: Endomorphism failed, k="+v);return{k1neg:V,k1:L,k2neg:G,k2:U}}},U=32,V=32,G=32,W=U+1,$=2*U+1;function weierstrass(v){const{a:S,b:_}=N,E=mod(v*v),P=mod(E*v);return mod(P+S*v+_)}const X=N.a===D;class ShaError extends Error{constructor(v){super(v)}}function assertJacPoint(v){if(!(v instanceof JacobianPoint))throw new TypeError("JacobianPoint expected")}class JacobianPoint{constructor(v,S,_){this.x=v,this.y=S,this.z=_}static fromAffine(v){if(!(v instanceof Point))throw new TypeError("JacobianPoint#fromAffine: expected Point");return v.equals(Point.ZERO)?JacobianPoint.ZERO:new JacobianPoint(v.x,v.y,R)}static toAffineBatch(v){const S=function invertBatch(v,S=N.P){const _=new Array(v.length),E=invert(v.reduce(((v,E,P)=>E===D?v:(_[P]=v,mod(v*E,S))),R),S);return v.reduceRight(((v,E,P)=>E===D?v:(_[P]=mod(v*_[P],S),mod(v*E,S))),E),_}(v.map((v=>v.z)));return v.map(((v,_)=>v.toAffine(S[_])))}static normalizeZ(v){return JacobianPoint.toAffineBatch(v).map(JacobianPoint.fromAffine)}equals(v){assertJacPoint(v);const{x:S,y:_,z:E}=this,{x:P,y:D,z:R}=v,M=mod(E*E),O=mod(R*R),F=mod(S*O),N=mod(P*M),L=mod(mod(_*R)*O),U=mod(mod(D*E)*M);return F===N&&L===U}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){const{x:v,y:S,z:_}=this,E=mod(v*v),P=mod(S*S),D=mod(P*P),R=v+P,N=mod(M*(mod(R*R)-E-D)),L=mod(O*E),U=mod(L*L),V=mod(U-M*N),G=mod(L*(N-V)-F*D),W=mod(M*S*_);return new JacobianPoint(V,G,W)}add(v){assertJacPoint(v);const{x:S,y:_,z:E}=this,{x:P,y:R,z:O}=v;if(P===D||R===D)return this;if(S===D||_===D)return v;const F=mod(E*E),N=mod(O*O),L=mod(S*N),U=mod(P*F),V=mod(mod(_*O)*N),G=mod(mod(R*E)*F),W=mod(U-L),$=mod(G-V);if(W===D)return $===D?this.double():JacobianPoint.ZERO;const X=mod(W*W),Y=mod(W*X),J=mod(L*X),Z=mod($*$-Y-M*J),Q=mod($*(J-Z)-V*Y),tt=mod(E*O*W);return new JacobianPoint(Z,Q,tt)}subtract(v){return this.add(v.negate())}multiplyUnsafe(v){const S=JacobianPoint.ZERO;if("bigint"==typeof v&&v===D)return S;let _=normalizeScalar(v);if(_===R)return this;if(!X){let v=S,E=this;for(;_>D;)_&R&&(v=v.add(E)),E=E.double(),_>>=R;return v}let{k1neg:E,k1:P,k2neg:M,k2:O}=L.splitScalar(_),F=S,N=S,U=this;for(;P>D||O>D;)P&R&&(F=F.add(U)),O&R&&(N=N.add(U)),U=U.double(),P>>=R,O>>=R;return E&&(F=F.negate()),M&&(N=N.negate()),N=new JacobianPoint(mod(N.x*L.beta),N.y,N.z),F.add(N)}precomputeWindow(v){const S=X?128/v+1:256/v+1,_=[];let E=this,P=E;for(let D=0;D<S;D++){P=E,_.push(P);for(let S=1;S<2**(v-1);S++)P=P.add(E),_.push(P);E=P.double()}return _}wNAF(v,S){!S&&this.equals(JacobianPoint.BASE)&&(S=Point.BASE);const _=S&&S._WINDOW_SIZE||1;if(256%_)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let E=S&&Y.get(S);E||(E=this.precomputeWindow(_),S&&1!==_&&(E=JacobianPoint.normalizeZ(E),Y.set(S,E)));let P=JacobianPoint.ZERO,D=JacobianPoint.BASE;const M=1+(X?128/_:256/_),O=2**(_-1),F=BigInt(2**_-1),N=2**_,L=BigInt(_);for(let S=0;S<M;S++){const _=S*O;let M=Number(v&F);v>>=L,M>O&&(M-=N,v+=R);const U=_,V=_+Math.abs(M)-1,G=S%2!=0,W=M<0;0===M?D=D.add(constTimeNegate(G,E[U])):P=P.add(constTimeNegate(W,E[V]))}return{p:P,f:D}}multiply(v,S){let _,E,P=normalizeScalar(v);if(X){const{k1neg:v,k1:D,k2neg:R,k2:M}=L.splitScalar(P);let{p:O,f:F}=this.wNAF(D,S),{p:N,f:U}=this.wNAF(M,S);O=constTimeNegate(v,O),N=constTimeNegate(R,N),N=new JacobianPoint(mod(N.x*L.beta),N.y,N.z),_=O.add(N),E=F.add(U)}else{const{p:v,f:D}=this.wNAF(P,S);_=v,E=D}return JacobianPoint.normalizeZ([_,E])[0]}toAffine(v){const{x:S,y:_,z:E}=this,P=this.equals(JacobianPoint.ZERO);null==v&&(v=P?F:invert(E));const D=v,M=mod(D*D),O=mod(M*D),N=mod(S*M),L=mod(_*O),U=mod(E*D);if(P)return Point.ZERO;if(U!==R)throw new Error("invZ was invalid");return new Point(N,L)}}function constTimeNegate(v,S){const _=S.negate();return v?_:S}JacobianPoint.BASE=new JacobianPoint(N.Gx,N.Gy,R),JacobianPoint.ZERO=new JacobianPoint(D,R,D);const Y=new WeakMap;class Point{constructor(v,S){this.x=v,this.y=S}_setWindowSize(v){this._WINDOW_SIZE=v,Y.delete(this)}hasEvenY(){return this.y%M===D}static fromCompressedHex(v){const S=32===v.length,_=bytesToNumber(S?v:v.subarray(1));if(!isValidFieldElement(_))throw new Error("Point is not on curve");let E=function sqrtMod(v){const{P:S}=N,_=BigInt(6),E=BigInt(11),P=BigInt(22),D=BigInt(23),R=BigInt(44),F=BigInt(88),L=v*v*v%S,U=L*L*v%S,V=pow2(U,O)*U%S,G=pow2(V,O)*U%S,W=pow2(G,M)*L%S,$=pow2(W,E)*W%S,X=pow2($,P)*$%S,Y=pow2(X,R)*X%S,J=pow2(Y,F)*Y%S,Z=pow2(J,R)*X%S,Q=pow2(Z,O)*U%S,tt=pow2(Q,D)*$%S,et=pow2(tt,_)*L%S,rt=pow2(et,M);if(rt*rt%S!==v)throw new Error("Cannot find square root");return rt}(weierstrass(_));const P=(E&R)===R;if(S)P&&(E=mod(-E));else{!(1&~v[0])!==P&&(E=mod(-E))}const D=new Point(_,E);return D.assertValidity(),D}static fromUncompressedHex(v){const S=bytesToNumber(v.subarray(1,U+1)),_=bytesToNumber(v.subarray(U+1,2*U+1)),E=new Point(S,_);return E.assertValidity(),E}static fromHex(v){const S=ensureBytes(v),_=S.length,E=S[0];if(_===U)return this.fromCompressedHex(S);if(_===W&&(2===E||3===E))return this.fromCompressedHex(S);if(_===$&&4===E)return this.fromUncompressedHex(S);throw new Error(`Point.fromHex: received invalid point. Expected 32-${W} compressed bytes or ${$} uncompressed bytes, not ${_}`)}static fromPrivateKey(v){return Point.BASE.multiply(normalizePrivateKey(v))}static fromSignature(v,S,_){const{r:E,s:P}=normalizeSignature(S);if(![0,1,2,3].includes(_))throw new Error("Cannot recover: invalid recovery bit");const D=truncateHash(ensureBytes(v)),{n:R}=N,M=2===_||3===_?E+R:E,O=invert(M,R),F=mod(-D*O,R),L=mod(P*O,R),U=1&_?"03":"02",V=Point.fromHex(U+numTo32bStr(M)),G=Point.BASE.multiplyAndAddUnsafe(V,F,L);if(!G)throw new Error("Cannot recover signature: point at infinify");return G.assertValidity(),G}toRawBytes(v=!1){return hexToBytes(this.toHex(v))}toHex(v=!1){const S=numTo32bStr(this.x);if(v){return`${this.hasEvenY()?"02":"03"}${S}`}return`04${S}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const v="Point is not on elliptic curve",{x:S,y:_}=this;if(!isValidFieldElement(S)||!isValidFieldElement(_))throw new Error(v);const E=mod(_*_);if(mod(E-weierstrass(S))!==D)throw new Error(v)}equals(v){return this.x===v.x&&this.y===v.y}negate(){return new Point(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(v){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(v)).toAffine()}subtract(v){return this.add(v.negate())}multiply(v){return JacobianPoint.fromAffine(this).multiply(v,this).toAffine()}multiplyAndAddUnsafe(v,S,_){const E=JacobianPoint.fromAffine(this),P=S===D||S===R||this!==Point.BASE?E.multiplyUnsafe(S):E.multiply(S),M=JacobianPoint.fromAffine(v).multiplyUnsafe(_),O=P.add(M);return O.equals(JacobianPoint.ZERO)?void 0:O.toAffine()}}function sliceDER(v){return Number.parseInt(v[0],16)>=8?"00"+v:v}function parseDERInt(v){if(v.length<2||2!==v[0])throw new Error(`Invalid signature integer tag: ${bytesToHex(v)}`);const S=v[1],_=v.subarray(2,S+2);if(!S||_.length!==S)throw new Error("Invalid signature integer: wrong length");if(0===_[0]&&_[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(_),left:v.subarray(S+2)}}Point.BASE=new Point(N.Gx,N.Gy),Point.ZERO=new Point(D,D);class Signature{constructor(v,S){this.r=v,this.s=S,this.assertValidity()}static fromCompact(v){const S=v instanceof Uint8Array,_="Signature.fromCompact";if("string"!=typeof v&&!S)throw new TypeError(`${_}: Expected string or Uint8Array`);const E=S?bytesToHex(v):v;if(128!==E.length)throw new Error(`${_}: Expected 64-byte hex`);return new Signature(hexToNumber(E.slice(0,64)),hexToNumber(E.slice(64,128)))}static fromDER(v){const S=v instanceof Uint8Array;if("string"!=typeof v&&!S)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:_,s:E}=function parseDERSignature(v){if(v.length<2||48!=v[0])throw new Error(`Invalid signature tag: ${bytesToHex(v)}`);if(v[1]!==v.length-2)throw new Error("Invalid signature: incorrect length");const{data:S,left:_}=parseDERInt(v.subarray(2)),{data:E,left:P}=parseDERInt(_);if(P.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(P)}`);return{r:S,s:E}}(S?v:hexToBytes(v));return new Signature(_,E)}static fromHex(v){return this.fromDER(v)}assertValidity(){const{r:v,s:S}=this;if(!isWithinCurveOrder(v))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(S))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const v=N.n>>R;return this.s>v}normalizeS(){return this.hasHighS()?new Signature(this.r,mod(-this.s,N.n)):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){const v=sliceDER(numberToHexUnpadded(this.s)),S=sliceDER(numberToHexUnpadded(this.r)),_=v.length/2,E=S.length/2,P=numberToHexUnpadded(_),D=numberToHexUnpadded(E);return`30${numberToHexUnpadded(E+_+4)}02${D}${S}02${P}${v}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function concatBytes(...v){if(!v.every((v=>v instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===v.length)return v[0];const S=v.reduce(((v,S)=>v+S.length),0),_=new Uint8Array(S);for(let S=0,E=0;S<v.length;S++){const P=v[S];_.set(P,E),E+=P.length}return _}const J=Array.from({length:256},((v,S)=>S.toString(16).padStart(2,"0")));function bytesToHex(v){if(!(v instanceof Uint8Array))throw new Error("Expected Uint8Array");let S="";for(let _=0;_<v.length;_++)S+=J[v[_]];return S}const Z=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(v){if("bigint"!=typeof v)throw new Error("Expected bigint");if(!(D<=v&&v<Z))throw new Error("Expected number 0 <= n < 2^256");return v.toString(16).padStart(64,"0")}function numTo32b(v){const S=hexToBytes(numTo32bStr(v));if(32!==S.length)throw new Error("Error: expected 32 bytes");return S}function numberToHexUnpadded(v){const S=v.toString(16);return 1&S.length?`0${S}`:S}function hexToNumber(v){if("string"!=typeof v)throw new TypeError("hexToNumber: expected string, got "+typeof v);return BigInt(`0x${v}`)}function hexToBytes(v){if("string"!=typeof v)throw new TypeError("hexToBytes: expected string, got "+typeof v);if(v.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+v.length);const S=new Uint8Array(v.length/2);for(let _=0;_<S.length;_++){const E=2*_,P=v.slice(E,E+2),D=Number.parseInt(P,16);if(Number.isNaN(D)||D<0)throw new Error("Invalid byte sequence");S[_]=D}return S}function bytesToNumber(v){return hexToNumber(bytesToHex(v))}function ensureBytes(v){return v instanceof Uint8Array?Uint8Array.from(v):hexToBytes(v)}function normalizeScalar(v){if("number"==typeof v&&Number.isSafeInteger(v)&&v>0)return BigInt(v);if("bigint"==typeof v&&isWithinCurveOrder(v))return v;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(v,S=N.P){const _=v%S;return _>=D?_:S+_}function pow2(v,S){const{P:_}=N;let E=v;for(;S-- >D;)E*=E,E%=_;return E}function invert(v,S=N.P){if(v===D||S<=D)throw new Error(`invert: expected positive integers, got n=${v} mod=${S}`);let _=mod(v,S),E=S,P=D,M=R,O=R,F=D;for(;_!==D;){const v=E/_,S=E%_,D=P-O*v,R=M-F*v;E=_,_=S,P=O,M=F,O=D,F=R}if(E!==R)throw new Error("invert: does not exist");return mod(P,S)}function truncateHash(v,S=!1){const _=function bits2int_2(v){const S=8*v.length-8*V,_=bytesToNumber(v);return S>0?_>>BigInt(S):_}(v);if(S)return _;const{n:E}=N;return _>=E?_-E:_}let Q,tt;class HmacDrbg{constructor(v,S){if(this.hashLen=v,this.qByteLen=S,"number"!=typeof v||v<2)throw new Error("hashLen must be a number");if("number"!=typeof S||S<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(v).fill(1),this.k=new Uint8Array(v).fill(0),this.counter=0}hmac(...v){return ot.hmacSha256(this.k,...v)}hmacSync(...v){return tt(this.k,...v)}checkSync(){if("function"!=typeof tt)throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(v=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),v),this.v=await this.hmac(this.v),0!==v.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),v),this.v=await this.hmac(this.v))}reseedSync(v=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),v),this.v=this.hmacSync(this.v),0!==v.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),v),this.v=this.hmacSync(this.v))}async generate(){this.incr();let v=0;const S=[];for(;v<this.qByteLen;){this.v=await this.hmac(this.v);const _=this.v.slice();S.push(_),v+=this.v.length}return concatBytes(...S)}generateSync(){this.checkSync(),this.incr();let v=0;const S=[];for(;v<this.qByteLen;){this.v=this.hmacSync(this.v);const _=this.v.slice();S.push(_),v+=this.v.length}return concatBytes(...S)}}function isWithinCurveOrder(v){return D<v&&v<N.n}function isValidFieldElement(v){return D<v&&v<N.P}function kmdToSig(v,S,_,E=!0){const{n:P}=N,M=truncateHash(v,!0);if(!isWithinCurveOrder(M))return;const O=invert(M,P),F=Point.BASE.multiply(M),L=mod(F.x,P);if(L===D)return;const U=mod(O*mod(S+_*L,P),P);if(U===D)return;let V=new Signature(L,U),G=(F.x===V.r?0:2)|Number(F.y&R);return E&&V.hasHighS()&&(V=V.normalizeS(),G^=1),{sig:V,recovery:G}}function normalizePrivateKey(v){let S;if("bigint"==typeof v)S=v;else if("number"==typeof v&&Number.isSafeInteger(v)&&v>0)S=BigInt(v);else if("string"==typeof v){if(v.length!==2*V)throw new Error("Expected 32 bytes of private key");S=hexToNumber(v)}else{if(!(v instanceof Uint8Array))throw new TypeError("Expected valid private key");if(v.length!==V)throw new Error("Expected 32 bytes of private key");S=bytesToNumber(v)}if(!isWithinCurveOrder(S))throw new Error("Expected private key: 0 < key < n");return S}function normalizePublicKey(v){return v instanceof Point?(v.assertValidity(),v):Point.fromHex(v)}function normalizeSignature(v){if(v instanceof Signature)return v.assertValidity(),v;try{return Signature.fromDER(v)}catch(S){return Signature.fromCompact(v)}}function getPublicKey(v,S=!1){return Point.fromPrivateKey(v).toRawBytes(S)}function isProbPub(v){const S=v instanceof Uint8Array,_="string"==typeof v,E=(S||_)&&v.length;return S?E===W||E===$:_?E===2*W||E===2*$:v instanceof Point}function getSharedSecret(v,S,_=!1){if(isProbPub(v))throw new TypeError("getSharedSecret: first arg must be private key");if(!isProbPub(S))throw new TypeError("getSharedSecret: second arg must be public key");const E=normalizePublicKey(S);return E.assertValidity(),E.multiply(normalizePrivateKey(v)).toRawBytes(_)}function bits2int(v){return bytesToNumber(v.length>U?v.slice(0,U):v)}function bits2octets(v){const S=bits2int(v),_=mod(S,N.n);return int2octets(_<D?S:_)}function int2octets(v){return numTo32b(v)}function initSigArgs(v,S,_){if(null==v)throw new Error(`sign: expected valid message hash, not "${v}"`);const E=ensureBytes(v),P=normalizePrivateKey(S),D=[int2octets(P),bits2octets(E)];if(null!=_){!0===_&&(_=ot.randomBytes(U));const v=ensureBytes(_);if(v.length!==U)throw new Error(`sign: Expected ${U} bytes of extra data`);D.push(v)}return{seed:concatBytes(...D),m:bits2int(E),d:P}}function finalizeSig(v,S){const{sig:_,recovery:E}=v,{der:P,recovered:D}=Object.assign({canonical:!0,der:!0},S),R=P?_.toDERRawBytes():_.toCompactRawBytes();return D?[R,E]:R}async function sign(v,S,_={}){const{seed:E,m:P,d:D}=initSigArgs(v,S,_.extraEntropy),R=new HmacDrbg(G,V);let M;for(await R.reseed(E);!(M=kmdToSig(await R.generate(),P,D,_.canonical));)await R.reseed();return finalizeSig(M,_)}function signSync(v,S,_={}){const{seed:E,m:P,d:D}=initSigArgs(v,S,_.extraEntropy),R=new HmacDrbg(G,V);let M;for(R.reseedSync(E);!(M=kmdToSig(R.generateSync(),P,D,_.canonical));)R.reseedSync();return finalizeSig(M,_)}const et={strict:!0};function verify(v,S,_,E=et){let P;try{P=normalizeSignature(v),S=ensureBytes(S)}catch(v){return!1}const{r:D,s:R}=P;if(E.strict&&P.hasHighS())return!1;const M=truncateHash(S);let O;try{O=normalizePublicKey(_)}catch(v){return!1}const{n:F}=N,L=invert(R,F),U=mod(M*L,F),V=mod(D*L,F),G=Point.BASE.multiplyAndAddUnsafe(O,U,V);if(!G)return!1;return mod(G.x,F)===D}function schnorrChallengeFinalize(v){return mod(bytesToNumber(v),N.n)}class SchnorrSignature{constructor(v,S){this.r=v,this.s=S,this.assertValidity()}static fromHex(v){const S=ensureBytes(v);if(64!==S.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${S.length}`);const _=bytesToNumber(S.subarray(0,32)),E=bytesToNumber(S.subarray(32,64));return new SchnorrSignature(_,E)}assertValidity(){const{r:v,s:S}=this;if(!isValidFieldElement(v)||!isWithinCurveOrder(S))throw new Error("Invalid signature")}toHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}toRawBytes(){return hexToBytes(this.toHex())}}class InternalSchnorrSignature{constructor(v,S,_=ot.randomBytes()){if(null==v)throw new TypeError(`sign: Expected valid message, not "${v}"`);this.m=ensureBytes(v);const{x:E,scalar:P}=this.getScalar(normalizePrivateKey(S));if(this.px=E,this.d=P,this.rand=ensureBytes(_),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(v){const S=Point.fromPrivateKey(v),_=S.hasEvenY()?v:N.n-v;return{point:S,scalar:_,x:S.toRawX()}}initNonce(v,S){return numTo32b(v^bytesToNumber(S))}finalizeNonce(v){const S=mod(bytesToNumber(v),N.n);if(S===D)throw new Error("sign: Creation of signature failed. k is zero");const{point:_,x:E,scalar:P}=this.getScalar(S);return{R:_,rx:E,k:P}}finalizeSig(v,S,_,E){return new SchnorrSignature(v.x,mod(S+_*E,N.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:v,d:S,px:_,rand:E}=this,P=ot.taggedHash,D=this.initNonce(S,await P(it.aux,E)),{R,rx:M,k:O}=this.finalizeNonce(await P(it.nonce,D,_,v)),F=schnorrChallengeFinalize(await P(it.challenge,M,_,v)),N=this.finalizeSig(R,O,F,S);return await schnorrVerify(N,v,_)||this.error(),N}calcSync(){const{m:v,d:S,px:_,rand:E}=this,P=ot.taggedHashSync,D=this.initNonce(S,P(it.aux,E)),{R,rx:M,k:O}=this.finalizeNonce(P(it.nonce,D,_,v)),F=schnorrChallengeFinalize(P(it.challenge,M,_,v)),N=this.finalizeSig(R,O,F,S);return schnorrVerifySync(N,v,_)||this.error(),N}}function initSchnorrVerify(v,S,_){const E=v instanceof SchnorrSignature,P=E?v:SchnorrSignature.fromHex(v);return E&&P.assertValidity(),{...P,m:ensureBytes(S),P:normalizePublicKey(_)}}function finalizeSchnorrVerify(v,S,_,E){const P=Point.BASE.multiplyAndAddUnsafe(S,normalizePrivateKey(_),mod(-E,N.n));return!(!P||!P.hasEvenY()||P.x!==v)}async function schnorrVerify(v,S,_){try{const{r:E,s:P,m:D,P:R}=initSchnorrVerify(v,S,_),M=schnorrChallengeFinalize(await ot.taggedHash(it.challenge,numTo32b(E),R.toRawX(),D));return finalizeSchnorrVerify(E,R,P,M)}catch(v){return!1}}function schnorrVerifySync(v,S,_){try{const{r:E,s:P,m:D,P:R}=initSchnorrVerify(v,S,_),M=schnorrChallengeFinalize(ot.taggedHashSync(it.challenge,numTo32b(E),R.toRawX(),D));return finalizeSchnorrVerify(E,R,P,M)}catch(v){if(v instanceof ShaError)throw v;return!1}}const rt={Signature:SchnorrSignature,getPublicKey:function schnorrGetPublicKey(v){return Point.fromPrivateKey(v).toRawX()},sign:async function schnorrSign(v,S,_){return new InternalSchnorrSignature(v,S,_).calc()},verify:schnorrVerify,signSync:function schnorrSignSync(v,S,_){return new InternalSchnorrSignature(v,S,_).calcSync()},verifySync:schnorrVerifySync};Point.BASE._setWindowSize(8);const nt={node:E||(E=_.t(P,2)),web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},it={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},st={},ot={bytesToHex,hexToBytes,concatBytes,mod,invert,isValidPrivateKey(v){try{return normalizePrivateKey(v),!0}catch(v){return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:v=>{v=ensureBytes(v);const S=V+8;if(v.length<S||v.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return numTo32b(mod(bytesToNumber(v),N.n-R)+R)},randomBytes:(v=32)=>{if(nt.web)return nt.web.getRandomValues(new Uint8Array(v));if(nt.node){const{randomBytes:S}=nt.node;return Uint8Array.from(S(v))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ot.hashToPrivateKey(ot.randomBytes(V+8)),precompute(v=8,S=Point.BASE){const _=S===Point.BASE?S:new Point(S.x,S.y);return _._setWindowSize(v),_.multiply(O),_},sha256:async(...v)=>{if(nt.web){const S=await nt.web.subtle.digest("SHA-256",concatBytes(...v));return new Uint8Array(S)}if(nt.node){const{createHash:S}=nt.node,_=S("sha256");return v.forEach((v=>_.update(v))),Uint8Array.from(_.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(v,...S)=>{if(nt.web){const _=await nt.web.subtle.importKey("raw",v,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),E=concatBytes(...S),P=await nt.web.subtle.sign("HMAC",_,E);return new Uint8Array(P)}if(nt.node){const{createHmac:_}=nt.node,E=_("sha256",v);return S.forEach((v=>E.update(v))),Uint8Array.from(E.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(v,...S)=>{let _=st[v];if(void 0===_){const S=await ot.sha256(Uint8Array.from(v,(v=>v.charCodeAt(0))));_=concatBytes(S,S),st[v]=_}return ot.sha256(_,...S)},taggedHashSync:(v,...S)=>{if("function"!=typeof Q)throw new ShaError("sha256Sync is undefined, you need to set it");let _=st[v];if(void 0===_){const S=Q(Uint8Array.from(v,(v=>v.charCodeAt(0))));_=concatBytes(S,S),st[v]=_}return Q(_,...S)},_JacobianPoint:JacobianPoint};Object.defineProperties(ot,{sha256Sync:{configurable:!1,get:()=>Q,set(v){Q||(Q=v)}},hmacSha256Sync:{configurable:!1,get:()=>tt,set(v){tt||(tt=v)}}})},946054:(v,S,_)=>{"use strict";function promisifyRequest(v){return new Promise(((S,_)=>{v.oncomplete=v.onsuccess=()=>S(v.result),v.onabort=v.onerror=()=>_(v.error)}))}function createStore(v,S){const _=indexedDB.open(v);_.onupgradeneeded=()=>_.result.createObjectStore(S);const E=promisifyRequest(_);return(v,_)=>E.then((E=>_(E.transaction(S,v).objectStore(S))))}let E;function defaultGetStore(){return E||(E=createStore("keyval-store","keyval")),E}function get(v,S=defaultGetStore()){return S("readonly",(S=>promisifyRequest(S.get(v))))}function set(v,S,_=defaultGetStore()){return _("readwrite",(_=>(_.put(S,v),promisifyRequest(_.transaction))))}function del(v,S=defaultGetStore()){return S("readwrite",(S=>(S.delete(v),promisifyRequest(S.transaction))))}function clear(v=defaultGetStore()){return v("readwrite",(v=>(v.clear(),promisifyRequest(v.transaction))))}function eachCursor(v,S){return v.openCursor().onsuccess=function(){this.result&&(S(this.result),this.result.continue())},promisifyRequest(v.transaction)}function keys(v=defaultGetStore()){return v("readonly",(v=>{if(v.getAllKeys)return promisifyRequest(v.getAllKeys());const S=[];return eachCursor(v,(v=>S.push(v.key))).then((()=>S))}))}_.d(S,{HP:()=>keys,IU:()=>clear,Jt:()=>get,hZ:()=>set,y$:()=>createStore,yH:()=>del})},163863:(v,S,_)=>{"use strict";_.d(S,{MR:()=>deleteDB,P2:()=>openDB});const instanceOfAny=(v,S)=>S.some((S=>v instanceof S));let E,P;const D=new WeakMap,R=new WeakMap,M=new WeakMap,O=new WeakMap,F=new WeakMap;let N={get(v,S,_){if(v instanceof IDBTransaction){if("done"===S)return R.get(v);if("objectStoreNames"===S)return v.objectStoreNames||M.get(v);if("store"===S)return _.objectStoreNames[1]?void 0:_.objectStore(_.objectStoreNames[0])}return wrap(v[S])},set:(v,S,_)=>(v[S]=_,!0),has:(v,S)=>v instanceof IDBTransaction&&("done"===S||"store"===S)||S in v};function wrapFunction(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function getCursorAdvanceMethods(){return P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...S){return v.apply(unwrap(this),S),wrap(D.get(this))}:function(...S){return wrap(v.apply(unwrap(this),S))}:function(S,..._){const E=v.call(unwrap(this),S,..._);return M.set(E,S.sort?S.sort():[S]),wrap(E)}}function transformCachableValue(v){return"function"==typeof v?wrapFunction(v):(v instanceof IDBTransaction&&function cacheDonePromiseForTransaction(v){if(R.has(v))return;const S=new Promise(((S,_)=>{const unlisten=()=>{v.removeEventListener("complete",complete),v.removeEventListener("error",error),v.removeEventListener("abort",error)},complete=()=>{S(),unlisten()},error=()=>{_(v.error||new DOMException("AbortError","AbortError")),unlisten()};v.addEventListener("complete",complete),v.addEventListener("error",error),v.addEventListener("abort",error)}));R.set(v,S)}(v),instanceOfAny(v,function getIdbProxyableTypes(){return E||(E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,N):v)}function wrap(v){if(v instanceof IDBRequest)return function promisifyRequest(v){const S=new Promise(((S,_)=>{const unlisten=()=>{v.removeEventListener("success",success),v.removeEventListener("error",error)},success=()=>{S(wrap(v.result)),unlisten()},error=()=>{_(v.error),unlisten()};v.addEventListener("success",success),v.addEventListener("error",error)}));return S.then((S=>{S instanceof IDBCursor&&D.set(S,v)})).catch((()=>{})),F.set(S,v),S}(v);if(O.has(v))return O.get(v);const S=transformCachableValue(v);return S!==v&&(O.set(v,S),F.set(S,v)),S}const unwrap=v=>F.get(v);function openDB(v,S,{blocked:_,upgrade:E,blocking:P,terminated:D}={}){const R=indexedDB.open(v,S),M=wrap(R);return E&&R.addEventListener("upgradeneeded",(v=>{E(wrap(R.result),v.oldVersion,v.newVersion,wrap(R.transaction),v)})),_&&R.addEventListener("blocked",(v=>_(v.oldVersion,v.newVersion,v))),M.then((v=>{D&&v.addEventListener("close",(()=>D())),P&&v.addEventListener("versionchange",(v=>P(v.oldVersion,v.newVersion,v)))})).catch((()=>{})),M}function deleteDB(v,{blocked:S}={}){const _=indexedDB.deleteDatabase(v);return S&&_.addEventListener("blocked",(v=>S(v.oldVersion,v))),wrap(_).then((()=>{}))}const L=["get","getKey","getAll","getAllKeys","count"],U=["put","add","delete","clear"],V=new Map;function getMethod(v,S){if(!(v instanceof IDBDatabase)||S in v||"string"!=typeof S)return;if(V.get(S))return V.get(S);const _=S.replace(/FromIndex$/,""),E=S!==_,P=U.includes(_);if(!(_ in(E?IDBIndex:IDBObjectStore).prototype)||!P&&!L.includes(_))return;const method=async function(v,...S){const D=this.transaction(v,P?"readwrite":"readonly");let R=D.store;return E&&(R=R.index(S.shift())),(await Promise.all([R[_](...S),P&&D.done]))[0]};return V.set(S,method),method}!function replaceTraps(v){N=v(N)}((v=>({...v,get:(S,_,E)=>getMethod(S,_)||v.get(S,_,E),has:(S,_)=>!!getMethod(S,_)||v.has(S,_)})))},91284:(v,S,_)=>{"use strict";_.d(S,{A:()=>G});const E="object"==typeof global&&global&&global.Object===Object&&global;var P="object"==typeof self&&self&&self.Object===Object&&self;const D=(E||P||Function("return this")()).Symbol;var R=Object.prototype,M=R.hasOwnProperty,O=R.toString,F=D?D.toStringTag:void 0;const N=function getRawTag(v){var S=M.call(v,F),_=v[F];try{v[F]=void 0;var E=!0}catch(v){}var P=O.call(v);return E&&(S?v[F]=_:delete v[F]),P};var L=Object.prototype.toString;const U=function objectToString(v){return L.call(v)};var V=D?D.toStringTag:void 0;const G=function baseGetTag(v){return null==v?void 0===v?"[object Undefined]":"[object Null]":V&&V in Object(v)?N(v):U(v)}},439607:(v,S,_)=>{"use strict";_.d(S,{A:()=>D});var E=_(91284);const P=function isObject(v){var S=typeof v;return null!=v&&("object"==S||"function"==S)};const D=function isFunction(v){if(!P(v))return!1;var S=(0,E.A)(v);return"[object Function]"==S||"[object GeneratorFunction]"==S||"[object AsyncFunction]"==S||"[object Proxy]"==S}},120254:(v,S,_)=>{"use strict";_.d(S,{A:()=>E});const E=function isNil(v){return null==v}},47313:(v,S,_)=>{"use strict";_.d(S,{A:()=>E});const E=function isObjectLike(v){return null!=v&&"object"==typeof v}},316776:(v,S,_)=>{"use strict";_.d(S,{A:()=>L});var E=_(91284);const P=function overArg(v,S){return function(_){return v(S(_))}}(Object.getPrototypeOf,Object);var D=_(47313),R=Function.prototype,M=Object.prototype,O=R.toString,F=M.hasOwnProperty,N=O.call(Object);const L=function isPlainObject(v){if(!(0,D.A)(v)||"[object Object]"!=(0,E.A)(v))return!1;var S=P(v);if(null===S)return!0;var _=F.call(S,"constructor")&&S.constructor;return"function"==typeof _&&_ instanceof _&&O.call(_)==N}},995107:(v,S,_)=>{"use strict";_.d(S,{A:()=>R});var E=_(91284);const P=Array.isArray;var D=_(47313);const R=function isString(v){return"string"==typeof v||!P(v)&&(0,D.A)(v)&&"[object String]"==(0,E.A)(v)}},330620:(v,S,_)=>{"use strict";_.d(S,{q:()=>LRUCache});const E="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,P=new Set,D={env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}},emitWarning=(v,S,_,E)=>{"function"==typeof D.emitWarning?D.emitWarning(v,S,_,E):console.error(`[${_}] ${S}: ${v}`)};let R=globalThis.AbortController,M=globalThis.AbortSignal;if(void 0===R){M=class AbortSignal{onabort;_onabort=[];reason;aborted=!1;addEventListener(v,S){this._onabort.push(S)}},R=class AbortController{constructor(){warnACPolyfill()}signal=new M;abort(v){if(!this.signal.aborted){this.signal.reason=v,this.signal.aborted=!0;for(const S of this.signal._onabort)S(v);this.signal.onabort?.(v)}}};let v="1"!==D.env?.LRU_CACHE_IGNORE_AC_WARNING;const warnACPolyfill=()=>{v&&(v=!1,emitWarning("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",warnACPolyfill))}}Symbol("type");const isPosInt=v=>v&&v===Math.floor(v)&&v>0&&isFinite(v),getUintArray=v=>isPosInt(v)?v<=Math.pow(2,8)?Uint8Array:v<=Math.pow(2,16)?Uint16Array:v<=Math.pow(2,32)?Uint32Array:v<=Number.MAX_SAFE_INTEGER?ZeroArray:null:null;class ZeroArray extends Array{constructor(v){super(v),this.fill(0)}}class Stack{heap;length;static#t=!1;static create(v){const S=getUintArray(v);if(!S)return[];Stack.#t=!0;const _=new Stack(v,S);return Stack.#t=!1,_}constructor(v,S){if(!Stack.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new S(v),this.length=0}push(v){this.heap[this.length++]=v}pop(){return this.heap[--this.length]}}class LRUCache{#e;#r;#n;#i;#s;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#a;#c;#u;#h;#l;#d;#f;#p;#g;#m;#y;#v;#b;#S;#w;#T;static unsafeExposeInternals(v){return{starts:v.#v,ttls:v.#b,sizes:v.#y,keyMap:v.#c,keyList:v.#u,valList:v.#h,next:v.#l,prev:v.#d,get head(){return v.#f},get tail(){return v.#p},free:v.#g,isBackgroundFetch:S=>v.#x(S),backgroundFetch:(S,_,E,P)=>v.#_(S,_,E,P),moveToTail:S=>v.#E(S),indexes:S=>v.#C(S),rindexes:S=>v.#A(S),isStale:S=>v.#I(S)}}get max(){return this.#e}get maxSize(){return this.#r}get calculatedSize(){return this.#a}get size(){return this.#o}get fetchMethod(){return this.#s}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(v){const{max:S=0,ttl:_,ttlResolution:E=1,ttlAutopurge:D,updateAgeOnGet:R,updateAgeOnHas:M,allowStale:O,dispose:F,disposeAfter:N,noDisposeOnSet:L,noUpdateTTL:U,maxSize:V=0,maxEntrySize:G=0,sizeCalculation:W,fetchMethod:$,noDeleteOnFetchRejection:X,noDeleteOnStaleGet:Y,allowStaleOnFetchRejection:J,allowStaleOnFetchAbort:Z,ignoreFetchAbort:Q}=v;if(0!==S&&!isPosInt(S))throw new TypeError("max option must be a nonnegative integer");const tt=S?getUintArray(S):Array;if(!tt)throw new Error("invalid max value: "+S);if(this.#e=S,this.#r=V,this.maxEntrySize=G||this.#r,this.sizeCalculation=W,this.sizeCalculation){if(!this.#r&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==$&&"function"!=typeof $)throw new TypeError("fetchMethod must be a function if specified");if(this.#s=$,this.#w=!!$,this.#c=new Map,this.#u=new Array(S).fill(void 0),this.#h=new Array(S).fill(void 0),this.#l=new tt(S),this.#d=new tt(S),this.#f=0,this.#p=0,this.#g=Stack.create(S),this.#o=0,this.#a=0,"function"==typeof F&&(this.#n=F),"function"==typeof N?(this.#i=N,this.#m=[]):(this.#i=void 0,this.#m=void 0),this.#S=!!this.#n,this.#T=!!this.#i,this.noDisposeOnSet=!!L,this.noUpdateTTL=!!U,this.noDeleteOnFetchRejection=!!X,this.allowStaleOnFetchRejection=!!J,this.allowStaleOnFetchAbort=!!Z,this.ignoreFetchAbort=!!Q,0!==this.maxEntrySize){if(0!==this.#r&&!isPosInt(this.#r))throw new TypeError("maxSize must be a positive integer if specified");if(!isPosInt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#P()}if(this.allowStale=!!O,this.noDeleteOnStaleGet=!!Y,this.updateAgeOnGet=!!R,this.updateAgeOnHas=!!M,this.ttlResolution=isPosInt(E)||0===E?E:1,this.ttlAutopurge=!!D,this.ttl=_||0,this.ttl){if(!isPosInt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#D()}if(0===this.#e&&0===this.ttl&&0===this.#r)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#r){const v="LRU_CACHE_UNBOUNDED";if((v=>!P.has(v))(v)){P.add(v);emitWarning("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",v,LRUCache)}}}getRemainingTTL(v){return this.#c.has(v)?1/0:0}#D(){const v=new ZeroArray(this.#e),S=new ZeroArray(this.#e);this.#b=v,this.#v=S,this.#B=(_,P,D=E.now())=>{if(S[_]=0!==P?D:0,v[_]=P,0!==P&&this.ttlAutopurge){const v=setTimeout((()=>{this.#I(_)&&this.delete(this.#u[_])}),P+1);v.unref&&v.unref()}},this.#R=_=>{S[_]=0!==v[_]?E.now():0},this.#M=(E,P)=>{if(v[P]){const D=v[P],R=S[P];if(!D||!R)return;E.ttl=D,E.start=R,E.now=_||getNow();const M=E.now-R;E.remainingTTL=D-M}};let _=0;const getNow=()=>{const v=E.now();if(this.ttlResolution>0){_=v;const S=setTimeout((()=>_=0),this.ttlResolution);S.unref&&S.unref()}return v};this.getRemainingTTL=E=>{const P=this.#c.get(E);if(void 0===P)return 0;const D=v[P],R=S[P];if(!D||!R)return 1/0;return D-((_||getNow())-R)},this.#I=E=>{const P=S[E],D=v[E];return!!D&&!!P&&(_||getNow())-P>D}}#R=()=>{};#M=()=>{};#B=()=>{};#I=()=>!1;#P(){const v=new ZeroArray(this.#e);this.#a=0,this.#y=v,this.#O=S=>{this.#a-=v[S],v[S]=0},this.#k=(v,S,_,E)=>{if(this.#x(S))return 0;if(!isPosInt(_)){if(!E)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof E)throw new TypeError("sizeCalculation must be a function");if(_=E(S,v),!isPosInt(_))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return _},this.#F=(S,_,E)=>{if(v[S]=_,this.#r){const _=this.#r-v[S];for(;this.#a>_;)this.#N(!0)}this.#a+=v[S],E&&(E.entrySize=_,E.totalCalculatedSize=this.#a)}}#O=v=>{};#F=(v,S,_)=>{};#k=(v,S,_,E)=>{if(_||E)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#C({allowStale:v=this.allowStale}={}){if(this.#o)for(let S=this.#p;this.#H(S)&&(!v&&this.#I(S)||(yield S),S!==this.#f);)S=this.#d[S]}*#A({allowStale:v=this.allowStale}={}){if(this.#o)for(let S=this.#f;this.#H(S)&&(!v&&this.#I(S)||(yield S),S!==this.#p);)S=this.#l[S]}#H(v){return void 0!==v&&this.#c.get(this.#u[v])===v}*entries(){for(const v of this.#C())void 0===this.#h[v]||void 0===this.#u[v]||this.#x(this.#h[v])||(yield[this.#u[v],this.#h[v]])}*rentries(){for(const v of this.#A())void 0===this.#h[v]||void 0===this.#u[v]||this.#x(this.#h[v])||(yield[this.#u[v],this.#h[v]])}*keys(){for(const v of this.#C()){const S=this.#u[v];void 0===S||this.#x(this.#h[v])||(yield S)}}*rkeys(){for(const v of this.#A()){const S=this.#u[v];void 0===S||this.#x(this.#h[v])||(yield S)}}*values(){for(const v of this.#C()){void 0===this.#h[v]||this.#x(this.#h[v])||(yield this.#h[v])}}*rvalues(){for(const v of this.#A()){void 0===this.#h[v]||this.#x(this.#h[v])||(yield this.#h[v])}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(v,S={}){for(const _ of this.#C()){const E=this.#h[_],P=this.#x(E)?E.__staleWhileFetching:E;if(void 0!==P&&v(P,this.#u[_],this))return this.get(this.#u[_],S)}}forEach(v,S=this){for(const _ of this.#C()){const E=this.#h[_],P=this.#x(E)?E.__staleWhileFetching:E;void 0!==P&&v.call(S,P,this.#u[_],this)}}rforEach(v,S=this){for(const _ of this.#A()){const E=this.#h[_],P=this.#x(E)?E.__staleWhileFetching:E;void 0!==P&&v.call(S,P,this.#u[_],this)}}purgeStale(){let v=!1;for(const S of this.#A({allowStale:!0}))this.#I(S)&&(this.delete(this.#u[S]),v=!0);return v}info(v){const S=this.#c.get(v);if(void 0===S)return;const _=this.#h[S],P=this.#x(_)?_.__staleWhileFetching:_;if(void 0===P)return;const D={value:P};if(this.#b&&this.#v){const v=this.#b[S],_=this.#v[S];if(v&&_){const S=v-(E.now()-_);D.ttl=S,D.start=Date.now()}}return this.#y&&(D.size=this.#y[S]),D}dump(){const v=[];for(const S of this.#C({allowStale:!0})){const _=this.#u[S],P=this.#h[S],D=this.#x(P)?P.__staleWhileFetching:P;if(void 0===D||void 0===_)continue;const R={value:D};if(this.#b&&this.#v){R.ttl=this.#b[S];const v=E.now()-this.#v[S];R.start=Math.floor(Date.now()-v)}this.#y&&(R.size=this.#y[S]),v.unshift([_,R])}return v}load(v){this.clear();for(const[S,_]of v){if(_.start){const v=Date.now()-_.start;_.start=E.now()-v}this.set(S,_.value,_)}}set(v,S,_={}){if(void 0===S)return this.delete(v),this;const{ttl:E=this.ttl,start:P,noDisposeOnSet:D=this.noDisposeOnSet,sizeCalculation:R=this.sizeCalculation,status:M}=_;let{noUpdateTTL:O=this.noUpdateTTL}=_;const F=this.#k(v,S,_.size||0,R);if(this.maxEntrySize&&F>this.maxEntrySize)return M&&(M.set="miss",M.maxEntrySizeExceeded=!0),this.delete(v),this;let N=0===this.#o?void 0:this.#c.get(v);if(void 0===N)N=0===this.#o?this.#p:0!==this.#g.length?this.#g.pop():this.#o===this.#e?this.#N(!1):this.#o,this.#u[N]=v,this.#h[N]=S,this.#c.set(v,N),this.#l[this.#p]=N,this.#d[N]=this.#p,this.#p=N,this.#o++,this.#F(N,F,M),M&&(M.set="add"),O=!1;else{this.#E(N);const _=this.#h[N];if(S!==_){if(this.#w&&this.#x(_)){_.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:S}=_;void 0===S||D||(this.#S&&this.#n?.(S,v,"set"),this.#T&&this.#m?.push([S,v,"set"]))}else D||(this.#S&&this.#n?.(_,v,"set"),this.#T&&this.#m?.push([_,v,"set"]));if(this.#O(N),this.#F(N,F,M),this.#h[N]=S,M){M.set="replace";const v=_&&this.#x(_)?_.__staleWhileFetching:_;void 0!==v&&(M.oldValue=v)}}else M&&(M.set="update")}if(0===E||this.#b||this.#D(),this.#b&&(O||this.#B(N,E,P),M&&this.#M(M,N)),!D&&this.#T&&this.#m){const v=this.#m;let S;for(;S=v?.shift();)this.#i?.(...S)}return this}pop(){try{for(;this.#o;){const v=this.#h[this.#f];if(this.#N(!0),this.#x(v)){if(v.__staleWhileFetching)return v.__staleWhileFetching}else if(void 0!==v)return v}}finally{if(this.#T&&this.#m){const v=this.#m;let S;for(;S=v?.shift();)this.#i?.(...S)}}}#N(v){const S=this.#f,_=this.#u[S],E=this.#h[S];return this.#w&&this.#x(E)?E.__abortController.abort(new Error("evicted")):(this.#S||this.#T)&&(this.#S&&this.#n?.(E,_,"evict"),this.#T&&this.#m?.push([E,_,"evict"])),this.#O(S),v&&(this.#u[S]=void 0,this.#h[S]=void 0,this.#g.push(S)),1===this.#o?(this.#f=this.#p=0,this.#g.length=0):this.#f=this.#l[S],this.#c.delete(_),this.#o--,S}has(v,S={}){const{updateAgeOnHas:_=this.updateAgeOnHas,status:E}=S,P=this.#c.get(v);if(void 0!==P){const v=this.#h[P];if(this.#x(v)&&void 0===v.__staleWhileFetching)return!1;if(!this.#I(P))return _&&this.#R(P),E&&(E.has="hit",this.#M(E,P)),!0;E&&(E.has="stale",this.#M(E,P))}else E&&(E.has="miss");return!1}peek(v,S={}){const{allowStale:_=this.allowStale}=S,E=this.#c.get(v);if(void 0===E||!_&&this.#I(E))return;const P=this.#h[E];return this.#x(P)?P.__staleWhileFetching:P}#_(v,S,_,E){const P=void 0===S?void 0:this.#h[S];if(this.#x(P))return P;const D=new R,{signal:M}=_;M?.addEventListener("abort",(()=>D.abort(M.reason)),{signal:D.signal});const O={signal:D.signal,options:_,context:E},cb=(E,P=!1)=>{const{aborted:R}=D.signal,M=_.ignoreFetchAbort&&void 0!==E;if(_.status&&(R&&!P?(_.status.fetchAborted=!0,_.status.fetchError=D.signal.reason,M&&(_.status.fetchAbortIgnored=!0)):_.status.fetchResolved=!0),R&&!M&&!P)return fetchFail(D.signal.reason);const N=F;return this.#h[S]===F&&(void 0===E?N.__staleWhileFetching?this.#h[S]=N.__staleWhileFetching:this.delete(v):(_.status&&(_.status.fetchUpdated=!0),this.set(v,E,O.options))),E},fetchFail=E=>{const{aborted:P}=D.signal,R=P&&_.allowStaleOnFetchAbort,M=R||_.allowStaleOnFetchRejection,O=M||_.noDeleteOnFetchRejection,N=F;if(this.#h[S]===F){!O||void 0===N.__staleWhileFetching?this.delete(v):R||(this.#h[S]=N.__staleWhileFetching)}if(M)return _.status&&void 0!==N.__staleWhileFetching&&(_.status.returnedStale=!0),N.__staleWhileFetching;if(N.__returned===N)throw E};_.status&&(_.status.fetchDispatched=!0);const F=new Promise(((S,E)=>{const R=this.#s?.(v,P,O);R&&R instanceof Promise&&R.then((v=>S(void 0===v?void 0:v)),E),D.signal.addEventListener("abort",(()=>{_.ignoreFetchAbort&&!_.allowStaleOnFetchAbort||(S(void 0),_.allowStaleOnFetchAbort&&(S=v=>cb(v,!0)))}))})).then(cb,(v=>(_.status&&(_.status.fetchRejected=!0,_.status.fetchError=v),fetchFail(v)))),N=Object.assign(F,{__abortController:D,__staleWhileFetching:P,__returned:void 0});return void 0===S?(this.set(v,N,{...O.options,status:void 0}),S=this.#c.get(v)):this.#h[S]=N,N}#x(v){if(!this.#w)return!1;const S=v;return!!S&&S instanceof Promise&&S.hasOwnProperty("__staleWhileFetching")&&S.__abortController instanceof R}async fetch(v,S={}){const{allowStale:_=this.allowStale,updateAgeOnGet:E=this.updateAgeOnGet,noDeleteOnStaleGet:P=this.noDeleteOnStaleGet,ttl:D=this.ttl,noDisposeOnSet:R=this.noDisposeOnSet,size:M=0,sizeCalculation:O=this.sizeCalculation,noUpdateTTL:F=this.noUpdateTTL,noDeleteOnFetchRejection:N=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:L=this.allowStaleOnFetchRejection,ignoreFetchAbort:U=this.ignoreFetchAbort,allowStaleOnFetchAbort:V=this.allowStaleOnFetchAbort,context:G,forceRefresh:W=!1,status:$,signal:X}=S;if(!this.#w)return $&&($.fetch="get"),this.get(v,{allowStale:_,updateAgeOnGet:E,noDeleteOnStaleGet:P,status:$});const Y={allowStale:_,updateAgeOnGet:E,noDeleteOnStaleGet:P,ttl:D,noDisposeOnSet:R,size:M,sizeCalculation:O,noUpdateTTL:F,noDeleteOnFetchRejection:N,allowStaleOnFetchRejection:L,allowStaleOnFetchAbort:V,ignoreFetchAbort:U,status:$,signal:X};let J=this.#c.get(v);if(void 0===J){$&&($.fetch="miss");const S=this.#_(v,J,Y,G);return S.__returned=S}{const S=this.#h[J];if(this.#x(S)){const v=_&&void 0!==S.__staleWhileFetching;return $&&($.fetch="inflight",v&&($.returnedStale=!0)),v?S.__staleWhileFetching:S.__returned=S}const P=this.#I(J);if(!W&&!P)return $&&($.fetch="hit"),this.#E(J),E&&this.#R(J),$&&this.#M($,J),S;const D=this.#_(v,J,Y,G),R=void 0!==D.__staleWhileFetching&&_;return $&&($.fetch=P?"stale":"refresh",R&&P&&($.returnedStale=!0)),R?D.__staleWhileFetching:D.__returned=D}}get(v,S={}){const{allowStale:_=this.allowStale,updateAgeOnGet:E=this.updateAgeOnGet,noDeleteOnStaleGet:P=this.noDeleteOnStaleGet,status:D}=S,R=this.#c.get(v);if(void 0!==R){const S=this.#h[R],M=this.#x(S);return D&&this.#M(D,R),this.#I(R)?(D&&(D.get="stale"),M?(D&&_&&void 0!==S.__staleWhileFetching&&(D.returnedStale=!0),_?S.__staleWhileFetching:void 0):(P||this.delete(v),D&&_&&(D.returnedStale=!0),_?S:void 0)):(D&&(D.get="hit"),M?S.__staleWhileFetching:(this.#E(R),E&&this.#R(R),S))}D&&(D.get="miss")}#L(v,S){this.#d[S]=v,this.#l[v]=S}#E(v){v!==this.#p&&(v===this.#f?this.#f=this.#l[v]:this.#L(this.#d[v],this.#l[v]),this.#L(this.#p,v),this.#p=v)}delete(v){let S=!1;if(0!==this.#o){const _=this.#c.get(v);if(void 0!==_)if(S=!0,1===this.#o)this.clear();else{this.#O(_);const S=this.#h[_];if(this.#x(S)?S.__abortController.abort(new Error("deleted")):(this.#S||this.#T)&&(this.#S&&this.#n?.(S,v,"delete"),this.#T&&this.#m?.push([S,v,"delete"])),this.#c.delete(v),this.#u[_]=void 0,this.#h[_]=void 0,_===this.#p)this.#p=this.#d[_];else if(_===this.#f)this.#f=this.#l[_];else{const v=this.#d[_];this.#l[v]=this.#l[_];const S=this.#l[_];this.#d[S]=this.#d[_]}this.#o--,this.#g.push(_)}}if(this.#T&&this.#m?.length){const v=this.#m;let S;for(;S=v?.shift();)this.#i?.(...S)}return S}clear(){for(const v of this.#A({allowStale:!0})){const S=this.#h[v];if(this.#x(S))S.__abortController.abort(new Error("deleted"));else{const _=this.#u[v];this.#S&&this.#n?.(S,_,"delete"),this.#T&&this.#m?.push([S,_,"delete"])}}if(this.#c.clear(),this.#h.fill(void 0),this.#u.fill(void 0),this.#b&&this.#v&&(this.#b.fill(0),this.#v.fill(0)),this.#y&&this.#y.fill(0),this.#f=0,this.#p=0,this.#g.length=0,this.#a=0,this.#o=0,this.#T&&this.#m){const v=this.#m;let S;for(;S=v?.shift();)this.#i?.(...S)}}}},289059:(v,S,_)=>{"use strict";function createStore(){const v=new Set;let S=[];const request=()=>function requestProviders(v){if("undefined"==typeof window)return;const handler=S=>v(S.detail);return window.addEventListener("eip6963:announceProvider",handler),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",handler)}((_=>{S.some((({info:v})=>v.uuid===_.info.uuid))||(S=[...S,_],v.forEach((v=>v(S,{added:[_]}))))}));let _=request();return{_listeners:()=>v,clear(){v.forEach((v=>v([],{removed:[...S]}))),S=[]},destroy(){this.clear(),v.clear(),_?.()},findProvider:({rdns:v})=>S.find((S=>S.info.rdns===v)),getProviders:()=>S,reset(){this.clear(),_?.(),_=request()},subscribe:(_,{emitImmediately:E}={})=>(v.add(_),E&&_(S,{added:S}),()=>v.delete(_))}}_.d(S,{y:()=>createStore})},984141:(v,S,_)=>{"use strict";_.d(S,{_Q:()=>baseX,HT:()=>from,yE:()=>rfc4648});const E=function base(v,S){if(v.length>=255)throw new TypeError("Alphabet too long");for(var _=new Uint8Array(256),E=0;E<_.length;E++)_[E]=255;for(var P=0;P<v.length;P++){var D=v.charAt(P),R=D.charCodeAt(0);if(255!==_[R])throw new TypeError(D+" is ambiguous");_[R]=P}var M=v.length,O=v.charAt(0),F=Math.log(M)/Math.log(256),N=Math.log(256)/Math.log(M);function decodeUnsafe(v){if("string"!=typeof v)throw new TypeError("Expected String");if(0===v.length)return new Uint8Array;var S=0;if(" "!==v[S]){for(var E=0,P=0;v[S]===O;)E++,S++;for(var D=(v.length-S)*F+1>>>0,R=new Uint8Array(D);v[S];){var N=_[v.charCodeAt(S)];if(255===N)return;for(var L=0,U=D-1;(0!==N||L<P)&&-1!==U;U--,L++)N+=M*R[U]>>>0,R[U]=N%256>>>0,N=N/256>>>0;if(0!==N)throw new Error("Non-zero carry");P=L,S++}if(" "!==v[S]){for(var V=D-P;V!==D&&0===R[V];)V++;for(var G=new Uint8Array(E+(D-V)),W=E;V!==D;)G[W++]=R[V++];return G}}}return{encode:function encode(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===S.length)return"";for(var _=0,E=0,P=0,D=S.length;P!==D&&0===S[P];)P++,_++;for(var R=(D-P)*N+1>>>0,F=new Uint8Array(R);P!==D;){for(var L=S[P],U=0,V=R-1;(0!==L||U<E)&&-1!==V;V--,U++)L+=256*F[V]>>>0,F[V]=L%M>>>0,L=L/M>>>0;if(0!==L)throw new Error("Non-zero carry");E=U,P++}for(var G=R-E;G!==R&&0===F[G];)G++;for(var W=O.repeat(_);G<R;++G)W+=v.charAt(F[G]);return W},decodeUnsafe,decode:function decode(v){var _=decodeUnsafe(v);if(_)return _;throw new Error(`Non-${S} character`)}}};var P=_(977614);class Encoder{constructor(v,S,_){this.name=v,this.prefix=S,this.baseEncode=_}encode(v){if(v instanceof Uint8Array)return`${this.prefix}${this.baseEncode(v)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(v,S,_){if(this.name=v,this.prefix=S,void 0===S.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=S.codePointAt(0),this.baseDecode=_}decode(v){if("string"==typeof v){if(v.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(v)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(v.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(v){return or(this,v)}}class ComposedDecoder{constructor(v){this.decoders=v}or(v){return or(this,v)}decode(v){const S=v[0],_=this.decoders[S];if(_)return _.decode(v);throw RangeError(`Unable to decode multibase string ${JSON.stringify(v)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(v,S)=>new ComposedDecoder({...v.decoders||{[v.prefix]:v},...S.decoders||{[S.prefix]:S}});class Codec{constructor(v,S,_,E){this.name=v,this.prefix=S,this.baseEncode=_,this.baseDecode=E,this.encoder=new Encoder(v,S,_),this.decoder=new Decoder(v,S,E)}encode(v){return this.encoder.encode(v)}decode(v){return this.decoder.decode(v)}}const from=({name:v,prefix:S,encode:_,decode:E})=>new Codec(v,S,_,E),baseX=({prefix:v,name:S,alphabet:_})=>{const{encode:D,decode:R}=E(_,S);return from({prefix:v,name:S,encode:D,decode:v=>(0,P.au)(R(v))})},rfc4648=({name:v,prefix:S,bitsPerChar:_,alphabet:E})=>from({prefix:S,name:v,encode:v=>((v,S,_)=>{const E="="===S[S.length-1],P=(1<<_)-1;let D="",R=0,M=0;for(let E=0;E<v.length;++E)for(M=M<<8|v[E],R+=8;R>_;)R-=_,D+=S[P&M>>R];if(R&&(D+=S[P&M<<_-R]),E)for(;D.length*_&7;)D+="=";return D})(v,E,_),decode:S=>((v,S,_,E)=>{const P={};for(let v=0;v<S.length;++v)P[S[v]]=v;let D=v.length;for(;"="===v[D-1];)--D;const R=new Uint8Array(D*_/8|0);let M=0,O=0,F=0;for(let S=0;S<D;++S){const D=P[v[S]];if(void 0===D)throw new SyntaxError(`Non-${E} character`);O=O<<_|D,M+=_,M>=8&&(M-=8,R[F++]=255&O>>M)}if(M>=_||255&O<<8-M)throw new SyntaxError("Unexpected end of data");return R})(S,E,_,v)})},474530:(v,S,_)=>{"use strict";_.r(S),_.d(S,{base32:()=>P,base32hex:()=>O,base32hexpad:()=>N,base32hexpadupper:()=>L,base32hexupper:()=>F,base32pad:()=>R,base32padupper:()=>M,base32upper:()=>D,base32z:()=>U});var E=_(984141);const P=(0,E.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),D=(0,E.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),R=(0,E.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),M=(0,E.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),O=(0,E.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),F=(0,E.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),N=(0,E.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),L=(0,E.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),U=(0,E.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},727158:(v,S,_)=>{"use strict";_.r(S),_.d(S,{base58btc:()=>P,base58flickr:()=>D});var E=_(984141);const P=(0,E._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),D=(0,E._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},510980:(v,S,_)=>{"use strict";_.d(S,{Fo:()=>Ct});var E={};_.r(E),_.d(E,{identity:()=>X});var P={};_.r(P),_.d(P,{base2:()=>Y});var D={};_.r(D),_.d(D,{base8:()=>J});var R={};_.r(R),_.d(R,{base10:()=>Z});var M={};_.r(M),_.d(M,{base16:()=>Q,base16upper:()=>tt});var O={};_.r(O),_.d(O,{base36:()=>rt,base36upper:()=>nt});var F={};_.r(F),_.d(F,{base64:()=>st,base64pad:()=>ot,base64url:()=>at,base64urlpad:()=>ct});var N={};_.r(N),_.d(N,{base256emoji:()=>ft});var L={};_.r(L),_.d(L,{sha256:()=>mt,sha512:()=>yt});var U={};_.r(U),_.d(U,{identity:()=>bt});var V={};_.r(V),_.d(V,{code:()=>wt,decode:()=>raw_decode,encode:()=>raw_encode,name:()=>St});var G={};_.r(G),_.d(G,{code:()=>Et,decode:()=>json_decode,encode:()=>json_encode,name:()=>_t});var W=_(984141),$=_(977614);const X=(0,W.HT)({prefix:"\0",name:"identity",encode:v=>(0,$.dI)(v),decode:v=>(0,$.sH)(v)}),Y=(0,W.yE)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),J=(0,W.yE)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Z=(0,W._Q)({prefix:"9",name:"base10",alphabet:"0123456789"}),Q=(0,W.yE)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tt=(0,W.yE)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var et=_(474530);const rt=(0,W._Q)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),nt=(0,W._Q)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var it=_(727158);const st=(0,W.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ot=(0,W.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),at=(0,W.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ct=(0,W.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ut=Array.from(""),ht=ut.reduce(((v,S,_)=>(v[_]=S,v)),[]),dt=ut.reduce(((v,S,_)=>(v[S.codePointAt(0)]=_,v)),[]);const ft=(0,W.HT)({prefix:"",name:"base256emoji",encode:function encode(v){return v.reduce(((v,S)=>v+=ht[S]),"")},decode:function decode(v){const S=[];for(const _ of v){const v=dt[_.codePointAt(0)];if(void 0===v)throw new Error(`Non-base256emoji character: ${_}`);S.push(v)}return new Uint8Array(S)}});var pt=_(163756);const from=({name:v,code:S,encode:_})=>new Hasher(v,S,_);class Hasher{constructor(v,S,_){this.name=v,this.code=S,this.encode=_}digest(v){if(v instanceof Uint8Array){const S=this.encode(v);return S instanceof Uint8Array?pt.create(this.code,S):S.then((v=>pt.create(this.code,v)))}throw Error("Unknown type, must be binary type")}}const sha=v=>async S=>new Uint8Array(await crypto.subtle.digest(v,S)),mt=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),yt=from({name:"sha2-512",code:19,encode:sha("SHA-512")}),vt=$.au,bt={code:0,name:"identity",encode:vt,digest:v=>pt.create(0,vt(v))},St="raw",wt=85,raw_encode=v=>(0,$.au)(v),raw_decode=v=>(0,$.au)(v),Tt=new TextEncoder,xt=new TextDecoder,_t="json",Et=512,json_encode=v=>Tt.encode(JSON.stringify(v)),json_decode=v=>JSON.parse(xt.decode(v));_(883197),_(406535);const Ct={...E,...P,...D,...R,...M,...et,...O,...it,...F,...N}},977614:(v,S,_)=>{"use strict";_.d(S,{aI:()=>equals,au:()=>coerce,dI:()=>toString,sH:()=>fromString});new Uint8Array(0);const equals=(v,S)=>{if(v===S)return!0;if(v.byteLength!==S.byteLength)return!1;for(let _=0;_<v.byteLength;_++)if(v[_]!==S[_])return!1;return!0},coerce=v=>{if(v instanceof Uint8Array&&"Uint8Array"===v.constructor.name)return v;if(v instanceof ArrayBuffer)return new Uint8Array(v);if(ArrayBuffer.isView(v))return new Uint8Array(v.buffer,v.byteOffset,v.byteLength);throw new Error("Unknown type, must be binary type")},fromString=v=>(new TextEncoder).encode(v),toString=v=>(new TextDecoder).decode(v)},883197:(v,S,_)=>{"use strict";_.r(S),_.d(S,{CID:()=>CID});var E=_(406535),P=_(163756),D=_(727158),R=_(474530),M=_(977614);class CID{constructor(v,S,_,E){this.code=S,this.version=v,this.multihash=_,this.bytes=E,this.byteOffset=E.byteOffset,this.byteLength=E.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:U,byteLength:U,code:L,version:L,multihash:L,bytes:L,_baseCache:U,asCID:U})}toV0(){if(0===this.version)return this;{const{code:v,multihash:S}=this;if(v!==O)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(S.code!==F)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(S)}}toV1(){switch(this.version){case 0:{const{code:v,digest:S}=this.multihash,_=P.create(v,S);return CID.createV1(this.code,_)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(v){return v&&this.code===v.code&&this.version===v.version&&P.equals(this.multihash,v.multihash)}toString(v){const{bytes:S,version:_,_baseCache:E}=this;return 0===_?toStringV0(S,E,v||D.base58btc.encoder):toStringV1(S,E,v||R.base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(v){return deprecate(/^0\.0/,V),!(!v||!v[N]&&v.asCID!==v)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(v){if(v instanceof CID)return v;if(null!=v&&v.asCID===v){const{version:S,code:_,multihash:E,bytes:P}=v;return new CID(S,_,E,P||encodeCID(S,_,E.bytes))}if(null!=v&&!0===v[N]){const{version:S,multihash:_,code:E}=v,D=P.decode(_);return CID.create(S,E,D)}return null}static create(v,S,_){if("number"!=typeof S)throw new Error("String codecs are no longer supported");switch(v){case 0:if(S!==O)throw new Error(`Version 0 CID must use dag-pb (code: ${O}) block encoding`);return new CID(v,S,_,_.bytes);case 1:{const E=encodeCID(v,S,_.bytes);return new CID(v,S,_,E)}default:throw new Error("Invalid version")}}static createV0(v){return CID.create(0,O,v)}static createV1(v,S){return CID.create(1,v,S)}static decode(v){const[S,_]=CID.decodeFirst(v);if(_.length)throw new Error("Incorrect length");return S}static decodeFirst(v){const S=CID.inspectBytes(v),_=S.size-S.multihashSize,E=(0,M.au)(v.subarray(_,_+S.multihashSize));if(E.byteLength!==S.multihashSize)throw new Error("Incorrect length");const D=E.subarray(S.multihashSize-S.digestSize),R=new P.Digest(S.multihashCode,S.digestSize,D,E);return[0===S.version?CID.createV0(R):CID.createV1(S.codec,R),v.subarray(S.size)]}static inspectBytes(v){let S=0;const next=()=>{const[_,P]=E.D4(v.subarray(S));return S+=P,_};let _=next(),P=O;if(18===_?(_=0,S=0):1===_&&(P=next()),0!==_&&1!==_)throw new RangeError(`Invalid CID version ${_}`);const D=S,R=next(),M=next(),F=S+M;return{version:_,codec:P,multihashCode:R,digestSize:M,multihashSize:F-D,size:F}}static parse(v,S){const[_,E]=parseCIDtoBytes(v,S),P=CID.decode(E);return P._baseCache.set(_,v),P}}const parseCIDtoBytes=(v,S)=>{switch(v[0]){case"Q":{const _=S||D.base58btc;return[D.base58btc.prefix,_.decode(`${D.base58btc.prefix}${v}`)]}case D.base58btc.prefix:{const _=S||D.base58btc;return[D.base58btc.prefix,_.decode(v)]}case R.base32.prefix:{const _=S||R.base32;return[R.base32.prefix,_.decode(v)]}default:if(null==S)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[v[0],S.decode(v)]}},toStringV0=(v,S,_)=>{const{prefix:E}=_;if(E!==D.base58btc.prefix)throw Error(`Cannot string encode V0 in ${_.name} encoding`);const P=S.get(E);if(null==P){const P=_.encode(v).slice(1);return S.set(E,P),P}return P},toStringV1=(v,S,_)=>{const{prefix:E}=_,P=S.get(E);if(null==P){const P=_.encode(v);return S.set(E,P),P}return P},O=112,F=18,encodeCID=(v,S,_)=>{const P=E.OY(v),D=P+E.OY(S),R=new Uint8Array(D+_.byteLength);return E.s_(v,R,0),E.s_(S,R,P),R.set(_,D),R},N=Symbol.for("@ipld/js-cid/CID"),L={writable:!1,configurable:!1,enumerable:!0},U={writable:!1,enumerable:!1,configurable:!1},deprecate=(v,S)=>{if(!v.test("0.0.0-dev"))throw new Error(S);console.warn(S)},V="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"},163756:(v,S,_)=>{"use strict";_.r(S),_.d(S,{Digest:()=>Digest,create:()=>create,decode:()=>decode,equals:()=>equals});var E=_(977614),P=_(406535);const create=(v,S)=>{const _=S.byteLength,E=P.OY(v),D=E+P.OY(_),R=new Uint8Array(D+_);return P.s_(v,R,0),P.s_(_,R,E),R.set(S,D),new Digest(v,_,S,R)},decode=v=>{const S=(0,E.au)(v),[_,D]=P.D4(S),[R,M]=P.D4(S.subarray(D)),O=S.subarray(D+M);if(O.byteLength!==R)throw new Error("Incorrect length");return new Digest(_,R,O,S)},equals=(v,S)=>v===S||v.code===S.code&&v.size===S.size&&(0,E.aI)(v.bytes,S.bytes);class Digest{constructor(v,S,_,E){this.code=v,this.size=S,this.digest=_,this.bytes=E}}},406535:(v,S,_)=>{"use strict";_.d(S,{D4:()=>varint_decode,s_:()=>encodeTo,OY:()=>encodingLength});var E=function encode(v,S,_){S=S||[];var E=_=_||0;for(;v>=R;)S[_++]=255&v|P,v/=128;for(;v&D;)S[_++]=255&v|P,v>>>=7;return S[_]=0|v,encode.bytes=_-E+1,S},P=128,D=-128,R=Math.pow(2,31);var M=function read(v,S){var _,E=0,P=0,D=S=S||0,R=v.length;do{if(D>=R)throw read.bytes=0,new RangeError("Could not decode varint");_=v[D++],E+=P<28?(_&F)<<P:(_&F)*Math.pow(2,P),P+=7}while(_>=O);return read.bytes=D-S,E},O=128,F=127;var N=Math.pow(2,7),L=Math.pow(2,14),U=Math.pow(2,21),V=Math.pow(2,28),G=Math.pow(2,35),W=Math.pow(2,42),$=Math.pow(2,49),X=Math.pow(2,56),Y=Math.pow(2,63);const J={encode:E,decode:M,encodingLength:function(v){return v<N?1:v<L?2:v<U?3:v<V?4:v<G?5:v<W?6:v<$?7:v<X?8:v<Y?9:10}},varint_decode=(v,S=0)=>[J.decode(v,S),J.decode.bytes],encodeTo=(v,S,_=0)=>(J.encode(v,S,_),S),encodingLength=v=>J.encodingLength(v)},400590:(v,S,_)=>{"use strict";_.d(S,{A:()=>nanoid});let nanoid=(v=21)=>{let S="",_=v;for(;_--;)S+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return S}},427046:v=>{"use strict";v.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},999494:v=>{"use strict";v.exports=JSON.parse('{"GasLimitExceeded":"Exceeded the maximum amount of gas allowed to burn per contract","MethodEmptyName":"Method name is empty","WasmerCompileError":"Wasmer compilation error: {{msg}}","GuestPanic":"Smart contract panicked: {{panic_msg}}","Memory":"Error creating Wasm memory","GasExceeded":"Exceeded the prepaid gas","MethodUTF8Error":"Method name is not valid UTF8 string","BadUTF16":"String encoding is bad UTF-16 sequence","WasmTrap":"WebAssembly trap: {{msg}}","GasInstrumentation":"Gas instrumentation failed or contract has denied instructions.","InvalidPromiseIndex":"{{promise_idx}} does not correspond to existing promises","InvalidPromiseResultIndex":"Accessed invalid promise result index: {{result_idx}}","Deserialization":"Error happened while deserializing the module","MethodNotFound":"Contract method is not found","InvalidRegisterId":"Accessed invalid register id: {{register_id}}","InvalidReceiptIndex":"VM Logic returned an invalid receipt index: {{receipt_index}}","EmptyMethodName":"Method name is empty in contract call","CannotReturnJointPromise":"Returning joint promise is currently prohibited","StackHeightInstrumentation":"Stack instrumentation failed","CodeDoesNotExist":"Cannot find contract code for account {{account_id}}","MethodInvalidSignature":"Invalid method signature","IntegerOverflow":"Integer overflow happened during contract execution","MemoryAccessViolation":"MemoryAccessViolation","InvalidIteratorIndex":"Iterator index {{iterator_index}} does not exist","IteratorWasInvalidated":"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie","InvalidAccountId":"VM Logic returned an invalid account id","Serialization":"Error happened while serializing the module","CannotAppendActionToJointPromise":"Actions can only be appended to non-joint promise.","InternalMemoryDeclared":"Internal memory declaration has been found in the module","Instantiate":"Error happened during instantiation","ProhibitedInView":"{{method_name}} is not allowed in view calls","InvalidMethodName":"VM Logic returned an invalid method name","BadUTF8":"String encoding is bad UTF-8 sequence","BalanceExceeded":"Exceeded the account balance","LinkError":"Wasm contract link error: {{msg}}","InvalidPublicKey":"VM Logic provided an invalid public key","ActorNoPermission":"Actor {{actor_id}} doesn\'t have permission to account {{account_id}} to complete the action","LackBalanceForState":"The account {{account_id}} wouldn\'t have enough balance to cover storage, required to have {{amount}} yoctoNEAR more","ReceiverMismatch":"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.","CostOverflow":"Transaction gas or balance cost is too high","InvalidSignature":"Transaction is not signed with the given public key","AccessKeyNotFound":"Signer \\"{{account_id}}\\" doesn\'t have access key with the given public_key {{public_key}}","NotEnoughBalance":"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}","NotEnoughAllowance":"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}","Expired":"Transaction has expired","DeleteAccountStaking":"Account {{account_id}} is staking and can not be deleted","SignerDoesNotExist":"Signer {{signer_id}} does not exist","TriesToStake":"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}","AddKeyAlreadyExists":"The public key {{public_key}} is already used for an existing access key","InvalidSigner":"Invalid signer account ID {{signer_id}} according to requirements","CreateAccountNotAllowed":"The new account_id {{account_id}} can\'t be created by {{predecessor_id}}","RequiresFullAccess":"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key","TriesToUnstake":"Account {{account_id}} is not yet staked, but tried to unstake","InvalidNonce":"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}","AccountAlreadyExists":"Can\'t create a new account {{account_id}}, because it already exists","InvalidChain":"Transaction parent block hash doesn\'t belong to the current chain","AccountDoesNotExist":"Can\'t complete the action because account {{account_id}} doesn\'t exist","MethodNameMismatch":"Transaction method name {{method_name}} isn\'t allowed by the access key","DeleteAccountHasRent":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent","DeleteAccountHasEnoughBalance":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it\'s storage","InvalidReceiver":"Invalid receiver account ID {{receiver_id}} according to requirements","DeleteKeyDoesNotExist":"Account {{account_id}} tries to remove an access key that doesn\'t exist","Timeout":"Timeout exceeded","Closed":"Connection closed"}')},530785:v=>{"use strict";v.exports=JSON.parse('{"schema":{"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BreakpointTrap":{"name":"BreakpointTrap","subtypes":[],"props":{}},"CacheError":{"name":"CacheError","subtypes":["ReadError","WriteError","DeserializationError","SerializationError"],"props":{}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"DeserializationError":{"name":"DeserializationError","subtypes":[],"props":{}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"FunctionCallError":{"name":"FunctionCallError","subtypes":["CompilationError","LinkError","MethodResolveError","WasmTrap","WasmUnknownError","HostError","EvmError"],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LinkError":{"name":"LinkError","subtypes":[],"props":{"msg":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodUTF8Error","MethodNotFound","MethodInvalidSignature"],"props":{}},"MethodUTF8Error":{"name":"MethodUTF8Error","subtypes":[],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReadError":{"name":"ReadError","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"SerializationError":{"name":"SerializationError","subtypes":[],"props":{"hash":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","BreakpointTrap","StackOverflow","GenericTrap"],"props":{}},"WasmUnknownError":{"name":"WasmUnknownError","subtypes":[],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"WriteError":{"name":"WriteError","subtypes":[],"props":{}},"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation"],"props":{}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"InternalError":{"name":"InternalError","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed","InternalError"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}}')},65092:v=>{"use strict";v.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')}}]);