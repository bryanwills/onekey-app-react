(self.webpackChunkweb=self.webpackChunkweb||[]).push([[26665],{351574:(e,t,n)=>{"use strict";n.d(t,{g:()=>ScanQrCode});var r=n(586330),a=n(514041),i=n(728234),o=n(324586),s=n(230414),c=n(929296),u=n(195309),l=n(972715),d=n(72631),f=n(719102),p=n(16706);function _handleRequestPermissionsAsync(){return _handleRequestPermissionsAsync=(0,r.A)((function*(){try{return yield function getUserMedia(e){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(e);var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||function(){var e=new Error("Permission unimplemented");throw e.code=0,e.name="NotAllowedError",e};return new Promise((function(n,r){t.call(navigator,e,n,r)}))}({video:!0}),{status:p.W.GRANTED,expires:"never",canAskAgain:!0,granted:!0}}catch({message:e}){return function handleGetUserMediaError({message:e}){return"Permission dismissed"===e?{status:p.W.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1}:{status:p.W.DENIED,expires:"never",canAskAgain:!0,granted:!1}}({message:e})}})),_handleRequestPermissionsAsync.apply(this,arguments)}function _handlePermissionsQueryAsync(){return(_handlePermissionsQueryAsync=(0,r.A)((function*(){if(!navigator?.permissions?.query)throw new d.V("expo-barcode-scanner","navigator.permissions API is not available");var{state:e}=yield navigator.permissions.query({name:"camera"});switch(e){case"prompt":return{status:p.W.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1};case"granted":return{status:p.W.GRANTED,expires:"never",canAskAgain:!0,granted:!0};case"denied":return{status:p.W.DENIED,expires:"never",canAskAgain:!0,granted:!1}}}))).apply(this,arguments)}const y={get name(){return"ExpoBarCodeScannerModule"},get BarCodeType(){return{code39mod43:"code39mod43",code138:"code138",interleaved2of5:"interleaved2of5",aztec:"aztec",ean13:"ean13",ean8:"ean8",qr:"qr",pdf417:"pdf417",upc_e:"upc_e",datamatrix:"datamatrix",code39:"code39",code93:"code93",itf14:"itf14",codabar:"codabar",code128:"code128",upc_a:"upc_a"}},get Type(){return{front:"front",back:"back"}},requestPermissionsAsync:()=>(0,r.A)((function*(){return function handleRequestPermissionsAsync(){return _handleRequestPermissionsAsync.apply(this,arguments)}()}))(),getPermissionsAsync:()=>(0,r.A)((function*(){return function handlePermissionsQueryAsync(){return _handlePermissionsQueryAsync.apply(this,arguments)}()}))()};var m=n(722844),g=n(230690);function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,l.A)(e);if(t){var a=(0,l.A)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.A)(this,n)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var h,A=function(e){(0,c.A)(ExpoBarCodeScannerView,e);var t=_createSuper(ExpoBarCodeScannerView);function ExpoBarCodeScannerView(){return t.apply(this,arguments)}return ExpoBarCodeScannerView.prototype.render=function render(){return a.createElement(g.A,null,a.createElement(m.A,null,"BarCodeScanner Component not supported on the web"))},(0,s.A)(ExpoBarCodeScannerView)}(a.Component);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BarCodeScanner_createSuper(e){var t=BarCodeScanner_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,l.A)(e);if(t){var a=(0,l.A)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.A)(this,n)}}function BarCodeScanner_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(BarCodeScanner_isNativeReflectConstruct=function(){return!!e})()}var{BarCodeType:v,Type:_}=y,b=function(e){(0,c.A)(BarCodeScanner,e);var t,n,i,o=BarCodeScanner_createSuper(BarCodeScanner);function BarCodeScanner(...e){var t;return(t=o.call(this,...e)).lastEvents={},t.lastEventsTimes={},t.onObjectDetected=function(e){return function({nativeEvent:n}){var{type:r}=n;t.lastEvents[r]&&t.lastEventsTimes[r]&&JSON.stringify(n)===t.lastEvents[r]&&Date.now()-t.lastEventsTimes[r]<500||e&&(e(n),t.lastEventsTimes[r]=new Date,t.lastEvents[r]=JSON.stringify(n))}},t}BarCodeScanner.getPermissionsAsync=(t=(0,r.A)((function*(){return y.getPermissionsAsync()})),function getPermissionsAsync(){return t.apply(this,arguments)}),BarCodeScanner.requestPermissionsAsync=(n=(0,r.A)((function*(){return y.requestPermissionsAsync()})),function requestPermissionsAsync(){return n.apply(this,arguments)}),BarCodeScanner.scanFromURLAsync=(i=(0,r.A)((function*(e,t=Object.values(v)){if(!y.scanFromURLAsync)throw new d.V("expo-barcode-scanner","scanFromURLAsync");if(Array.isArray(t)&&!t.length)throw new Error("No barCodeTypes specified; provide at least one barCodeType for scanner");return yield y.scanFromURLAsync(e,t)})),function scanFromURLAsync(e){return i.apply(this,arguments)});var u=BarCodeScanner.prototype;return u.render=function render(){var e=this.convertNativeProps(this.props),{onBarCodeScanned:t}=this.props;return a.createElement(A,_objectSpread(_objectSpread({},e),{},{onBarCodeScanned:this.onObjectDetected(t)}))},u.convertNativeProps=function convertNativeProps(e){var t={};for(var[n,r]of Object.entries(e))"string"==typeof r&&BarCodeScanner.ConversionTables[n]?t[n]=BarCodeScanner.ConversionTables[n][r]:t[n]=r;return t},(0,s.A)(BarCodeScanner)}(a.Component);h=b,b.Constants={BarCodeType:v,Type:_},b.ConversionTables={type:_},b.defaultProps={type:_.back,barCodeTypes:Object.values(v)},b.usePermissions=(0,f.V)({getMethod:h.getPermissionsAsync,requestMethod:h.requestPermissionsAsync});var C,w,S,P,E,R,O,M,I,{Constants:T,getPermissionsAsync:j,requestPermissionsAsync:D,scanFromURLAsync:B}=b,x=n(908867),U=n(490343),N=n(663522),k=n(596020),F=n(117746),q=n(839850),G=n(34546),L=n(17617),V=n(867597);!function(e){e.front="front",e.back="back"}(C||(C={})),function(e){e.on="on",e.off="off",e.auto="auto",e.torch="torch"}(w||(w={})),function(e){e.on="on",e.off="off",e.auto="auto",e.singleShot="singleShot"}(S||(S={})),function(e){e.auto="auto",e.sunny="sunny",e.cloudy="cloudy",e.shadow="shadow",e.incandescent="incandescent",e.fluorescent="fluorescent",e.continuous="continuous",e.manual="manual"}(P||(P={})),function(e){e.png="png",e.jpg="jpg"}(E||(E={})),function(e){e.H264="avc1",e.HEVC="hvc1",e.JPEG="jpeg",e.AppleProRes422="apcn",e.AppleProRes4444="ap4h"}(R||(R={})),function(e){e.off="off",e.standard="standard",e.cinematic="cinematic",e.auto="auto"}(O||(O={})),function(e){e["2160p"]="2160p",e["1080p"]="1080p",e["720p"]="720p",e["480p"]="480p",e["4:3"]="4:3"}(M||(M={})),function(e){e[e.portrait=1]="portrait",e[e.portraitUpsideDown=2]="portraitUpsideDown",e[e.landscapeLeft=3]="landscapeLeft",e[e.landscapeRight=4]="landscapeRight"}(I||(I={}));var H=n(683180);function WebUserMediaManager_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WebUserMediaManager_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WebUserMediaManager_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WebUserMediaManager_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _requestLegacyUserMediaAsync(){return(_requestLegacyUserMediaAsync=(0,r.A)((function*(e){var optionalSource=function(e){return{optional:[{sourceId:e}]}},constraintToSourceId=function(e){var{deviceId:t}=e;return"string"==typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"==typeof t&&t.ideal?t.ideal:null},t=yield new Promise((function(e){return MediaStreamTrack.getSources((function(t){return e(t)}))})),n=null,r=null;t.forEach((function(e){"audio"===e.kind?n=e.id:"video"===e.kind&&(r=e.id)}));var a=constraintToSourceId(e.audioConstraints);a&&(n=a);var i=constraintToSourceId(e.videoConstraints);return i&&(r=i),[optionalSource(n),optionalSource(r)]}))).apply(this,arguments)}function sourceSelectedAsync(e,t,n){return _sourceSelectedAsync.apply(this,arguments)}function _sourceSelectedAsync(){return(_sourceSelectedAsync=(0,r.A)((function*(e,t,n){var r={video:void 0===n||n};return e||(r.audio=void 0===t||t),yield getAnyUserMediaAsync(r)}))).apply(this,arguments)}function _requestUserMediaAsync(){return _requestUserMediaAsync=(0,r.A)((function*(e,t=!0){if(canGetUserMedia())return yield sourceSelectedAsync(t,e.audio,e.video);var[n,r]=yield function requestLegacyUserMediaAsync(e){return _requestLegacyUserMediaAsync.apply(this,arguments)}(e);return yield sourceSelectedAsync(t,n,r)})),_requestUserMediaAsync.apply(this,arguments)}function getAnyUserMediaAsync(e){return _getAnyUserMediaAsync.apply(this,arguments)}function _getAnyUserMediaAsync(){return _getAnyUserMediaAsync=(0,r.A)((function*(e,t=!1){try{return yield function getUserMediaAsync(e){return _getUserMediaAsync.apply(this,arguments)}(WebUserMediaManager_objectSpread(WebUserMediaManager_objectSpread({},e),{},{video:t||e.video}))}catch(n){if(!t&&"ConstraintNotSatisfiedError"===n.name)return yield getAnyUserMediaAsync(e,!0);throw n}})),_getAnyUserMediaAsync.apply(this,arguments)}function _getUserMediaAsync(){return(_getUserMediaAsync=(0,r.A)((function*(e){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(e);var t=navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia;return new Promise((function(n,r){return t.call(navigator,e,n,r)}))}))).apply(this,arguments)}function canGetUserMedia(){return H.A.isDOMAvailable&&!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia)}function isFrontCameraAvailableAsync(e){return _isFrontCameraAvailableAsync.apply(this,arguments)}function _isFrontCameraAvailableAsync(){return(_isFrontCameraAvailableAsync=(0,r.A)((function*(e){return yield supportsCameraType(["front","user","facetime"],"user",e)}))).apply(this,arguments)}function isBackCameraAvailableAsync(e){return _isBackCameraAvailableAsync.apply(this,arguments)}function _isBackCameraAvailableAsync(){return(_isBackCameraAvailableAsync=(0,r.A)((function*(e){return yield supportsCameraType(["back","rear"],"environment",e)}))).apply(this,arguments)}function supportsCameraType(e,t,n){return _supportsCameraType.apply(this,arguments)}function _supportsCameraType(){return(_supportsCameraType=(0,r.A)((function*(e,t,n){if(!n){if(!navigator.mediaDevices.enumerateDevices)return null;n=yield navigator.mediaDevices.enumerateDevices()}var r=n.filter((function(e){return"videoinput"===e.kind})),[a]=r.filter((function(t){return e.some((function(e){return t.label.toLowerCase().includes(e)}))})),[i]=r.filter((function(e){if(!("getCapabilities"in e))return null;var n=e.getCapabilities();return n.facingMode?n.facingMode.find((function(e){return t})):null}));return i?.deviceId||a?.deviceId||null}))).apply(this,arguments)}function ExpoCameraManager_web_getUserMedia(e){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(e);var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||function(){var e=new Error("Permission unimplemented");throw e.code=0,e.name="NotAllowedError",e};return new Promise((function(n,r){t.call(navigator,e,n,r)}))}function ExpoCameraManager_web_handleGetUserMediaError({message:e}){return"Permission dismissed"===e?{status:p.W.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1}:{status:p.W.DENIED,expires:"never",canAskAgain:!0,granted:!1}}function ExpoCameraManager_web_handleRequestPermissionsAsync(){return build_ExpoCameraManager_web_handleRequestPermissionsAsync.apply(this,arguments)}function build_ExpoCameraManager_web_handleRequestPermissionsAsync(){return(build_ExpoCameraManager_web_handleRequestPermissionsAsync=(0,r.A)((function*(){try{return yield ExpoCameraManager_web_getUserMedia({video:!0}),{status:p.W.GRANTED,expires:"never",canAskAgain:!0,granted:!0}}catch({message:e}){return ExpoCameraManager_web_handleGetUserMediaError({message:e})}}))).apply(this,arguments)}function ExpoCameraManager_web_handlePermissionsQueryAsync(e){return build_ExpoCameraManager_web_handlePermissionsQueryAsync.apply(this,arguments)}function build_ExpoCameraManager_web_handlePermissionsQueryAsync(){return(build_ExpoCameraManager_web_handlePermissionsQueryAsync=(0,r.A)((function*(e){if(!navigator?.permissions?.query)throw new d.V("expo-camera","navigator.permissions API is not available");try{var{state:t}=yield navigator.permissions.query({name:e});switch(t){case"prompt":return{status:p.W.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1};case"granted":return{status:p.W.GRANTED,expires:"never",canAskAgain:!0,granted:!0};case"denied":return{status:p.W.DENIED,expires:"never",canAskAgain:!0,granted:!1}}}catch(e){if(e instanceof TypeError)return{status:p.W.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1};throw e}}))).apply(this,arguments)}const W={get name(){return"ExponentCameraManager"},get Type(){return{back:"back",front:"front"}},get FlashMode(){return{on:"on",off:"off",auto:"auto",torch:"torch"}},get AutoFocus(){return{on:"on",off:"off",auto:"auto",singleShot:"singleShot"}},get WhiteBalance(){return{auto:"auto",continuous:"continuous",manual:"manual"}},get VideoQuality(){return{}},get VideoStabilization(){return{}},isAvailableAsync:()=>(0,r.A)((function*(){return canGetUserMedia()}))(),takePicture:(e,t)=>(0,r.A)((function*(){return yield t.takePicture(e)}))(),pausePreview:e=>(0,r.A)((function*(){yield e.pausePreview()}))(),resumePreview:e=>(0,r.A)((function*(){return yield e.resumePreview()}))(),getAvailableCameraTypesAsync:()=>(0,r.A)((function*(){if(!canGetUserMedia()||!navigator.mediaDevices.enumerateDevices)return[];var e=yield navigator.mediaDevices.enumerateDevices();return(yield Promise.all([(yield isFrontCameraAvailableAsync(e))&&C.front,(yield isBackCameraAvailableAsync())&&C.back])).filter(Boolean)}))(),getAvailablePictureSizes:(e,t)=>(0,r.A)((function*(){return yield t.getAvailablePictureSizes(e)}))(),getPermissionsAsync:()=>(0,r.A)((function*(){return ExpoCameraManager_web_handlePermissionsQueryAsync("camera")}))(),requestPermissionsAsync:()=>(0,r.A)((function*(){return ExpoCameraManager_web_handleRequestPermissionsAsync()}))(),getCameraPermissionsAsync:()=>(0,r.A)((function*(){return ExpoCameraManager_web_handlePermissionsQueryAsync("camera")}))(),requestCameraPermissionsAsync:()=>(0,r.A)((function*(){return ExpoCameraManager_web_handleRequestPermissionsAsync()}))(),getMicrophonePermissionsAsync:()=>(0,r.A)((function*(){return ExpoCameraManager_web_handlePermissionsQueryAsync("microphone")}))(),requestMicrophonePermissionsAsync:()=>(0,r.A)((function*(){try{return yield ExpoCameraManager_web_getUserMedia({audio:!0}),{status:p.W.GRANTED,expires:"never",canAskAgain:!0,granted:!0}}catch({message:e}){return ExpoCameraManager_web_handleGetUserMediaError({message:e})}}))()};var Z=n(78958),z=n.n(Z);function convertFlashModeJSONToNative(e){return"torch"===e}function convertWhiteBalanceJSONToNative(e){switch(e){case"on":case"auto":return"continuous";case"off":return"none";case"singleShot":return"single-shot";default:return}}function convertAutoFocusJSONToNative(e){switch(e){case"on":case"auto":return"continuous";case"off":return"manual";case"singleShot":return"single-shot";default:return}}var K=Object.keys({"3840x2160":3840/2160,"1920x1080":1920/1080,"1280x720":1280/720,"640x480":640/480,"352x288":352/288}),Q={[E.jpg]:"image/jpeg",[E.png]:"image/png"},$={audio:!1,video:!0},Y={[C.front]:"user",[C.back]:"environment"},X={user:C.front,environment:C.back};var J=.92;function captureImageContext(e,{scale:t=1,isImageMirror:n=!1}){var{videoWidth:r,videoHeight:a}=e,{width:i,height:o}=function getImageSize(e,t,n){var r=e*n;return{width:r,height:t/(e/r)}}(r,a,t),s=document.createElement("canvas");s.width=i,s.height=o;var c=s.getContext("2d",{alpha:!1});if(!c)throw new Error("Context is not defined");return n&&c.setTransform(-1,0,0,1,s.width,0),c.drawImage(e,0,0,i,o),s}function captureImage(e,t){var n=function ensureCameraPictureOptions(e){var t={scale:1,imageType:E.png,isImageMirror:!1};for(var n in e)n in e&&void 0!==e[n]&&n in t&&(t[n]=e[n]);return t}(t),r=captureImageContext(e,n),{imageType:a,quality:i=J}=n;return function toDataURL(e,t,n){z()(Object.values(E).includes(t),`expo-camera: ${t} is not a valid ImageType. Expected a string from: ${Object.values(E).join(", ")}`);var r=Q[t];return t===E.jpg?(z()(n<=1&&n>=0,`expo-camera: ${n} is not a valid image quality. Expected a number from 0...1`),e.toDataURL(r,n)):e.toDataURL(r)}(r,a,i)}function getIdealConstraints(e,t,n){var r={audio:!1,video:{}};if(function hasValidConstraints(e,t,n){return void 0!==e&&void 0!==t&&void 0!==n}(e,t,n))return $;var a=function getSupportedConstraints(){return navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints?navigator.mediaDevices.getSupportedConstraints():null}();if(!(a&&a.facingMode&&a.width&&a.height))return $;if(e&&Object.values(C).includes(e)){var i=Y[e];if(function isWebKit(){return/WebKit/.test(navigator.userAgent)&&!/Edg/.test(navigator.userAgent)}()){var o="user"===i?"exact":"ideal";r.video.facingMode={[o]:i}}else r.video.facingMode={ideal:Y[e]}}return function isMediaTrackConstraints(e){return e&&"boolean"!=typeof e.video}(r.video)&&(r.video.width=t,r.video.height=n),r}function _getPreferredStreamDevice(){return(_getPreferredStreamDevice=(0,r.A)((function*(e,t,n){try{return yield getStreamDevice(e,t,n)}catch(a){if(a instanceof OverconstrainedError&&"facingMode"===a.constraint){var r=e===C.back?C.front:C.back;return yield getStreamDevice(r,t,n)}throw a}}))).apply(this,arguments)}function getStreamDevice(e,t,n){return _getStreamDevice.apply(this,arguments)}function _getStreamDevice(){return _getStreamDevice=(0,r.A)((function*(e,t,n){var r=getIdealConstraints(e,t,n),a=yield function requestUserMediaAsync(e){return _requestUserMediaAsync.apply(this,arguments)}(r);return a})),_getStreamDevice.apply(this,arguments)}function syncTrackCapabilities(e,t){return _syncTrackCapabilities.apply(this,arguments)}function _syncTrackCapabilities(){return _syncTrackCapabilities=(0,r.A)((function*(e,t,n={}){t?.getVideoTracks&&(yield Promise.all(t.getVideoTracks().map((function(t){return function onCapabilitiesReady(e,t){return _onCapabilitiesReady.apply(this,arguments)}(e,t,n)}))))})),_syncTrackCapabilities.apply(this,arguments)}function _onCapabilitiesReady(){return(_onCapabilitiesReady=(0,r.A)((function*(e,t,n={}){var r=t.getCapabilities(),a={};for(var i of["exposureCompensation","colorTemperature","iso","brightness","contrast","saturation","sharpness","focusDistance","zoom"])r[i]&&(a[i]=convertNormalizedSetting(r[i],n[i]));function validatedInternalConstrainedValue(t,a,i){return function validatedConstrainedValue(e){var{constraintKey:t,settingsKey:n,convertedSetting:r,capabilities:a,settings:i,cameraType:o}=e;i[n];if(Array.isArray(a[t])&&r&&!a[t].includes(r))return void 0;return r}({constraintKey:t,settingsKey:a,convertedSetting:i(n[a]),capabilities:r,settings:n,cameraType:e})}r.focusMode&&void 0!==n.autoFocus&&(a.focusMode=validatedInternalConstrainedValue("focusMode","autoFocus",convertAutoFocusJSONToNative)),r.torch&&void 0!==n.flashMode&&(a.torch=validatedInternalConstrainedValue("torch","flashMode",convertFlashModeJSONToNative)),r.whiteBalanceMode&&void 0!==n.whiteBalance&&(a.whiteBalanceMode=validatedInternalConstrainedValue("whiteBalanceMode","whiteBalance",convertWhiteBalanceJSONToNative));try{yield t.applyConstraints({advanced:[a]})}catch(e){0}}))).apply(this,arguments)}function stopMediaStream(e){e&&(e.getAudioTracks&&e.getAudioTracks().forEach((function(e){return e.stop()})),e.getVideoTracks&&e.getVideoTracks().forEach((function(e){return e.stop()})),function isMediaStreamTrack(e){return"function"==typeof e.stop}(e)&&e.stop())}function setVideoSource(e,t){var n,r=null!=(n=window.URL.createObjectURL)?n:window.webkitURL.createObjectURL;if(void 0!==e.srcObject?e.srcObject=t:void 0!==e.mozSrcObject?e.mozSrcObject=t:t&&r&&(e.src=r(t)),!t){var a,i,o,s=null!=(a=window.URL.revokeObjectURL)?a:window.webkitURL.revokeObjectURL,c=null!=(i=null!=(o=e.src)?o:e.srcObject)?i:e.mozSrcObject;s&&"string"==typeof c&&s(c)}}function convertNormalizedSetting(e,t){if(t){var n=function convertRange(e,t,n=[0,1]){return(e-n[0])*(t[1]-t[0])/(n[1]-n[0])+t[0]}(t,[e.min,e.max]);return Math.min(e.max,Math.max(e.min,n))}}function useWebCameraStream_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function useWebCameraStream_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?useWebCameraStream_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):useWebCameraStream_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=["autoFocus","flashMode","exposureCompensation","colorTemperature","iso","brightness","contrast","saturation","sharpness","focusDistance","whiteBalance","zoom"];function useWebCameraStream(e,t,n,{onCameraReady:i,onMountError:o}){var s=a.useRef(!1),c=a.useRef([]),u=a.useRef({autoFocus:"continuous",flashMode:"off",whiteBalance:"continuous",zoom:1}),[l,d]=a.useState(null),f=a.useMemo((function(){return l?l.getTracks()[0].getSettings():null}),[l]),p=a.useMemo((function(){if(!f)return null;var{facingMode:e="user"}=f;return X[e]}),[f]),y=a.useCallback((0,r.A)((function*(){try{return yield function getPreferredStreamDevice(e,t,n){return _getPreferredStreamDevice.apply(this,arguments)}(t)}catch(e){return o&&o({nativeEvent:e}),null}})),[t,o]),m=a.useCallback((0,r.A)((function*(){var e=yield y();return function compareStreams(e,t){if(!e||!t)return!1;var n=e.getTracks()[0].getSettings(),r=t.getTracks()[0].getSettings();return n.deviceId===r.deviceId}(e,l)||(c.current.some((function(t){return t.id===e?.id}))||c.current.push(e),d(e),i&&i()),!1})),[y,d,i,l,c.current]);return a.useEffect((function(){s.current||(s.current=!0,m().then((function(e){s.current=e})).catch((function(){s.current=!1})))}),[t]),a.useEffect((function(){var e={};for(var r of Object.keys(n))if(ee.includes(r)){var a=n[r];a!==u.current[r]&&(e[r]=a)}var i=!!Object.keys(e).length,o=useWebCameraStream_objectSpread(useWebCameraStream_objectSpread({},u.current),e);i&&syncTrackCapabilities(t,l,e),u.current=o}),[n.autoFocus,n.flashMode,n.exposureCompensation,n.colorTemperature,n.iso,n.brightness,n.contrast,n.saturation,n.sharpness,n.focusDistance,n.whiteBalance,n.zoom]),a.useEffect((function(){e.current&&setVideoSource(e.current,l)}),[e.current,l]),a.useEffect((function(){return function(){for(var t of c.current)stopMediaStream(t);e.current&&setVideoSource(e.current,l)}}),[]),function useLoadedVideo(e,t){a.useEffect((function(){e&&e.addEventListener("loadedmetadata",(function(){requestAnimationFrame((function(){t()}))}))}),[e])}(e.current,(function(){syncTrackCapabilities(t,l,u.current)})),{type:p,mediaTrackSettings:f}}var te=function(e,t){var n=[`self.func = ${e.toString()};`,"self.onmessage = (e) => {","  const result = self.func(e.data);","  self.postMessage(result);","};"];t.length>0&&n.unshift(`importScripts(${t.map((function(e){return`'${e}'`})).join(", ")});`);var r=new Blob(n,{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r)),i=[];return a.onmessage=function(e){return i.shift()?.resolve(e.data)},function(e){return new Promise((function(t,n){i.push({resolve:t,reject:n}),a.postMessage(e)}))}}((function({data:e,width:t,height:n}){var r,a=self.jsQR(e,t,n,{inversionAttempts:"attemptBoth"});try{r=JSON.parse(a)}catch{r=a}if(r?.data){var i={type:"qr",data:r.data,cornerPoints:[],bounds:{origin:{x:0,y:0},size:{width:0,height:0}}};return r.location&&(i.cornerPoints=[r.location.topLeftCorner,r.location.bottomLeftCorner,r.location.topRightCorner,r.location.bottomRightCorner]),i}return r}),["https://cdn.jsdelivr.net/npm/jsqr@1.2.0/dist/jsQR.min.js"]);function useWebQRScanner(e,{isEnabled:t,captureOptions:n,interval:i,onScanned:o,onError:s}){var c=a.useRef(!1),u=a.useRef(void 0);function scanAsync(){return _scanAsync.apply(this,arguments)}function _scanAsync(){return _scanAsync=(0,r.A)((function*(){if(c.current&&o)try{var t=function captureImageData(e,t={}){if(!e||e.readyState!==e.HAVE_ENOUGH_DATA)return null;var n=captureImageContext(e,t),r=n.getContext("2d",{alpha:!1});return r&&n.width&&n.height?r.getImageData(0,0,n.width,n.height):null}(e.current,n);if(t){var r=yield te(t);r?.data&&o({nativeEvent:r})}}catch(e){s&&s({nativeEvent:e})}finally{if(0===i)return void stop();var a=!i||i<0?16:i;u.current=setTimeout((function(){scanAsync()}),a)}else stop()})),_scanAsync.apply(this,arguments)}function stop(){c.current=!1,clearTimeout(u.current)}a.useEffect((function(){return t&&(c.current=!0,scanAsync()),function(){t&&stop()}}),[t])}var ne=n(831085),re=["type","pictureSize","poster"];function ExpoCamera_web_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ExpoCamera_web_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ExpoCamera_web_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ExpoCamera_web_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ae=a.forwardRef((function(e,t){var{type:n,pictureSize:i,poster:o}=e,s=(0,q.A)(e,re),c=a.useRef(null),u=useWebCameraStream(c,n,s,{onCameraReady(){s.onCameraReady&&s.onCameraReady()},onMountError:s.onMountError}),l=a.useMemo((function(){return!(!s.barCodeScannerSettings?.barCodeTypes?.includes("qr")||!s.onBarCodeScanned)}),[s.barCodeScannerSettings?.barCodeTypes,s.onBarCodeScanned]);useWebQRScanner(c,{interval:s.barCodeScannerSettings?.interval,isEnabled:l,captureOptions:{scale:1,isImageMirror:u.type===C.front},onScanned(e){s.onBarCodeScanned&&s.onBarCodeScanned(e)}}),a.useImperativeHandle(t,(function(){return{getAvailablePictureSizes:e=>(0,r.A)((function*(){return K}))(),takePicture:e=>(0,r.A)((function*(){if(!c.current||c.current?.readyState!==c.current?.HAVE_ENOUGH_DATA)throw new G.A("ERR_CAMERA_NOT_READY","HTMLVideoElement does not have enough camera data to construct an image yet.");var t=u.mediaTrackSettings;if(!t)throw new G.A("ERR_CAMERA_NOT_READY","MediaStream is not ready yet.");return function capture(e,t,n){var r=captureImage(e,n),a={uri:r,base64:r,width:0,height:0};if(t){var{width:i=0,height:o=0}=t;a.width=i,a.height=o,a.exif=t}return n.onPictureSaved&&n.onPictureSaved(a),a}(c.current,t,ExpoCamera_web_objectSpread(ExpoCamera_web_objectSpread({},e),{},{onPictureSaved(t){e.onPictureSaved&&e.onPictureSaved(t),s.onPictureSaved&&s.onPictureSaved({nativeEvent:{data:t,id:-1}})}}))}))(),resumePreview:()=>(0,r.A)((function*(){c.current&&c.current.play()}))(),pausePreview:()=>(0,r.A)((function*(){c.current&&c.current.pause()}))()}}),[u.mediaTrackSettings,s.onPictureSaved]);var d=a.useMemo((function(){var e=u.type===W.Type.front;return[L.A.absoluteFill,se.video,{pointerEvents:s.pointerEvents,transform:e?[{scaleX:-1}]:void 0}]}),[s.pointerEvents,u.type]);return(0,ne.jsxs)(g.A,{style:[se.videoWrapper,s.style],children:[(0,ne.jsx)(oe,{autoPlay:!0,playsInline:!0,muted:!0,poster:o,ref:c,style:d}),s.children]})}));var ie,oe=a.forwardRef((function(e,t){return(0,V.A)("video",ExpoCamera_web_objectSpread(ExpoCamera_web_objectSpread({},e),{},{ref:t}))})),se=L.A.create({videoWrapper:{flex:1,alignItems:"stretch",pointerEvents:"box-none"},video:{width:"100%",height:"100%",objectFit:"cover"}}),ce={type:W.Type,flashMode:W.FlashMode,autoFocus:W.AutoFocus,whiteBalance:W.WhiteBalance};function ensureNativeProps(e){var t=function convertNativeProps(e){if(!e||"object"!=typeof e)return{};var t={};for(var[n,r]of Object.entries(e))"string"==typeof r&&ce[n]?t[n]=ce[n][r]:t[n]=r;return t}(e);return t.onBarCodeScanned&&(t.barCodeScannerEnabled=!0),t.onFacesDetected&&(t.faceDetectorEnabled=!0),delete t.ratio,delete t.useCamera2Api,t}function Camera_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Camera_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Camera_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Camera_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Camera_createSuper(e){var t=Camera_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,l.A)(e);if(t){var a=(0,l.A)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.A)(this,n)}}function Camera_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Camera_isNativeReflectConstruct=function(){return!!e})()}var ue={},le=1;function ensureRecordingOptions(e){var t=e||{};return t&&"object"==typeof t?"string"==typeof t.quality&&(t.quality=de.Constants.VideoQuality[t.quality]):t={},t}function _onPictureSaved({nativeEvent:e}){var{id:t,data:n}=e,r=ue[t];r&&(r(n),delete ue[t])}var de=function(e){(0,c.A)(Camera,e);var t,n,a,i,o,u,l,f,p,y=Camera_createSuper(Camera);function Camera(...e){var t;return(t=y.call(this,...e))._lastEvents={},t._lastEventsTimes={},t._onCameraReady=function(){t.props.onCameraReady&&t.props.onCameraReady()},t._onMountError=function({nativeEvent:e}){t.props.onMountError&&t.props.onMountError(e)},t._onResponsiveOrientationChanged=function({nativeEvent:e}){t.props.onResponsiveOrientationChanged&&t.props.onResponsiveOrientationChanged(e)},t._onObjectDetected=function(e){return function({nativeEvent:n}){var{type:r}=n;t._lastEvents[r]&&t._lastEventsTimes[r]&&JSON.stringify(n)===t._lastEvents[r]&&(new Date).getTime()-t._lastEventsTimes[r].getTime()<500||e&&(e(n),t._lastEventsTimes[r]=new Date,t._lastEvents[r]=JSON.stringify(n))}},t._setReference=function(e){e?(t._cameraRef=e,t._cameraHandle=e):(t._cameraRef=null,t._cameraHandle=null)},t}Camera.isAvailableAsync=(t=(0,r.A)((function*(){if(!W.isAvailableAsync)throw new d.V("expo-camera","isAvailableAsync");return yield W.isAvailableAsync()})),function isAvailableAsync(){return t.apply(this,arguments)}),Camera.getAvailableCameraTypesAsync=(n=(0,r.A)((function*(){if(!W.getAvailableCameraTypesAsync)throw new d.V("expo-camera","getAvailableCameraTypesAsync");return yield W.getAvailableCameraTypesAsync()})),function getAvailableCameraTypesAsync(){return n.apply(this,arguments)}),Camera.getAvailableVideoCodecsAsync=(a=(0,r.A)((function*(){if(!W.getAvailableVideoCodecsAsync)throw new d.V("Camera","getAvailableVideoCodecsAsync");return yield W.getAvailableVideoCodecsAsync()})),function getAvailableVideoCodecsAsync(){return a.apply(this,arguments)}),Camera.getPermissionsAsync=(i=(0,r.A)((function*(){return console.warn('"getPermissionsAsync()" is now deprecated. Please use "getCameraPermissionsAsync()" or "getMicrophonePermissionsAsync()" instead.'),W.getPermissionsAsync()})),function getPermissionsAsync(){return i.apply(this,arguments)}),Camera.requestPermissionsAsync=(o=(0,r.A)((function*(){return console.warn('"requestPermissionsAsync()" is now deprecated. Please use "requestCameraPermissionsAsync()" or "requestMicrophonePermissionsAsync()" instead.'),W.requestPermissionsAsync()})),function requestPermissionsAsync(){return o.apply(this,arguments)}),Camera.getCameraPermissionsAsync=(u=(0,r.A)((function*(){return W.getCameraPermissionsAsync()})),function getCameraPermissionsAsync(){return u.apply(this,arguments)}),Camera.requestCameraPermissionsAsync=(l=(0,r.A)((function*(){return W.requestCameraPermissionsAsync()})),function requestCameraPermissionsAsync(){return l.apply(this,arguments)}),Camera.getMicrophonePermissionsAsync=(f=(0,r.A)((function*(){return W.getMicrophonePermissionsAsync()})),function getMicrophonePermissionsAsync(){return f.apply(this,arguments)}),Camera.requestMicrophonePermissionsAsync=(p=(0,r.A)((function*(){return W.requestMicrophonePermissionsAsync()})),function requestMicrophonePermissionsAsync(){return p.apply(this,arguments)});var m,g,h,A,v,_,b,C=Camera.prototype;return C.takePictureAsync=(m=(0,r.A)((function*(e){var t=function ensurePictureOptions(e){var t=e&&"object"==typeof e?e:{};if(t.quality||(t.quality=1),t.onPictureSaved){var n=le++;ue[n]=t.onPictureSaved,t.id=n,t.fastMode=!0}return t}(e);return yield W.takePicture(t,this._cameraHandle)})),function takePictureAsync(e){return m.apply(this,arguments)}),C.getSupportedRatiosAsync=(g=(0,r.A)((function*(){if(!W.getSupportedRatios)throw new d.V("Camera","getSupportedRatiosAsync");return yield W.getSupportedRatios(this._cameraHandle)})),function getSupportedRatiosAsync(){return g.apply(this,arguments)}),C.getAvailablePictureSizesAsync=(h=(0,r.A)((function*(e){if(!W.getAvailablePictureSizes)throw new d.V("Camera","getAvailablePictureSizesAsync");return yield W.getAvailablePictureSizes(e,this._cameraHandle)})),function getAvailablePictureSizesAsync(e){return h.apply(this,arguments)}),C.recordAsync=(A=(0,r.A)((function*(e){if(!W.record)throw new d.V("Camera","recordAsync");var t=ensureRecordingOptions(e);return yield W.record(t,this._cameraHandle)})),function recordAsync(e){return A.apply(this,arguments)}),C.stopRecording=(v=(0,r.A)((function*(){if(!W.stopRecording)throw new d.V("Camera","stopRecording");return yield W.stopRecording(this._cameraHandle)})),function stopRecording(){return v.apply(this,arguments)}),C.pausePreview=(_=(0,r.A)((function*(){if(!W.pausePreview)throw new d.V("Camera","pausePreview");return yield W.pausePreview(this._cameraHandle)})),function pausePreview(){return _.apply(this,arguments)}),C.resumePreview=(b=(0,r.A)((function*(){if(!W.resumePreview)throw new d.V("Camera","resumePreview");return yield W.resumePreview(this._cameraHandle)})),function resumePreview(){return b.apply(this,arguments)}),C.render=function render(){var e=ensureNativeProps(this.props),t=this.props.onBarCodeScanned?this._onObjectDetected(this.props.onBarCodeScanned):void 0,n=this._onObjectDetected(this.props.onFacesDetected);return(0,ne.jsx)(ae,Camera_objectSpread(Camera_objectSpread({},e),{},{ref:this._setReference,onCameraReady:this._onCameraReady,onMountError:this._onMountError,onBarCodeScanned:t,onFacesDetected:n,onPictureSaved:_onPictureSaved,onResponsiveOrientationChanged:this._onResponsiveOrientationChanged}))},(0,s.A)(Camera)}(a.Component);ie=de,de.Constants={Type:W.Type,FlashMode:W.FlashMode,AutoFocus:W.AutoFocus,WhiteBalance:W.WhiteBalance,VideoQuality:W.VideoQuality,VideoStabilization:W.VideoStabilization||{},VideoCodec:W.VideoCodec},de.ConversionTables=ce,de.defaultProps={zoom:0,ratio:"4:3",focusDepth:0,faceDetectorSettings:{},type:W.Type.back,autoFocus:W.AutoFocus.on,flashMode:W.FlashMode.off,whiteBalance:W.WhiteBalance.auto},de.useCameraPermissions=(0,f.V)({getMethod:ie.getCameraPermissionsAsync,requestMethod:ie.requestCameraPermissionsAsync}),de.useMicrophonePermissions=(0,f.V)({getMethod:ie.getMicrophonePermissionsAsync,requestMethod:ie.requestMicrophonePermissionsAsync});var{Constants:fe,getPermissionsAsync:pe,requestPermissionsAsync:ye,getCameraPermissionsAsync:me,requestCameraPermissionsAsync:ge,getMicrophonePermissionsAsync:he,requestMicrophonePermissionsAsync:Ae}=de,ve=["style","isActive","children","handleScanResult"];function ScanCamera_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ScanCamera_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ScanCamera_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ScanCamera_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ScanCamera(e){var{style:t,isActive:n,children:r,handleScanResult:a}=e,i=(0,q.A)(e,ve);return n?(0,ne.jsx)(de,ScanCamera_objectSpread(ScanCamera_objectSpread({style:t,onBarCodeScanned:function({data:e}){return a?.(e)},barCodeScannerSettings:{barCodeTypes:[b.Constants.BarCodeType.qr]}},i),{},{children:r})):null}function ScanQrCode({handleBarCodeScanned:e,qrWalletScene:t}){var n=(0,x.A)(),o=(0,a.useRef)(void 0),[s,c]=(0,a.useState)(p.W.UNDETERMINED),u=(0,i.jH)(),[l,d]=(0,a.useState)();u&&(o.current=void 0);var f,y=(0,a.useCallback)((f=(0,r.A)((function*(t){if(t&&o.current!==t&&(o.current=t,e)){var{progress:n}=yield e(t);n&&d(n)}})),function(e){return f.apply(this,arguments)}),[e]);return(0,a.useEffect)((function(){return function(){o.current||e?.("")}}),[e]),(0,a.useEffect)((function(){D().then((function({status:e}){if(e!==p.W.GRANTED){var{isExtensionUiPopup:t}=N.Ay;U.Dialog.show({tone:"warning",icon:"ErrorOutline",title:n.formatMessage({id:"modal__camera_access_not_granted"}),description:n.formatMessage({id:t?"msg__approving_camera_permission_needs_to_be_turned_on_in_expand_view":"modal__camera_access_not_granted_desc"}),onConfirmText:n.formatMessage({id:t?"form__expand_view":"action__go_to_settings"}),showCancelButton:!0,showConfirmButton:!0,onConfirm:function(){t?k.Ay.openUrlInTab(k.oz.uiExpandTab).catch(console.error):(0,F.Ow)("camera")}})}c(e)}))}),[n]),s===p.W.GRANTED?(0,ne.jsxs)(ScanCamera,{style:{flex:1},isActive:u,handleScanResult:y,children:[t?(0,ne.jsx)(U.YStack,{fullscreen:!0,children:(0,ne.jsx)(U.BlurView,{flex:1,borderRadius:"$5",contentStyle:{flex:1,borderRadius:"$5"}})}):null,l?(0,ne.jsx)(U.YStack,{fullscreen:!0,justifyContent:"flex-end",alignItems:"flex-end",children:(0,ne.jsx)(U.Stack,{bg:"$blackA9",borderRadius:"$2",mr:"$3",mb:"$3",px:"$2",py:"$1",children:(0,ne.jsx)(U.SizableText,{size:"$bodySmMedium",color:"$whiteA12",children:`Scanning ${(100*l).toFixed(0)}%`})})}):null]}):null}},626665:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ScanQrCodeModal});var r,a,i,o,s,c,u=n(586330),l=n(514041),d=n(728234),f=n(719102),p=n(72631),y=n(324586),m=n(683180),g=n(16706);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}!function(e){e.All="All",e.Videos="Videos",e.Images="Images"}(r||(r={})),function(e){e[e.Passthrough=0]="Passthrough",e[e.LowQuality=1]="LowQuality",e[e.MediumQuality=2]="MediumQuality",e[e.HighestQuality=3]="HighestQuality",e[e.H264_640x480=4]="H264_640x480",e[e.H264_960x540=5]="H264_960x540",e[e.H264_1280x720=6]="H264_1280x720",e[e.H264_1920x1080=7]="H264_1920x1080",e[e.H264_3840x2160=8]="H264_3840x2160",e[e.HEVC_1920x1080=9]="HEVC_1920x1080",e[e.HEVC_3840x2160=10]="HEVC_3840x2160"}(a||(a={})),function(e){e[e.High=0]="High",e[e.Medium=1]="Medium",e[e.Low=2]="Low",e[e.VGA640x480=3]="VGA640x480",e[e.IFrame1280x720=4]="IFrame1280x720",e[e.IFrame960x540=5]="IFrame960x540"}(i||(i={})),function(e){e.FULL_SCREEN="fullScreen",e.PAGE_SHEET="pageSheet",e.FORM_SHEET="formSheet",e.CURRENT_CONTEXT="currentContext",e.OVER_FULL_SCREEN="overFullScreen",e.OVER_CURRENT_CONTEXT="overCurrentContext",e.POPOVER="popover",e.AUTOMATIC="automatic"}(o||(o={})),function(e){e.Automatic="automatic",e.Compatible="compatible",e.Current="current"}(s||(s={})),function(e){e.back="back",e.front="front"}(c||(c={}));var h={[r.All]:"video/mp4,video/quicktime,video/x-m4v,video/*,image/*",[r.Images]:"image/*",[r.Videos]:"video/mp4,video/quicktime,video/x-m4v,video/*"};const A={get name(){return"ExponentImagePicker"},launchImageLibraryAsync:({mediaTypes:e=r.Images,allowsMultipleSelection:t=!1,base64:n=!1})=>(0,u.A)((function*(){return m.A.isDOMAvailable?yield openFileBrowserAsync({mediaTypes:e,allowsMultipleSelection:t,base64:n}):{canceled:!0,assets:null}}))(),launchCameraAsync:({mediaTypes:e=r.Images,allowsMultipleSelection:t=!1,base64:n=!1})=>(0,u.A)((function*(){return m.A.isDOMAvailable?yield openFileBrowserAsync({mediaTypes:e,allowsMultipleSelection:t,capture:!0,base64:n}):{canceled:!0,assets:null}}))(),getCameraPermissionsAsync:()=>(0,u.A)((function*(){return permissionGrantedResponse()}))(),requestCameraPermissionsAsync:()=>(0,u.A)((function*(){return permissionGrantedResponse()}))(),getMediaLibraryPermissionsAsync:e=>(0,u.A)((function*(){return permissionGrantedResponse()}))(),requestMediaLibraryPermissionsAsync:e=>(0,u.A)((function*(){return permissionGrantedResponse()}))()};function permissionGrantedResponse(){return{status:g.W.GRANTED,expires:"never",granted:!0,canAskAgain:!0}}function openFileBrowserAsync({mediaTypes:e,capture:t=!1,allowsMultipleSelection:n=!1,base64:r}){var a=h[e],i=document.createElement("input");return i.style.display="none",i.setAttribute("type","file"),i.setAttribute("accept",a),i.setAttribute("id",String(Math.random())),n&&i.setAttribute("multiple","multiple"),t&&i.setAttribute("capture","camera"),document.body.appendChild(i),new Promise((function(e){i.addEventListener("change",(0,u.A)((function*(){if(i.files){var t=n?i.files:[i.files[0]],a=yield Promise.all(Array.from(t).map((function(e){return function readFile(e,t){return new Promise((function(n,r){var a=new FileReader;a.onerror=function(){r(new Error("Failed to read the selected media because the operation failed."))},a.onload=function({target:e}){var r=e.result,returnRaw=function(){return n({uri:r,width:0,height:0})};if("string"==typeof r){var a=new Image;a.src=r,a.onload=function(){var e,i;n(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,y.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uri:r,width:null!=(e=a.naturalWidth)?e:a.width,height:null!=(i=a.naturalHeight)?i:a.height},t.base64&&{base64:r.substr(r.indexOf(",")+1)}))},a.onerror=function(){return returnRaw()}}else returnRaw()},a.readAsDataURL(e)}))}(e,{base64:r})})));e({canceled:!1,assets:a})}else e({canceled:!0,assets:null});document.body.removeChild(i)})));var t=new MouseEvent("click");i.dispatchEvent(t)}))}function _getCameraPermissionsAsync(){return(_getCameraPermissionsAsync=(0,u.A)((function*(){return A.getCameraPermissionsAsync()}))).apply(this,arguments)}function _getMediaLibraryPermissionsAsync(){return(_getMediaLibraryPermissionsAsync=(0,u.A)((function*(e=!1){return A.getMediaLibraryPermissionsAsync(e)}))).apply(this,arguments)}function _requestCameraPermissionsAsync(){return(_requestCameraPermissionsAsync=(0,u.A)((function*(){return A.requestCameraPermissionsAsync()}))).apply(this,arguments)}function _requestMediaLibraryPermissionsAsync(){return(_requestMediaLibraryPermissionsAsync=(0,u.A)((function*(e=!1){return(0,A.requestMediaLibraryPermissionsAsync)(e)}))).apply(this,arguments)}(0,f.V)({getMethod:function(e){return function getMediaLibraryPermissionsAsync(){return _getMediaLibraryPermissionsAsync.apply(this,arguments)}(e?.writeOnly)},requestMethod:function(e){return function requestMediaLibraryPermissionsAsync(){return _requestMediaLibraryPermissionsAsync.apply(this,arguments)}(e?.writeOnly)}}),(0,f.V)({getMethod:function getCameraPermissionsAsync(){return _getCameraPermissionsAsync.apply(this,arguments)},requestMethod:function requestCameraPermissionsAsync(){return _requestCameraPermissionsAsync.apply(this,arguments)}});function _launchImageLibraryAsync(){return(_launchImageLibraryAsync=(0,u.A)((function*(e){if(!A.launchImageLibraryAsync)throw new p.V("ImagePicker","launchImageLibraryAsync");return e?.allowsEditing&&e.allowsMultipleSelection&&console.warn("[expo-image-picker] `allowsEditing` is not supported when `allowsMultipleSelection` is enabled and will be ignored.Disable either 'allowsEditing' or 'allowsMultipleSelection' in 'launchImageLibraryAsync' to fix this warning."),yield A.launchImageLibraryAsync(null!=e?e:{})}))).apply(this,arguments)}var v=n(908867),_=n(812715),b=n(490343),C=n(972800),w=n(697346),S=n(791088),P=(n(663522),n(498356),n(351574));function _getImageData(){return(_getImageData=(0,u.A)((function*(e){return new Promise((function(t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){var e=n.width||n.naturalWidth||150,r=n.height||n.naturalHeight||150,a=Math.min(960,e),i=r*(a/e),o=document.createElement("canvas");o.width=a,o.height=i;var s=o.getContext("2d");s.drawImage(n,0,0,e,r,0,0,a,i),t(s.getImageData(0,0,a,i))},n.src=e}))}))).apply(this,arguments)}function _scanFromURLAsync(){return _scanFromURLAsync=(0,u.A)((function*(e){var t=yield function getImageData(e){return _getImageData.apply(this,arguments)}(e),{scanImageData:r}=n(166062);return(yield r(t))[0].decode()})),_scanFromURLAsync.apply(this,arguments)}var E=n(831085);n.g.$$scanNavigation=void 0;var R=[{icon:"Copy1Outline",title:"Scan address codes to copy address"},{icon:"WalletOutline",title:"Scan WalletConnect code to connect to sites"}],O=[{icon:"QrCodeOutline",title:"To show your QR code, go to Connect App Wallet > QR Code > OneKey Wallet on your device"}],M=[{icon:"CameraExposureZoomInOutline",title:"If it fails to scan, move closer to the screen and try again"},{icon:"ShieldCheckDoneOutline",title:"We've blurred your screen for security, but it won't affect your scan"}];function ScanQrCodeModalFooter({qrWalletScene:e,showProTutorial:t}){return(0,E.jsx)(b.ListView,{mt:"$5",data:e?[...t?O:[],...M]:R,renderItem:function({item:e}){return(0,E.jsx)(S.c,{p:0,m:0,mt:"$4",icon:e.icon,title:e.title,iconProps:{size:"small"},titleProps:{size:"$bodyMd",color:"$textSubdued",marginTop:"$.5"},ai:"flex-start"})},estimatedItemSize:"$10"})}function ScanQrCodeModal(){var e,t=(0,v.A)(),n=(0,d.lq)(),{callback:r,qrWalletScene:a,showProTutorial:i}=n.params,o=(0,l.useRef)(!1),s=(0,l.useCallback)((0,u.A)((function*(){o.current=!0;var e=yield function launchImageLibraryAsync(e){return _launchImageLibraryAsync.apply(this,arguments)}({base64:!0,allowsMultipleSelection:!1});if(!e.canceled){var t=yield function scanFromURLAsync(e){return _scanFromURLAsync.apply(this,arguments)}(e.assets[0].uri);t&&(o.current=!0,yield r(t))}})),[r]),c=(0,l.useCallback)((e=(0,u.A)((function*(e){return o.current?{}:r(e)})),function(t){return e.apply(this,arguments)}),[r]),f=(0,l.useCallback)((function(){return(0,E.jsx)(b.Page.Close,{children:(0,E.jsx)(C.CD,{mr:"$4"})})}),[]),p=(0,l.useCallback)((function(){return(0,E.jsx)(w.A,{onPress:s,icon:"ImageSquareMountainOutline",testID:"scan-open-photo"})}),[s]),{width:y}=(0,_.A)(),m=y-40;return(0,E.jsxs)(b.Page,{safeAreaEnabled:!1,children:[(0,E.jsx)(b.Page.Header,{title:t.formatMessage({id:"title__scan_qr_code"}),disableClose:!0,headerLeft:f,headerRight:p}),(0,E.jsx)(b.Page.Body,{ai:"center",$gtMd:{jc:"center"},children:(0,E.jsxs)(b.Stack,{flex:1,$md:{width:m,mt:"$5"},$gtMd:{width:250},children:[(0,E.jsx)(b.Stack,{$md:{height:m},$gtMd:{height:250},borderRadius:"$5",overflow:"hidden",children:(0,E.jsx)(P.g,{handleBarCodeScanned:c,qrWalletScene:a})}),(0,E.jsx)(ScanQrCodeModalFooter,{qrWalletScene:a,showProTutorial:i})]})}),null]})}},719102:(e,t,n)=>{"use strict";n.d(t,{V:()=>createPermissionHook});var r=n(586330),a=n(839850),i=n(514041),o=["get","request"];function createPermissionHook(e){return function(t){return function usePermission(e,t){var n=(0,i.useRef)(!0),[s,c]=(0,i.useState)(null),u=t||{},{get:l=!0,request:d=!1}=u,f=(0,a.A)(u,o),p=(0,i.useCallback)((0,r.A)((function*(){var t=yield e.getMethod(Object.keys(f).length>0?f:void 0);return n.current&&c(t),t})),[e.getMethod]),y=(0,i.useCallback)((0,r.A)((function*(){var t=yield e.requestMethod(Object.keys(f).length>0?f:void 0);return n.current&&c(t),t})),[e.requestMethod]);return(0,i.useEffect)((function runMethods(){d&&y(),!d&&l&&p()}),[l,d,y,p]),(0,i.useEffect)((function didMount(){return n.current=!0,function(){n.current=!1}}),[]),[s,y,p]}(e,t)}}},16706:(e,t,n)=>{"use strict";var r;n.d(t,{W:()=>r}),function(e){e.GRANTED="granted",e.UNDETERMINED="undetermined",e.DENIED="denied"}(r||(r={}))},614745:e=>{e.exports={}},486e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CppObject=void 0;t.CppObject=class CppObject{constructor(e,t){this.ptr=e,this.inst=t}checkAlive(){if(!this.ptr)throw Error("Call after destroyed")}getPointer(){return this.checkAlive(),this.ptr}}},565859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;const r=n(486e3),a=n(244292),i=n(21323);class Image extends r.CppObject{static async createFromGrayBuffer(e,t,n,r=0){const a=await(0,i.getInstance)(),o=a.HEAPU8,s=new Uint8Array(n),c=e*t;if(c!==s.byteLength)throw Error("dataBuf does not match width and height");const u=a._malloc(c);o.set(s,u);return new this(a._Image_create(e,t,808466521,u,c,r),a)}static async createFromRGBABuffer(e,t,n,r=0){const a=await(0,i.getInstance)(),o=a.HEAPU8,s=new Uint8Array(n),c=e*t;if(4*c!==s.byteLength)throw Error("dataBuf does not match width and height");const u=a._malloc(c);for(let e=0;e<c;++e){const t=s[4*e],n=s[4*e+1],r=s[4*e+2];o[u+e]=19595*t+38469*n+7472*r>>16}return new this(a._Image_create(e,t,808466521,u,c,r),a)}destroy(){this.checkAlive(),this.inst._Image_destory(this.ptr),this.ptr=0}getSymbols(){this.checkAlive();const e=this.inst._Image_get_symbols(this.ptr);return a.Symbol.createSymbolsFromPtr(e,this.inst.HEAPU8.buffer)}}t.Image=Image},586837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageScanner=void 0;const r=n(486e3),a=n(21323),i=n(244292);class ImageScanner extends r.CppObject{static async create(){const e=await(0,a.getInstance)();return new this(e._ImageScanner_create(),e)}destroy(){this.checkAlive(),this.inst._ImageScanner_destory(this.ptr),this.ptr=0}setConfig(e,t,n){return this.checkAlive(),this.inst._ImageScanner_set_config(this.ptr,e,t,n)}enableCache(e=!0){this.checkAlive(),this.inst._ImageScanner_enable_cache(this.ptr,e)}recycleImage(e){this.checkAlive(),this.inst._ImageScanner_recycle_image(this.ptr,e.getPointer())}getResults(){this.checkAlive();const e=this.inst._ImageScanner_get_results(this.ptr);return i.Symbol.createSymbolsFromPtr(e,this.inst.HEAPU8.buffer)}scan(e){return this.checkAlive(),this.inst._ImageScanner_scan(this.ptr,e.getPointer())}}t.ImageScanner=ImageScanner},244292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Symbol=void 0;const r=n(16537);class TypePointer{constructor(e,t){this.ptr=e,this.ptr32=e>>2,this.buf=t,this.HEAP8=new Int8Array(t),this.HEAPU32=new Uint32Array(t),this.HEAP32=new Int32Array(t)}}class SymbolPtr extends TypePointer{get type(){return this.HEAPU32[this.ptr32]}get data(){const e=this.HEAPU32[this.ptr32+4],t=this.HEAPU32[this.ptr32+5];return Int8Array.from(this.HEAP8.subarray(t,t+e))}get points(){const e=this.HEAPU32[this.ptr32+7],t=this.HEAPU32[this.ptr32+8]>>2,n=[];for(let r=0;r<e;++r){const e=this.HEAP32[t+2*r],a=this.HEAP32[t+2*r+1];n.push({x:e,y:a})}return n}get next(){const e=this.HEAPU32[this.ptr32+11];return e?new SymbolPtr(e,this.buf):null}get time(){return this.HEAPU32[this.ptr32+13]}get cacheCount(){return this.HEAP32[this.ptr32+14]}get quality(){return this.HEAP32[this.ptr32+15]}}class SymbolSetPtr extends TypePointer{get head(){const e=this.HEAPU32[this.ptr32+2];return e?new SymbolPtr(e,this.buf):null}}class Symbol{constructor(e){this.type=e.type,this.typeName=r.ZBarSymbolType[this.type],this.data=e.data,this.points=e.points,this.time=e.time,this.cacheCount=e.cacheCount,this.quality=e.quality}static createSymbolsFromPtr(e,t){if(0==e)return[];let n=new SymbolSetPtr(e,t).head;const r=[];for(;null!==n;)r.push(new Symbol(n)),n=n.next;return r}decode(e){return new TextDecoder(e).decode(this.data)}}t.Symbol=Symbol},16537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZBarConfigType=t.ZBarSymbolType=void 0,function(e){e[e.ZBAR_NONE=0]="ZBAR_NONE",e[e.ZBAR_PARTIAL=1]="ZBAR_PARTIAL",e[e.ZBAR_EAN8=8]="ZBAR_EAN8",e[e.ZBAR_UPCE=9]="ZBAR_UPCE",e[e.ZBAR_ISBN10=10]="ZBAR_ISBN10",e[e.ZBAR_UPCA=12]="ZBAR_UPCA",e[e.ZBAR_EAN13=13]="ZBAR_EAN13",e[e.ZBAR_ISBN13=14]="ZBAR_ISBN13",e[e.ZBAR_I25=25]="ZBAR_I25",e[e.ZBAR_CODE39=39]="ZBAR_CODE39",e[e.ZBAR_PDF417=57]="ZBAR_PDF417",e[e.ZBAR_QRCODE=64]="ZBAR_QRCODE",e[e.ZBAR_CODE128=128]="ZBAR_CODE128",e[e.ZBAR_SYMBOL=255]="ZBAR_SYMBOL",e[e.ZBAR_ADDON2=512]="ZBAR_ADDON2",e[e.ZBAR_ADDON5=1280]="ZBAR_ADDON5",e[e.ZBAR_ADDON=1792]="ZBAR_ADDON"}(t.ZBarSymbolType||(t.ZBarSymbolType={})),function(e){e[e.ZBAR_CFG_ENABLE=0]="ZBAR_CFG_ENABLE",e[e.ZBAR_CFG_ADD_CHECK=1]="ZBAR_CFG_ADD_CHECK",e[e.ZBAR_CFG_EMIT_CHECK=2]="ZBAR_CFG_EMIT_CHECK",e[e.ZBAR_CFG_ASCII=3]="ZBAR_CFG_ASCII",e[e.ZBAR_CFG_NUM=4]="ZBAR_CFG_NUM",e[e.ZBAR_CFG_MIN_LEN=32]="ZBAR_CFG_MIN_LEN",e[e.ZBAR_CFG_MAX_LEN=33]="ZBAR_CFG_MAX_LEN",e[e.ZBAR_CFG_UNCERTAINTY=64]="ZBAR_CFG_UNCERTAINTY",e[e.ZBAR_CFG_POSITION=128]="ZBAR_CFG_POSITION",e[e.ZBAR_CFG_X_DENSITY=256]="ZBAR_CFG_X_DENSITY",e[e.ZBAR_CFG_Y_DENSITY=257]="ZBAR_CFG_Y_DENSITY"}(t.ZBarConfigType||(t.ZBarConfigType={}))},166062:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(565859),t),a(n(586837),t),a(n(218120),t),a(n(244292),t)},21323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInstance=void 0;const r=n(943573);let a=null,i=(async()=>{if(a=await(0,r.loadWasmInstance)({}),!a)throw Error("WASM was not loaded");return a})();t.getInstance=async()=>await i},943573:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadWasmInstance=void 0;const a=r(n(242998)),i=r(n(843703)),locateFile=(e,t)=>("zbar.wasm"!=e&&console.error("Unexpected file:",e),a.default);t.loadWasmInstance=async e=>(e.locateFile=locateFile,await(0,i.default)(e))},218120:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scanImageData=t.scanRGBABuffer=t.scanGrayBuffer=t.getDefaultScanner=void 0;const r=n(565859),a=n(586837).ImageScanner.create();t.getDefaultScanner=async()=>await a;const scanImage=async(e,t)=>{void 0===t&&(t=await a);const n=t.scan(e);if(n<0)throw Error("Scan Failed");return 0===n?[]:e.getSymbols()};t.scanGrayBuffer=async(e,t,n,a)=>{const i=await r.Image.createFromGrayBuffer(t,n,e),o=await scanImage(i,a);return i.destroy(),o};t.scanRGBABuffer=async(e,t,n,a)=>{const i=await r.Image.createFromRGBABuffer(t,n,e),o=await scanImage(i,a);return i.destroy(),o};t.scanImageData=async(e,n)=>await(0,t.scanRGBABuffer)(e.data.buffer,e.width,e.height,n)},843703:(e,t,n)=>{var r,a=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,a,i=void 0!==(e=e||{})?e:{};i.ready=new Promise((function(e,n){t=e,a=n}));var o,s={};for(o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);var c,u,l,d,f,p=[],y="object"==typeof window,m="function"==typeof importScripts,g="object"==typeof{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions&&"string"==typeof{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.versions.node,h="";g?(h=m?n(241297).dirname(h)+"/":"//",c=function shell_read(e,t){return d||(d=n(614745)),f||(f=n(241297)),e=f.normalize(e),d.readFileSync(e,t?null:"utf8")},l=function readBinary(e){var t=c(e,!0);return t.buffer||(t=new Uint8Array(t)),function assert(e,t){e||abort("Assertion failed: "+t)}(t.buffer),t},u=function readAsync(e,t,r){d||(d=n(614745)),f||(f=n(241297)),e=f.normalize(e),d.readFile(e,(function(e,n){e?r(e):t(n.buffer)}))},{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.argv.length>1&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.argv[1].replace(/\\/g,"/"),p={env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.argv.slice(2),{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.on("uncaughtException",(function(e){if(!(e instanceof ExitStatus))throw e})),{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.on("unhandledRejection",(function(e){throw e})),i.inspect=function(){return"[Emscripten Module object]"}):(y||m)&&(m?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),r&&(h=r),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(l=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),u=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var A,v=i.print||console.log.bind(console),_=i.printErr||console.warn.bind(console);for(o in s)s.hasOwnProperty(o)&&(i[o]=s[o]);s=null,i.arguments&&(p=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(A=i.wasmBinary);var b;i.noExitRuntime;"object"!=typeof WebAssembly&&abort("no native wasm support detected");var C,w,S,P=!1,E="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(e,t,n){for(var r=t+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.subarray&&E)return E.decode(e.subarray(t,a));for(var i="";t<a;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var c=63&e[t++];if((o=224==(240&o)?(15&o)<<12|s<<6|c:(7&o)<<18|s<<12|c<<6|63&e[t++])<65536)i+=String.fromCharCode(o);else{var u=o-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&o)<<6|s)}else i+=String.fromCharCode(o)}return i}function updateGlobalBufferAndViews(e){C=e,i.HEAP8=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=S=new Int32Array(e),i.HEAPU8=w=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}i.INITIAL_MEMORY;var R,O=[],M=[],I=[],T=0,j=null,D=null;function abort(e){i.onAbort&&i.onAbort(e),_(e="Aborted("+e+")"),P=!0,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw a(t),t}i.preloadedImages={},i.preloadedAudios={};var B,x,U="data:application/octet-stream;base64,";function isDataURI(e){return e.startsWith(U)}function isFileURI(e){return e.startsWith("file://")}function getBinary(e){try{if(e==B&&A)return new Uint8Array(A);if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?getWasmTableEntry(n)():getWasmTableEntry(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(i)}}function getWasmTableEntry(e){return R.get(e)}function emscripten_realloc_buffer(e){try{return b.grow(e-C.byteLength+65535>>>16),updateGlobalBufferAndViews(b.buffer),1}catch(e){}}isDataURI(B="zbar.wasm")||(B=function locateFile(e){return i.locateFile?i.locateFile(e,h):h+e}(B)),x=g?function(){var e={env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var N,k={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=k.buffers[e];0===t||10===t?((1===e?v:_)(UTF8ArrayToString(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return k.varargs+=4,S[k.varargs-4>>2]},getStr:function(e){var t=function UTF8ToString(e,t){return e?UTF8ArrayToString(w,e,t):""}(e);return t},get64:function(e,t){return e}},F={f:function _clock_gettime(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return function setErrNo(e){return S[q()>>2]=e,e}(28),-1;n=x()}return S[t>>2]=n/1e3|0,S[t+4>>2]=n%1e3*1e3*1e3|0,0},c:function _emscripten_memcpy_big(e,t,n){w.copyWithin(e,t,t+n)},d:function _emscripten_resize_heap(e){var t,n,r=w.length,a=2147483648;if((e>>>=0)>a)return!1;for(var i=1;i<=4;i*=2){var o=r*(1+.2/i);if(o=Math.min(o,e+100663296),emscripten_realloc_buffer(Math.min(a,((t=Math.max(e,o))%(n=65536)>0&&(t+=n-t%n),t))))return!0}return!1},e:function _fd_close(e){return 0},b:function _fd_seek(e,t,n,r,a){},a:function _fd_write(e,t,n,r){for(var a=0,i=0;i<n;i++){var o=S[t>>2],s=S[t+4>>2];t+=8;for(var c=0;c<s;c++)k.printChar(e,w[o+c]);a+=s}return S[r>>2]=a,0}},q=(function createWasm(){var e={a:F};function receiveInstance(e,t){var n=e.exports;i.asm=n,updateGlobalBufferAndViews((b=i.asm.g).buffer),R=i.asm.s,function addOnInit(e){M.unshift(e)}(i.asm.h),function removeRunDependency(e){if(T--,i.monitorRunDependencies&&i.monitorRunDependencies(T),0==T&&(null!==j&&(clearInterval(j),j=null),D)){var t=D;D=null,t()}}()}function receiveInstantiationResult(e){receiveInstance(e.instance)}function instantiateArrayBuffer(t){return function getBinaryPromise(){if(!A&&(y||m)){if("function"==typeof fetch&&!isFileURI(B))return fetch(B,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+B+"'";return e.arrayBuffer()})).catch((function(){return getBinary(B)}));if(u)return new Promise((function(e,t){u(B,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return getBinary(B)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){_("failed to asynchronously prepare wasm: "+e),abort(e)}))}if(function addRunDependency(e){T++,i.monitorRunDependencies&&i.monitorRunDependencies(T)}(),i.instantiateWasm)try{return i.instantiateWasm(e,receiveInstance)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}return function instantiateAsync(){return A||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(B)||isFileURI(B)||"function"!=typeof fetch?instantiateArrayBuffer(receiveInstantiationResult):fetch(B,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(receiveInstantiationResult,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(receiveInstantiationResult)}))}))}().catch(a),{}}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.h).apply(null,arguments)},i._ImageScanner_create=function(){return(i._ImageScanner_create=i.asm.i).apply(null,arguments)},i._ImageScanner_destory=function(){return(i._ImageScanner_destory=i.asm.j).apply(null,arguments)},i._ImageScanner_set_config=function(){return(i._ImageScanner_set_config=i.asm.k).apply(null,arguments)},i._ImageScanner_enable_cache=function(){return(i._ImageScanner_enable_cache=i.asm.l).apply(null,arguments)},i._ImageScanner_recycle_image=function(){return(i._ImageScanner_recycle_image=i.asm.m).apply(null,arguments)},i._ImageScanner_get_results=function(){return(i._ImageScanner_get_results=i.asm.n).apply(null,arguments)},i._ImageScanner_scan=function(){return(i._ImageScanner_scan=i.asm.o).apply(null,arguments)},i._Image_create=function(){return(i._Image_create=i.asm.p).apply(null,arguments)},i._Image_destory=function(){return(i._Image_destory=i.asm.q).apply(null,arguments)},i._Image_get_symbols=function(){return(i._Image_get_symbols=i.asm.r).apply(null,arguments)},i.___errno_location=function(){return(q=i.___errno_location=i.asm.t).apply(null,arguments)});function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function doRun(){N||(N=!0,i.calledRun=!0,P||(function initRuntime(){callRuntimeCallbacks(M)}(),t(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function postRun(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),I.unshift(e);var e;callRuntimeCallbacks(I)}()))}e=e||p,T>0||(function preRun(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),O.unshift(e);var e;callRuntimeCallbacks(O)}(),T>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),doRun()}),1)):doRun()))}if(i._free=function(){return(i._free=i.asm.u).apply(null,arguments)},i._malloc=function(){return(i._malloc=i.asm.v).apply(null,arguments)},D=function runCaller(){N||run(),N||(D=runCaller)},i.run=run,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return run(),e.ready});e.exports=a},242998:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/zbar.wasm.235eff51d7a9ded7a612.bin"},241297:()=>{}}]);