(self.webpackChunkweb=self.webpackChunkweb||[]).push([[95351],{597194:(e,t,n)=>{"use strict";n.d(t,{g:()=>g});var r=n(586330),i=n(230414),o=n(929296),a=n(195309),s=n(972715),u=n(507140),c=n(583354);function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,s.A)(e);if(t){var i=(0,s.A)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.A)(this,n)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var g=function(e){(0,o.A)(KeyringExternalBase,e);var t=_createSuper(KeyringExternalBase);function KeyringExternalBase(...e){var n;return(n=t.call(this,...e)).keyringType=c.U.external,n}var n,a,s,g=KeyringExternalBase.prototype;return g.baseSignMessageByExternalWallet=(n=(0,r.A)((function*(e){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params:e})})),function baseSignMessageByExternalWallet(e){return n.apply(this,arguments)}),g.baseSendTransactionByExternalWallet=(a=(0,r.A)((function*(e){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params:e})})),function baseSendTransactionByExternalWallet(e){return a.apply(this,arguments)}),g.prepareAccounts=function prepareAccounts(e){throw new u.He("prepareAccounts is not supported for external accounts, use serviceAccount directly")},g.basePrepareExternalAccounts=(s=(0,r.A)((function*(e){return[]})),function basePrepareExternalAccounts(e){return s.apply(this,arguments)}),(0,i.A)(KeyringExternalBase)}(n(959341).L)},495351:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(324586),i=n(603514),o=n.n(i),a=n(586330),s=n(230414),u=n(929296),c=n(195309),g=n(972715),l=n(241440),d=n(814878),f=n(507140),p=n(232471),h=n(34344);function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,g.A)(e);if(t){var i=(0,g.A)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.A)(this,n)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var v=function(e){(0,u.A)(KeyringExternal,e);var t=_createSuper(KeyringExternal);function KeyringExternal(){return t.apply(this,arguments)}var n=KeyringExternal.prototype;return n.signMessage=function signMessage(e){throw new f.MS},n.signTransaction=function signTransaction(e){throw new f.MS},(0,s.A)(KeyringExternal)}(n(597194).g),y=n(750918),w=n(514527),I=n(825145),_=n(424754),B=n(64238),A=n(89729),m=n(967644),b=185,x=29,S=52;function encodeVarInt(e){for(var t=new m.BigInteger(e),n="";t.compare(128)>=0;)n+=`0${(127&t.lowVal()|128).toString(16)}`.slice(-2),t=t.divide(new m.BigInteger(2).pow(7));return n+=`0${t.toJSValue().toString(16)}`.slice(-2)}function cnFastHash(e){if(e.length%2!=0||!function validHex(e){return new RegExp(`[0-9a-fA-F]{${e.length}}`).test(e)}(e))throw new Error("Input invalid");return(0,A.S)(function hexToBin(e){if(e.length%2!=0)throw new Error("Hex string has invalid length!");for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(e.slice(2*n,2*n+2),16);return t}(e))}function cnBase58Decode(e){for(var t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n=[],r=0;r<58;r+=1)n.push(t.charCodeAt(r));var i=[0,2,3,5,6,7,9,10,11],o=n.length,a=11,s=new l.A(2).pow(64),decodeBlock=function(e,t,r){if(e.length<1||e.length>a)throw new Error(`Invalid block length: ${e.length}`);var u=i.indexOf(e.length);if(u<=0)throw new Error("Invalid block size");for(var c=new l.A(0),g=new l.A(1),d=e.length-1;d>=0;d-=1){var f=n.indexOf(e[d]);if(f<0)throw new Error("Invalid symbol");var p=g.multipliedBy(f).plus(c);if(1===p.comparedTo(s))throw new Error("Overflow");c=p,g=g.multipliedBy(o)}if(u<8&&new l.A(2).pow(8*u).comparedTo(c)<=0)throw new Error("Overflow 2");return t.set(function uint64To8be(e,t){var n=new l.A(e),r=new Uint8Array(t);if(t<1||t>8)throw new Error("Invalid input length");for(var i=new l.A(2).pow(8),o=t-1;o>=0;o-=1)r[o]=n.mod(i).toNumber(),n=n.dividedToIntegerBy(i);return r}(c,u),r),t},u=function strToBin(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t}(e);if(0===u.length)return"";var c=Math.floor(u.length/a),g=u.length%a,d=i.indexOf(g);if(d<0)throw new Error("Invalid encoded length");for(var f=new Uint8Array(8*c+d),p=0;p<c;p+=1)decodeBlock(u.subarray(p*a,p*a+a),f,8*p);return g>0&&decodeBlock(u.subarray(c*a,c*a+g),f,8*c),function binToHex(e){for(var t=[],n=0;n<e.length;n+=1)t.push(`0${e[n].toString(16)}`.slice(-2));return t.join("")}(f)}function decodeAddress(e){var t=cnBase58Decode(e),n=encodeVarInt(b),r=encodeVarInt(x),i=encodeVarInt(S),o=t.slice(0,n.length);if(o!==n&&o!==r&&o!==i)throw new Error("Invalid address prefix");return{spend:(t=t.slice(n.length)).slice(0,64),view:t.slice(64,128)}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KeyringHardware_createSuper(e){var t=KeyringHardware_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,g.A)(e);if(t){var i=(0,g.A)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.A)(this,n)}}function KeyringHardware_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KeyringHardware_isNativeReflectConstruct=function(){return!!e})()}var K=function(e){(0,u.A)(KeyringHardware,e);var t=KeyringHardware_createSuper(KeyringHardware);function KeyringHardware(...e){var n;return(n=t.call(this,...e)).coreApi=y.A.dnx.hd,n}var n,r=KeyringHardware.prototype;return r.prepareAccounts=function prepareAccounts(e){var t,n=this;return this.basePrepareHdNormalAccounts(e,{buildAddressesInfo:(t=(0,a.A)((function*({usedIndexes:t}){for(var r,i=yield n.baseGetDeviceAccountAddresses({params:e,usedIndexes:t,sdkGetAddressFn:(r=(0,a.A)((function*({connectId:r,deviceId:i,pathPrefix:o,pathSuffix:a,showOnOnekeyFn:s}){var u=yield n.getHardwareSDKInstance();return yield u.dnxGetAddress(r,i,_objectSpread(_objectSpread({},e.deviceParams.deviceCommonParams),{},{bundle:t.map((function(e,t){return{path:`${o}/${a.replace("{index}",`${e}`)}`,showOnOneKey:s(t)}}))}))})),function sdkGetAddressFn(e){return r.apply(this,arguments)})}),o=[],s=0;s<i.length;s+=1){var u=i[s],{path:c,address:g}=u,l={address:null!=g?g:"",publicKey:"",path:c,relPath:"0/0",xpub:"",addresses:{"0/0":null!=g?g:""}};o.push(l)}return o})),function buildAddressesInfo(e){return t.apply(this,arguments)})})},r.signTransaction=(n=(0,a.A)((function*(e){var{unsignedTx:t,deviceParams:n}=e,r=yield this.getNetwork(),i=t.encodedTx,o=yield this.getHardwareSDKInstance(),s=yield this.vault.getAccountPath(),{deviceCommonParams:u,dbDevice:c}=(0,I.wT)(n),{connectId:g,deviceId:d}=c,f={path:s,inputs:i.inputs,toAddress:i.to,amount:new l.A(i.amount).shiftedBy(r.decimals).toFixed(),fee:new l.A(i.fee).shiftedBy(r.feeMeta.decimals).toFixed(),paymentIdHex:i.paymentId},p=yield(0,w.bL)((0,a.A)((function*(){return o.dnxSignTransaction(g,d,_objectSpread(_objectSpread({},f),u))}))),h=function serializeTransaction({signTxParams:e,encodedTx:t,payload:n}){var r="",{txKey:i,computedKeyImages:o,signatures:a,outputKeys:s}=n,u=decodeAddress(t.from),c=decodeAddress(t.to),g=e.inputs.reduce((function(e,t){return e.plus(t.amount)}),new l.A(0)),d=g.minus(e.amount).minus(e.fee);r+="01",r+="00",r+=encodeVarInt(e.inputs.length);for(var f=0;f<e.inputs.length;f+=1){var p=e.inputs[f];r+="02",r+=encodeVarInt(p.amount),r+=encodeVarInt(1),r+=encodeVarInt(p.globalIndex),r+=o[f]}r+=encodeVarInt(s.length);for(var h=0;h<s.length;h+=1){var v=s[h];r+=encodeVarInt(h===s.length-1&&d.gt(0)?d.toNumber():Number(e.amount)),r+="02",r+=v}var y="";for(var w of(e.paymentIdHex&&(y+="02",y+="21",y+="00",y+=e.paymentIdHex),y+="01",y+=i.ephemeralTxPubKey,y+="04",y+=u.spend,y+=u.view,y+="05",y+=c.spend,y+=c.view,y+="06",y+=function integerToLittleEndianHex({number:e,bytes:t}){var n,r=e.toString(16);for(r.length%2!=0&&(r=`0${r}`);r.length/2<t;)r=`00${r}`;return(null!=(n=r.match(/.{2}/g))?n:[]).reverse().join("")}({number:Number(e.amount),bytes:8}),y+="07",r+=encodeVarInt((y+=i.ephemeralTxSecKey).length/2),r+=y,a))r+=w;return r}({encodedTx:i,signTxParams:f,payload:p});return{txid:_.A.stripHexPrefix(cnFastHash(h)),rawTx:h,encodedTx:t.encodedTx}})),function signTransaction(e){return n.apply(this,arguments)}),r.signMessage=function signMessage(e){throw new f.MS},(0,s.A)(KeyringHardware)}(B.V);function KeyringHd_createSuper(e){var t=KeyringHd_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,g.A)(e);if(t){var i=(0,g.A)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.A)(this,n)}}function KeyringHd_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KeyringHd_isNativeReflectConstruct=function(){return!!e})()}var O=function(e){(0,u.A)(KeyringHd,e);var t=KeyringHd_createSuper(KeyringHd);function KeyringHd(...e){var n;return(n=t.call(this,...e)).coreApi=y.A.dnx.hd,n}var n,r,i,o,c=KeyringHd.prototype;return c.getPrivateKeys=(n=(0,a.A)((function*(){throw new f.MS("Method not implemented")})),function getPrivateKeys(){return n.apply(this,arguments)}),c.prepareAccounts=(r=(0,a.A)((function*(){throw new f.MS("Method not implemented")})),function prepareAccounts(){return r.apply(this,arguments)}),c.signTransaction=(i=(0,a.A)((function*(){throw new f.MS("Method not implemented")})),function signTransaction(){return i.apply(this,arguments)}),c.signMessage=(o=(0,a.A)((function*(){throw new f.MS("Method not implemented")})),function signMessage(){return o.apply(this,arguments)}),(0,s.A)(KeyringHd)}(n(129441).R);function KeyringImported_createSuper(e){var t=KeyringImported_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,g.A)(e);if(t){var i=(0,g.A)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.A)(this,n)}}function KeyringImported_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KeyringImported_isNativeReflectConstruct=function(){return!!e})()}var T=function(e){(0,u.A)(KeyringImported,e);var t=KeyringImported_createSuper(KeyringImported);function KeyringImported(...e){var n;return(n=t.call(this,...e)).coreApi=y.A.dnx.imported,n}var n,r,i,o,c=KeyringImported.prototype;return c.getPrivateKeys=(n=(0,a.A)((function*(){throw new f.MS("Method not implemented")})),function getPrivateKeys(){return n.apply(this,arguments)}),c.prepareAccounts=(r=(0,a.A)((function*(){throw new f.MS("Method not implemented")})),function prepareAccounts(){return r.apply(this,arguments)}),c.signTransaction=(i=(0,a.A)((function*(){throw new f.MS("Method not implemented")})),function signTransaction(){return i.apply(this,arguments)}),c.signMessage=(o=(0,a.A)((function*(){throw new f.MS("Method not implemented")})),function signMessage(){return o.apply(this,arguments)}),(0,s.A)(KeyringImported)}(n(275061).V);function KeyringQr_createSuper(e){var t=KeyringQr_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,g.A)(e);if(t){var i=(0,g.A)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.A)(this,n)}}function KeyringQr_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KeyringQr_isNativeReflectConstruct=function(){return!!e})()}var E=function(e){(0,u.A)(KeyringQr,e);var t=KeyringQr_createSuper(KeyringQr);function KeyringQr(...e){var n;return(n=t.call(this,...e)).coreApi=void 0,n}var n,r=KeyringQr.prototype;return r.signTransaction=function signTransaction(e){throw new f.MS},r.signMessage=function signMessage(e){throw new f.MS},r.prepareAccounts=(n=(0,a.A)((function*(e){throw new f.MS})),function prepareAccounts(e){return n.apply(this,arguments)}),(0,s.A)(KeyringQr)}(n(832818).W),R=n(85018);function KeyringWatching_createSuper(e){var t=KeyringWatching_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,g.A)(e);if(t){var i=(0,g.A)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.A)(this,n)}}function KeyringWatching_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KeyringWatching_isNativeReflectConstruct=function(){return!!e})()}var M=function(e){(0,u.A)(KeyringWatching,e);var t,n=KeyringWatching_createSuper(KeyringWatching);function KeyringWatching(){return n.apply(this,arguments)}return KeyringWatching.prototype.prepareAccounts=(t=(0,a.A)((function*(e){return(0,R.A)((0,g.A)(KeyringWatching.prototype),"basePrepareSimpleWatchingAccounts",this).call(this,e)})),function prepareAccounts(e){return t.apply(this,arguments)}),(0,s.A)(KeyringWatching)}(n(7440).w);function Vault_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vault_createSuper(e){var t=Vault_isNativeReflectConstruct();return function _createSuperInternal(){var n,r=(0,g.A)(e);if(t){var i=(0,g.A)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.A)(this,n)}}function Vault_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vault_isNativeReflectConstruct=function(){return!!e})()}var P=1e6,k=function(e){(0,u.A)(Vault,e);var t=Vault_createSuper(Vault);function Vault(...e){var n;return(n=t.call(this,...e)).keyringMap={hd:O,qr:E,hw:K,imported:T,watching:M,external:v},n}var n,i,c,g,h,y,w=Vault.prototype;return w.buildAccountAddressDetail=(n=(0,a.A)((function*(e){var{account:t,networkId:n}=e,{address:r}=t;return{networkId:n,normalizedAddress:r,displayAddress:r,address:r,baseAddress:r,isValid:!0,allowEmptyAddress:!1}})),function buildAccountAddressDetail(e){return n.apply(this,arguments)}),w.buildEncodedTx=function buildEncodedTx(e){var{transfersInfo:t}=e;if(t&&!o()(t)){if(1===t.length)return this._buildEncodedTxFromTransfer({transferInfo:t[0]});throw new f.He("Batch transfers not supported")}throw new f.He},w._buildEncodedTxFromTransfer=(i=(0,a.A)((function*(e){var{transferInfo:t}=e,{tokenInfo:n}=t;if(!t.to)throw new Error("buildEncodedTx ERROR: transferInfo.to is missing");if(!n)throw new Error("buildEncodedTx ERROR: transferInfo.tokenInfo is missing");var r=yield this.getNetwork(),i=yield this._collectUnspentOutputs(),{inputs:o,finalAmount:a}=this._collectInputs({unspentOutputs:Object.values(i),amount:new l.A(t.amount).shiftedBy(r.decimals).toFixed(),fee:new l.A(P).toFixed()});return{from:t.from,to:t.to,amount:new l.A(a).shiftedBy(-r.decimals).toFixed(),paymentId:t.paymentId,fee:new l.A(P).shiftedBy(-r.feeMeta.decimals).toFixed(),inputs:o}})),function _buildEncodedTxFromTransfer(e){return i.apply(this,arguments)}),w._collectUnspentOutputs=(c=(0,a.A)((function*(){return{}})),function _collectUnspentOutputs(){return c.apply(this,arguments)}),w._collectInputs=function _collectInputs({unspentOutputs:e,amount:t,fee:n}){var i,o=new l.A(t),a=e.reduce((function(e,t){return e.plus(t.amount)}),new l.A(0));if(a.lte(n))throw new f.c4;a.lt(new l.A(o).plus(n))&&(o=a.minus(n));var s=e.map((function(e){return function Vault_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vault_ownKeys(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vault_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({txId:"",vout:0,value:e.amount,address:"",path:""},e)})),u=[{address:"",value:o.plus(n).toNumber()}],{inputs:c}=(0,d.qk)({inputsForCoinSelect:s,outputsForCoinSelect:u,feeRate:"0"});return{finalAmount:o.toFixed(),inputs:null!=(i=c?.map((function(e){var t=e;return{globalIndex:t.globalIndex,prevIndex:t.prevIndex,prevOutPubkey:t.prevOutPubkey,txPubkey:t.txPubkey,amount:t.amount}})))?i:[]}},w.buildDecodedTx=(g=(0,a.A)((function*(e){var t,{unsignedTx:n}=e,r=n.encodedTx,i=yield this.getAccountAddress(),o=yield this.backgroundApi.serviceToken.getNativeToken({networkId:this.networkId,accountAddress:i}),a={from:r.from,to:r.to,tokenIdOnNetwork:o.address,icon:null!=(t=o.logoURI)?t:"",name:o.name,symbol:o.symbol,amount:r.amount,isNFT:!1,isNative:!0},s=yield this.buildTxTransferAssetAction({from:a.from,to:a.to,transfers:[a]});return{txid:"",owner:i,signer:r.from||i,nonce:0,actions:[s],status:p.Y1.Pending,networkId:this.networkId,accountId:this.accountId,encodedTx:r,extraInfo:null}})),function buildDecodedTx(e){return g.apply(this,arguments)}),w.buildUnsignedTx=(h=(0,a.A)((function*(e){var t,n=null!=(t=e.encodedTx)?t:yield this.buildEncodedTx(e);if(n)return this._buildUnsignedTxFromEncodedTx(n);throw new f.He})),function buildUnsignedTx(e){return h.apply(this,arguments)}),w._buildUnsignedTxFromEncodedTx=(y=(0,a.A)((function*(e){return{encodedTx:e}})),function _buildUnsignedTxFromEncodedTx(e){return y.apply(this,arguments)}),w.updateUnsignedTx=function updateUnsignedTx(e){return Promise.resolve(e.unsignedTx)},w.validateAddress=function validateAddress(e){throw new f.MS},w.validateXpub=function validateXpub(e){throw new f.MS},w.getPrivateKeyFromImported=function getPrivateKeyFromImported(e){throw new f.MS},w.validateXprvt=function validateXprvt(e){throw new f.MS},w.validatePrivateKey=function validatePrivateKey(e){throw new f.MS},w.validateGeneralInput=function validateGeneralInput(e){throw new f.MS},(0,s.A)(Vault)}(h.S)},967644:(e,t)=>{!function(e){"use strict";var t={};function BigInteger(e,n,i){if(i!==t)return e instanceof BigInteger?e:void 0===e?r:BigInteger.parse(e);for(e=e||[];e.length&&!e[e.length-1];)--e.length;this._d=e,this._s=e.length?n||1:0}BigInteger._construct=function(e,n){return new BigInteger(e,n,t)};var n=1e7;BigInteger.base=n,BigInteger.base_log10=7;var r=new BigInteger([],0,t);BigInteger.ZERO=r;var i=new BigInteger([1],1,t);BigInteger.ONE=i;var o=new BigInteger(i._d,-1,t);BigInteger.M_ONE=o,BigInteger._0=r,BigInteger._1=i,BigInteger.small=[r,i,new BigInteger([2],1,t),new BigInteger([3],1,t),new BigInteger([4],1,t),new BigInteger([5],1,t),new BigInteger([6],1,t),new BigInteger([7],1,t),new BigInteger([8],1,t),new BigInteger([9],1,t),new BigInteger([10],1,t),new BigInteger([11],1,t),new BigInteger([12],1,t),new BigInteger([13],1,t),new BigInteger([14],1,t),new BigInteger([15],1,t),new BigInteger([16],1,t),new BigInteger([17],1,t),new BigInteger([18],1,t),new BigInteger([19],1,t),new BigInteger([20],1,t),new BigInteger([21],1,t),new BigInteger([22],1,t),new BigInteger([23],1,t),new BigInteger([24],1,t),new BigInteger([25],1,t),new BigInteger([26],1,t),new BigInteger([27],1,t),new BigInteger([28],1,t),new BigInteger([29],1,t),new BigInteger([30],1,t),new BigInteger([31],1,t),new BigInteger([32],1,t),new BigInteger([33],1,t),new BigInteger([34],1,t),new BigInteger([35],1,t),new BigInteger([36],1,t)],BigInteger.digits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),BigInteger.prototype.toString=function(e){if((e=+e||10)<2||e>36)throw new Error("illegal radix "+e+".");if(0===this._s)return"0";if(10===e){var t=this._s<0?"-":"";t+=this._d[this._d.length-1].toString();for(var n=this._d.length-2;n>=0;n--){for(var r=this._d[n].toString();r.length<7;)r="0"+r;t+=r}return t}var i=BigInteger.digits;e=BigInteger.small[e];for(var o,a=this._s,s=this.abs(),u=[];0!==s._s;){var c=s.divRem(e);s=c[0],o=c[1],u.push(i[o.valueOf()])}return(a<0?"-":"")+u.reverse().join("")},BigInteger.radixRegex=[/^$/,/^$/,/^[01]*$/,/^[012]*$/,/^[0-3]*$/,/^[0-4]*$/,/^[0-5]*$/,/^[0-6]*$/,/^[0-7]*$/,/^[0-8]*$/,/^[0-9]*$/,/^[0-9aA]*$/,/^[0-9abAB]*$/,/^[0-9abcABC]*$/,/^[0-9a-dA-D]*$/,/^[0-9a-eA-E]*$/,/^[0-9a-fA-F]*$/,/^[0-9a-gA-G]*$/,/^[0-9a-hA-H]*$/,/^[0-9a-iA-I]*$/,/^[0-9a-jA-J]*$/,/^[0-9a-kA-K]*$/,/^[0-9a-lA-L]*$/,/^[0-9a-mA-M]*$/,/^[0-9a-nA-N]*$/,/^[0-9a-oA-O]*$/,/^[0-9a-pA-P]*$/,/^[0-9a-qA-Q]*$/,/^[0-9a-rA-R]*$/,/^[0-9a-sA-S]*$/,/^[0-9a-tA-T]*$/,/^[0-9a-uA-U]*$/,/^[0-9a-vA-V]*$/,/^[0-9a-wA-W]*$/,/^[0-9a-xA-X]*$/,/^[0-9a-yA-Y]*$/,/^[0-9a-zA-Z]*$/],BigInteger.parse=function(e,n){var i;e=e.toString(),void 0!==n&&10!=+n||(e=function expandExponential(e){return(e=e.replace(/\s*[*xX]\s*10\s*(\^|\*\*)\s*/,"e")).replace(/^([+\-])?(\d+)\.?(\d*)[eE]([+\-]?\d+)$/,(function(e,t,n,r,i){var o=(i=+i)<0,a=n.length+i;e=(o?n:r).length,i=(i=Math.abs(i))>=e?i-e+o:0;var s=new Array(i+1).join("0"),u=n+r;return(t||"")+(o?u=s+u:u+=s).substr(0,a+=o?s.length:0)+(a<u.length?"."+u.substr(a):"")}))}(e)),i=void 0===n?"0[xcb]":16==n?"0x":8==n?"0c":2==n?"0b":"";var o=new RegExp("^([+\\-]?)("+i+")?([0-9a-z]*)(?:\\.\\d*)?$","i").exec(e);if(o){var a=o[1]||"+",s=o[2]||"",u=o[3]||"";if(void 0===n)n="0x"===s||"0X"===s?16:"0c"===s||"0C"===s?8:"0b"===s||"0B"===s?2:10;else if(n<2||n>36)throw new Error("Illegal radix "+n+".");if(n=+n,!BigInteger.radixRegex[n].test(u))throw new Error("Bad digit for radix "+n);if(0===(u=u.replace(/^0+/,"").split("")).length)return r;if(a="-"===a?-1:1,10==n){for(var c=[];u.length>=7;)c.push(parseInt(u.splice(u.length-BigInteger.base_log10,BigInteger.base_log10).join(""),10));return c.push(parseInt(u.join(""),10)),new BigInteger(c,a,t)}c=r;n=BigInteger.small[n];for(var g=BigInteger.small,l=0;l<u.length;l++)c=c.multiply(n).add(g[parseInt(u[l],36)]);return new BigInteger(c._d,a,t)}throw new Error("Invalid BigInteger format: "+e)},BigInteger.prototype.add=function(e){if(0===this._s)return BigInteger(e);if(0===(e=BigInteger(e))._s)return this;if(this._s!==e._s)return e=e.negate(),this.subtract(e);for(var r,i=this._d,o=e._d,a=i.length,s=o.length,u=new Array(Math.max(a,s)+1),c=Math.min(a,s),g=0,l=0;l<c;l++)r=i[l]+o[l]+g,u[l]=r%n,g=r/n|0;for(s>a&&(i=o,a=s),l=c;g&&l<a;l++)r=i[l]+g,u[l]=r%n,g=r/n|0;for(g&&(u[l]=g);l<a;l++)u[l]=i[l];return new BigInteger(u,this._s,t)},BigInteger.prototype.negate=function(){return new BigInteger(this._d,0|-this._s,t)},BigInteger.prototype.abs=function(){return this._s<0?this.negate():this},BigInteger.prototype.subtract=function(e){if(0===this._s)return BigInteger(e).negate();if(0===(e=BigInteger(e))._s)return this;if(this._s!==e._s)return e=e.negate(),this.add(e);var i=this;this._s<0&&(i=new BigInteger(e._d,1,t),e=new BigInteger(this._d,1,t));var o=i.compareAbs(e);if(0===o)return r;if(o<0){var a=e;e=i,i=a}var s,u,c=i._d,g=e._d,l=c.length,d=g.length,f=new Array(l),p=0;for(s=0;s<d;s++)(u=c[s]-p-g[s])<0?(u+=n,p=1):p=0,f[s]=u;for(s=d;s<l;s++){if(!((u=c[s]-p)<0)){f[s++]=u;break}u+=n,f[s]=u}for(;s<l;s++)f[s]=c[s];return new BigInteger(f,o,t)},function(){function addOne(e,r){for(var i=e._d,o=i.slice(),a=0;;){var s=(i[a]||0)+1;if(o[a]=s%n,s<=9999999)break;++a}return new BigInteger(o,r,t)}function subtractOne(e,r){for(var i=e._d,o=i.slice(),a=0;;){var s=(i[a]||0)-1;if(!(s<0)){o[a]=s;break}o[a]=s+n,++a}return new BigInteger(o,r,t)}BigInteger.prototype.next=function(){switch(this._s){case 0:return i;case-1:return subtractOne(this,-1);default:return addOne(this,1)}},BigInteger.prototype.prev=function(){switch(this._s){case 0:return o;case-1:return addOne(this,-1);default:return subtractOne(this,1)}}}(),BigInteger.prototype.compareAbs=function(e){if(this===e)return 0;if(!(e instanceof BigInteger)){if(!isFinite(e))return isNaN(e)?e:-1;e=BigInteger(e)}if(0===this._s)return 0!==e._s?-1:0;if(0===e._s)return 1;var t=this._d.length,n=e._d.length;if(t<n)return-1;if(t>n)return 1;for(var r=this._d,i=e._d,o=t-1;o>=0;o--)if(r[o]!==i[o])return r[o]<i[o]?-1:1;return 0},BigInteger.prototype.compare=function(e){return this===e?0:(e=BigInteger(e),0===this._s?-e._s:this._s===e._s?this.compareAbs(e)*this._s:this._s)},BigInteger.prototype.isUnit=function(){return this===i||this===o||1===this._d.length&&1===this._d[0]},BigInteger.prototype.multiply=function(e){if(0===this._s)return r;if(0===(e=BigInteger(e))._s)return r;if(this.isUnit())return this._s<0?e.negate():e;if(e.isUnit())return e._s<0?this.negate():this;if(this===e)return this.square();var i,o=this._d.length>=e._d.length,a=(o?this:e)._d,s=(o?e:this)._d,u=a.length,c=s.length,g=u+c,l=new Array(g);for(i=0;i<g;i++)l[i]=0;for(i=0;i<c;i++){for(var d,f=0,p=s[i],h=u+i,v=i;v<h;v++)f=(d=l[v]+p*a[v-i]+f)/n|0,l[v]=d%n|0;f&&(f=(d=l[v]+f)/n|0,l[v]=d%n)}return new BigInteger(l,this._s*e._s,t)},BigInteger.prototype.multiplySingleDigit=function(e){if(0===e||0===this._s)return r;if(1===e)return this;var i;if(1===this._d.length)return new BigInteger((i=this._d[0]*e)>=n?[i%n|0,i/n|0]:[i],1,t);if(2===e)return this.add(this);if(this.isUnit())return new BigInteger([e],1,t);for(var o=this._d,a=o.length,s=a+1,u=new Array(s),c=0;c<s;c++)u[c]=0;for(var g=0,l=0;l<a;l++)g=(i=e*o[l]+g)/n|0,u[l]=i%n|0;return g&&(u[l]=g),new BigInteger(u,1,t)},BigInteger.prototype.square=function(){if(0===this._s)return r;if(this.isUnit())return i;var e,o,a,s,u=this._d,c=u.length,g=new Array(c+c+1);for(s=0;s<c;s++)a=2*s,o=(e=u[s]*u[s])/n|0,g[a]=e%n,g[a+1]=o;for(s=0;s<c;s++){o=0,a=2*s+1;for(var l=s+1;l<c;l++,a++)o=(e=u[l]*u[s]*2+g[a]+o)/n|0,g[a]=e%n;var d=o+g[a=c+s];o=d/n|0,g[a]=d%n,g[a+1]+=o}return new BigInteger(g,1,t)},BigInteger.prototype.quotient=function(e){return this.divRem(e)[0]},BigInteger.prototype.divide=BigInteger.prototype.quotient,BigInteger.prototype.remainder=function(e){return this.divRem(e)[1]},BigInteger.prototype.divRem=function(e){if(0===(e=BigInteger(e))._s)throw new Error("Divide by zero");if(0===this._s)return[r,r];if(1===e._d.length)return this.divRemSmall(e._s*e._d[0]);switch(this.compareAbs(e)){case 0:return[this._s===e._s?i:o,r];case-1:return[r,this]}var a,s=this._s*e._s,u=e.abs(),c=this._d,g=c.length,l=(e._d.length,[]),d=new BigInteger([],0,t);for(d._s=1;g;)if(d._d.unshift(c[--g]),d.compareAbs(e)<0)l.push(0);else{if(0===d._s)a=0;else{var f=d._d.length,p=u._d.length,h=d._d[f-1]*n+d._d[f-2],v=u._d[p-1]*n+u._d[p-2];d._d.length>u._d.length&&(h=(h+1)*n),a=Math.ceil(h/v)}do{var y=u.multiplySingleDigit(a);if(y.compareAbs(d)<=0)break;a--}while(a);if(l.push(a),a){var w=d.subtract(y);d._d=w._d.slice(),0===d._d.length&&(d._s=0)}}return[new BigInteger(l.reverse(),s,t),new BigInteger(d._d,this._s,t)]},BigInteger.prototype.divRemSmall=function(e){var i;if(0===(e=+e))throw new Error("Divide by zero");var o=e<0?-1:1,a=this._s*o;if((e=Math.abs(e))<1||e>=n)throw new Error("Argument out of range");if(0===this._s)return[r,r];if(1===e||-1===e)return[1===a?this.abs():new BigInteger(this._d,a,t),r];if(1===this._d.length){var s=new BigInteger([this._d[0]/e|0],1,t);return i=new BigInteger([this._d[0]%e|0],1,t),a<0&&(s=s.negate()),this._s<0&&(i=i.negate()),[s,i]}for(var u,c=this._d.slice(),g=new Array(c.length),l=0,d=0,f=0;c.length;){if((l=l*n+c[c.length-1])<e)g[f++]=0,c.pop(),d=n*d+l;else d=l-e*(u=0===l?0:l/e|0),g[f++]=u,u?(c.pop(),l=d):c.pop()}return i=new BigInteger([d],1,t),this._s<0&&(i=i.negate()),[new BigInteger(g.reverse(),a,t),i]},BigInteger.prototype.isEven=function(){var e=this._d;return 0===this._s||0===e.length||e[0]%2==0},BigInteger.prototype.isOdd=function(){return!this.isEven()},BigInteger.prototype.sign=function(){return this._s},BigInteger.prototype.isPositive=function(){return this._s>0},BigInteger.prototype.isNegative=function(){return this._s<0},BigInteger.prototype.isZero=function(){return 0===this._s},BigInteger.prototype.exp10=function(e){if(0===(e=+e))return this;if(Math.abs(e)>Number(a))throw new Error("exponent too large in BigInteger.exp10");if(e>0){for(var n=new BigInteger(this._d.slice(),this._s,t);e>=7;e-=7)n._d.unshift(0);return 0==e?n:(n._s=1,n=n.multiplySingleDigit(Math.pow(10,e)),this._s<0?n.negate():n)}if(-e>=7*this._d.length)return r;n=new BigInteger(this._d.slice(),this._s,t);for(e=-e;e>=7;e-=7)n._d.shift();return 0==e?n:n.divRemSmall(Math.pow(10,e))[0]},BigInteger.prototype.pow=function(e){if(this.isUnit())return this._s>0||BigInteger(e).isOdd()?this:this.negate();if(0===(e=BigInteger(e))._s)return i;if(e._s<0){if(0===this._s)throw new Error("Divide by zero");return r}if(0===this._s)return r;if(e.isUnit())return this;if(e.compareAbs(a)>0)throw new Error("exponent too large in BigInteger.pow");for(var t=this,n=i,o=BigInteger.small[2];e.isPositive();){if(e.isOdd()&&(n=n.multiply(t),e.isUnit()))return n;t=t.square(),e=e.quotient(o)}return n},BigInteger.prototype.modPow=function(e,t){for(var n=i,r=this;e.isPositive();)e.isOdd()&&(n=n.multiply(r).remainder(t)),(e=e.quotient(BigInteger.small[2])).isPositive()&&(r=r.square().remainder(t));return n},BigInteger.prototype.log=function(){switch(this._s){case 0:return-1/0;case-1:return NaN}var e=this._d.length;if(7*e<30)return Math.log(this.valueOf());var r=Math.ceil(30/7),i=this._d.slice(e-r);return Math.log(new BigInteger(i,1,t).valueOf())+(e-r)*Math.log(n)},BigInteger.prototype.valueOf=function(){return parseInt(this.toString(),10)},BigInteger.prototype.toJSValue=function(){return parseInt(this.toString(),10)},BigInteger.prototype.lowVal=function(){return this._d[0]||0};var a=BigInteger(2147483647);BigInteger.MAX_EXP=a,function(){function makeUnary(e){return function(t){return e.call(BigInteger(t))}}function makeBinary(e){return function(t,n){return e.call(BigInteger(t),BigInteger(n))}}function makeTrinary(e){return function(t,n,r){return e.call(BigInteger(t),BigInteger(n),BigInteger(r))}}!function(){var e,t,n="toJSValue,isEven,isOdd,sign,isZero,isNegative,abs,isUnit,square,negate,isPositive,toString,next,prev,log".split(","),r="compare,remainder,divRem,subtract,add,quotient,divide,multiply,pow,compareAbs".split(","),i=["modPow"];for(e=0;e<n.length;e++)BigInteger[t=n[e]]=makeUnary(BigInteger.prototype[t]);for(e=0;e<r.length;e++)BigInteger[t=r[e]]=makeBinary(BigInteger.prototype[t]);for(e=0;e<i.length;e++)BigInteger[t=i[e]]=makeTrinary(BigInteger.prototype[t]);BigInteger.exp10=function(e,t){return BigInteger(e).exp10(t)}}()}(),e.BigInteger=BigInteger}(t)}}]);