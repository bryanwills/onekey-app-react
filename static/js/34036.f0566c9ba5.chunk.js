"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[34036],{49139:(e,t,n)=>{n.d(t,{A:()=>BackupDeviceList});var o=n(324586),r=n(586330),i=n(839850),c=n(514041),s=n(728234),a=n(187753),u=n(490343),d=n(310955),l=n(791088),p=n(498356),m=n(911998),b=n(734809),f=n(730223),j=n(567807),x=n(903469),y=n(831085),S=["ListEmptyComponent"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BackupDeviceList(e){var t,{ListEmptyComponent:n}=e,o=(0,i.A)(e,S),[{isInProgress:h}]=(0,b.useCloudBackupPersistAtom)(),$=(0,p.A)(),k=(0,c.useMemo)((function(){return{iOS:"PhoneOutline",Android:"PhoneOutline",iPadOS:"SuqarePlaceholderOutline"}}),[]),{result:v,run:g}=(0,m.yk)((0,r.A)((function*(){return(yield d.A.serviceCloudBackup.getBackupDeviceList()).map((function(e){return{deviceName:e.deviceInfo.deviceName,osName:e.deviceInfo.osName,detail:`Updated: ${(0,j.Yq)(new Date(e.backupTime))}`,icon:e.deviceInfo.osName in k?k[e.deviceInfo.osName]:"SuqarePlaceholderOutline",isCurrentDevice:e.deviceInfo.deviceName===a.g7&&e.deviceInfo.osName===a.wH}}))})),[k]),w=(null!=(t=v?.length)?t:0)>0,O=(0,s.jH)();return(0,c.useEffect)((function(){h||O&&g()}),[h,O,g]),v?(0,y.jsx)(u.SectionList,_objectSpread({sections:w?[{data:v}]:[],renderSectionHeader:function(){return(0,y.jsx)(u.SectionList.SectionHeader,{mt:"$5",title:"All Devices"})},renderItem:function({item:e}){return(0,y.jsx)(l.c,{onPress:function(){$.pushModal(f.ry.CloudBackupModal,{screen:f.pc.CloudBackupList,params:{deviceInfo:e}})},renderItemText:function(t){return(0,y.jsx)(l.c.Text,_objectSpread(_objectSpread({},t),{},{primary:(0,y.jsxs)(u.XStack,{alignItems:"center",children:[(0,y.jsx)(u.SizableText,{size:"$bodyLgMedium",children:e.deviceName}),e.isCurrentDevice?(0,y.jsx)(u.Stack,{ml:"$1",bg:"$bgInfo",px:"$2",py:"$0.5",borderRadius:"$1",children:(0,y.jsx)(u.SizableText,{size:"$bodySmMedium",color:"$textInfo",children:"Current"})}):null]})}))},subtitle:e.detail,icon:e.icon,iconProps:{bg:"$bgStrong",p:"$5"},renderIcon:(0,y.jsx)(u.Stack,{bg:"$bgStrong",p:"$2",borderRadius:"$3",children:(0,y.jsx)(u.Icon,{name:e.icon,size:"$6",color:"$icon"})}),drillIn:!0})},estimatedItemSize:"$16",ListFooterComponent:!w&&n?null:(0,y.jsx)(u.SizableText,{size:"$bodySm",color:"$textSubdued",px:"$5",pt:"$3",children:"OneKey won't back up your hardware wallets, you should write down your phrase and keep it safe."}),ListEmptyComponent:n},o)):(0,y.jsx)(x.A,{})}},903469:(e,t,n)=>{n.d(t,{A:()=>BackupListLoading});var o=n(490343),r=n(831085);function BackupListLoading(){return(0,r.jsxs)(o.Stack,{flex:1,px:"$5",space:"$2",pt:"$5",children:[(0,r.jsx)(o.Skeleton,{h:"$6",w:"70%"}),(0,r.jsx)(o.Skeleton,{h:"$6",w:"100%"}),(0,r.jsx)(o.Skeleton,{h:"$6",w:"70%"}),(0,r.jsx)(o.Skeleton,{h:"$6",w:"100%"})]})}},234036:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ImportCloudBackup});var o=n(490343),r=n(49139),i=n(451945),c=n(831085);function ImportCloudBackup(){return(0,c.jsxs)(o.Page,{children:[(0,c.jsx)(o.Page.Header,{title:`Import from ${(0,i.w3)().cloudName}`}),(0,c.jsx)(o.Page.Body,{children:(0,c.jsx)(r.A,{ListEmptyComponent:(0,c.jsx)(o.Empty,{icon:"SearchOutline",title:"No Data",description:`You have no available ${(0,i.w3)().cloudName} backups to import.`})})})]})}}}]);