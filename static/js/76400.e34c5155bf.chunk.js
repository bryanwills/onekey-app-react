"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[76400],{394764:(e,t,n)=>{n.d(t,{Z:()=>usePrevious});var r=n(514041);function usePrevious(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e}),[e]),t.current}},664187:(e,t,n)=>{n.d(t,{$:()=>ChainSelectorPageView});var r=n(514041),o=n(490343),s=n(791088),i=n(600435),a=n(394764),c=n(557503),u=n(831085),ListEmptyComponent=function(){return(0,u.jsx)(o.Empty,{icon:"SearchOutline",title:"No Results"})},d=["evm","dot","cosmos"],filterNetwork=function(e,t){return function(n){return t&&d.includes(e)?n.impl===e:n.name.toLowerCase().includes(e)||n.shortname.toLowerCase().includes(e)}},BaseListView=function({networks:e,onPressItem:t,networkId:n}){return(0,u.jsx)(o.ListView,{ListEmptyComponent,ListHeaderComponent:(0,u.jsx)(o.Stack,{h:"$2"}),ListFooterComponent:(0,u.jsx)(o.Stack,{h:"$2"}),estimatedItemSize:48,data:e,keyExtractor:function(e){return e.id},renderItem:function({item:e}){return(0,u.jsx)(s.c,{h:48,renderAvatar:e.id===c.T.id?(0,u.jsx)(i.iD,{size:"$8"}):(0,u.jsx)(i.um,{networkId:e?.id,size:"$8"}),title:e.name,onPress:function(){return t?.(e)},testID:`select-item-${e.id}`,children:n===e.id?(0,u.jsx)(s.c.CheckMark,{enterStyle:{opacity:0,scale:0}},"checkmark"):null})}})},l=(0,r.createContext)({topNetworks:[],topNetworkIds:new Set}),EditableViewListItem=function({item:e}){var{isEditMode:t,networkId:n,topNetworks:o,topNetworkIds:a,onPressItem:c,setTopNetworks:d}=(0,r.useContext)(l);return(0,u.jsxs)(s.c,{title:e.name,h:48,renderAvatar:(0,u.jsx)(i.um,{networkId:e?.id,size:"$8"}),onPress:t?void 0:function(){return c?.(e)},children:[t||n!==e.id?null:(0,u.jsx)(s.c.CheckMark,{enterStyle:{opacity:0,scale:0}},"checkmark"),t?(0,u.jsx)(s.c.IconButton,{onPress:function(){a.has(e.id)?d?.([...o.filter((function(t){return t.id!==e.id}))]):d?.([...o,e])},title:a.has(e.id)?"Unpin":"Pin",animation:"quick",enterStyle:{opacity:0,scale:0},icon:a.has(e.id)?"ThumbtackSolid":"ThumbtackOutline",iconProps:{color:a.has(e.id)?"$iconActive":"$iconSubdued"}},"moveToTop"):null]})},ListHeaderComponent=function(){var{setTopNetworks:e,isEditMode:t,topNetworks:n,networkId:a,searchText:c,onPressItem:d}=(0,r.useContext)(l),k=(0,r.useMemo)((function(){var e;return n.filter(filterNetwork(null!=(e=c?.trim())?e:""))}),[n,c]);return c?null:(0,u.jsx)(o.SortableListView,{data:k,enabled:t,keyExtractor:function(e){return`${e.id}`},getItemLayout:function(e,t){return{length:48,offset:48*t,index:t}},renderItem:function({item:e,drag:n}){return(0,u.jsxs)(s.c,{h:48,renderAvatar:(0,u.jsx)(i.um,{networkId:e?.id,size:"$8"}),title:e.name,onPress:t?void 0:function(){return d?.(e)},children:[t?(0,u.jsx)(s.c.IconButton,{animation:"quick",enterStyle:{opacity:0,scale:0},cursor:"move",icon:"DragOutline",onPressIn:n},"darg"):null,t||a!==e.id?null:(0,u.jsx)(s.c.CheckMark,{enterStyle:{opacity:0,scale:0}},"checkmark")]})},onDragEnd:function(t){return e?.(t.data)},scrollEnabled:!1,ListHeaderComponent:(0,u.jsx)(o.Stack,{h:"$2"}),ListFooterComponent:(0,u.jsx)(o.Stack,{h:"$5"})})},EditableView_ListEmptyComponent=function(){return(0,u.jsx)(o.Empty,{icon:"SearchOutline",title:"No Results"})},EditableView=function({allNetworks:e,onPressItem:t,networkId:n,defaultTopNetworks:s,isEditMode:i,onTopNetworksChange:c}){var[d,k]=(0,r.useState)(""),[w,m]=(0,r.useState)(null!=s?s:[]),f=(0,a.Z)(i),h=d.trim();(0,r.useEffect)((function(){!i&&f&&c?.(w)}),[i,f,w,c]),(0,r.useEffect)((function(){m(s)}),[s]);var x=(0,r.useMemo)((function(){if(h){var t=e.filter(filterNetwork(h.toLowerCase(),!0));return 0===t.length?[]:[{data:t}]}var n=e.reduce((function(e,t){var n=t.name[0].toUpperCase();return e[n]||(e[n]=[]),e[n].push(t),e}),{});return Object.entries(n).map((function([e,t]){return{title:e,data:t}})).sort((function(e,t){return e.title.charCodeAt(0)-t.title.charCodeAt(0)}))}),[e,h]),p=(0,r.useMemo)((function(){return{topNetworks:w,topNetworkIds:new Set(w.map((function(e){return e.id}))),networkId:n,onPressItem:t,isEditMode:i,setTopNetworks:m,searchText:h}}),[w,n,t,i,m,h]),I=(0,r.useCallback)((function({item:e}){return(0,u.jsx)(EditableViewListItem,{item:e})}),[]),j=(0,r.useCallback)((function(e){return e?.section?.title?(0,u.jsx)(o.SectionList.SectionHeader,{title:e?.section?.title}):(0,u.jsx)(o.Stack,{h:"$2"})}),[]);return(0,u.jsx)(l.Provider,{value:p,children:(0,u.jsxs)(o.Stack,{flex:1,children:[(0,u.jsx)(o.Stack,{px:"$4",children:(0,u.jsx)(o.SearchBar,{w:"100%",placeholder:"Search",value:d,onChangeText:function(e){return k(e.trim())}})}),(0,u.jsx)(o.Stack,{flex:1,children:(0,u.jsx)(o.SectionList,{ListHeaderComponent,sections:x,estimatedItemSize:"$12",renderItem:I,keyExtractor:function(e){return e.id},ListEmptyComponent:EditableView_ListEmptyComponent,renderSectionHeader:j,ListFooterComponent:(0,u.jsx)(o.Stack,{h:"$2"})})})]})})},ImmutableView=function({networks:e,networkId:t,onPressItem:n}){var[s,i]=(0,r.useState)(""),a=(0,r.useCallback)((function(e){i(e.trim())}),[]),c=(0,r.useMemo)((function(){return e.filter(filterNetwork(s.toLowerCase()))}),[e,s]);return(0,u.jsxs)(o.Stack,{flex:1,children:[(0,u.jsx)(o.Stack,{px:"$4",children:(0,u.jsx)(o.SearchBar,{w:"100%",placeholder:"Search",value:s,onChangeText:a})}),(0,u.jsx)(o.Stack,{flex:1,children:(0,u.jsx)(BaseListView,{networkId:t,networks:c,onPressItem:n})})]})},ChainSelectorImmutableView=function({title:e="Networks",networks:t,networkId:n,onPressItem:r}){return(0,u.jsxs)(o.Page,{children:[(0,u.jsx)(o.Page.Header,{title:e}),(0,u.jsx)(o.Page.Body,{children:(0,u.jsx)(ImmutableView,{networkId:n,networks:t,onPressItem:r})})]})};var ChainSelectorEditableView=function({networks:e,networkId:t,onPressItem:n,defaultTopNetworks:s=[],onTopNetworksChange:i,title:a="Networks"}){var[c,d]=(0,r.useState)(!1),handleEditButtonPress=function(){d(!c)};return(0,u.jsxs)(o.Page,{children:[(0,u.jsx)(o.Page.Header,{title:a,headerRight:function(){return function getHeaderRightComponent(e,t){return(0,u.jsx)(o.Button,{variant:"tertiary",onPress:t,children:e?"Done":"Edit"})}(c,handleEditButtonPress)}}),(0,u.jsx)(o.Page.Body,{children:(0,u.jsx)(EditableView,{isEditMode:c,defaultTopNetworks:s,networkId:t,allNetworks:e,onPressItem:n,onTopNetworksChange:i})})]})},ChainSelectorPageView=function({editable:e,networks:t,networkId:n,defaultTopNetworks:r,onPressItem:o,onTopNetworksChange:s}){return e?(0,u.jsx)(ChainSelectorEditableView,{networks:t,networkId:n,defaultTopNetworks:r,onPressItem:o,onTopNetworksChange:s}):(0,u.jsx)(ChainSelectorImmutableView,{networks:t,networkId:n,onPressItem:o})}},876400:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ChainSelectorPage});var r=n(586330),o=n(911998),s=n(557503),i=n(310955),a=n(664187),c=n(831085);function ChainSelectorPage({route:e,navigation:t}){var n,{onSelect:u,defaultNetworkId:d,networkIds:l,title:k="Networks",enableDangerNetwork:w}=null!=(n=e.params)?n:{},{result:m}=(0,o.yk)((0,r.A)((function*(){var e=[];l&&l.length>0?e=(yield i.A.serviceNetwork.getNetworksByIds({networkIds:l})).networks:e=(yield i.A.serviceNetwork.getAllNetworks()).networks;return w&&(e=[s.T,...e]),e})),[l,w]);return(0,c.jsx)(a.$,{title:k,networkId:d,networks:null!=m?m:[],onPressItem:function(e){u?.(e),t.goBack()}})}}}]);