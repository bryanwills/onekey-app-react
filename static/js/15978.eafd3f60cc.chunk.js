"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[15978],{802172:(e,t,r)=>{r.d(t,{m:()=>l});var n=r(324586),c=r(514041),s=r(2577),o=r(597102),a=r(310944),i=r(907481),u=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=(0,c.memo)((function(e){var{children:t,storeName:r}=e,n=(0,i.z)(r),c=s.A.getOrCreateStore(n);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.H,_objectSpread({},n)),(0,u.jsx)(a.Hn,{store:c,children:t})]})}));l.displayName="MarketWatchListProviderMirror"},172120:(e,t,r)=>{r.d(t,{J:()=>d});var n=r(324586),c=r(839850),s=r(514041),o=r(728234),a=r(490343),i=r(450255),u=r(831085),l=["coingeckoId"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var d=(0,s.memo)((function BasicMarketStar(e){var{coingeckoId:t}=e,r=(0,c.A)(e,l),d=(0,i.B)(),[p,h]=(0,s.useState)((function(){return d.isInWatchList(t)})),j=(0,o.jH)();(0,s.useEffect)((function(){j&&h(d.isInWatchList(t))}),[d,t,j]);var m=(0,s.useCallback)((function(){p?d.removeFormWatchList(t):d.addIntoWatchList(t),h(!p)}),[d,t,p]);return(0,u.jsx)(a.IconButton,function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:p?"StarSolid":"StarOutline",variant:"tertiary",iconSize:"$5",iconProps:{color:p?"$iconActive":"$iconDisabled"},onPress:m},r))}))},450255:(e,t,r)=>{r.d(t,{B:()=>useWatchListAction});var n=r(514041),c=r(310944),useWatchListAction=function(){var e=(0,c.qr)(),t=(0,n.useCallback)((function(t){var r={coingeckoId:t};e.current.removeFormWatchList(r)}),[e]),r=(0,n.useCallback)((function(t){var r=Array.isArray(t)?t:[t];e.current.addIntoWatchList(r.map((function(e){return{coingeckoId:e}})))}),[e]),s=(0,n.useCallback)((function(t){var r={coingeckoId:t};e.current.moveToTop(r)}),[e]),o=(0,n.useCallback)((function(t){return e.current.isInWatchList(t)}),[e]);return(0,n.useMemo)((function(){return{removeFormWatchList:t,addIntoWatchList:r,MoveToTop:s,isInWatchList:o}}),[s,r,o,t])}},493597:(e,t,r)=>{r.r(t),r.d(t,{UniversalSearch:()=>UniversalSearch,default:()=>pages_UniversalSearch});var n=r(586330),c=r(514041),s=r(578104),o=r(490343),a=r(958227),i=r(734809),u=r(730223),l=r(491180),d=r(714191),p=r(506851),h=r(310955),j=r(325809),m=r(791088),f=r(600435),b=r(498356),y=r(162616),x=r(826339),S=r(172120),k=r(802172),v=r(831085);function SearchTextItem({item:e,onPress:t}){var r=(0,c.useCallback)((function(){t(e)}),[e,t]);return(0,v.jsx)(o.Stack,{ai:"center",jc:"center",borderRadius:"$2",space:"$3",bg:"$bgStrong",mt:"$3",cursor:"pointer",onPress:r,children:(0,v.jsx)(o.SizableText,{px:"$2.5",py:"$1",size:"$bodyMdMedium",children:e.text})})}function RecentSearched({searchType:e}){var t,[{recentSearch:r}]=(0,a.O6)(),s=(0,a.GW)(),i=(0,b.A)(),l=(0,c.useCallback)((t=(0,n.A)((function*(e){e.type===p.j.MarketToken&&(i.pop(),setTimeout((function(){i.push(u.FE.MarketDetail,{coinGeckoId:e.id,symbol:e.text})}),80))})),function(e){return t.apply(this,arguments)}),[i]),d=(0,c.useCallback)((function(){s.current.clearAllRecentSearch()}),[s]);return r.length&&e===p.j.MarketToken?(0,v.jsxs)(o.YStack,{px:"$5",pb:"$5",children:[(0,v.jsxs)(o.XStack,{jc:"space-between",children:[(0,v.jsx)(o.SizableText,{size:"$headingSm",color:"$textSubdued",children:"Recent searched"}),(0,v.jsx)(o.IconButton,{variant:"tertiary",icon:"DeleteOutline",color:"$textSubdued",iconSize:"$5",onPress:d})]}),(0,v.jsx)(o.XStack,{flexWrap:"wrap",space:"$3",children:r.map((function(e){return(0,v.jsx)(SearchTextItem,{onPress:l,item:e},e.text)}))})]}):null}var O=r(324586),g=r(2577),w=r(597102),$=r(526039);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,O.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=(0,c.memo)((function(e){var{children:t,storeName:r}=e,n=(0,$.f)(r),c=g.A.getOrCreateStore(n);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(w.H,_objectSpread({},n)),(0,v.jsx)(a.TG,{store:c,children:t})]})}));P.displayName="UniversalSearchProviderMirror";var T=function(e){return e.init="init",e.loading="loading",e.done="done",e}(T||{}),SkeletonItem=function(){return(0,v.jsxs)(o.XStack,{py:"$2",alignItems:"center",children:[(0,v.jsx)(o.Skeleton,{w:"$10",h:"$10",radius:"round"}),(0,v.jsxs)(o.YStack,{ml:"$3",children:[(0,v.jsx)(o.Stack,{py:"$1.5",children:(0,v.jsx)(o.Skeleton,{h:"$3",w:"$32"})}),(0,v.jsx)(o.Stack,{py:"$1.5",children:(0,v.jsx)(o.Skeleton,{h:"$3",w:"$24"})})]})]})};function UniversalSearch({searchType:e}){var t=(0,b.A)(),{activeAccount:r}=(0,y.LH)({num:0}),i=(0,a.GW)(),[d,j]=(0,c.useState)([]),[k,O]=(0,c.useState)(T.init),[g,w]=(0,c.useState)([]),$=(0,c.useCallback)((0,n.A)((function*(){var t=[],r=yield h.A.serviceUniversalSearch.universalSearchRecommend({searchTypes:e?[e]:[]});r?.[p.j.MarketToken]?.items&&t.push({title:"Trending",data:r?.[p.j.MarketToken]?.items}),w(t)})),[e]);(0,c.useEffect)((function(){$()}),[$]);var P,I=(0,s.YQ)((P=(0,n.A)((function*(t){var n=t?.trim?.()||"",c=yield h.A.serviceUniversalSearch.universalSearch({input:n,networkId:r?.network?.id,searchTypes:[e||p.j.Address]}),s=[];c?.[p.j.Address]?.items&&s.push({title:"Wallet",data:c?.[p.j.Address]?.items}),c?.[p.j.MarketToken]?.items&&s.push({title:"Market Token",data:c?.[p.j.MarketToken]?.items}),j(s),O(T.done)})),function(e){return P.apply(this,arguments)}),1200),A=(0,c.useCallback)((function(){O(T.loading)}),[]),C=(0,c.useCallback)((function({section:e}){return(0,v.jsx)(o.SizableText,{px:"$5",pb:0,size:"$headingSm",children:e.title})}),[]),L=(0,c.useCallback)((function({item:e}){switch(e.type){case p.j.Address:var r=e;return(0,v.jsx)(m.c,{onPress:function(){t.pop(),setTimeout((function(){var{network:e,addressInfo:n}=r.payload;x.Jh.pushUrlAccountPage(t,{address:n.displayAddress,networkId:e.id})}),80)},renderAvatar:(0,v.jsx)(f.um,{networkId:r.payload.network.id,size:"$10"}),title:r.payload.network.shortname,subtitle:l.A.shortenAddress({address:r.payload.addressInfo.displayAddress})});case p.j.MarketToken:var{image:c,coingeckoId:s,price:a,symbol:d,name:h}=e.payload;return(0,v.jsx)(m.c,{jc:"space-between",mx:0,pl:"$5",pr:0,onPress:(0,n.A)((function*(){t.pop(),setTimeout((0,n.A)((function*(){t.push(u.FE.MarketDetail,{coinGeckoId:s,icon:c,symbol:d}),setTimeout((function(){i.current.addIntoRecentSearchList({id:s,text:d.toUpperCase(),type:e.type,timestamp:Date.now()})}),10)})),80)})),avatarProps:{src:decodeURIComponent(c),size:"$10"},title:d.toUpperCase(),subtitle:h,children:(0,v.jsxs)(o.XStack,{children:[(0,v.jsx)(o.NumberSizeableText,{size:"$bodyLgMedium",formatter:"price",formatterOptions:{currency:"$"},children:a}),(0,v.jsx)(S.J,{coingeckoId:s,mx:"$3"})]})});default:return null}}),[i,t]),M=(0,c.useCallback)((function(){switch(k){case T.init:return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(RecentSearched,{searchType:e}),(0,v.jsx)(o.SectionList,{renderSectionHeader:C,sections:g,renderItem:L,ListEmptyComponent:(0,v.jsxs)(o.YStack,{px:"$5",children:[(0,v.jsx)(o.SizableText,{numberOfLines:1,size:"$headingSm",children:"Trending"}),(0,v.jsx)(SkeletonItem,{}),(0,v.jsx)(SkeletonItem,{}),(0,v.jsx)(SkeletonItem,{})]}),estimatedItemSize:"$16"})]});case T.loading:return(0,v.jsxs)(o.YStack,{px:"$5",children:[(0,v.jsx)(SkeletonItem,{}),(0,v.jsx)(SkeletonItem,{}),(0,v.jsx)(SkeletonItem,{})]});case T.done:return(0,v.jsx)(o.SectionList,{sections:d,ListEmptyComponent:(0,v.jsx)(o.Empty,{icon:"SearchOutline",title:"No Results"}),renderItem:L,estimatedItemSize:"$16"})}}),[g,L,C,k,e,d]);return(0,v.jsxs)(o.Page,{children:[(0,v.jsx)(o.Page.Header,{title:"Search"}),(0,v.jsxs)(o.Page.Body,{children:[(0,v.jsx)(o.View,{p:"$5",pt:0,children:(0,v.jsx)(o.SearchBar,{autoFocus:!0,placeholder:"Search",onSearchTextChange:I,onChangeText:A})}),M()]})]})}const pages_UniversalSearch=function({route:e}){return(0,v.jsx)(j.b8,{config:{sceneName:d.Zs.home,sceneUrl:""},enabledNum:[0],children:(0,v.jsx)(k.m,{storeName:i.EJotaiContextStoreNames.marketWatchList,children:(0,v.jsx)(P,{storeName:i.EJotaiContextStoreNames.universalSearch,children:(0,v.jsx)(UniversalSearch,{searchType:e?.params?.filterType||p.j.Address})})})})}}}]);