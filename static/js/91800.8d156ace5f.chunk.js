"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[91800],{940916:(e,r,t)=>{t.d(r,{G:()=>g});var n=t(482451),i=t.n(n),s=t(324586),o=t(586330),a=t(230414),u=t(507140),c=t(606777),p=t(554902),f=t(180556),l=t(929296),d=t(195309),v=t(972715),y=t(901048).Buffer;function _createSuper(e){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var t,n=(0,v.A)(e);if(r){var i=(0,v.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,d.A)(this,t)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var h=function(e){(0,l.A)(ChainSigner,e);var r=_createSuper(ChainSigner);function ChainSigner(e,t,n){var i,s=(0,p.N)(n,{key:e,chainCode:y.alloc(32)},t).key.toString("hex");return(i=r.call(this,s,n)).encryptedPrivateKey=e,i.password=t,i.curve=n,i}var t,n=ChainSigner.prototype;return n.getPrvkey=function getPrvkey(){return Promise.resolve((0,p.Yc)(this.password,this.encryptedPrivateKey))},n.getPrvkeyHex=(t=(0,o.A)((function*(){return c.A.bytesToHex(yield this.getPrvkey())})),function getPrvkeyHex(){return t.apply(this,arguments)}),n.sign=function sign(e){var r=(0,p._S)(this.curve,this.encryptedPrivateKey,e,this.password);return"secp256k1"===this.curve?Promise.resolve([r.slice(0,-1),r[r.length-1]]):Promise.resolve([r,0])},(0,a.A)(ChainSigner)}(function(){function Verifier(e,r){this.curve=r,this.compressedPublicKey=y.from(e,"hex"),this.uncompressedPublicKey=(0,p.sA)(r,this.compressedPublicKey)}var e,r=Verifier.prototype;return r.getPubkey=function getPubkey(e){return Promise.resolve(e?this.compressedPublicKey:this.uncompressedPublicKey)},r.getPubkeyHex=(e=(0,o.A)((function*(e){return c.A.bytesToHex(yield this.getPubkey(e))})),function getPubkeyHex(r){return e.apply(this,arguments)}),r.verify=function verify(){return Promise.resolve(y.from([]))},r.verifySignature=function verifySignature({publicKey:e,digest:r,signature:t}){var n=c.A.toBuffer(e),i=c.A.toBuffer(r),s=c.A.toBuffer(t),{curve:o}=this,a=(0,p.MX)(o,n,i,s);return Promise.resolve(a)},(0,a.A)(Verifier)}());function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,s.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g=function(){function CoreChainApiBase(){}var e,r,t,n,s,l=CoreChainApiBase.prototype;return l.baseGetCurve=function baseGetCurve(e){switch(e){case"ed25519":return p.ev;case"secp256k1":return p.bI;case"nistp256":return p.OX;default:throw new u.He("Unsupported curve")}},l.baseCreateSigner=(e=(0,o.A)((function*({curve:e,privateKey:r,password:t}){if(void 0===t)throw new u.He("Software signing requires a password.");var n=c.A.toBuffer(r);return Promise.resolve(new h(n,t,e))})),function baseCreateSigner(r){return e.apply(this,arguments)}),l.baseGetSingleSigner=(r=(0,o.A)((function*({payload:e,curve:r}){var t=yield this.getPrivateKeys(e),n=e.account.path,i=t[n],s=e.account.relPaths?.[0];if(!i&&s&&(i=t[[n,s].join("/")]),!i)throw new Error(`No private key found: ${n}`);return this.baseCreateSigner({curve:r,privateKey:i,password:e.password})})),function baseGetSingleSigner(e){return r.apply(this,arguments)}),l.baseGetPrivateKeys=(t=(0,o.A)((function*({payload:e,curve:r}){var{credentials:t,account:n,password:i}=e,s={};if(t.hd&&t.imported)throw new u.He("getPrivateKeys ERROR: hd and imported credentials can NOT both set.");if(t.hd){var{relPaths:o}=n;s=yield this.baseGetPrivateKeysHd({curve:r,account:n,hdCredential:t.hd,password:i,relPaths:o})}if(t.imported){var{privateKey:a}=(0,p.VV)({password:i,credential:t.imported}),f=c.A.bytesToHex((0,p.w)(i,a));s[n.path]=f,s[""]=f}if(!Object.keys(s).length)throw new Error("No private keys found");return s})),function baseGetPrivateKeys(e){return t.apply(this,arguments)}),l.baseGetPrivateKeysHd=(n=(0,o.A)((function*({curve:e,password:r,account:t,relPaths:n,hdCredential:i}){var{path:s}=t,o=s.split("/"),a=n||[o.pop()],f=o.join("/");if(0===a.length)throw new u.He("getPrivateKeysHd ERROR: relPaths is empty.");return(0,p.Wu)(e,i,r,f,a).reduce((function(e,r){return _objectSpread(_objectSpread({},e),{},{[r.path]:c.A.bytesToHex(r.extendedKey.key)})}),{})})),function baseGetPrivateKeysHd(e){return n.apply(this,arguments)}),l.baseGetAddressesFromHd=(s=(0,o.A)((function*(e,r){var t=this,{curve:n,generateFrom:s}=r,{template:a,hdCredential:l,password:d,indexes:v}=e,{pathPrefix:y,pathSuffix:h}=(0,f.Ah)(a),g=v.map((function(e){return h.replace("{index}",e.toString())})),b="privateKey"===s,A=[],P=[];b?P=(0,p.Wu)(n,l,d,y,g):A=(0,p.W6)(n,l,d,y,g);var w=b?P:A;if(w.length!==v.length)throw new u.He("Unable to get publick key.");var m,C=yield Promise.all(w.map((m=(0,o.A)((function*(r){var n,s,{path:o,extendedKey:{key:a}}=r;if(b){var u=c.A.bytesToHex((0,p.Yc)(d,a));s=yield t.getAddressFromPrivate({networkInfo:e.networkInfo,privateKeyRaw:u,privateKeyInfo:r})}else n=a.toString("hex"),s=yield t.getAddressFromPublic({networkInfo:e.networkInfo,publicKey:n,publicKeyInfo:r});return i()({publicKey:n,path:o},s)})),function(e){return m.apply(this,arguments)})));return{addresses:C}})),function baseGetAddressesFromHd(e,r){return s.apply(this,arguments)}),(0,a.A)(CoreChainApiBase)}()},391800:(e,r,t)=>{t.r(r),t.d(r,{default:()=>a});var n=t(230414),i=t(929296),s=t(195309),o=t(972715);function _createSuper(e){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var t,n=(0,o.A)(e);if(r){var i=(0,o.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,s.A)(this,t)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var a=function(e){(0,i.A)(CoreChainImported,e);var r=_createSuper(CoreChainImported);function CoreChainImported(){return r.apply(this,arguments)}return(0,n.A)(CoreChainImported)}(t(912077).A)},912077:(e,r,t)=>{t.d(r,{A:()=>h});var n=t(230414),i=t(929296),s=t(195309),o=t(972715),a=t(586330),u=t(398532),c=t(939216),p=t.n(c),f=t(825145),l=t(606777),d=t(940916),v=t(901048).Buffer;function _createSuper(e){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var t,n=(0,o.A)(e);if(r){var i=(0,o.A)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,s.A)(this,t)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var y="ed25519";function _signTransaction(){return(_signTransaction=(0,a.A)((function*({nativeTx:e,feePayer:r,signer:t,encodedTx:n}){var i=e,s=i instanceof u.Kt,[o]=yield t.sign(s?v.from(i.message.serialize()):i.serializeMessage());return i.addSignature(r,o),{encodedTx:n,txid:p().encode(o),rawTx:v.from(i.serialize({requireAllSignatures:!1})).toString("base64")}}))).apply(this,arguments)}function _signMessage(){return(_signMessage=(0,a.A)((function*(e,r){var[t]=yield r.sign(v.from(e));return p().encode(t)}))).apply(this,arguments)}var h=function(e){(0,i.A)(CoreChainSoftware,e);var r=_createSuper(CoreChainSoftware);function CoreChainSoftware(){return r.apply(this,arguments)}var t,s,o,c,d,v,h=CoreChainSoftware.prototype;return h.getPrivateKeys=(t=(0,a.A)((function*(e){return this.baseGetPrivateKeys({payload:e,curve:y})})),function getPrivateKeys(e){return t.apply(this,arguments)}),h.signTransaction=(s=(0,a.A)((function*(e){var{unsignedTx:r,account:t}=e,n=yield this.baseGetSingleSigner({payload:e,curve:y}),i=r.encodedTx,s=yield function parseToNativeTx(e){if(!e)return Promise.resolve(null);var r=p().decode(e);try{return Promise.resolve(u.ZX.from(r))}catch(e){return Promise.resolve(u.Kt.deserialize(r))}}(i),o=new u.J3((0,f.wT)(t.pub||t.pubKey));if(!s)throw new Error("nativeTx is null");return function _signTransaction2(e){return _signTransaction.apply(this,arguments)}({nativeTx:s,feePayer:o,signer:n,encodedTx:r.encodedTx})})),function signTransaction(e){return s.apply(this,arguments)}),h.signMessage=(o=(0,a.A)((function*(e){var{unsignedMsg:r}=e,t=yield this.baseGetSingleSigner({payload:e,curve:y});return function _signMessage2(e,r){return _signMessage.apply(this,arguments)}(r.message,t)})),function signMessage(e){return o.apply(this,arguments)}),h.getAddressFromPrivate=(c=(0,a.A)((function*(e){var{privateKeyRaw:r}=e,t=l.A.toBuffer(r),n=this.baseGetCurve(y).publicFromPrivate(t);return this.getAddressFromPublic({publicKey:l.A.bytesToHex(n),networkInfo:e.networkInfo})})),function getAddressFromPrivate(e){return c.apply(this,arguments)}),h.getAddressFromPublic=(d=(0,a.A)((function*(e){var{publicKey:r}=e,t=l.A.toBuffer(r),n=new u.J3(t).toBase58();return Promise.resolve({address:n,publicKey:n})})),function getAddressFromPublic(e){return d.apply(this,arguments)}),h.getAddressesFromHd=(v=(0,a.A)((function*(e){return this.baseGetAddressesFromHd(e,{curve:y})})),function getAddressesFromHd(e){return v.apply(this,arguments)}),(0,n.A)(CoreChainSoftware)}(d.G)}}]);