"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[29374],{775892:(e,r,a)=>{a.d(r,{z:()=>CreateOrEditContent});var s=a(586330),d=a(514041),t=a(908867),n=a(490343),i=a(310955),o=a(370968),l=a(142097),m=a(831085),CreateOrEditContent=function({title:e,item:r,onSubmit:a,onRemove:u}){var c,f,h,v=(0,t.A)(),p=(0,n.useForm)({defaultValues:{id:r.id,networkId:r.networkId,name:r.name,address:{raw:r.address,resolved:""}},mode:"onChange",reValidateMode:"onChange"}),x=(0,d.useCallback)((function(){return u?(0,m.jsx)(n.IconButton,{icon:"DeleteOutline",variant:"tertiary",onPress:function(){return u(r)},testID:"address-form-remove"}):null}),[u,r]),I=p.watch("networkId"),b=p.watch("address.pending"),k=(0,d.useCallback)((c=(0,s.A)((function*(e){var r;yield a?.({id:e.id,name:e.name,networkId:e.networkId,address:null!=(r=e.address.resolved)?r:""})})),function(e){return c.apply(this,arguments)}),[a]);return(0,m.jsxs)(n.Page,{children:[(0,m.jsx)(n.Page.Header,{title:e,headerRight:x}),(0,m.jsx)(n.Page.Body,{p:"$4",children:(0,m.jsxs)(n.Form,{form:p,children:[(0,m.jsx)(n.Form.Field,{label:"Network",name:"networkId",rules:{required:!0},children:(0,m.jsx)(l.P,{})}),(0,m.jsx)(n.Form.Field,{label:"Name",name:"name",rules:{required:{value:!0,message:"Name cannot be empty."},maxLength:{value:24,message:"The maximum length is 24 characters."},validate:(h=(0,s.A)((function*(e){var a=yield i.A.serviceAddressBook.findItem({name:e});if(a&&r.id!==a.id)return"The name already exists."})),function validate(e){return h.apply(this,arguments)})},testID:"address-form-name-field",children:(0,m.jsx)(n.Input,{placeholder:"Required",testID:"address-form-name"})}),(0,m.jsx)(n.Form.Field,{label:"Address",name:"address",rules:{validate:(f=(0,s.A)((function*(e){if(!e.pending){var a;if(!e.resolved)return null!=(a=e.validateError?.message)?a:"Invalid address";var s=yield i.A.serviceAddressBook.findItem({address:e.resolved});if(s&&r.id!==s.id)return"The address already exists."}})),function validate(e){return f.apply(this,arguments)})},description:I.startsWith("evm--")?(0,m.jsxs)(n.XStack,{alignItems:"center",mt:"$1",children:[(0,m.jsx)(n.Icon,{size:"$4",name:"CheckRadioSolid"}),(0,m.jsx)(n.SizableText,{size:"$bodyMd",ml:"$1",children:"Also add to additional EVM-compatible Chains"})]}):null,testID:"address-form-address-field",children:(0,m.jsx)(o.N,{networkId:I,placeholder:"Address",autoError:!1,testID:"address-form-address",enableNameResolve:!0})})]})}),(0,m.jsx)(n.Page.Footer,{onConfirmText:v.formatMessage({id:"action__save"}),confirmButtonProps:{variant:"primary",loading:p.formState.isSubmitting,disabled:!p.formState.isValid||b,onPress:p.handleSubmit(k),testID:"address-form-save"}})]})}},429374:(e,r,a)=>{a.r(r),a.d(r,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(586330),d=a(514041),t=a(908867),n=a(490343),i=a(310955),o=a(498356),l=a(775892),m=a(831085),u={name:"",address:"",networkId:"btc--0"};const __WEBPACK_DEFAULT_EXPORT__=function(){var e,r=(0,t.A)(),a=(0,o.A)(),c=(0,d.useCallback)((e=(0,s.A)((function*(e){try{yield i.A.serviceAddressBook.addItem(e),a.pop()}catch(e){n.Toast.error({title:e.message})}})),function(r){return e.apply(this,arguments)}),[a]);return(0,m.jsx)(l.z,{title:r.formatMessage({id:"action__add_new_address"}),onSubmit:c,item:u})}}}]);