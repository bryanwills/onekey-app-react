(self.webpackChunkweb=self.webpackChunkweb||[]).push([[862],{940916:(e,t,r)=>{"use strict";r.d(t,{G:()=>g});var n=r(482451),i=r.n(n),o=r(324586),s=r(586330),a=r(230414),u=r(507140),c=r(606777),p=r(554902),f=r(180556),l=r(929296),y=r(195309),d=r(972715),v=r(901048).Buffer;function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var r,n=(0,d.A)(e);if(t){var i=(0,d.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,y.A)(this,r)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var h=function(e){(0,l.A)(ChainSigner,e);var t=_createSuper(ChainSigner);function ChainSigner(e,r,n){var i,o=(0,p.N)(n,{key:e,chainCode:v.alloc(32)},r).key.toString("hex");return(i=t.call(this,o,n)).encryptedPrivateKey=e,i.password=r,i.curve=n,i}var r,n=ChainSigner.prototype;return n.getPrvkey=function getPrvkey(){return Promise.resolve((0,p.Yc)(this.password,this.encryptedPrivateKey))},n.getPrvkeyHex=(r=(0,s.A)((function*(){return c.A.bytesToHex(yield this.getPrvkey())})),function getPrvkeyHex(){return r.apply(this,arguments)}),n.sign=function sign(e){var t=(0,p._S)(this.curve,this.encryptedPrivateKey,e,this.password);return"secp256k1"===this.curve?Promise.resolve([t.slice(0,-1),t[t.length-1]]):Promise.resolve([t,0])},(0,a.A)(ChainSigner)}(function(){function Verifier(e,t){this.curve=t,this.compressedPublicKey=v.from(e,"hex"),this.uncompressedPublicKey=(0,p.sA)(t,this.compressedPublicKey)}var e,t=Verifier.prototype;return t.getPubkey=function getPubkey(e){return Promise.resolve(e?this.compressedPublicKey:this.uncompressedPublicKey)},t.getPubkeyHex=(e=(0,s.A)((function*(e){return c.A.bytesToHex(yield this.getPubkey(e))})),function getPubkeyHex(t){return e.apply(this,arguments)}),t.verify=function verify(){return Promise.resolve(v.from([]))},t.verifySignature=function verifySignature({publicKey:e,digest:t,signature:r}){var n=c.A.toBuffer(e),i=c.A.toBuffer(t),o=c.A.toBuffer(r),{curve:s}=this,a=(0,p.MX)(s,n,i,o);return Promise.resolve(a)},(0,a.A)(Verifier)}());function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(){function CoreChainApiBase(){}var e,t,r,n,o,l=CoreChainApiBase.prototype;return l.baseGetCurve=function baseGetCurve(e){switch(e){case"ed25519":return p.ev;case"secp256k1":return p.bI;case"nistp256":return p.OX;default:throw new u.He("Unsupported curve")}},l.baseCreateSigner=(e=(0,s.A)((function*({curve:e,privateKey:t,password:r}){if(void 0===r)throw new u.He("Software signing requires a password.");var n=c.A.toBuffer(t);return Promise.resolve(new h(n,r,e))})),function baseCreateSigner(t){return e.apply(this,arguments)}),l.baseGetSingleSigner=(t=(0,s.A)((function*({payload:e,curve:t}){var r=yield this.getPrivateKeys(e),n=e.account.path,i=r[n],o=e.account.relPaths?.[0];if(!i&&o&&(i=r[[n,o].join("/")]),!i)throw new Error(`No private key found: ${n}`);return this.baseCreateSigner({curve:t,privateKey:i,password:e.password})})),function baseGetSingleSigner(e){return t.apply(this,arguments)}),l.baseGetPrivateKeys=(r=(0,s.A)((function*({payload:e,curve:t}){var{credentials:r,account:n,password:i}=e,o={};if(r.hd&&r.imported)throw new u.He("getPrivateKeys ERROR: hd and imported credentials can NOT both set.");if(r.hd){var{relPaths:s}=n;o=yield this.baseGetPrivateKeysHd({curve:t,account:n,hdCredential:r.hd,password:i,relPaths:s})}if(r.imported){var{privateKey:a}=(0,p.VV)({password:i,credential:r.imported}),f=c.A.bytesToHex((0,p.w)(i,a));o[n.path]=f,o[""]=f}if(!Object.keys(o).length)throw new Error("No private keys found");return o})),function baseGetPrivateKeys(e){return r.apply(this,arguments)}),l.baseGetPrivateKeysHd=(n=(0,s.A)((function*({curve:e,password:t,account:r,relPaths:n,hdCredential:i}){var{path:o}=r,s=o.split("/"),a=n||[s.pop()],f=s.join("/");if(0===a.length)throw new u.He("getPrivateKeysHd ERROR: relPaths is empty.");return(0,p.Wu)(e,i,t,f,a).reduce((function(e,t){return _objectSpread(_objectSpread({},e),{},{[t.path]:c.A.bytesToHex(t.extendedKey.key)})}),{})})),function baseGetPrivateKeysHd(e){return n.apply(this,arguments)}),l.baseGetAddressesFromHd=(o=(0,s.A)((function*(e,t){var r=this,{curve:n,generateFrom:o}=t,{template:a,hdCredential:l,password:y,indexes:d}=e,{pathPrefix:v,pathSuffix:h}=(0,f.Ah)(a),g=d.map((function(e){return h.replace("{index}",e.toString())})),b="privateKey"===o,A=[],P=[];b?P=(0,p.Wu)(n,l,y,v,g):A=(0,p.W6)(n,l,y,v,g);var w=b?P:A;if(w.length!==d.length)throw new u.He("Unable to get publick key.");var S,m=yield Promise.all(w.map((S=(0,s.A)((function*(t){var n,o,{path:s,extendedKey:{key:a}}=t;if(b){var u=c.A.bytesToHex((0,p.Yc)(y,a));o=yield r.getAddressFromPrivate({networkInfo:e.networkInfo,privateKeyRaw:u,privateKeyInfo:t})}else n=a.toString("hex"),o=yield r.getAddressFromPublic({networkInfo:e.networkInfo,publicKey:n,publicKeyInfo:t});return i()({publicKey:n,path:s},o)})),function(e){return S.apply(this,arguments)})));return{addresses:m}})),function baseGetAddressesFromHd(e,t){return o.apply(this,arguments)}),(0,a.A)(CoreChainApiBase)}()},844012:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(230414),i=r(929296),o=r(195309),s=r(972715);function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var r,n=(0,s.A)(e);if(t){var i=(0,s.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.A)(this,r)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var a=function(e){(0,i.A)(CoreChainHd,e);var t=_createSuper(CoreChainHd);function CoreChainHd(){return t.apply(this,arguments)}return(0,n.A)(CoreChainHd)}(r(95213).A)},95213:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(586330),i=r(230414),o=r(929296),s=r(195309),a=r(972715),u=r(324586),c=r(241440),p=r(437732),f=r(864579),l=r(606777),y=r(940916),d=r(507140);function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var r,n=(0,a.A)(e);if(t){var i=(0,a.A)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.A)(this,r)}}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,u.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v="secp256k1";function signature(e,t,r){var n=_objectSpread({},e);if(n.TxnSignature||n.Signers)throw new Error('txJSON must not contain "TxnSignature" or "Signers" properties');!function removeTrailingZeros(e){"Payment"===e.TransactionType&&"string"!=typeof e.Amount&&e.Amount.value.includes(".")&&e.Amount.value.endsWith("0")&&(e.Amount=_objectSpread({},e.Amount),e.Amount.value=new c.A(e.Amount.value).toString())}(n);var i=_objectSpread({},n);i.SigningPubKey=t,i.TxnSignature=function computeSignature(e,t){return(0,p.sign)((0,f.encodeForSigning)(e),t)}(i,r);var o=(0,f.encode)(i);return{tx_blob:o,hash:f.hashes.hashSignedTx(o)}}var h=function(e){(0,o.A)(CoreChainSoftware,e);var t=_createSuper(CoreChainSoftware);function CoreChainSoftware(){return t.apply(this,arguments)}var r,s,a,u,c,p,y=CoreChainSoftware.prototype;return y.getPrivateKeys=(r=(0,n.A)((function*(e){return this.baseGetPrivateKeys({payload:e,curve:v})})),function getPrivateKeys(e){return r.apply(this,arguments)}),y.signTransaction=(s=(0,n.A)((function*(e){var{unsignedTx:t}=e,r=yield this.baseGetSingleSigner({payload:e,curve:v}),n=(yield r.getPrvkey()).toString("hex").toUpperCase(),i=(yield r.getPubkey(!0)).toString("hex").toUpperCase(),o=signature(t.encodedTx,i,`00${n}`),s=o.hash,a=o.tx_blob;return{encodedTx:t.encodedTx,txid:s,rawTx:a}})),function signTransaction(e){return s.apply(this,arguments)}),y.signMessage=(a=(0,n.A)((function*(){throw new d.MS})),function signMessage(){return a.apply(this,arguments)}),y.getAddressFromPrivate=(u=(0,n.A)((function*(e){var{privateKeyRaw:t}=e,r=l.A.toBuffer(t),n=this.baseGetCurve(v).publicFromPrivate(r);return this.getAddressFromPublic({publicKey:l.A.bytesToHex(n),networkInfo:e.networkInfo})})),function getAddressFromPrivate(e){return u.apply(this,arguments)}),y.getAddressFromPublic=(c=(0,n.A)((function*(e){var{publicKey:t}=e,r=t.toUpperCase(),n=(0,f.deriveAddress)(r);return Promise.resolve({address:n,publicKey:r})})),function getAddressFromPublic(e){return c.apply(this,arguments)}),y.getAddressesFromHd=(p=(0,n.A)((function*(e){return this.baseGetAddressesFromHd(e,{curve:v})})),function getAddressesFromHd(e){return p.apply(this,arguments)}),(0,i.A)(CoreChainSoftware)}(y.G)},747022:()=>{},222210:()=>{},394767:()=>{}}]);