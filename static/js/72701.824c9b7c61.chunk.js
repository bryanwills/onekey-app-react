(self.webpackChunkweb=self.webpackChunkweb||[]).push([[72701],{872701:(e,r,n)=>{"use strict";n.r(r),n.d(r,{RecoveryPhrase:()=>RecoveryPhrase,default:()=>m});var t=n(630938),o=n.n(t),s=n(586330),a=n(514041),i=n(728234),c=n(868557),u=n(490343),l=n(972800),p=n(554902),d=n(310955),f=n(498356),h=n(911998),x=n(730223),v=n(831085);function FocusDisplayInput({text:e,index:r,testID:n=""}){return(0,v.jsxs)(u.XStack,{px:"$2",py:"$1.5",bg:"$bgDisabled",bw:"$px",borderColor:"$border",borderRadius:"$2",$md:{px:"$3",py:"$2",borderRadius:"$3"},children:[(0,v.jsx)(u.SizableText,{selectable:!1,minWidth:"$7",color:"$textSubdued",$md:{minWidth:"$8"},children:r+1}),(0,v.jsx)(u.SizableText,{selectable:!0,testID:n,children:e})]})}function RecoveryPhrase(){var e=(0,f.A)(),{copyText:r}=(0,u.useClipboard)(),{servicePassword:n}=d.A,t=(0,i.lq)();(0,a.useEffect)((function(){console.log("RecoveryPhrase useEffect")}),[]);var{result:m=""}=(0,h.yk)((0,s.A)((function*(){console.log("RecoveryPhrase generateMnemonic");var e=t.params?.mnemonic;return e?((0,p.KE)(e),d.A.servicePassword.decodeSensitiveText({encodedText:e})):(0,p.we)()})),[t.params.mnemonic]),y=(0,a.useMemo)((function(){return m.split(" ").filter(Boolean)}),[m]),b=(0,a.useMemo)((function(){if(t.params?.isBackup)return[];for(var e=o()(y).slice(0,3),r=c.length,n=[],getConfuseWord=function(){var t=Math.random()*r>>1,o=c[t];return e.includes(o)||n.includes(o)?getConfuseWord():o},s=0;s<6;s+=1)n.push(getConfuseWord());return e.map((function(r,t){return[y.indexOf(r),o()([e[t],...n.slice(2*t,2*t+2)])]})).sort((function(e,r){return e[0]-r[0]}))}),[y,t.params?.isBackup]),$=(0,a.useCallback)((0,s.A)((function*(){if(t.params?.isBackup)return u.Toast.success({title:"Done! Your recovery phrase is backuped."}),void e.popStack();e.push(x.xl.VerifyRecoverPhrase,{mnemonic:yield n.encodeSensitiveText({text:m}),isBackup:t.params?.isBackup,verifyRecoveryPhrases:b})})),[m,e,t.params?.isBackup,n,b]),P=(0,a.useCallback)((function(){return(0,v.jsx)(u.ActionList,{title:"More",renderTrigger:(0,v.jsx)(l.v$,{title:"Actions",icon:"DotHorOutline"}),items:[{label:"Copy recovery phrase",icon:"Copy1Outline",onPress:function(){u.Dialog.show({icon:"ErrorOutline",tone:"destructive",title:"Copy recovery phrase?",description:"Clipboard access can expose your recovery phrase to unauthorized apps.",footerProps:{flexDirection:"row-reverse"},onConfirmText:"Copy anyway",onConfirm:function(){r(m)},confirmButtonProps:{variant:"secondary"},onCancelText:"Cancel copy",cancelButtonProps:{variant:"primary"}})}}]})}),[r,m]);return(0,v.jsxs)(u.Page,{scrollEnabled:!0,children:[(0,v.jsx)(u.Page.Header,{title:"Backup recovery phrases",headerRight:P}),(0,v.jsxs)(u.Page.Body,{p:"$5",pt:"$0",children:[(0,v.jsx)(u.SizableText,{pt:"$2",pb:"$4",px:"$1",size:"$headingMd",children:"Write down each phrase in order and store them in a secure location"}),(0,v.jsx)(u.SecureView,{children:(0,v.jsx)(u.XStack,{flexWrap:"wrap",mx:"$-1",children:y.map((function(e,r){return(0,v.jsx)(u.Stack,{$md:{flexBasis:"50%"},flexBasis:"33.33%",p:"$1",children:(0,v.jsx)(FocusDisplayInput,{text:e,index:r,testID:`phrase-index${r}`})},r)}))})})]}),(0,v.jsx)(u.Page.Footer,{onConfirmText:"I've Saved the Phrase",onConfirm:$,confirmButtonProps:{testID:"saved-the-phrase"}})]})}const m=RecoveryPhrase},259668:(e,r,n)=>{var t=n(284354),o=n(63151);e.exports=function arrayShuffle(e){return o(t(e))}},927154:(e,r,n)=>{var t=n(63151),o=n(39817);e.exports=function baseShuffle(e){return t(o(e))}},803905:(e,r,n)=>{var t=n(965111);e.exports=function baseValues(e,r){return t(r,(function(r){return e[r]}))}},63151:(e,r,n)=>{var t=n(306484);e.exports=function shuffleSelf(e,r){var n=-1,o=e.length,s=o-1;for(r=void 0===r?o:r;++n<r;){var a=t(n,s),i=e[a];e[a]=e[n],e[n]=i}return e.length=r,e}},630938:(e,r,n)=>{var t=n(259668),o=n(927154),s=n(153142);e.exports=function shuffle(e){return(s(e)?t:o)(e)}},39817:(e,r,n)=>{var t=n(803905),o=n(781211);e.exports=function values(e){return null==e?[]:t(e,o(e))}}}]);