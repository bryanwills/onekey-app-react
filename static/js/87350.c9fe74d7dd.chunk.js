(self.webpackChunkweb=self.webpackChunkweb||[]).push([[87350],{90366:t=>{var e=10,r=41,i=107,n=9,o=25,s=10;function inputBytes(t){return r+(t.script?t.script.length:i)}function outputBytes(t){return t.script?s+t.script.length+(t.script.length>=74?2:1):n+(t.script?t.script.length:o)}function dustThreshold(t,e){return 3*inputBytes({})}function transactionBytes(t,r){return e+t.reduce((function(t,e){return t+inputBytes(e)}),0)+r.reduce((function(t,e){return t+outputBytes(e)}),0)}function uintOrNaN(t){return"number"!=typeof t?NaN:isFinite(t)?Math.floor(t)!==t||t<0?NaN:t:NaN}function sumOrNaN(t){return t.reduce((function(t,e){return t+uintOrNaN(e.value)}),0)}var u=outputBytes({});t.exports={dustThreshold,finalize:function finalize(t,e,r){var i=transactionBytes(t,e),n=r*(i+u),o=sumOrNaN(t)-(sumOrNaN(e)+n);o>dustThreshold()&&(e=e.concat({value:o}));var s=sumOrNaN(t)-sumOrNaN(e);return isFinite(s)?{inputs:t,outputs:e,fee:s}:{fee:r*i}},inputBytes,outputBytes,sumOrNaN,sumForgiving:function sumForgiving(t){return t.reduce((function(t,e){return t+(isFinite(e.value)?e.value:0)}),0)},transactionBytes,uintOrNaN}},360133:function(t,e,r){"use strict";var i=r(901048).Buffer,n=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature_v4=e.recoverTypedSignature=e.signTypedData_v4=e.signTypedData=e.recoverTypedMessage=e.signTypedMessage=e.getEncryptionPublicKey=e.decryptSafely=e.decrypt=e.encryptSafely=e.encrypt=e.recoverTypedSignatureLegacy=e.signTypedDataLegacy=e.typedSignatureHash=e.extractPublicKey=e.recoverPersonalSignature=e.personalSign=e.normalize=e.concatSig=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=void 0;const u=s(r(339070)),a=s(r(968743)),h=s(r(882926)),f=s(r(190665)),l={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};e.TYPED_MESSAGE_SCHEMA=l;const d={encodeData(t,e,r,n=!0){const o=["bytes32"],s=[this.hashType(t,r)];if(n){const encodeField=(t,e,o)=>{if(void 0!==r[e])return["bytes32",null==o?"0x0000000000000000000000000000000000000000000000000000000000000000":u.keccak(this.encodeData(e,o,r,n))];if(void 0===o)throw new Error(`missing value for field ${t} of type ${e}`);if("bytes"===e)return["bytes32",u.keccak(o)];if("string"===e)return"string"==typeof o&&(o=i.from(o,"utf8")),["bytes32",u.keccak(o)];if(e.lastIndexOf("]")===e.length-1){const r=e.slice(0,e.lastIndexOf("[")),i=o.map((e=>encodeField(t,r,e)));return["bytes32",u.keccak(a.rawEncode(i.map((([t])=>t)),i.map((([,t])=>t))))]}return[e,o]};for(const i of r[t]){const[t,r]=encodeField(i.name,i.type,e[i.name]);o.push(t),s.push(r)}}else for(const a of r[t]){let t=e[a.name];if(void 0!==t)if("bytes"===a.type)o.push("bytes32"),t=u.keccak(t),s.push(t);else if("string"===a.type)o.push("bytes32"),"string"==typeof t&&(t=i.from(t,"utf8")),t=u.keccak(t),s.push(t);else if(void 0!==r[a.type])o.push("bytes32"),t=u.keccak(this.encodeData(a.type,t,r,n)),s.push(t);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");o.push(a.type),s.push(t)}}return a.rawEncode(o,s)},encodeType(t,e){let r="",i=this.findTypeDependencies(t,e).filter((e=>e!==t));i=[t].concat(i.sort());for(const t of i){if(!e[t])throw new Error(`No type definition specified: ${t}`);r+=`${t}(${e[t].map((({name:t,type:e})=>`${e} ${t}`)).join(",")})`}return r},findTypeDependencies(t,e,r=[]){if([t]=t.match(/^\w*/u),r.includes(t)||void 0===e[t])return r;r.push(t);for(const i of e[t])for(const t of this.findTypeDependencies(i.type,e,r))!r.includes(t)&&r.push(t);return r},hashStruct(t,e,r,i=!0){return u.keccak(this.encodeData(t,e,r,i))},hashType(t,e){return u.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in l.properties)t[r]&&(e[r]=t[r]);return"types"in e&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},sign(t,e=!0){const r=this.sanitizeData(t),n=[i.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),"EIP712Domain"!==r.primaryType&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),u.keccak(i.concat(n))}};function concatSig(t,e,r){const i=u.fromSigned(e),n=u.fromSigned(r),o=u.bufferToInt(t),s=padWithZeroes(u.toUnsigned(i).toString("hex"),64),a=padWithZeroes(u.toUnsigned(n).toString("hex"),64),h=u.stripHexPrefix(u.intToHex(o));return u.addHexPrefix(s.concat(a,h)).toString("hex")}function signTypedDataLegacy(t,e){const r=typedSignatureHash(e.data),i=u.ecsign(r,t);return u.bufferToHex(concatSig(i.v,i.r,i.s))}function recoverTypedSignatureLegacy(t){const e=recoverPublicKey(typedSignatureHash(t.data),t.sig),r=u.publicToAddress(e);return u.bufferToHex(r)}function encrypt(t,e,r){if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof e.data)throw new Error('Cannot detect secret message, message params should be of the form {data: "secret message"} ');const r=h.box.keyPair();let i;try{i=f.decodeBase64(t)}catch(t){throw new Error("Bad public key")}const n=f.decodeUTF8(e.data),o=h.randomBytes(h.box.nonceLength),s=h.box(n,o,i,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:f.encodeBase64(o),ephemPublicKey:f.encodeBase64(r.publicKey),ciphertext:f.encodeBase64(s)}}throw new Error("Encryption type/version not supported")}function decrypt(t,e){if("x25519-xsalsa20-poly1305"===t.version){const r=nacl_decodeHex(e),i=h.box.keyPair.fromSecretKey(r).secretKey,n=f.decodeBase64(t.nonce),o=f.decodeBase64(t.ciphertext),s=f.decodeBase64(t.ephemPublicKey),u=h.box.open(o,n,s,i);let a;try{a=f.encodeUTF8(u)}catch(t){throw new Error("Decryption failed.")}if(a)return a;throw new Error("Decryption failed.")}throw new Error("Encryption type/version not supported.")}function signTypedData(t,e){const r=d.sign(e.data,!1),i=u.ecsign(r,t);return u.bufferToHex(concatSig(i.v,i.r,i.s))}function signTypedData_v4(t,e){const r=d.sign(e.data),i=u.ecsign(r,t);return u.bufferToHex(concatSig(i.v,i.r,i.s))}function recoverTypedSignature(t){const e=recoverPublicKey(d.sign(t.data,!1),t.sig),r=u.publicToAddress(e);return u.bufferToHex(r)}function recoverTypedSignature_v4(t){const e=recoverPublicKey(d.sign(t.data),t.sig),r=u.publicToAddress(e);return u.bufferToHex(r)}function typedSignatureHash(t){const e=new Error("Expect argument to be non-empty array");if("object"!=typeof t||!("length"in t)||!t.length)throw e;const r=t.map((function(t){return"bytes"===t.type?u.toBuffer(t.value):t.value})),i=t.map((function(t){return t.type})),n=t.map((function(t){if(!t.name)throw e;return`${t.type} ${t.name}`}));return a.soliditySHA3(["bytes32","bytes32"],[a.soliditySHA3(new Array(t.length).fill("string"),n),a.soliditySHA3(i,r)])}function recoverPublicKey(t,e){const r=u.toBuffer(e),i=u.fromRpcSig(r);return u.ecrecover(t,i.v,i.r,i.s)}function getPublicKeyFor(t){const e=u.toBuffer(t.data);return recoverPublicKey(u.hashPersonalMessage(e),t.sig)}function padWithZeroes(t,e){let r=`${t}`;for(;r.length<e;)r=`0${r}`;return r}function nacl_decodeHex(t){const e=i.from(t,"hex").toString("base64");return f.decodeBase64(e)}e.TypedDataUtils=d,e.concatSig=concatSig,e.normalize=function normalize(t){if(t){if("number"==typeof t){const e=u.toBuffer(t);t=u.bufferToHex(e)}if("string"!=typeof t){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof t}: ${t}`,new Error(e)}return u.addHexPrefix(t.toLowerCase())}},e.personalSign=function personalSign(t,e){const r=u.toBuffer(e.data),i=u.hashPersonalMessage(r),n=u.ecsign(i,t);return u.bufferToHex(concatSig(n.v,n.r,n.s))},e.recoverPersonalSignature=function recoverPersonalSignature(t){const e=getPublicKeyFor(t),r=u.publicToAddress(e);return u.bufferToHex(r)},e.extractPublicKey=function extractPublicKey(t){return`0x${getPublicKeyFor(t).toString("hex")}`},e.typedSignatureHash=function externalTypedSignatureHash(t){const e=typedSignatureHash(t);return u.bufferToHex(e)},e.signTypedDataLegacy=signTypedDataLegacy,e.recoverTypedSignatureLegacy=recoverTypedSignatureLegacy,e.encrypt=encrypt,e.encryptSafely=function encryptSafely(t,e,r){const{data:n}=e;if(!n)throw new Error("Cannot encrypt empty msg.data");if("object"==typeof n&&"toJSON"in n)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const o={data:n,padding:""},s=i.byteLength(JSON.stringify(o),"utf-8")%2048;let u=0;return s>0&&(u=2048-s-16),o.padding="0".repeat(u),encrypt(t,{data:JSON.stringify(o)},r)},e.decrypt=decrypt,e.decryptSafely=function decryptSafely(t,e){return JSON.parse(decrypt(t,e)).data},e.getEncryptionPublicKey=function getEncryptionPublicKey(t){const e=nacl_decodeHex(t),r=h.box.keyPair.fromSecretKey(e).publicKey;return f.encodeBase64(r)},e.signTypedMessage=function signTypedMessage(t,e,r="V4"){switch(r){case"V1":return signTypedDataLegacy(t,e);case"V3":return signTypedData(t,e);default:return signTypedData_v4(t,e)}},e.recoverTypedMessage=function recoverTypedMessage(t,e="V4"){switch(e){case"V1":return recoverTypedSignatureLegacy(t);case"V3":return recoverTypedSignature(t);default:return recoverTypedSignature_v4(t)}},e.signTypedData=signTypedData,e.signTypedData_v4=signTypedData_v4,e.recoverTypedSignature=recoverTypedSignature,e.recoverTypedSignature_v4=recoverTypedSignature_v4},953741:function(t,e,r){!function(t,e){"use strict";function assert(t,e){if(!t)throw new Error(e||"Assertion failed")}function inherits(t,e){t.super_=e;var TempCtor=function(){};TempCtor.prototype=e.prototype,t.prototype=new TempCtor,t.prototype.constructor=t}function BN(t,e,r){if(BN.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var i;"object"==typeof t?t.exports=BN:e.BN=BN,BN.BN=BN,BN.wordSize=26;try{i="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(343801).Buffer}catch(t){}function parseHex4Bits(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function parseHexByte(t,e,r){var i=parseHex4Bits(t,r);return r-1>=e&&(i|=parseHex4Bits(t,r-1)<<4),i}function parseBase(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var u=t.charCodeAt(s)-48;n*=i,n+=u>=49?u-49+10:u>=17?u-17+10:u}return n}BN.isBN=function isBN(t){return t instanceof BN||null!==t&&"object"==typeof t&&t.constructor.wordSize===BN.wordSize&&Array.isArray(t.words)},BN.max=function max(t,e){return t.cmp(e)>0?t:e},BN.min=function min(t,e){return t.cmp(e)<0?t:e},BN.prototype._init=function init(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),assert(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},BN.prototype._initNumber=function _initNumber(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(assert(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},BN.prototype._initArray=function _initArray(t,e,r){if(assert("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o,s=0;if("be"===r)for(i=t.length-1,n=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[n]|=o<<s&67108863,this.words[n+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,n++);else if("le"===r)for(i=0,n=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[n]|=o<<s&67108863,this.words[n+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,n++);return this.strip()},BN.prototype._parseHex=function _parseHex(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=parseHexByte(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=parseHexByte(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},BN.prototype._parseBase=function _parseBase(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,u=Math.min(o,o-s)+r,a=0,h=r;h<u;h+=i)a=parseBase(t,h,h+i,e),this.imuln(n),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==s){var f=1;for(a=parseBase(t,h,t.length,e),h=0;h<s;h++)f*=e;this.imuln(f),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},BN.prototype.copy=function copy(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},BN.prototype.clone=function clone(){var t=new BN(null);return this.copy(t),t},BN.prototype._expand=function _expand(t){for(;this.length<t;)this.words[this.length++]=0;return this},BN.prototype.strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var n=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],s=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,u=67108863&s,a=s/67108864|0;r.words[0]=u;for(var h=1;h<i;h++){for(var f=a>>>26,l=67108863&a,d=Math.min(h,e.length-1),c=Math.max(0,h-t.length+1);c<=d;c++){var m=h-c|0;f+=(s=(n=0|t.words[m])*(o=0|e.words[c])+l)/67108864|0,l=67108863&s}r.words[h]=0|l,a=0|f}return 0!==a?r.words[h]=0|a:r.length--,r.strip()}BN.prototype.toString=function toString(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,u=0,a=0;a<this.length;a++){var h=this.words[a],f=(16777215&(h<<i|u)).toString(16);r=0!==(u=h>>>24-i&16777215)||a!==this.length-1?n[6-f.length]+f+r:f+r,(i+=2)>=26&&(i-=26,a--)}for(0!==u&&(r=u.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=o[t],d=s[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modn(d).toString(t);r=(c=c.idivn(d)).isZero()?m+r:n[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},BN.prototype.toJSON=function toJSON(){return this.toString(16)},BN.prototype.toBuffer=function toBuffer(t,e){return assert(void 0!==i),this.toArrayLike(i,t,e)},BN.prototype.toArray=function toArray(t,e){return this.toArrayLike(Array,t,e)},BN.prototype.toArrayLike=function toArrayLike(t,e,r){var i=this.byteLength(),n=r||Math.max(1,i);assert(i<=n,"byte array longer than desired length"),assert(n>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===e,a=new t(n),h=this.clone();if(u){for(s=0;!h.isZero();s++)o=h.andln(255),h.iushrn(8),a[s]=o;for(;s<n;s++)a[s]=0}else{for(s=0;s<n-i;s++)a[s]=0;for(s=0;!h.isZero();s++)o=h.andln(255),h.iushrn(8),a[n-s-1]=o}return a},Math.clz32?BN.prototype._countBits=function _countBits(t){return 32-Math.clz32(t)}:BN.prototype._countBits=function _countBits(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},BN.prototype._zeroBits=function _zeroBits(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},BN.prototype.bitLength=function bitLength(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},BN.prototype.ior=function ior(t){return assert(!(this.negative|t.negative)),this.iuor(t)},BN.prototype.or=function or(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},BN.prototype.uor=function uor(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},BN.prototype.iuand=function iuand(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},BN.prototype.iand=function iand(t){return assert(!(this.negative|t.negative)),this.iuand(t)},BN.prototype.and=function and(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},BN.prototype.uand=function uand(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},BN.prototype.iuxor=function iuxor(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},BN.prototype.ixor=function ixor(t){return assert(!(this.negative|t.negative)),this.iuxor(t)},BN.prototype.xor=function xor(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},BN.prototype.uxor=function uxor(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},BN.prototype.inotn=function inotn(t){assert("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},BN.prototype.notn=function notn(t){return this.clone().inotn(t)},BN.prototype.setn=function setn(t,e){assert("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},BN.prototype.iadd=function iadd(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},BN.prototype.add=function add(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},BN.prototype.isub=function isub(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function sub(t){return this.clone().isub(t)};var u=function comb10MulTo(t,e,r){var i,n,o,s=t.words,u=e.words,a=r.words,h=0,f=0|s[0],l=8191&f,d=f>>>13,c=0|s[1],m=8191&c,p=c>>>13,g=0|s[2],v=8191&g,y=g>>>13,M=0|s[3],w=8191&M,b=M>>>13,B=0|s[4],N=8191&B,_=B>>>13,A=0|s[5],x=8191&A,k=A>>>13,S=0|s[6],T=8191&S,K=S>>>13,E=0|s[7],R=8191&E,P=E>>>13,L=0|s[8],I=8191&L,C=L>>>13,U=0|s[9],O=8191&U,H=U>>>13,F=0|u[0],Z=8191&F,z=F>>>13,j=0|u[1],q=8191&j,D=j>>>13,V=0|u[2],W=8191&V,$=V>>>13,J=0|u[3],Y=8191&J,G=J>>>13,X=0|u[4],Q=8191&X,tt=X>>>13,et=0|u[5],rt=8191&et,it=et>>>13,nt=0|u[6],ot=8191&nt,st=nt>>>13,ut=0|u[7],at=8191&ut,ht=ut>>>13,ft=0|u[8],dt=8191&ft,ct=ft>>>13,mt=0|u[9],pt=8191&mt,vt=mt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(h+(i=Math.imul(l,Z))|0)+((8191&(n=(n=Math.imul(l,z))+Math.imul(d,Z)|0))<<13)|0;h=((o=Math.imul(d,z))+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(m,Z),n=(n=Math.imul(m,z))+Math.imul(p,Z)|0,o=Math.imul(p,z);var Mt=(h+(i=i+Math.imul(l,q)|0)|0)+((8191&(n=(n=n+Math.imul(l,D)|0)+Math.imul(d,q)|0))<<13)|0;h=((o=o+Math.imul(d,D)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(v,Z),n=(n=Math.imul(v,z))+Math.imul(y,Z)|0,o=Math.imul(y,z),i=i+Math.imul(m,q)|0,n=(n=n+Math.imul(m,D)|0)+Math.imul(p,q)|0,o=o+Math.imul(p,D)|0;var wt=(h+(i=i+Math.imul(l,W)|0)|0)+((8191&(n=(n=n+Math.imul(l,$)|0)+Math.imul(d,W)|0))<<13)|0;h=((o=o+Math.imul(d,$)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(w,Z),n=(n=Math.imul(w,z))+Math.imul(b,Z)|0,o=Math.imul(b,z),i=i+Math.imul(v,q)|0,n=(n=n+Math.imul(v,D)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,D)|0,i=i+Math.imul(m,W)|0,n=(n=n+Math.imul(m,$)|0)+Math.imul(p,W)|0,o=o+Math.imul(p,$)|0;var bt=(h+(i=i+Math.imul(l,Y)|0)|0)+((8191&(n=(n=n+Math.imul(l,G)|0)+Math.imul(d,Y)|0))<<13)|0;h=((o=o+Math.imul(d,G)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(N,Z),n=(n=Math.imul(N,z))+Math.imul(_,Z)|0,o=Math.imul(_,z),i=i+Math.imul(w,q)|0,n=(n=n+Math.imul(w,D)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,D)|0,i=i+Math.imul(v,W)|0,n=(n=n+Math.imul(v,$)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,$)|0,i=i+Math.imul(m,Y)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(p,Y)|0,o=o+Math.imul(p,G)|0;var Bt=(h+(i=i+Math.imul(l,Q)|0)|0)+((8191&(n=(n=n+Math.imul(l,tt)|0)+Math.imul(d,Q)|0))<<13)|0;h=((o=o+Math.imul(d,tt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(x,Z),n=(n=Math.imul(x,z))+Math.imul(k,Z)|0,o=Math.imul(k,z),i=i+Math.imul(N,q)|0,n=(n=n+Math.imul(N,D)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,D)|0,i=i+Math.imul(w,W)|0,n=(n=n+Math.imul(w,$)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,$)|0,i=i+Math.imul(v,Y)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Nt=(h+(i=i+Math.imul(l,rt)|0)|0)+((8191&(n=(n=n+Math.imul(l,it)|0)+Math.imul(d,rt)|0))<<13)|0;h=((o=o+Math.imul(d,it)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(T,Z),n=(n=Math.imul(T,z))+Math.imul(K,Z)|0,o=Math.imul(K,z),i=i+Math.imul(x,q)|0,n=(n=n+Math.imul(x,D)|0)+Math.imul(k,q)|0,o=o+Math.imul(k,D)|0,i=i+Math.imul(N,W)|0,n=(n=n+Math.imul(N,$)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,$)|0,i=i+Math.imul(w,Y)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,G)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var _t=(h+(i=i+Math.imul(l,ot)|0)|0)+((8191&(n=(n=n+Math.imul(l,st)|0)+Math.imul(d,ot)|0))<<13)|0;h=((o=o+Math.imul(d,st)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(R,Z),n=(n=Math.imul(R,z))+Math.imul(P,Z)|0,o=Math.imul(P,z),i=i+Math.imul(T,q)|0,n=(n=n+Math.imul(T,D)|0)+Math.imul(K,q)|0,o=o+Math.imul(K,D)|0,i=i+Math.imul(x,W)|0,n=(n=n+Math.imul(x,$)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,$)|0,i=i+Math.imul(N,Y)|0,n=(n=n+Math.imul(N,G)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,G)|0,i=i+Math.imul(w,Q)|0,n=(n=n+Math.imul(w,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var At=(h+(i=i+Math.imul(l,at)|0)|0)+((8191&(n=(n=n+Math.imul(l,ht)|0)+Math.imul(d,at)|0))<<13)|0;h=((o=o+Math.imul(d,ht)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(I,Z),n=(n=Math.imul(I,z))+Math.imul(C,Z)|0,o=Math.imul(C,z),i=i+Math.imul(R,q)|0,n=(n=n+Math.imul(R,D)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,D)|0,i=i+Math.imul(T,W)|0,n=(n=n+Math.imul(T,$)|0)+Math.imul(K,W)|0,o=o+Math.imul(K,$)|0,i=i+Math.imul(x,Y)|0,n=(n=n+Math.imul(x,G)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(N,Q)|0,n=(n=n+Math.imul(N,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,i=i+Math.imul(w,rt)|0,n=(n=n+Math.imul(w,it)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,at)|0,n=(n=n+Math.imul(m,ht)|0)+Math.imul(p,at)|0,o=o+Math.imul(p,ht)|0;var xt=(h+(i=i+Math.imul(l,dt)|0)|0)+((8191&(n=(n=n+Math.imul(l,ct)|0)+Math.imul(d,dt)|0))<<13)|0;h=((o=o+Math.imul(d,ct)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(O,Z),n=(n=Math.imul(O,z))+Math.imul(H,Z)|0,o=Math.imul(H,z),i=i+Math.imul(I,q)|0,n=(n=n+Math.imul(I,D)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,D)|0,i=i+Math.imul(R,W)|0,n=(n=n+Math.imul(R,$)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,$)|0,i=i+Math.imul(T,Y)|0,n=(n=n+Math.imul(T,G)|0)+Math.imul(K,Y)|0,o=o+Math.imul(K,G)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(N,rt)|0,n=(n=n+Math.imul(N,it)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,it)|0,i=i+Math.imul(w,ot)|0,n=(n=n+Math.imul(w,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,i=i+Math.imul(v,at)|0,n=(n=n+Math.imul(v,ht)|0)+Math.imul(y,at)|0,o=o+Math.imul(y,ht)|0,i=i+Math.imul(m,dt)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,dt)|0,o=o+Math.imul(p,ct)|0;var kt=(h+(i=i+Math.imul(l,pt)|0)|0)+((8191&(n=(n=n+Math.imul(l,vt)|0)+Math.imul(d,pt)|0))<<13)|0;h=((o=o+Math.imul(d,vt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(O,q),n=(n=Math.imul(O,D))+Math.imul(H,q)|0,o=Math.imul(H,D),i=i+Math.imul(I,W)|0,n=(n=n+Math.imul(I,$)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,$)|0,i=i+Math.imul(R,Y)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,G)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(K,Q)|0,o=o+Math.imul(K,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(N,ot)|0,n=(n=n+Math.imul(N,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,i=i+Math.imul(w,at)|0,n=(n=n+Math.imul(w,ht)|0)+Math.imul(b,at)|0,o=o+Math.imul(b,ht)|0,i=i+Math.imul(v,dt)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,dt)|0,o=o+Math.imul(y,ct)|0;var St=(h+(i=i+Math.imul(m,pt)|0)|0)+((8191&(n=(n=n+Math.imul(m,vt)|0)+Math.imul(p,pt)|0))<<13)|0;h=((o=o+Math.imul(p,vt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(O,W),n=(n=Math.imul(O,$))+Math.imul(H,W)|0,o=Math.imul(H,$),i=i+Math.imul(I,Y)|0,n=(n=n+Math.imul(I,G)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(K,rt)|0,o=o+Math.imul(K,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(N,at)|0,n=(n=n+Math.imul(N,ht)|0)+Math.imul(_,at)|0,o=o+Math.imul(_,ht)|0,i=i+Math.imul(w,dt)|0,n=(n=n+Math.imul(w,ct)|0)+Math.imul(b,dt)|0,o=o+Math.imul(b,ct)|0;var Tt=(h+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,vt)|0)+Math.imul(y,pt)|0))<<13)|0;h=((o=o+Math.imul(y,vt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(O,Y),n=(n=Math.imul(O,G))+Math.imul(H,Y)|0,o=Math.imul(H,G),i=i+Math.imul(I,Q)|0,n=(n=n+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,i=i+Math.imul(R,rt)|0,n=(n=n+Math.imul(R,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(K,ot)|0,o=o+Math.imul(K,st)|0,i=i+Math.imul(x,at)|0,n=(n=n+Math.imul(x,ht)|0)+Math.imul(k,at)|0,o=o+Math.imul(k,ht)|0,i=i+Math.imul(N,dt)|0,n=(n=n+Math.imul(N,ct)|0)+Math.imul(_,dt)|0,o=o+Math.imul(_,ct)|0;var Kt=(h+(i=i+Math.imul(w,pt)|0)|0)+((8191&(n=(n=n+Math.imul(w,vt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((o=o+Math.imul(b,vt)|0)+(n>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,i=Math.imul(O,Q),n=(n=Math.imul(O,tt))+Math.imul(H,Q)|0,o=Math.imul(H,tt),i=i+Math.imul(I,rt)|0,n=(n=n+Math.imul(I,it)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,it)|0,i=i+Math.imul(R,ot)|0,n=(n=n+Math.imul(R,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(T,at)|0,n=(n=n+Math.imul(T,ht)|0)+Math.imul(K,at)|0,o=o+Math.imul(K,ht)|0,i=i+Math.imul(x,dt)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,dt)|0,o=o+Math.imul(k,ct)|0;var Et=(h+(i=i+Math.imul(N,pt)|0)|0)+((8191&(n=(n=n+Math.imul(N,vt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((o=o+Math.imul(_,vt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(O,rt),n=(n=Math.imul(O,it))+Math.imul(H,rt)|0,o=Math.imul(H,it),i=i+Math.imul(I,ot)|0,n=(n=n+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,i=i+Math.imul(R,at)|0,n=(n=n+Math.imul(R,ht)|0)+Math.imul(P,at)|0,o=o+Math.imul(P,ht)|0,i=i+Math.imul(T,dt)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(K,dt)|0,o=o+Math.imul(K,ct)|0;var Rt=(h+(i=i+Math.imul(x,pt)|0)|0)+((8191&(n=(n=n+Math.imul(x,vt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((o=o+Math.imul(k,vt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(O,ot),n=(n=Math.imul(O,st))+Math.imul(H,ot)|0,o=Math.imul(H,st),i=i+Math.imul(I,at)|0,n=(n=n+Math.imul(I,ht)|0)+Math.imul(C,at)|0,o=o+Math.imul(C,ht)|0,i=i+Math.imul(R,dt)|0,n=(n=n+Math.imul(R,ct)|0)+Math.imul(P,dt)|0,o=o+Math.imul(P,ct)|0;var Pt=(h+(i=i+Math.imul(T,pt)|0)|0)+((8191&(n=(n=n+Math.imul(T,vt)|0)+Math.imul(K,pt)|0))<<13)|0;h=((o=o+Math.imul(K,vt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(O,at),n=(n=Math.imul(O,ht))+Math.imul(H,at)|0,o=Math.imul(H,ht),i=i+Math.imul(I,dt)|0,n=(n=n+Math.imul(I,ct)|0)+Math.imul(C,dt)|0,o=o+Math.imul(C,ct)|0;var Lt=(h+(i=i+Math.imul(R,pt)|0)|0)+((8191&(n=(n=n+Math.imul(R,vt)|0)+Math.imul(P,pt)|0))<<13)|0;h=((o=o+Math.imul(P,vt)|0)+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,i=Math.imul(O,dt),n=(n=Math.imul(O,ct))+Math.imul(H,dt)|0,o=Math.imul(H,ct);var It=(h+(i=i+Math.imul(I,pt)|0)|0)+((8191&(n=(n=n+Math.imul(I,vt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((o=o+Math.imul(C,vt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863;var Ct=(h+(i=Math.imul(O,pt))|0)+((8191&(n=(n=Math.imul(O,vt))+Math.imul(H,pt)|0))<<13)|0;return h=((o=Math.imul(H,vt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,a[0]=yt,a[1]=Mt,a[2]=wt,a[3]=bt,a[4]=Bt,a[5]=Nt,a[6]=_t,a[7]=At,a[8]=xt,a[9]=kt,a[10]=St,a[11]=Tt,a[12]=Kt,a[13]=Et,a[14]=Rt,a[15]=Pt,a[16]=Lt,a[17]=It,a[18]=Ct,0!==h&&(a[19]=h,r.length++),r};function jumboMulTo(t,e,r){return(new FFTM).mulp(t,e,r)}function FFTM(t,e){this.x=t,this.y=e}Math.imul||(u=smallMulTo),BN.prototype.mulTo=function mulTo(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?u(this,t,e):i<63?smallMulTo(this,t,e):i<1024?function bigMulTo(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var u=67108863&i,a=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);h<=a;h++){var f=o-h,l=(0|t.words[f])*(0|e.words[h]),d=67108863&l;u=67108863&(d=d+u|0),n+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=u,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):jumboMulTo(this,t,e),r},FFTM.prototype.makeRBT=function makeRBT(t){for(var e=new Array(t),r=BN.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},FFTM.prototype.revBin=function revBin(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},FFTM.prototype.permute=function permute(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},FFTM.prototype.transform=function transform(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var u=s<<1,a=Math.cos(2*Math.PI/u),h=Math.sin(2*Math.PI/u),f=0;f<n;f+=u)for(var l=a,d=h,c=0;c<s;c++){var m=r[f+c],p=i[f+c],g=r[f+c+s],v=i[f+c+s],y=l*g-d*v;v=l*v+d*g,g=y,r[f+c]=m+g,i[f+c]=p+v,r[f+c+s]=m-g,i[f+c+s]=p-v,c!==u&&(y=a*l-h*d,d=a*d+h*l,l=y)}},FFTM.prototype.guessLen13b=function guessLen13b(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},FFTM.prototype.conjugate=function conjugate(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},FFTM.prototype.normalize13b=function normalize13b(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},FFTM.prototype.convert13b=function convert13b(t,e,r,i){for(var n=0,o=0;o<e;o++)n+=0|t[o],r[2*o]=8191&n,n>>>=13,r[2*o+1]=8191&n,n>>>=13;for(o=2*e;o<i;++o)r[o]=0;assert(0===n),assert(!(-8192&n))},FFTM.prototype.stub=function stub(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},FFTM.prototype.mulp=function mulp(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),u=new Array(i),a=new Array(i),h=new Array(i),f=new Array(i),l=new Array(i),d=r.words;d.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,h,i),this.transform(s,o,u,a,i,n),this.transform(h,o,f,l,i,n);for(var c=0;c<i;c++){var m=u[c]*f[c]-a[c]*l[c];a[c]=u[c]*l[c]+a[c]*f[c],u[c]=m}return this.conjugate(u,a,i),this.transform(u,a,d,o,i,n),this.conjugate(d,o,i),this.normalize13b(d,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},BN.prototype.mul=function mul(t){var e=new BN(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},BN.prototype.mulf=function mulf(t){var e=new BN(null);return e.words=new Array(this.length+t.length),jumboMulTo(this,t,e)},BN.prototype.imul=function imul(t){return this.clone().mulTo(t,this)},BN.prototype.imuln=function imuln(t){assert("number"==typeof t),assert(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,n=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=n>>>26,this.words[r]=67108863&n}return 0!==e&&(this.words[r]=e,this.length++),this},BN.prototype.muln=function muln(t){return this.clone().imuln(t)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(t){var e=function toBitArray(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new BN(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},BN.prototype.iushln=function iushln(t){assert("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,n=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var s=this.words[e]&n,u=(0|this.words[e])-s<<r;this.words[e]=u|o,o=s>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},BN.prototype.ishln=function ishln(t){return assert(0===this.negative),this.iushln(t)},BN.prototype.iushrn=function iushrn(t,e,r){var i;assert("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var n=t%26,o=Math.min((t-n)/26,this.length),s=67108863^67108863>>>n<<n,u=r;if(i-=o,i=Math.max(0,i),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var h=0;for(a=this.length-1;a>=0&&(0!==h||a>=i);a--){var f=0|this.words[a];this.words[a]=h<<26-n|f>>>n,h=f&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function ishrn(t,e,r){return assert(0===this.negative),this.iushrn(t,e,r)},BN.prototype.shln=function shln(t){return this.clone().ishln(t)},BN.prototype.ushln=function ushln(t){return this.clone().iushln(t)},BN.prototype.shrn=function shrn(t){return this.clone().ishrn(t)},BN.prototype.ushrn=function ushrn(t){return this.clone().iushrn(t)},BN.prototype.testn=function testn(t){assert("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},BN.prototype.imaskn=function imaskn(t){assert("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},BN.prototype.maskn=function maskn(t){return this.clone().imaskn(t)},BN.prototype.iaddn=function iaddn(t){return assert("number"==typeof t),assert(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},BN.prototype._iaddn=function _iaddn(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},BN.prototype.isubn=function isubn(t){if(assert("number"==typeof t),assert(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},BN.prototype.addn=function addn(t){return this.clone().iaddn(t)},BN.prototype.subn=function subn(t){return this.clone().isubn(t)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(t,e,r){var i,n,o=t.length+r;this._expand(o);var s=0;for(i=0;i<t.length;i++){n=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((n-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&n}for(;i<this.length-r;i++)s=(n=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&n;if(0===s)return this.strip();for(assert(-1===s),s=0,i=0;i<this.length;i++)s=(n=-(0|this.words[i])+s)>>26,this.words[i]=67108863&n;return this.negative=1,this.strip()},BN.prototype._wordDiv=function _wordDiv(t,e){var r=(this.length,t.length),i=this.clone(),n=t,o=0|n.words[n.length-1];0!==(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var s,u=i.length-n.length;if("mod"!==e){(s=new BN(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var h=i.clone()._ishlnsubmul(n,1,u);0===h.negative&&(i=h,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|i.words[n.length+f])+(0|i.words[n.length+f-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(n,l,f);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,f),i.isZero()||(i.negative^=1);s&&(s.words[f]=l)}return s&&s.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:s||null,mod:i}},BN.prototype.divmod=function divmod(t,e,r){return assert(!t.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(i=o.div.neg()),"div"!==e&&(n=o.mod.neg(),r&&0!==n.negative&&n.iadd(t)),{div:i,mod:n}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),"mod"!==e&&(i=o.div.neg()),{div:i,mod:o.mod}):this.negative&t.negative?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(n=o.mod.neg(),r&&0!==n.negative&&n.isub(t)),{div:o.div,mod:n}):t.length>this.length||this.cmp(t)<0?{div:new BN(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new BN(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new BN(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,n,o},BN.prototype.div=function div(t){return this.divmod(t,"div",!1).div},BN.prototype.mod=function mod(t){return this.divmod(t,"mod",!1).mod},BN.prototype.umod=function umod(t){return this.divmod(t,"mod",!0).mod},BN.prototype.divRound=function divRound(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},BN.prototype.modn=function modn(t){assert(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},BN.prototype.idivn=function idivn(t){assert(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},BN.prototype.divn=function divn(t){return this.clone().idivn(t)},BN.prototype.egcd=function egcd(t){assert(0===t.negative),assert(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new BN(1),n=new BN(0),o=new BN(0),s=new BN(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var a=r.clone(),h=e.clone();!e.isZero();){for(var f=0,l=1;!(e.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||n.isOdd())&&(i.iadd(a),n.isub(h)),i.iushrn(1),n.iushrn(1);for(var d=0,c=1;!(r.words[0]&c)&&d<26;++d,c<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(a),s.isub(h)),o.iushrn(1),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(o),n.isub(s)):(r.isub(e),o.isub(i),s.isub(n))}return{a:o,b:s,gcd:r.iushln(u)}},BN.prototype._invmp=function _invmp(t){assert(0===t.negative),assert(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,n=new BN(1),o=new BN(0),s=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,a=1;!(e.words[0]&a)&&u<26;++u,a<<=1);if(u>0)for(e.iushrn(u);u-- >0;)n.isOdd()&&n.iadd(s),n.iushrn(1);for(var h=0,f=1;!(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(o)):(r.isub(e),o.isub(n))}return(i=0===e.cmpn(1)?n:o).cmpn(0)<0&&i.iadd(t),i},BN.prototype.gcd=function gcd(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},BN.prototype.invm=function invm(t){return this.egcd(t).a.umod(t)},BN.prototype.isEven=function isEven(){return!(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return!(1&~this.words[0])},BN.prototype.andln=function andln(t){return this.words[0]&t},BN.prototype.bincn=function bincn(t){assert("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var n=i,o=r;0!==n&&o<this.length;o++){var s=0|this.words[o];n=(s+=n)>>>26,s&=67108863,this.words[o]=s}return 0!==n&&(this.words[o]=n,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),assert(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},BN.prototype.cmp=function cmp(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},BN.prototype.ucmp=function ucmp(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},BN.prototype.gtn=function gtn(t){return 1===this.cmpn(t)},BN.prototype.gt=function gt(t){return 1===this.cmp(t)},BN.prototype.gten=function gten(t){return this.cmpn(t)>=0},BN.prototype.gte=function gte(t){return this.cmp(t)>=0},BN.prototype.ltn=function ltn(t){return-1===this.cmpn(t)},BN.prototype.lt=function lt(t){return-1===this.cmp(t)},BN.prototype.lten=function lten(t){return this.cmpn(t)<=0},BN.prototype.lte=function lte(t){return this.cmp(t)<=0},BN.prototype.eqn=function eqn(t){return 0===this.cmpn(t)},BN.prototype.eq=function eq(t){return 0===this.cmp(t)},BN.red=function red(t){return new Red(t)},BN.prototype.toRed=function toRed(t){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(t){return this.red=t,this},BN.prototype.forceRed=function forceRed(t){return assert(!this.red,"Already a number in reduction context"),this._forceRed(t)},BN.prototype.redAdd=function redAdd(t){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},BN.prototype.redIAdd=function redIAdd(t){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},BN.prototype.redSub=function redSub(t){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},BN.prototype.redISub=function redISub(t){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},BN.prototype.redShl=function redShl(t){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},BN.prototype.redMul=function redMul(t){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},BN.prototype.redIMul=function redIMul(t){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(t){return assert(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var a={k256:null,p224:null,p192:null,p25519:null};function MPrime(t,e){this.name=t,this.p=new BN(e,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(t){if("string"==typeof t){var e=BN._prime(t);this.m=e.p,this.prime=e}else assert(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function Mont(t){Red.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var t=new BN(null);return t.words=new Array(Math.ceil(this.n/13)),t},MPrime.prototype.ireduce=function ireduce(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},MPrime.prototype.split=function split(t,e){t.iushrn(this.n,0,e)},MPrime.prototype.imulK=function imulK(t){return t.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[n-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},K256.prototype.imulK=function imulK(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},BN._prime=function prime(t){if(a[t])return a[t];var prime;if("k256"===t)prime=new K256;else if("p224"===t)prime=new P224;else if("p192"===t)prime=new P192;else{if("p25519"!==t)throw new Error("Unknown prime "+t);prime=new P25519}return a[t]=prime,prime},Red.prototype._verify1=function _verify1(t){assert(0===t.negative,"red works only with positives"),assert(t.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(t,e){assert(!(t.negative|e.negative),"red works only with positives"),assert(t.red&&t.red===e.red,"red works only with red numbers")},Red.prototype.imod=function imod(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},Red.prototype.neg=function neg(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},Red.prototype.add=function add(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Red.prototype.iadd=function iadd(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},Red.prototype.sub=function sub(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},Red.prototype.isub=function isub(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},Red.prototype.shl=function shl(t,e){return this._verify1(t),this.imod(t.ushln(e))},Red.prototype.imul=function imul(t,e){return this._verify2(t,e),this.imod(t.imul(e))},Red.prototype.mul=function mul(t,e){return this._verify2(t,e),this.imod(t.mul(e))},Red.prototype.isqr=function isqr(t){return this.imul(t,t.clone())},Red.prototype.sqr=function sqr(t){return this.mul(t,t)},Red.prototype.sqrt=function sqrt(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(assert(e%2==1),3===e){var r=this.m.add(new BN(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),n=0;!i.isZero()&&0===i.andln(1);)n++,i.iushrn(1);assert(!i.isZero());var o=new BN(1).toRed(this),s=o.redNeg(),u=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new BN(2*a*a).toRed(this);0!==this.pow(a,u).cmp(s);)a.redIAdd(s);for(var h=this.pow(a,i),f=this.pow(t,i.addn(1).iushrn(1)),l=this.pow(t,i),d=n;0!==l.cmp(o);){for(var c=l,m=0;0!==c.cmp(o);m++)c=c.redSqr();assert(m<d);var p=this.pow(h,new BN(1).iushln(d-m-1));f=f.redMul(p),h=p.redSqr(),l=l.redMul(h),d=m}return f},Red.prototype.invm=function invm(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},Red.prototype.pow=function pow(t,e){if(e.isZero())return new BN(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new BN(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],o=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var a=e.words[i],h=u-1;h>=0;h--){var f=a>>h&1;n!==r[0]&&(n=this.sqr(n)),0!==f||0!==o?(o<<=1,o|=f,(4===++s||0===i&&0===h)&&(n=this.mul(n,r[o]),s=0,o=0)):s=0}u=26}return n},Red.prototype.convertTo=function convertTo(t){var e=t.umod(this.m);return e===t?e.clone():e},Red.prototype.convertFrom=function convertFrom(t){var e=t.clone();return e.red=null,e},BN.mont=function mont(t){return new Mont(t)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(t){return this.imod(t.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},Mont.prototype.imul=function imul(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},Mont.prototype.mul=function mul(t,e){if(t.isZero()||e.isZero())return new BN(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},Mont.prototype.invm=function invm(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},259664:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createHashFunction=function createHashFunction(t){return function(e){var r=t();return r.update(e),i.from(r.digest())}}},309498:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(259664),n=r(663793);e.keccak224=i.createHashFunction((function(){return n("keccak224")})),e.keccak256=i.createHashFunction((function(){return n("keccak256")})),e.keccak384=i.createHashFunction((function(){return n("keccak384")})),e.keccak512=i.createHashFunction((function(){return n("keccak512")}))},845495:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(222644);e.getRandomBytes=function getRandomBytes(t){return new Promise((function(e,r){i(t,(function(t,i){t?r(t):e(i)}))}))},e.getRandomBytesSync=function getRandomBytesSync(t){return i(t)}},287178:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function fulfilled(t){try{step(i.next(t))}catch(t){o(t)}}function rejected(t){try{step(i.throw(t))}catch(t){o(t)}}function step(t){t.done?n(t.value):function adopt(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(u){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(739942),s=r(845495);e.createPrivateKey=function createPrivateKey(){return i(this,void 0,void 0,(function(){var t;return n(this,(function(e){switch(e.label){case 0:return[4,s.getRandomBytes(32)];case 1:return t=e.sent(),o.privateKeyVerify(t)?[2,t]:[3,0];case 2:return[2]}}))}))},e.createPrivateKeySync=function createPrivateKeySync(){for(;;){var t=s.getRandomBytesSync(32);if(o.privateKeyVerify(t))return t}},function __export(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(739942))},339070:(t,e,r)=>{"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=r(309498),o=n.keccak224,s=n.keccak384,u=n.keccak256,a=n.keccak512,h=r(212128),f=r(626093),l=r(700187),d=r(953741),c=r(213257),m=r(825636).Buffer;Object.assign(e,r(2321)),e.MAX_INTEGER=new d("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new d("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=m.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=m.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=m.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=d,e.rlp=l,e.secp256k1=h,e.zeros=function(t){return m.allocUnsafe(t).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,i){var n=e.zeros(r);return t=e.toBuffer(t),i?t.length<r?(t.copy(n),n):t.slice(0,r):t.length<r?(t.copy(n,r-t.length),n):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!m.isBuffer(t))if(Array.isArray(t))t=m.from(t);else if("string"==typeof t)t=e.isHexString(t)?m.from(e.padToEven(e.stripHexPrefix(t)),"hex"):m.from(t);else if("number"==typeof t)t=e.intToBuffer(t);else if(null==t)t=m.allocUnsafe(0);else if(d.isBN(t))t=t.toArrayLike(m);else{if(!t.toArray)throw new Error("invalid type");t=m.from(t.toArray())}return t},e.bufferToInt=function(t){return new d(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(t){return new d(t).fromTwos(256)},e.toUnsigned=function(t){return m.from(t.toTwos(256).toArray())},e.keccak=function(t,r){switch(t=e.toBuffer(t),r||(r=256),r){case 224:return o(t);case 256:return u(t);case 384:return s(t);case 512:return a(t);default:throw new Error("Invald algorithm: keccak"+r)}},e.keccak256=function(t){return e.keccak(t)},e.sha3=e.keccak,e.sha256=function(t){return t=e.toBuffer(t),c("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var i=c("rmd160").update(t).digest();return!0===r?e.setLength(i,32):i},e.rlphash=function(t){return e.keccak(l.encode(t))},e.isValidPrivate=function(t){return h.privateKeyVerify(t)},e.isValidPublic=function(t,e){return 64===t.length?h.publicKeyVerify(m.concat([m.from([4]),t])):!!e&&h.publicKeyVerify(t)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=h.publicKeyConvert(t,!1).slice(1)),f(64===t.length),e.keccak(t).slice(-20)};var p=e.privateToPublic=function(t){return t=e.toBuffer(t),h.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=h.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(t,e){var r=h.sign(t,e),i={};return i.r=r.signature.slice(0,32),i.s=r.signature.slice(32,64),i.v=r.recovery+27,i},e.hashPersonalMessage=function(t){var r=e.toBuffer("Ethereum Signed Message:\n"+t.length.toString());return e.keccak(m.concat([r,t]))},e.ecrecover=function(t,r,i,n){var o=m.concat([e.setLength(i,32),e.setLength(n,32)],64),s=r-27;if(0!==s&&1!==s)throw new Error("Invalid signature v value");var u=h.recover(t,o,s);return h.publicKeyConvert(u,!1).slice(1)},e.toRpcSig=function(t,r,i){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return e.bufferToHex(m.concat([e.setLengthLeft(r,32),e.setLengthLeft(i,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(p(t))},e.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.keccak(t).toString("hex"),i="0x",n=0;n<t.length;n++)parseInt(r[n],16)>=8?i+=t[n].toUpperCase():i+=t[n];return i},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new d(r)).isZero()?null:m.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return"string"!=typeof t||e.isHexPrefixed(t)?t:"0x"+t},e.isValidSignature=function(t,e,r,i){var n=new d("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new d("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===e.length&&32===r.length&&((27===t||28===t)&&(e=new d(e),r=new d(r),!(e.isZero()||e.gt(o)||r.isZero()||r.gt(o))&&(!1!==i||1!==new d(r).cmp(n))))},e.baToJSON=function(t){if(m.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],i=0;i<t.length;i++)r.push(e.baToJSON(t[i]));return r}},e.defineProperties=function(t,r,n){if(t.raw=[],t._fields=[],t.toJSON=function(r){if(r){var i={};return t._fields.forEach((function(e){i[e]="0x"+t[e].toString("hex")})),i}return e.baToJSON(this.raw)},t.serialize=function serialize(){return l.encode(t.raw)},r.forEach((function(r,i){function getter(){return t.raw[i]}function setter(n){"00"!==(n=e.toBuffer(n)).toString("hex")||r.allowZero||(n=m.allocUnsafe(0)),r.allowLess&&r.length?(n=e.stripZeros(n),f(r.length>=n.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===n.length||!r.length||f(r.length===n.length,"The field "+r.name+" must have byte length of "+r.length),t.raw[i]=n}t._fields.push(r.name),Object.defineProperty(t,r.name,{enumerable:!0,configurable:!0,get:getter,set:setter}),r.default&&(t[r.name]=r.default),r.alias&&Object.defineProperty(t,r.alias,{enumerable:!1,configurable:!0,set:setter,get:getter})})),n)if("string"==typeof n&&(n=m.from(e.stripHexPrefix(n),"hex")),m.isBuffer(n)&&(n=l.decode(n)),Array.isArray(n)){if(n.length>t._fields.length)throw new Error("wrong number of fields in data");n.forEach((function(r,i){t[t._fields[i]]=e.toBuffer(r)}))}else{if("object"!==(void 0===n?"undefined":i(n)))throw new Error("invalid data");var o=Object.keys(n);r.forEach((function(e){-1!==o.indexOf(e.name)&&(t[e.name]=n[e.name]),-1!==o.indexOf(e.alias)&&(t[e.alias]=n[e.alias])}))}}},212128:(t,e,r)=>{"use strict";var i=r(901048).Buffer,n=r(287178),o=r(199359),s=r(316972),u=function privateKeyVerify(t){return 32===t.length&&n.privateKeyVerify(Uint8Array.from(t))};t.exports={privateKeyVerify:u,privateKeyExport:function privateKeyExport(t,e){if(32!==t.length)throw new RangeError("private key length is invalid");var r=o.privateKeyExport(t,e);return s.privateKeyExport(t,r,e)},privateKeyImport:function privateKeyImport(t){if(null!==(t=s.privateKeyImport(t))&&32===t.length&&u(t))return t;throw new Error("couldn't import from DER format")},privateKeyNegate:function privateKeyNegate(t){return i.from(n.privateKeyNegate(Uint8Array.from(t)))},privateKeyModInverse:function privateKeyModInverse(t){if(32!==t.length)throw new Error("private key length is invalid");return i.from(o.privateKeyModInverse(Uint8Array.from(t)))},privateKeyTweakAdd:function privateKeyTweakAdd(t,e){return i.from(n.privateKeyTweakAdd(Uint8Array.from(t),e))},privateKeyTweakMul:function privateKeyTweakMul(t,e){return i.from(n.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e)))},publicKeyCreate:function publicKeyCreate(t,e){return i.from(n.publicKeyCreate(Uint8Array.from(t),e))},publicKeyConvert:function publicKeyConvert(t,e){return i.from(n.publicKeyConvert(Uint8Array.from(t),e))},publicKeyVerify:function publicKeyVerify(t){return(33===t.length||65===t.length)&&n.publicKeyVerify(Uint8Array.from(t))},publicKeyTweakAdd:function publicKeyTweakAdd(t,e,r){return i.from(n.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(e),r))},publicKeyTweakMul:function publicKeyTweakMul(t,e,r){return i.from(n.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e),r))},publicKeyCombine:function publicKeyCombine(t,e){var r=[];return t.forEach((function(t){r.push(Uint8Array.from(t))})),i.from(n.publicKeyCombine(r,e))},signatureNormalize:function signatureNormalize(t){return i.from(n.signatureNormalize(Uint8Array.from(t)))},signatureExport:function signatureExport(t){return i.from(n.signatureExport(Uint8Array.from(t)))},signatureImport:function signatureImport(t){return i.from(n.signatureImport(Uint8Array.from(t)))},signatureImportLax:function signatureImportLax(t){if(0===t.length)throw new RangeError("signature length is invalid");var e=s.signatureImportLax(t);if(null===e)throw new Error("couldn't parse DER signature");return o.signatureImport(e)},sign:function sign(t,e,r){if(null===r)throw new TypeError("options should be an Object");var o=void 0;if(r){if(o={},null===r.data)throw new TypeError("options.data should be a Buffer");if(r.data){if(32!==r.data.length)throw new RangeError("options.data length is invalid");o.data=new Uint8Array(r.data)}if(null===r.noncefn)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(o.noncefn=function(t,e,n,o,s){var u=null!=n?i.from(n):null,a=null!=o?i.from(o):null,h=i.from("");return r.noncefn&&(h=r.noncefn(i.from(t),i.from(e),u,a,s)),Uint8Array.from(h)})}var s=n.ecdsaSign(Uint8Array.from(t),Uint8Array.from(e),o);return{signature:i.from(s.signature),recovery:s.recid}},verify:function verify(t,e,r){return n.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(t),r)},recover:function recover(t,e,r,o){return i.from(n.ecdsaRecover(Uint8Array.from(e),r,Uint8Array.from(t),o))},ecdh:function ecdh(t,e){return i.from(n.ecdh(Uint8Array.from(t),Uint8Array.from(e),{}))},ecdhUnsafe:function ecdhUnsafe(t,e,r){if(33!==t.length&&65!==t.length)throw new RangeError("public key length is invalid");if(32!==e.length)throw new RangeError("private key length is invalid");return i.from(o.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(e),r))}}},316972:(t,e,r)=>{"use strict";var i=r(901048).Buffer,n=i.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=i.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e.privateKeyExport=function(t,e,r){var s=i.from(r?n:o);return t.copy(s,r?8:9),e.copy(s,r?181:214),s},e.privateKeyImport=function(t){var e=t.length,r=0;if(e<r+1||48!==t[r])return null;if(e<(r+=1)+1||!(128&t[r]))return null;var i=127&t[r];if(i<1||i>2)return null;if(e<(r+=1)+i)return null;var n=t[r+i-1]|(i>1?t[r+i-2]<<8:0);return e<(r+=i)+n||e<r+3||2!==t[r]||1!==t[r+1]||1!==t[r+2]||e<(r+=3)+2||4!==t[r]||t[r+1]>32||e<r+2+t[r+1]?null:t.slice(r+2,r+2+t[r+1])},e.signatureImportLax=function(t){var e=i.alloc(32,0),r=i.alloc(32,0),n=t.length,o=0;if(48!==t[o++])return null;var s=t[o++];if(128&s&&(o+=s-128)>n)return null;if(2!==t[o++])return null;var u=t[o++];if(128&u){if(o+(s=u-128)>n)return null;for(;s>0&&0===t[o];o+=1,s-=1);for(u=0;s>0;o+=1,s-=1)u=(u<<8)+t[o]}if(u>n-o)return null;var a=o;if(o+=u,2!==t[o++])return null;var h=t[o++];if(128&h){if(o+(s=h-128)>n)return null;for(;s>0&&0===t[o];o+=1,s-=1);for(h=0;s>0;o+=1,s-=1)h=(h<<8)+t[o]}if(h>n-o)return null;var f=o;for(o+=h;u>0&&0===t[a];u-=1,a+=1);if(u>32)return null;var l=t.slice(a,a+u);for(l.copy(e,32-l.length);h>0&&0===t[f];h-=1,f+=1);if(h>32)return null;var d=t.slice(f,f+h);return d.copy(r,32-d.length),{r:e,s:r}}},199359:(t,e,r)=>{"use strict";var i=r(901048).Buffer,n=r(953741),o=new(0,r(913360).ec)("secp256k1"),s=o.curve;e.privateKeyExport=function(t,e){var r=new n(t);if(r.ucmp(s.n)>=0)throw new Error("couldn't export to DER format");var i=o.g.mul(r);return u(i.getX(),i.getY(),e)},e.privateKeyModInverse=function(t){var e=new n(t);if(e.ucmp(s.n)>=0||e.isZero())throw new Error("private key range is invalid");return e.invm(s.n).toArrayLike(i,"be",32)},e.signatureImport=function(t){var e=new n(t.r);e.ucmp(s.n)>=0&&(e=new n(0));var r=new n(t.s);return r.ucmp(s.n)>=0&&(r=new n(0)),i.concat([e.toArrayLike(i,"be",32),r.toArrayLike(i,"be",32)])},e.ecdhUnsafe=function(t,e,r){var i=o.keyFromPublic(t),a=new n(e);if(a.ucmp(s.n)>=0||a.isZero())throw new Error("scalar was invalid (zero or overflow)");var h=i.pub.mul(a);return u(h.getX(),h.getY(),r)};var u=function toPublicKey(t,e,r){var n=void 0;return r?((n=i.alloc(33))[0]=e.isOdd()?3:2,t.toArrayLike(i,"be",32).copy(n,1)):((n=i.alloc(65))[0]=4,t.toArrayLike(i,"be",32).copy(n,1),e.toArrayLike(i,"be",32).copy(n,33)),n}},968743:(t,e,r)=>{t.exports=r(644439)},644439:(t,e,r)=>{var i=r(901048).Buffer;const n=r(430181),o=r(112738);var ABI=function(){};function elementaryName(t){return t.startsWith("int[")?"int256"+t.slice(3):"int"===t?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):"uint"===t?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):"fixed"===t?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):"ufixed"===t?"ufixed128x128":t}function parseTypeN(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function parseTypeNxM(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function parseTypeArray(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?""===e[2]?"dynamic":parseInt(e[2],10):null}function parseNumber(t){var e=typeof t;if("string"===e)return n.isHexPrefixed(t)?new o(n.stripHexPrefix(t),16):new o(t,10);if("number"===e)return new o(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function parseSignature(t){var e=/^(\w+)\((.*)\)$/.exec(t);if(3!==e.length)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(e[2]);if(null!==r&&3===r.length)return{method:e[1],args:r[1].split(","),retargs:r[2].split(",")};var i=e[2].split(",");return 1===i.length&&""===i[0]&&(i=[]),{method:e[1],args:i}}function encodeSingle(t,e){var r,s,u,a;if("address"===t)return encodeSingle("uint160",parseNumber(e));if("bool"===t)return encodeSingle("uint8",e?1:0);if("string"===t)return encodeSingle("bytes",i.from(e,"utf8"));if(isArray(t)){if(void 0===e.length)throw new Error("Not an array?");if("dynamic"!==(r=parseTypeArray(t))&&0!==r&&e.length>r)throw new Error("Elements exceed array size: "+r);for(a in u=[],t=t.slice(0,t.lastIndexOf("[")),"string"==typeof e&&(e=JSON.parse(e)),e)u.push(encodeSingle(t,e[a]));if("dynamic"===r){var h=encodeSingle("uint256",e.length);u.unshift(h)}return i.concat(u)}if("bytes"===t)return e=i.from(e),u=i.concat([encodeSingle("uint256",e.length),e]),e.length%32!=0&&(u=i.concat([u,n.zeros(32-e.length%32)])),u;if(t.startsWith("bytes")){if((r=parseTypeN(t))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return n.setLengthRight(e,32)}if(t.startsWith("uint")){if((r=parseTypeN(t))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((s=parseNumber(e)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+s.bitLength());if(s<0)throw new Error("Supplied uint is negative");return s.toArrayLike(i,"be",32)}if(t.startsWith("int")){if((r=parseTypeN(t))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((s=parseNumber(e)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+s.bitLength());return s.toTwos(256).toArrayLike(i,"be",32)}if(t.startsWith("ufixed")){if(r=parseTypeNxM(t),(s=parseNumber(e))<0)throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",s.mul(new o(2).pow(new o(r[1]))))}if(t.startsWith("fixed"))return r=parseTypeNxM(t),encodeSingle("int256",parseNumber(e).mul(new o(2).pow(new o(r[1]))));throw new Error("Unsupported or invalid type: "+t)}function decodeSingle(t,e,r){var n,s,u,a;if("string"==typeof t&&(t=parseType(t)),"address"===t.name)return decodeSingle(t.rawType,e,r).toArrayLike(i,"be",20).toString("hex");if("bool"===t.name)return decodeSingle(t.rawType,e,r).toString()===new o(1).toString();if("string"===t.name){var h=decodeSingle(t.rawType,e,r);return i.from(h,"utf8").toString()}if(t.isArray){for(u=[],n=t.size,"dynamic"===t.size&&(r=decodeSingle("uint256",e,r).toNumber(),n=decodeSingle("uint256",e,r).toNumber(),r+=32),a=0;a<n;a++){var f=decodeSingle(t.subArray,e,r);u.push(f),r+=t.subArray.memoryUsage}return u}if("bytes"===t.name)return r=decodeSingle("uint256",e,r).toNumber(),n=decodeSingle("uint256",e,r).toNumber(),e.slice(r+32,r+32+n);if(t.name.startsWith("bytes"))return e.slice(r,r+t.size);if(t.name.startsWith("uint")){if((s=new o(e.slice(r,r+32),16,"be")).bitLength()>t.size)throw new Error("Decoded int exceeds width: "+t.size+" vs "+s.bitLength());return s}if(t.name.startsWith("int")){if((s=new o(e.slice(r,r+32),16,"be").fromTwos(256)).bitLength()>t.size)throw new Error("Decoded uint exceeds width: "+t.size+" vs "+s.bitLength());return s}if(t.name.startsWith("ufixed")){if(n=new o(2).pow(new o(t.size[1])),!(s=decodeSingle("uint256",e,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return s.div(n)}if(t.name.startsWith("fixed")){if(n=new o(2).pow(new o(t.size[1])),!(s=decodeSingle("int256",e,r)).mod(n).isZero())throw new Error("Decimals not supported yet");return s.div(n)}throw new Error("Unsupported or invalid type: "+t.name)}function parseType(t){var e,r,i;if(isArray(t)){e=parseTypeArray(t);var n=t.slice(0,t.lastIndexOf("["));return n=parseType(n),r={isArray:!0,name:t,size:e,memoryUsage:"dynamic"===e?32:n.memoryUsage*e,subArray:n}}switch(t){case"address":i="uint160";break;case"bool":i="uint8";break;case"string":i="bytes"}if(r={rawType:i,name:t,memoryUsage:32},t.startsWith("bytes")&&"bytes"!==t||t.startsWith("uint")||t.startsWith("int")?r.size=parseTypeN(t):(t.startsWith("ufixed")||t.startsWith("fixed"))&&(r.size=parseTypeNxM(t)),t.startsWith("bytes")&&"bytes"!==t&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((t.startsWith("uint")||t.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}function isDynamic(t){return"string"===t||"bytes"===t||"dynamic"===parseTypeArray(t)}function isArray(t){return t.lastIndexOf("]")===t.length-1}function stringify(t,e){return t.startsWith("address")||t.startsWith("bytes")?"0x"+e.toString("hex"):e.toString()}ABI.eventID=function(t,e){var r=t+"("+e.map(elementaryName).join(",")+")";return n.keccak256(i.from(r))},ABI.methodID=function(t,e){return ABI.eventID(t,e).slice(0,4)},ABI.rawEncode=function(t,e){var r=[],n=[],o=0;t.forEach((function(t){if(isArray(t)){var e=parseTypeArray(t);o+="dynamic"!==e?32*e:32}else o+=32}));for(var s=0;s<t.length;s++){var u=elementaryName(t[s]),a=encodeSingle(u,e[s]);isDynamic(u)?(r.push(encodeSingle("uint256",o)),n.push(a),o+=a.length):r.push(a)}return i.concat(r.concat(n))},ABI.rawDecode=function(t,e){var r=[];e=i.from(e);for(var n=0,o=0;o<t.length;o++){var s=parseType(elementaryName(t[o])),u=decodeSingle(s,e,n);n+=s.memoryUsage,r.push(u)}return r},ABI.simpleEncode=function(t){var e=Array.prototype.slice.call(arguments).slice(1),r=parseSignature(t);if(e.length!==r.args.length)throw new Error("Argument count mismatch");return i.concat([ABI.methodID(r.method,r.args),ABI.rawEncode(r.args,e)])},ABI.simpleDecode=function(t,e){var r=parseSignature(t);if(!r.retargs)throw new Error("No return values in method");return ABI.rawDecode(r.retargs,e)},ABI.stringify=function(t,e){var r=[];for(var i in t){var n=t[i],o=e[i];o=/^[^\[]+\[.*\]$/.test(n)?o.map((function(t){return stringify(n,t)})).join(", "):stringify(n,o),r.push(o)}return r},ABI.solidityHexValue=function(t,e,r){var o,s;if(isArray(t)){var u=t.replace(/\[.*?\]/,"");if(!isArray(u)){var a=parseTypeArray(t);if("dynamic"!==a&&0!==a&&e.length>a)throw new Error("Elements exceed array size: "+a)}var h=e.map((function(t){return ABI.solidityHexValue(u,t,256)}));return i.concat(h)}if("bytes"===t)return e;if("string"===t)return i.from(e,"utf8");if("bool"===t){r=r||8;var f=Array(r/4).join("0");return i.from(e?f+"1":f+"0","hex")}if("address"===t){var l=20;return r&&(l=r/8),n.setLengthLeft(e,l)}if(t.startsWith("bytes")){if((o=parseTypeN(t))<1||o>32)throw new Error("Invalid bytes<N> width: "+o);return n.setLengthRight(e,o)}if(t.startsWith("uint")){if((o=parseTypeN(t))%8||o<8||o>256)throw new Error("Invalid uint<N> width: "+o);if((s=parseNumber(e)).bitLength()>o)throw new Error("Supplied uint exceeds width: "+o+" vs "+s.bitLength());return r=r||o,s.toArrayLike(i,"be",r/8)}if(t.startsWith("int")){if((o=parseTypeN(t))%8||o<8||o>256)throw new Error("Invalid int<N> width: "+o);if((s=parseNumber(e)).bitLength()>o)throw new Error("Supplied int exceeds width: "+o+" vs "+s.bitLength());return r=r||o,s.toTwos(o).toArrayLike(i,"be",r/8)}throw new Error("Unsupported or invalid type: "+t)},ABI.solidityPack=function(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<t.length;n++){var o=elementaryName(t[n]),s=e[n];r.push(ABI.solidityHexValue(o,s,null))}return i.concat(r)},ABI.soliditySHA3=function(t,e){return n.keccak256(ABI.solidityPack(t,e))},ABI.soliditySHA256=function(t,e){return n.sha256(ABI.solidityPack(t,e))},ABI.solidityRIPEMD160=function(t,e){return n.ripemd160(ABI.solidityPack(t,e),!0)},ABI.fromSerpent=function(t){for(var e,r=[],i=0;i<t.length;i++){var n=t[i];if("s"===n)r.push("bytes");else if("b"===n){for(var o="bytes",s=i+1;s<t.length&&((e=t[s])>="0"&&e<="9");)o+=t[s]-"0",s++;i=s-1,r.push(o)}else if("i"===n)r.push("int256");else{if("a"!==n)throw new Error("Unsupported or invalid type: "+n);r.push("int256[]")}}return r},ABI.toSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];if("bytes"===i)e.push("s");else if(i.startsWith("bytes"))e.push("b"+parseTypeN(i));else if("int256"===i)e.push("i");else{if("int256[]"!==i)throw new Error("Unsupported or invalid type: "+i);e.push("a")}}return e.join("")},t.exports=ABI},112738:function(t,e,r){!function(t,e){"use strict";function assert(t,e){if(!t)throw new Error(e||"Assertion failed")}function inherits(t,e){t.super_=e;var TempCtor=function(){};TempCtor.prototype=e.prototype,t.prototype=new TempCtor,t.prototype.constructor=t}function BN(t,e,r){if(BN.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var i;"object"==typeof t?t.exports=BN:e.BN=BN,BN.BN=BN,BN.wordSize=26;try{i="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(269364).Buffer}catch(t){}function parseHex4Bits(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function parseHexByte(t,e,r){var i=parseHex4Bits(t,r);return r-1>=e&&(i|=parseHex4Bits(t,r-1)<<4),i}function parseBase(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var u=t.charCodeAt(s)-48;n*=i,n+=u>=49?u-49+10:u>=17?u-17+10:u}return n}BN.isBN=function isBN(t){return t instanceof BN||null!==t&&"object"==typeof t&&t.constructor.wordSize===BN.wordSize&&Array.isArray(t.words)},BN.max=function max(t,e){return t.cmp(e)>0?t:e},BN.min=function min(t,e){return t.cmp(e)<0?t:e},BN.prototype._init=function init(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),assert(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},BN.prototype._initNumber=function _initNumber(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(assert(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},BN.prototype._initArray=function _initArray(t,e,r){if(assert("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o,s=0;if("be"===r)for(i=t.length-1,n=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[n]|=o<<s&67108863,this.words[n+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,n++);else if("le"===r)for(i=0,n=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[n]|=o<<s&67108863,this.words[n+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,n++);return this.strip()},BN.prototype._parseHex=function _parseHex(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=parseHexByte(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=parseHexByte(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},BN.prototype._parseBase=function _parseBase(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,u=Math.min(o,o-s)+r,a=0,h=r;h<u;h+=i)a=parseBase(t,h,h+i,e),this.imuln(n),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==s){var f=1;for(a=parseBase(t,h,t.length,e),h=0;h<s;h++)f*=e;this.imuln(f),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},BN.prototype.copy=function copy(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},BN.prototype.clone=function clone(){var t=new BN(null);return this.copy(t),t},BN.prototype._expand=function _expand(t){for(;this.length<t;)this.words[this.length++]=0;return this},BN.prototype.strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var n=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],s=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,u=67108863&s,a=s/67108864|0;r.words[0]=u;for(var h=1;h<i;h++){for(var f=a>>>26,l=67108863&a,d=Math.min(h,e.length-1),c=Math.max(0,h-t.length+1);c<=d;c++){var m=h-c|0;f+=(s=(n=0|t.words[m])*(o=0|e.words[c])+l)/67108864|0,l=67108863&s}r.words[h]=0|l,a=0|f}return 0!==a?r.words[h]=0|a:r.length--,r.strip()}BN.prototype.toString=function toString(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,u=0,a=0;a<this.length;a++){var h=this.words[a],f=(16777215&(h<<i|u)).toString(16);r=0!==(u=h>>>24-i&16777215)||a!==this.length-1?n[6-f.length]+f+r:f+r,(i+=2)>=26&&(i-=26,a--)}for(0!==u&&(r=u.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=o[t],d=s[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modn(d).toString(t);r=(c=c.idivn(d)).isZero()?m+r:n[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},BN.prototype.toJSON=function toJSON(){return this.toString(16)},BN.prototype.toBuffer=function toBuffer(t,e){return assert(void 0!==i),this.toArrayLike(i,t,e)},BN.prototype.toArray=function toArray(t,e){return this.toArrayLike(Array,t,e)},BN.prototype.toArrayLike=function toArrayLike(t,e,r){var i=this.byteLength(),n=r||Math.max(1,i);assert(i<=n,"byte array longer than desired length"),assert(n>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===e,a=new t(n),h=this.clone();if(u){for(s=0;!h.isZero();s++)o=h.andln(255),h.iushrn(8),a[s]=o;for(;s<n;s++)a[s]=0}else{for(s=0;s<n-i;s++)a[s]=0;for(s=0;!h.isZero();s++)o=h.andln(255),h.iushrn(8),a[n-s-1]=o}return a},Math.clz32?BN.prototype._countBits=function _countBits(t){return 32-Math.clz32(t)}:BN.prototype._countBits=function _countBits(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},BN.prototype._zeroBits=function _zeroBits(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},BN.prototype.bitLength=function bitLength(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},BN.prototype.ior=function ior(t){return assert(!(this.negative|t.negative)),this.iuor(t)},BN.prototype.or=function or(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},BN.prototype.uor=function uor(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},BN.prototype.iuand=function iuand(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},BN.prototype.iand=function iand(t){return assert(!(this.negative|t.negative)),this.iuand(t)},BN.prototype.and=function and(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},BN.prototype.uand=function uand(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},BN.prototype.iuxor=function iuxor(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},BN.prototype.ixor=function ixor(t){return assert(!(this.negative|t.negative)),this.iuxor(t)},BN.prototype.xor=function xor(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},BN.prototype.uxor=function uxor(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},BN.prototype.inotn=function inotn(t){assert("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},BN.prototype.notn=function notn(t){return this.clone().inotn(t)},BN.prototype.setn=function setn(t,e){assert("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},BN.prototype.iadd=function iadd(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},BN.prototype.add=function add(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},BN.prototype.isub=function isub(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function sub(t){return this.clone().isub(t)};var u=function comb10MulTo(t,e,r){var i,n,o,s=t.words,u=e.words,a=r.words,h=0,f=0|s[0],l=8191&f,d=f>>>13,c=0|s[1],m=8191&c,p=c>>>13,g=0|s[2],v=8191&g,y=g>>>13,M=0|s[3],w=8191&M,b=M>>>13,B=0|s[4],N=8191&B,_=B>>>13,A=0|s[5],x=8191&A,k=A>>>13,S=0|s[6],T=8191&S,K=S>>>13,E=0|s[7],R=8191&E,P=E>>>13,L=0|s[8],I=8191&L,C=L>>>13,U=0|s[9],O=8191&U,H=U>>>13,F=0|u[0],Z=8191&F,z=F>>>13,j=0|u[1],q=8191&j,D=j>>>13,V=0|u[2],W=8191&V,$=V>>>13,J=0|u[3],Y=8191&J,G=J>>>13,X=0|u[4],Q=8191&X,tt=X>>>13,et=0|u[5],rt=8191&et,it=et>>>13,nt=0|u[6],ot=8191&nt,st=nt>>>13,ut=0|u[7],at=8191&ut,ht=ut>>>13,ft=0|u[8],dt=8191&ft,ct=ft>>>13,mt=0|u[9],pt=8191&mt,vt=mt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(h+(i=Math.imul(l,Z))|0)+((8191&(n=(n=Math.imul(l,z))+Math.imul(d,Z)|0))<<13)|0;h=((o=Math.imul(d,z))+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(m,Z),n=(n=Math.imul(m,z))+Math.imul(p,Z)|0,o=Math.imul(p,z);var Mt=(h+(i=i+Math.imul(l,q)|0)|0)+((8191&(n=(n=n+Math.imul(l,D)|0)+Math.imul(d,q)|0))<<13)|0;h=((o=o+Math.imul(d,D)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(v,Z),n=(n=Math.imul(v,z))+Math.imul(y,Z)|0,o=Math.imul(y,z),i=i+Math.imul(m,q)|0,n=(n=n+Math.imul(m,D)|0)+Math.imul(p,q)|0,o=o+Math.imul(p,D)|0;var wt=(h+(i=i+Math.imul(l,W)|0)|0)+((8191&(n=(n=n+Math.imul(l,$)|0)+Math.imul(d,W)|0))<<13)|0;h=((o=o+Math.imul(d,$)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(w,Z),n=(n=Math.imul(w,z))+Math.imul(b,Z)|0,o=Math.imul(b,z),i=i+Math.imul(v,q)|0,n=(n=n+Math.imul(v,D)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,D)|0,i=i+Math.imul(m,W)|0,n=(n=n+Math.imul(m,$)|0)+Math.imul(p,W)|0,o=o+Math.imul(p,$)|0;var bt=(h+(i=i+Math.imul(l,Y)|0)|0)+((8191&(n=(n=n+Math.imul(l,G)|0)+Math.imul(d,Y)|0))<<13)|0;h=((o=o+Math.imul(d,G)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(N,Z),n=(n=Math.imul(N,z))+Math.imul(_,Z)|0,o=Math.imul(_,z),i=i+Math.imul(w,q)|0,n=(n=n+Math.imul(w,D)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,D)|0,i=i+Math.imul(v,W)|0,n=(n=n+Math.imul(v,$)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,$)|0,i=i+Math.imul(m,Y)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(p,Y)|0,o=o+Math.imul(p,G)|0;var Bt=(h+(i=i+Math.imul(l,Q)|0)|0)+((8191&(n=(n=n+Math.imul(l,tt)|0)+Math.imul(d,Q)|0))<<13)|0;h=((o=o+Math.imul(d,tt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(x,Z),n=(n=Math.imul(x,z))+Math.imul(k,Z)|0,o=Math.imul(k,z),i=i+Math.imul(N,q)|0,n=(n=n+Math.imul(N,D)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,D)|0,i=i+Math.imul(w,W)|0,n=(n=n+Math.imul(w,$)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,$)|0,i=i+Math.imul(v,Y)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Nt=(h+(i=i+Math.imul(l,rt)|0)|0)+((8191&(n=(n=n+Math.imul(l,it)|0)+Math.imul(d,rt)|0))<<13)|0;h=((o=o+Math.imul(d,it)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(T,Z),n=(n=Math.imul(T,z))+Math.imul(K,Z)|0,o=Math.imul(K,z),i=i+Math.imul(x,q)|0,n=(n=n+Math.imul(x,D)|0)+Math.imul(k,q)|0,o=o+Math.imul(k,D)|0,i=i+Math.imul(N,W)|0,n=(n=n+Math.imul(N,$)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,$)|0,i=i+Math.imul(w,Y)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,G)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var _t=(h+(i=i+Math.imul(l,ot)|0)|0)+((8191&(n=(n=n+Math.imul(l,st)|0)+Math.imul(d,ot)|0))<<13)|0;h=((o=o+Math.imul(d,st)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(R,Z),n=(n=Math.imul(R,z))+Math.imul(P,Z)|0,o=Math.imul(P,z),i=i+Math.imul(T,q)|0,n=(n=n+Math.imul(T,D)|0)+Math.imul(K,q)|0,o=o+Math.imul(K,D)|0,i=i+Math.imul(x,W)|0,n=(n=n+Math.imul(x,$)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,$)|0,i=i+Math.imul(N,Y)|0,n=(n=n+Math.imul(N,G)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,G)|0,i=i+Math.imul(w,Q)|0,n=(n=n+Math.imul(w,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var At=(h+(i=i+Math.imul(l,at)|0)|0)+((8191&(n=(n=n+Math.imul(l,ht)|0)+Math.imul(d,at)|0))<<13)|0;h=((o=o+Math.imul(d,ht)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(I,Z),n=(n=Math.imul(I,z))+Math.imul(C,Z)|0,o=Math.imul(C,z),i=i+Math.imul(R,q)|0,n=(n=n+Math.imul(R,D)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,D)|0,i=i+Math.imul(T,W)|0,n=(n=n+Math.imul(T,$)|0)+Math.imul(K,W)|0,o=o+Math.imul(K,$)|0,i=i+Math.imul(x,Y)|0,n=(n=n+Math.imul(x,G)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(N,Q)|0,n=(n=n+Math.imul(N,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,i=i+Math.imul(w,rt)|0,n=(n=n+Math.imul(w,it)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,at)|0,n=(n=n+Math.imul(m,ht)|0)+Math.imul(p,at)|0,o=o+Math.imul(p,ht)|0;var xt=(h+(i=i+Math.imul(l,dt)|0)|0)+((8191&(n=(n=n+Math.imul(l,ct)|0)+Math.imul(d,dt)|0))<<13)|0;h=((o=o+Math.imul(d,ct)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(O,Z),n=(n=Math.imul(O,z))+Math.imul(H,Z)|0,o=Math.imul(H,z),i=i+Math.imul(I,q)|0,n=(n=n+Math.imul(I,D)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,D)|0,i=i+Math.imul(R,W)|0,n=(n=n+Math.imul(R,$)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,$)|0,i=i+Math.imul(T,Y)|0,n=(n=n+Math.imul(T,G)|0)+Math.imul(K,Y)|0,o=o+Math.imul(K,G)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(N,rt)|0,n=(n=n+Math.imul(N,it)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,it)|0,i=i+Math.imul(w,ot)|0,n=(n=n+Math.imul(w,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,i=i+Math.imul(v,at)|0,n=(n=n+Math.imul(v,ht)|0)+Math.imul(y,at)|0,o=o+Math.imul(y,ht)|0,i=i+Math.imul(m,dt)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,dt)|0,o=o+Math.imul(p,ct)|0;var kt=(h+(i=i+Math.imul(l,pt)|0)|0)+((8191&(n=(n=n+Math.imul(l,vt)|0)+Math.imul(d,pt)|0))<<13)|0;h=((o=o+Math.imul(d,vt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(O,q),n=(n=Math.imul(O,D))+Math.imul(H,q)|0,o=Math.imul(H,D),i=i+Math.imul(I,W)|0,n=(n=n+Math.imul(I,$)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,$)|0,i=i+Math.imul(R,Y)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,G)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(K,Q)|0,o=o+Math.imul(K,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(N,ot)|0,n=(n=n+Math.imul(N,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,i=i+Math.imul(w,at)|0,n=(n=n+Math.imul(w,ht)|0)+Math.imul(b,at)|0,o=o+Math.imul(b,ht)|0,i=i+Math.imul(v,dt)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,dt)|0,o=o+Math.imul(y,ct)|0;var St=(h+(i=i+Math.imul(m,pt)|0)|0)+((8191&(n=(n=n+Math.imul(m,vt)|0)+Math.imul(p,pt)|0))<<13)|0;h=((o=o+Math.imul(p,vt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(O,W),n=(n=Math.imul(O,$))+Math.imul(H,W)|0,o=Math.imul(H,$),i=i+Math.imul(I,Y)|0,n=(n=n+Math.imul(I,G)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(K,rt)|0,o=o+Math.imul(K,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(N,at)|0,n=(n=n+Math.imul(N,ht)|0)+Math.imul(_,at)|0,o=o+Math.imul(_,ht)|0,i=i+Math.imul(w,dt)|0,n=(n=n+Math.imul(w,ct)|0)+Math.imul(b,dt)|0,o=o+Math.imul(b,ct)|0;var Tt=(h+(i=i+Math.imul(v,pt)|0)|0)+((8191&(n=(n=n+Math.imul(v,vt)|0)+Math.imul(y,pt)|0))<<13)|0;h=((o=o+Math.imul(y,vt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(O,Y),n=(n=Math.imul(O,G))+Math.imul(H,Y)|0,o=Math.imul(H,G),i=i+Math.imul(I,Q)|0,n=(n=n+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,i=i+Math.imul(R,rt)|0,n=(n=n+Math.imul(R,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(K,ot)|0,o=o+Math.imul(K,st)|0,i=i+Math.imul(x,at)|0,n=(n=n+Math.imul(x,ht)|0)+Math.imul(k,at)|0,o=o+Math.imul(k,ht)|0,i=i+Math.imul(N,dt)|0,n=(n=n+Math.imul(N,ct)|0)+Math.imul(_,dt)|0,o=o+Math.imul(_,ct)|0;var Kt=(h+(i=i+Math.imul(w,pt)|0)|0)+((8191&(n=(n=n+Math.imul(w,vt)|0)+Math.imul(b,pt)|0))<<13)|0;h=((o=o+Math.imul(b,vt)|0)+(n>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,i=Math.imul(O,Q),n=(n=Math.imul(O,tt))+Math.imul(H,Q)|0,o=Math.imul(H,tt),i=i+Math.imul(I,rt)|0,n=(n=n+Math.imul(I,it)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,it)|0,i=i+Math.imul(R,ot)|0,n=(n=n+Math.imul(R,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(T,at)|0,n=(n=n+Math.imul(T,ht)|0)+Math.imul(K,at)|0,o=o+Math.imul(K,ht)|0,i=i+Math.imul(x,dt)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,dt)|0,o=o+Math.imul(k,ct)|0;var Et=(h+(i=i+Math.imul(N,pt)|0)|0)+((8191&(n=(n=n+Math.imul(N,vt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((o=o+Math.imul(_,vt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(O,rt),n=(n=Math.imul(O,it))+Math.imul(H,rt)|0,o=Math.imul(H,it),i=i+Math.imul(I,ot)|0,n=(n=n+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,i=i+Math.imul(R,at)|0,n=(n=n+Math.imul(R,ht)|0)+Math.imul(P,at)|0,o=o+Math.imul(P,ht)|0,i=i+Math.imul(T,dt)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(K,dt)|0,o=o+Math.imul(K,ct)|0;var Rt=(h+(i=i+Math.imul(x,pt)|0)|0)+((8191&(n=(n=n+Math.imul(x,vt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((o=o+Math.imul(k,vt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(O,ot),n=(n=Math.imul(O,st))+Math.imul(H,ot)|0,o=Math.imul(H,st),i=i+Math.imul(I,at)|0,n=(n=n+Math.imul(I,ht)|0)+Math.imul(C,at)|0,o=o+Math.imul(C,ht)|0,i=i+Math.imul(R,dt)|0,n=(n=n+Math.imul(R,ct)|0)+Math.imul(P,dt)|0,o=o+Math.imul(P,ct)|0;var Pt=(h+(i=i+Math.imul(T,pt)|0)|0)+((8191&(n=(n=n+Math.imul(T,vt)|0)+Math.imul(K,pt)|0))<<13)|0;h=((o=o+Math.imul(K,vt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(O,at),n=(n=Math.imul(O,ht))+Math.imul(H,at)|0,o=Math.imul(H,ht),i=i+Math.imul(I,dt)|0,n=(n=n+Math.imul(I,ct)|0)+Math.imul(C,dt)|0,o=o+Math.imul(C,ct)|0;var Lt=(h+(i=i+Math.imul(R,pt)|0)|0)+((8191&(n=(n=n+Math.imul(R,vt)|0)+Math.imul(P,pt)|0))<<13)|0;h=((o=o+Math.imul(P,vt)|0)+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,i=Math.imul(O,dt),n=(n=Math.imul(O,ct))+Math.imul(H,dt)|0,o=Math.imul(H,ct);var It=(h+(i=i+Math.imul(I,pt)|0)|0)+((8191&(n=(n=n+Math.imul(I,vt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((o=o+Math.imul(C,vt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863;var Ct=(h+(i=Math.imul(O,pt))|0)+((8191&(n=(n=Math.imul(O,vt))+Math.imul(H,pt)|0))<<13)|0;return h=((o=Math.imul(H,vt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,a[0]=yt,a[1]=Mt,a[2]=wt,a[3]=bt,a[4]=Bt,a[5]=Nt,a[6]=_t,a[7]=At,a[8]=xt,a[9]=kt,a[10]=St,a[11]=Tt,a[12]=Kt,a[13]=Et,a[14]=Rt,a[15]=Pt,a[16]=Lt,a[17]=It,a[18]=Ct,0!==h&&(a[19]=h,r.length++),r};function jumboMulTo(t,e,r){return(new FFTM).mulp(t,e,r)}function FFTM(t,e){this.x=t,this.y=e}Math.imul||(u=smallMulTo),BN.prototype.mulTo=function mulTo(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?u(this,t,e):i<63?smallMulTo(this,t,e):i<1024?function bigMulTo(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var u=67108863&i,a=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);h<=a;h++){var f=o-h,l=(0|t.words[f])*(0|e.words[h]),d=67108863&l;u=67108863&(d=d+u|0),n+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=u,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):jumboMulTo(this,t,e),r},FFTM.prototype.makeRBT=function makeRBT(t){for(var e=new Array(t),r=BN.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},FFTM.prototype.revBin=function revBin(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},FFTM.prototype.permute=function permute(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},FFTM.prototype.transform=function transform(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var u=s<<1,a=Math.cos(2*Math.PI/u),h=Math.sin(2*Math.PI/u),f=0;f<n;f+=u)for(var l=a,d=h,c=0;c<s;c++){var m=r[f+c],p=i[f+c],g=r[f+c+s],v=i[f+c+s],y=l*g-d*v;v=l*v+d*g,g=y,r[f+c]=m+g,i[f+c]=p+v,r[f+c+s]=m-g,i[f+c+s]=p-v,c!==u&&(y=a*l-h*d,d=a*d+h*l,l=y)}},FFTM.prototype.guessLen13b=function guessLen13b(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},FFTM.prototype.conjugate=function conjugate(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},FFTM.prototype.normalize13b=function normalize13b(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},FFTM.prototype.convert13b=function convert13b(t,e,r,i){for(var n=0,o=0;o<e;o++)n+=0|t[o],r[2*o]=8191&n,n>>>=13,r[2*o+1]=8191&n,n>>>=13;for(o=2*e;o<i;++o)r[o]=0;assert(0===n),assert(!(-8192&n))},FFTM.prototype.stub=function stub(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},FFTM.prototype.mulp=function mulp(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),u=new Array(i),a=new Array(i),h=new Array(i),f=new Array(i),l=new Array(i),d=r.words;d.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,h,i),this.transform(s,o,u,a,i,n),this.transform(h,o,f,l,i,n);for(var c=0;c<i;c++){var m=u[c]*f[c]-a[c]*l[c];a[c]=u[c]*l[c]+a[c]*f[c],u[c]=m}return this.conjugate(u,a,i),this.transform(u,a,d,o,i,n),this.conjugate(d,o,i),this.normalize13b(d,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},BN.prototype.mul=function mul(t){var e=new BN(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},BN.prototype.mulf=function mulf(t){var e=new BN(null);return e.words=new Array(this.length+t.length),jumboMulTo(this,t,e)},BN.prototype.imul=function imul(t){return this.clone().mulTo(t,this)},BN.prototype.imuln=function imuln(t){assert("number"==typeof t),assert(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,n=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=n>>>26,this.words[r]=67108863&n}return 0!==e&&(this.words[r]=e,this.length++),this},BN.prototype.muln=function muln(t){return this.clone().imuln(t)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(t){var e=function toBitArray(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new BN(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},BN.prototype.iushln=function iushln(t){assert("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,n=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var s=this.words[e]&n,u=(0|this.words[e])-s<<r;this.words[e]=u|o,o=s>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},BN.prototype.ishln=function ishln(t){return assert(0===this.negative),this.iushln(t)},BN.prototype.iushrn=function iushrn(t,e,r){var i;assert("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var n=t%26,o=Math.min((t-n)/26,this.length),s=67108863^67108863>>>n<<n,u=r;if(i-=o,i=Math.max(0,i),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var h=0;for(a=this.length-1;a>=0&&(0!==h||a>=i);a--){var f=0|this.words[a];this.words[a]=h<<26-n|f>>>n,h=f&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function ishrn(t,e,r){return assert(0===this.negative),this.iushrn(t,e,r)},BN.prototype.shln=function shln(t){return this.clone().ishln(t)},BN.prototype.ushln=function ushln(t){return this.clone().iushln(t)},BN.prototype.shrn=function shrn(t){return this.clone().ishrn(t)},BN.prototype.ushrn=function ushrn(t){return this.clone().iushrn(t)},BN.prototype.testn=function testn(t){assert("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},BN.prototype.imaskn=function imaskn(t){assert("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},BN.prototype.maskn=function maskn(t){return this.clone().imaskn(t)},BN.prototype.iaddn=function iaddn(t){return assert("number"==typeof t),assert(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},BN.prototype._iaddn=function _iaddn(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},BN.prototype.isubn=function isubn(t){if(assert("number"==typeof t),assert(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},BN.prototype.addn=function addn(t){return this.clone().iaddn(t)},BN.prototype.subn=function subn(t){return this.clone().isubn(t)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(t,e,r){var i,n,o=t.length+r;this._expand(o);var s=0;for(i=0;i<t.length;i++){n=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((n-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&n}for(;i<this.length-r;i++)s=(n=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&n;if(0===s)return this.strip();for(assert(-1===s),s=0,i=0;i<this.length;i++)s=(n=-(0|this.words[i])+s)>>26,this.words[i]=67108863&n;return this.negative=1,this.strip()},BN.prototype._wordDiv=function _wordDiv(t,e){var r=(this.length,t.length),i=this.clone(),n=t,o=0|n.words[n.length-1];0!==(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var s,u=i.length-n.length;if("mod"!==e){(s=new BN(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var h=i.clone()._ishlnsubmul(n,1,u);0===h.negative&&(i=h,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|i.words[n.length+f])+(0|i.words[n.length+f-1]);for(l=Math.min(l/o|0,67108863),i._ishlnsubmul(n,l,f);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,f),i.isZero()||(i.negative^=1);s&&(s.words[f]=l)}return s&&s.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:s||null,mod:i}},BN.prototype.divmod=function divmod(t,e,r){return assert(!t.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(i=o.div.neg()),"div"!==e&&(n=o.mod.neg(),r&&0!==n.negative&&n.iadd(t)),{div:i,mod:n}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),"mod"!==e&&(i=o.div.neg()),{div:i,mod:o.mod}):this.negative&t.negative?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(n=o.mod.neg(),r&&0!==n.negative&&n.isub(t)),{div:o.div,mod:n}):t.length>this.length||this.cmp(t)<0?{div:new BN(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new BN(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new BN(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,n,o},BN.prototype.div=function div(t){return this.divmod(t,"div",!1).div},BN.prototype.mod=function mod(t){return this.divmod(t,"mod",!1).mod},BN.prototype.umod=function umod(t){return this.divmod(t,"mod",!0).mod},BN.prototype.divRound=function divRound(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},BN.prototype.modn=function modn(t){assert(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},BN.prototype.idivn=function idivn(t){assert(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},BN.prototype.divn=function divn(t){return this.clone().idivn(t)},BN.prototype.egcd=function egcd(t){assert(0===t.negative),assert(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new BN(1),n=new BN(0),o=new BN(0),s=new BN(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var a=r.clone(),h=e.clone();!e.isZero();){for(var f=0,l=1;!(e.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||n.isOdd())&&(i.iadd(a),n.isub(h)),i.iushrn(1),n.iushrn(1);for(var d=0,c=1;!(r.words[0]&c)&&d<26;++d,c<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(a),s.isub(h)),o.iushrn(1),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(o),n.isub(s)):(r.isub(e),o.isub(i),s.isub(n))}return{a:o,b:s,gcd:r.iushln(u)}},BN.prototype._invmp=function _invmp(t){assert(0===t.negative),assert(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,n=new BN(1),o=new BN(0),s=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,a=1;!(e.words[0]&a)&&u<26;++u,a<<=1);if(u>0)for(e.iushrn(u);u-- >0;)n.isOdd()&&n.iadd(s),n.iushrn(1);for(var h=0,f=1;!(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);e.cmp(r)>=0?(e.isub(r),n.isub(o)):(r.isub(e),o.isub(n))}return(i=0===e.cmpn(1)?n:o).cmpn(0)<0&&i.iadd(t),i},BN.prototype.gcd=function gcd(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},BN.prototype.invm=function invm(t){return this.egcd(t).a.umod(t)},BN.prototype.isEven=function isEven(){return!(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return!(1&~this.words[0])},BN.prototype.andln=function andln(t){return this.words[0]&t},BN.prototype.bincn=function bincn(t){assert("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var n=i,o=r;0!==n&&o<this.length;o++){var s=0|this.words[o];n=(s+=n)>>>26,s&=67108863,this.words[o]=s}return 0!==n&&(this.words[o]=n,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),assert(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},BN.prototype.cmp=function cmp(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},BN.prototype.ucmp=function ucmp(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},BN.prototype.gtn=function gtn(t){return 1===this.cmpn(t)},BN.prototype.gt=function gt(t){return 1===this.cmp(t)},BN.prototype.gten=function gten(t){return this.cmpn(t)>=0},BN.prototype.gte=function gte(t){return this.cmp(t)>=0},BN.prototype.ltn=function ltn(t){return-1===this.cmpn(t)},BN.prototype.lt=function lt(t){return-1===this.cmp(t)},BN.prototype.lten=function lten(t){return this.cmpn(t)<=0},BN.prototype.lte=function lte(t){return this.cmp(t)<=0},BN.prototype.eqn=function eqn(t){return 0===this.cmpn(t)},BN.prototype.eq=function eq(t){return 0===this.cmp(t)},BN.red=function red(t){return new Red(t)},BN.prototype.toRed=function toRed(t){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(t){return this.red=t,this},BN.prototype.forceRed=function forceRed(t){return assert(!this.red,"Already a number in reduction context"),this._forceRed(t)},BN.prototype.redAdd=function redAdd(t){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},BN.prototype.redIAdd=function redIAdd(t){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},BN.prototype.redSub=function redSub(t){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},BN.prototype.redISub=function redISub(t){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},BN.prototype.redShl=function redShl(t){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},BN.prototype.redMul=function redMul(t){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},BN.prototype.redIMul=function redIMul(t){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(t){return assert(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var a={k256:null,p224:null,p192:null,p25519:null};function MPrime(t,e){this.name=t,this.p=new BN(e,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(t){if("string"==typeof t){var e=BN._prime(t);this.m=e.p,this.prime=e}else assert(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function Mont(t){Red.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var t=new BN(null);return t.words=new Array(Math.ceil(this.n/13)),t},MPrime.prototype.ireduce=function ireduce(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},MPrime.prototype.split=function split(t,e){t.iushrn(this.n,0,e)},MPrime.prototype.imulK=function imulK(t){return t.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[n-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},K256.prototype.imulK=function imulK(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},BN._prime=function prime(t){if(a[t])return a[t];var prime;if("k256"===t)prime=new K256;else if("p224"===t)prime=new P224;else if("p192"===t)prime=new P192;else{if("p25519"!==t)throw new Error("Unknown prime "+t);prime=new P25519}return a[t]=prime,prime},Red.prototype._verify1=function _verify1(t){assert(0===t.negative,"red works only with positives"),assert(t.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(t,e){assert(!(t.negative|e.negative),"red works only with positives"),assert(t.red&&t.red===e.red,"red works only with red numbers")},Red.prototype.imod=function imod(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},Red.prototype.neg=function neg(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},Red.prototype.add=function add(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Red.prototype.iadd=function iadd(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},Red.prototype.sub=function sub(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},Red.prototype.isub=function isub(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},Red.prototype.shl=function shl(t,e){return this._verify1(t),this.imod(t.ushln(e))},Red.prototype.imul=function imul(t,e){return this._verify2(t,e),this.imod(t.imul(e))},Red.prototype.mul=function mul(t,e){return this._verify2(t,e),this.imod(t.mul(e))},Red.prototype.isqr=function isqr(t){return this.imul(t,t.clone())},Red.prototype.sqr=function sqr(t){return this.mul(t,t)},Red.prototype.sqrt=function sqrt(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(assert(e%2==1),3===e){var r=this.m.add(new BN(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),n=0;!i.isZero()&&0===i.andln(1);)n++,i.iushrn(1);assert(!i.isZero());var o=new BN(1).toRed(this),s=o.redNeg(),u=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new BN(2*a*a).toRed(this);0!==this.pow(a,u).cmp(s);)a.redIAdd(s);for(var h=this.pow(a,i),f=this.pow(t,i.addn(1).iushrn(1)),l=this.pow(t,i),d=n;0!==l.cmp(o);){for(var c=l,m=0;0!==c.cmp(o);m++)c=c.redSqr();assert(m<d);var p=this.pow(h,new BN(1).iushln(d-m-1));f=f.redMul(p),h=p.redSqr(),l=l.redMul(h),d=m}return f},Red.prototype.invm=function invm(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},Red.prototype.pow=function pow(t,e){if(e.isZero())return new BN(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new BN(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var n=r[0],o=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),i=e.length-1;i>=0;i--){for(var a=e.words[i],h=u-1;h>=0;h--){var f=a>>h&1;n!==r[0]&&(n=this.sqr(n)),0!==f||0!==o?(o<<=1,o|=f,(4===++s||0===i&&0===h)&&(n=this.mul(n,r[o]),s=0,o=0)):s=0}u=26}return n},Red.prototype.convertTo=function convertTo(t){var e=t.umod(this.m);return e===t?e.clone():e},Red.prototype.convertFrom=function convertFrom(t){var e=t.clone();return e.red=null,e},BN.mont=function mont(t){return new Mont(t)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(t){return this.imod(t.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},Mont.prototype.imul=function imul(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},Mont.prototype.mul=function mul(t,e){if(t.isZero()||e.isZero())return new BN(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},Mont.prototype.invm=function invm(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},471827:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createHashFunction=function createHashFunction(t){return function(e){var r=t();return r.update(e),i.from(r.digest())}}},516157:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(471827),n=r(663793);e.keccak224=i.createHashFunction((function(){return n("keccak224")})),e.keccak256=i.createHashFunction((function(){return n("keccak256")})),e.keccak384=i.createHashFunction((function(){return n("keccak384")})),e.keccak512=i.createHashFunction((function(){return n("keccak512")}))},334712:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(222644);e.getRandomBytes=function getRandomBytes(t){return new Promise((function(e,r){i(t,(function(t,i){t?r(t):e(i)}))}))},e.getRandomBytesSync=function getRandomBytesSync(t){return i(t)}},728339:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function fulfilled(t){try{step(i.next(t))}catch(t){o(t)}}function rejected(t){try{step(i.throw(t))}catch(t){o(t)}}function step(t){t.done?n(t.value):function adopt(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(u){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(739942),s=r(334712);e.createPrivateKey=function createPrivateKey(){return i(this,void 0,void 0,(function(){var t;return n(this,(function(e){switch(e.label){case 0:return[4,s.getRandomBytes(32)];case 1:return t=e.sent(),o.privateKeyVerify(t)?[2,t]:[3,0];case 2:return[2]}}))}))},e.createPrivateKeySync=function createPrivateKeySync(){for(;;){var t=s.getRandomBytesSync(32);if(o.privateKeyVerify(t))return t}},function __export(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(739942))},380130:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.importPublic=e.privateToPublic=e.privateToAddress=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.isPrecompiled=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isZeroAddress=e.isValidAddress=e.zeroAddress=void 0;var n=r(626093),o=r(2321),s=r(950832),u=r(112738),a=r(381982),h=r(759813);e.zeroAddress=function(){var t=a.zeros(20);return a.bufferToHex(t)},e.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},e.isZeroAddress=function(t){return e.zeroAddress()===a.addHexPrefix(t)},e.toChecksumAddress=function(t,e){t=o.stripHexPrefix(t).toLowerCase();for(var r=void 0!==e?e.toString()+"0x":"",i=h.keccak(r+t).toString("hex"),n="0x",s=0;s<t.length;s++)parseInt(i[s],16)>=8?n+=t[s].toUpperCase():n+=t[s];return n},e.isValidChecksumAddress=function(t,r){return e.isValidAddress(t)&&e.toChecksumAddress(t,r)===t},e.generateAddress=function(t,e){t=a.toBuffer(t);var r=new u(e);return r.isZero()?h.rlphash([t,null]).slice(-20):h.rlphash([t,i.from(r.toArray())]).slice(-20)},e.generateAddress2=function(t,e,r){var o=a.toBuffer(t),s=a.toBuffer(e),u=a.toBuffer(r);return n(20===o.length),n(32===s.length),h.keccak256(i.concat([i.from("ff","hex"),o,s,h.keccak256(u)])).slice(-20)},e.isPrecompiled=function(t){var e=a.unpad(t);return 1===e.length&&e[0]>=1&&e[0]<=8},e.isValidPrivate=function(t){return s.privateKeyVerify(t)},e.isValidPublic=function(t,e){return void 0===e&&(e=!1),64===t.length?s.publicKeyVerify(i.concat([i.from([4]),t])):!!e&&s.publicKeyVerify(t)},e.pubToAddress=function(t,e){return void 0===e&&(e=!1),t=a.toBuffer(t),e&&64!==t.length&&(t=s.publicKeyConvert(t,!1).slice(1)),n(64===t.length),h.keccak(t).slice(-20)},e.publicToAddress=e.pubToAddress,e.privateToAddress=function(t){return e.publicToAddress(e.privateToPublic(t))},e.privateToPublic=function(t){return t=a.toBuffer(t),s.publicKeyCreate(t,!1).slice(1)},e.importPublic=function(t){return 64!==(t=a.toBuffer(t)).length&&(t=s.publicKeyConvert(t,!1).slice(1)),t}},381982:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.baToJSON=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToHex=e.bufferToInt=e.toBuffer=e.stripZeros=e.unpad=e.setLengthRight=e.setLength=e.setLengthLeft=e.zeros=void 0;var n=r(2321),o=r(112738);e.zeros=function(t){return i.allocUnsafe(t).fill(0)},e.setLengthLeft=function(t,r,i){void 0===i&&(i=!1);var n=e.zeros(r);return t=e.toBuffer(t),i?t.length<r?(t.copy(n),n):t.slice(0,r):t.length<r?(t.copy(n,r-t.length),n):t.slice(-r)},e.setLength=e.setLengthLeft,e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=function(t){for(var e=(t=n.stripHexPrefix(t))[0];t.length>0&&"0"===e.toString();)e=(t=t.slice(1))[0];return t},e.stripZeros=e.unpad,e.toBuffer=function(t){if(!i.isBuffer(t))if(Array.isArray(t))t=i.from(t);else if("string"==typeof t){if(!n.isHexString(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+t);t=i.from(n.padToEven(n.stripHexPrefix(t)),"hex")}else if("number"==typeof t)t=n.intToBuffer(t);else if(null==t)t=i.allocUnsafe(0);else if(o.isBN(t))t=t.toArrayLike(i);else{if(!t.toArray)throw new Error("invalid type");t=i.from(t.toArray())}return t},e.bufferToInt=function(t){return new o(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(t){return new o(t).fromTwos(256)},e.toUnsigned=function(t){return i.from(t.toTwos(256).toArray())},e.addHexPrefix=function(t){return"string"!=typeof t||n.isHexPrefixed(t)?t:"0x"+t},e.baToJSON=function(t){if(i.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}}},168828:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.MAX_INTEGER=void 0;var n=r(112738);e.MAX_INTEGER=new n("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new n("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=i.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=i.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=i.from(e.KECCAK256_RLP_S,"hex")},759813:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.rlphash=e.ripemd160=e.sha256=e.keccak256=e.keccak=void 0;var n=r(516157),o=n.keccak224,s=n.keccak384,u=n.keccak256,a=n.keccak512,h=r(213257),f=r(2321),l=r(700187),d=r(381982);e.keccak=function(t,e){switch(void 0===e&&(e=256),t="string"!=typeof t||f.isHexString(t)?d.toBuffer(t):i.from(t,"utf8"),e||(e=256),e){case 224:return o(t);case 256:return u(t);case 384:return s(t);case 512:return a(t);default:throw new Error("Invald algorithm: keccak"+e)}},e.keccak256=function(t){return e.keccak(t)},e.sha256=function(t){return t=d.toBuffer(t),h("sha256").update(t).digest()},e.ripemd160=function(t,e){t=d.toBuffer(t);var r=h("rmd160").update(t).digest();return!0===e?d.setLength(r,32):r},e.rlphash=function(t){return e.keccak(l.encode(t))}},430181:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=e.rlp=e.BN=void 0;var o=r(950832);e.secp256k1=o;var s=r(2321),u=r(112738);e.BN=u;var a=r(700187);e.rlp=a,Object.assign(e,s),n(r(168828),e),n(r(380130),e),n(r(759813),e),n(r(92907),e),n(r(381982),e),n(r(673334),e)},673334:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.defineProperties=void 0;var n=r(626093),o=r(2321),s=r(700187),u=r(381982);e.defineProperties=function(t,e,r){if(t.raw=[],t._fields=[],t.toJSON=function(e){if(void 0===e&&(e=!1),e){var r={};return t._fields.forEach((function(e){r[e]="0x"+t[e].toString("hex")})),r}return u.baToJSON(t.raw)},t.serialize=function serialize(){return s.encode(t.raw)},e.forEach((function(e,r){function getter(){return t.raw[r]}function setter(o){"00"!==(o=u.toBuffer(o)).toString("hex")||e.allowZero||(o=i.allocUnsafe(0)),e.allowLess&&e.length?(o=u.stripZeros(o),n(e.length>=o.length,"The field "+e.name+" must not have more "+e.length+" bytes")):e.allowZero&&0===o.length||!e.length||n(e.length===o.length,"The field "+e.name+" must have byte length of "+e.length),t.raw[r]=o}t._fields.push(e.name),Object.defineProperty(t,e.name,{enumerable:!0,configurable:!0,get:getter,set:setter}),e.default&&(t[e.name]=e.default),e.alias&&Object.defineProperty(t,e.alias,{enumerable:!1,configurable:!0,set:setter,get:getter})})),r)if("string"==typeof r&&(r=i.from(o.stripHexPrefix(r),"hex")),i.isBuffer(r)&&(r=s.decode(r)),Array.isArray(r)){if(r.length>t._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(e,r){t[t._fields[r]]=u.toBuffer(e)}))}else{if("object"!=typeof r)throw new Error("invalid data");var a=Object.keys(r);e.forEach((function(e){-1!==a.indexOf(e.name)&&(t[e.name]=r[e.name]),-1!==a.indexOf(e.alias)&&(t[e.alias]=r[e.alias])}))}}},950832:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.ecdhUnsafe=e.ecdh=e.recover=e.verify=e.sign=e.signatureImportLax=e.signatureImport=e.signatureExport=e.signatureNormalize=e.publicKeyCombine=e.publicKeyTweakMul=e.publicKeyTweakAdd=e.publicKeyVerify=e.publicKeyConvert=e.publicKeyCreate=e.privateKeyTweakMul=e.privateKeyTweakAdd=e.privateKeyModInverse=e.privateKeyNegate=e.privateKeyImport=e.privateKeyExport=e.privateKeyVerify=void 0;var n=r(728339),o=r(434447),s=r(276540);e.privateKeyVerify=function(t){return 32===t.length&&n.privateKeyVerify(Uint8Array.from(t))},e.privateKeyExport=function(t,e){if(32!==t.length)throw new RangeError("private key length is invalid");var r=o.privateKeyExport(t,e);return s.privateKeyExport(t,r,e)},e.privateKeyImport=function(t){if(null!==(t=s.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error("couldn't import from DER format")},e.privateKeyNegate=function(t){return i.from(n.privateKeyNegate(Uint8Array.from(t)))},e.privateKeyModInverse=function(t){if(32!==t.length)throw new Error("private key length is invalid");return i.from(o.privateKeyModInverse(Uint8Array.from(t)))},e.privateKeyTweakAdd=function(t,e){return i.from(n.privateKeyTweakAdd(Uint8Array.from(t),e))},e.privateKeyTweakMul=function(t,e){return i.from(n.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e)))},e.publicKeyCreate=function(t,e){return i.from(n.publicKeyCreate(Uint8Array.from(t),e))},e.publicKeyConvert=function(t,e){return i.from(n.publicKeyConvert(Uint8Array.from(t),e))},e.publicKeyVerify=function(t){return(33===t.length||65===t.length)&&n.publicKeyVerify(Uint8Array.from(t))},e.publicKeyTweakAdd=function(t,e,r){return i.from(n.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(e),r))},e.publicKeyTweakMul=function(t,e,r){return i.from(n.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(e),r))},e.publicKeyCombine=function(t,e){var r=[];return t.forEach((function(t){r.push(Uint8Array.from(t))})),i.from(n.publicKeyCombine(r,e))},e.signatureNormalize=function(t){return i.from(n.signatureNormalize(Uint8Array.from(t)))},e.signatureExport=function(t){return i.from(n.signatureExport(Uint8Array.from(t)))},e.signatureImport=function(t){return i.from(n.signatureImport(Uint8Array.from(t)))},e.signatureImportLax=function(t){if(0===t.length)throw new RangeError("signature length is invalid");var e=s.signatureImportLax(t);if(null===e)throw new Error("couldn't parse DER signature");return o.signatureImport(e)},e.sign=function(t,e,r){if(null===r)throw new TypeError("options should be an Object");var o=void 0;if(r){if(o={},null===r.data)throw new TypeError("options.data should be a Buffer");if(r.data){if(32!=r.data.length)throw new RangeError("options.data length is invalid");o.data=new Uint8Array(r.data)}if(null===r.noncefn)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(o.noncefn=function(t,e,n,o,s){var u=null!=n?i.from(n):null,a=null!=o?i.from(o):null,h=i.from("");return r.noncefn&&(h=r.noncefn(i.from(t),i.from(e),u,a,s)),new Uint8Array(h)})}var s=n.ecdsaSign(Uint8Array.from(t),Uint8Array.from(e),o);return{signature:i.from(s.signature),recovery:s.recid}},e.verify=function(t,e,r){return n.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(t),r)},e.recover=function(t,e,r,o){return i.from(n.ecdsaRecover(Uint8Array.from(e),r,Uint8Array.from(t),o))},e.ecdh=function(t,e){return i.from(n.ecdh(Uint8Array.from(t),Uint8Array.from(e),{}))},e.ecdhUnsafe=function(t,e,r){if(33!==t.length&&65!==t.length)throw new RangeError("public key length is invalid");if(32!==e.length)throw new RangeError("private key length is invalid");return i.from(o.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(e),r))}},276540:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0});var n=i.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=i.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e.privateKeyExport=function(t,e,r){void 0===r&&(r=!0);var s=i.from(r?n:o);return t.copy(s,r?8:9),e.copy(s,r?181:214),s},e.privateKeyImport=function(t){var e=t.length,r=0;if(e<r+1||48!==t[r])return null;if(e<(r+=1)+1||!(128&t[r]))return null;var i=127&t[r];if(i<1||i>2)return null;if(e<(r+=1)+i)return null;var n=t[r+i-1]|(i>1?t[r+i-2]<<8:0);return e<(r+=i)+n||e<r+3||2!==t[r]||1!==t[r+1]||1!==t[r+2]||e<(r+=3)+2||4!==t[r]||t[r+1]>32||e<r+2+t[r+1]?null:t.slice(r+2,r+2+t[r+1])},e.signatureImportLax=function(t){var e=i.alloc(32,0),r=i.alloc(32,0),n=t.length,o=0;if(48!==t[o++])return null;var s=t[o++];if(128&s&&(o+=s-128)>n)return null;if(2!==t[o++])return null;var u=t[o++];if(128&u){if(o+(s=u-128)>n)return null;for(;s>0&&0===t[o];o+=1,s-=1);for(u=0;s>0;o+=1,s-=1)u=(u<<8)+t[o]}if(u>n-o)return null;var a=o;if(o+=u,2!==t[o++])return null;var h=t[o++];if(128&h){if(o+(s=h-128)>n)return null;for(;s>0&&0===t[o];o+=1,s-=1);for(h=0;s>0;o+=1,s-=1)h=(h<<8)+t[o]}if(h>n-o)return null;var f=o;for(o+=h;u>0&&0===t[a];u-=1,a+=1);if(u>32)return null;var l=t.slice(a,a+u);for(l.copy(e,32-l.length);h>0&&0===t[f];h-=1,f+=1);if(h>32)return null;var d=t.slice(f,f+h);return d.copy(r,32-d.length),{r:e,s:r}}},434447:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0});var n=r(112738),o=new(0,r(913360).ec)("secp256k1"),s=o.curve;e.privateKeyExport=function(t,e){void 0===e&&(e=!0);var r=new n(t);if(r.ucmp(s.n)>=0)throw new Error("couldn't export to DER format");var i=o.g.mul(r);return toPublicKey(i.getX(),i.getY(),e)},e.privateKeyModInverse=function(t){var e=new n(t);if(e.ucmp(s.n)>=0||e.isZero())throw new Error("private key range is invalid");return e.invm(s.n).toArrayLike(i,"be",32)},e.signatureImport=function(t){var e=new n(t.r);e.ucmp(s.n)>=0&&(e=new n(0));var r=new n(t.s);return r.ucmp(s.n)>=0&&(r=new n(0)),i.concat([e.toArrayLike(i,"be",32),r.toArrayLike(i,"be",32)])},e.ecdhUnsafe=function(t,e,r){void 0===r&&(r=!0);var i=o.keyFromPublic(t),u=new n(e);if(u.ucmp(s.n)>=0||u.isZero())throw new Error("scalar was invalid (zero or overflow)");var a=i.pub.mul(u);return toPublicKey(a.getX(),a.getY(),r)};var toPublicKey=function(t,e,r){var n;return r?((n=i.alloc(33))[0]=e.isOdd()?3:2,t.toArrayLike(i,"be",32).copy(n,1)):((n=i.alloc(65))[0]=4,t.toArrayLike(i,"be",32).copy(n,1),e.toArrayLike(i,"be",32).copy(n,33)),n}},92907:(t,e,r)=>{"use strict";var i=r(901048).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.hashPersonalMessage=e.isValidSignature=e.fromRpcSig=e.toRpcSig=e.ecrecover=e.ecsign=void 0;var n=r(950832),o=r(112738),s=r(381982),u=r(759813);function calculateSigRecovery(t,e){return e?t-(2*e+35):t-27}function isValidSigRecovery(t){return 0===t||1===t}e.ecsign=function(t,e,r){var i=n.sign(t,e),o=i.recovery;return{r:i.signature.slice(0,32),s:i.signature.slice(32,64),v:r?o+(2*r+35):o+27}},e.ecrecover=function(t,e,r,o,u){var a=i.concat([s.setLength(r,32),s.setLength(o,32)],64),h=calculateSigRecovery(e,u);if(!isValidSigRecovery(h))throw new Error("Invalid signature v value");var f=n.recover(t,a,h);return n.publicKeyConvert(f,!1).slice(1)},e.toRpcSig=function(t,e,r,n){if(!isValidSigRecovery(calculateSigRecovery(t,n)))throw new Error("Invalid signature v value");return s.bufferToHex(i.concat([s.setLengthLeft(e,32),s.setLengthLeft(r,32),s.toBuffer(t)]))},e.fromRpcSig=function(t){var e=s.toBuffer(t);if(65!==e.length)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}},e.isValidSignature=function(t,e,r,i,n){void 0===i&&(i=!0);var s=new o("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),u=new o("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==e.length||32!==r.length)return!1;if(!isValidSigRecovery(calculateSigRecovery(t,n)))return!1;var a=new o(e),h=new o(r);return!(a.isZero()||a.gt(u)||h.isZero()||h.gt(u))&&(!i||1!==h.cmp(s))},e.hashPersonalMessage=function(t){var e=i.from("Ethereum Signed Message:\n"+t.length.toString(),"utf-8");return u.keccak(i.concat([e,t]))}}}]);